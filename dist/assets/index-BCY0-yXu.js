var L9=Object.defineProperty;var D9=(r,t,e)=>t in r?L9(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var qn=(r,t,e)=>D9(r,typeof t!="symbol"?t+"":t,e);function F9(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yg={exports:{}},pf={},Zg={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function B9(){if(Tb)return vn;Tb=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(D){return D===null||typeof D!="object"?null:(D=f&&D[f]||D["@@iterator"],typeof D=="function"?D:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function p(D,j,K){this.props=D,this.context=j,this.refs=g,this.updater=K||d}p.prototype.isReactComponent={},p.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},p.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function w(){}w.prototype=p.prototype;function v(D,j,K){this.props=D,this.context=j,this.refs=g,this.updater=K||d}var _=v.prototype=new w;_.constructor=v,y(_,p.prototype),_.isPureReactComponent=!0;var T=Array.isArray,F=Object.prototype.hasOwnProperty,G={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function P(D,j,K){var Z,ne={},H=null,J=null;if(j!=null)for(Z in j.ref!==void 0&&(J=j.ref),j.key!==void 0&&(H=""+j.key),j)F.call(j,Z)&&!$.hasOwnProperty(Z)&&(ne[Z]=j[Z]);var z=arguments.length-2;if(z===1)ne.children=K;else if(1<z){for(var B=Array(z),Q=0;Q<z;Q++)B[Q]=arguments[Q+2];ne.children=B}if(D&&D.defaultProps)for(Z in z=D.defaultProps,z)ne[Z]===void 0&&(ne[Z]=z[Z]);return{$$typeof:r,type:D,key:H,ref:J,props:ne,_owner:G.current}}function M(D,j){return{$$typeof:r,type:D.type,key:j,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(K){return j[K]})}var I=/\/+/g;function E(D,j){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):j.toString(36)}function L(D,j,K,Z,ne){var H=typeof D;(H==="undefined"||H==="boolean")&&(D=null);var J=!1;if(D===null)J=!0;else switch(H){case"string":case"number":J=!0;break;case"object":switch(D.$$typeof){case r:case t:J=!0}}if(J)return J=D,ne=ne(J),D=Z===""?"."+E(J,0):Z,T(ne)?(K="",D!=null&&(K=D.replace(I,"$&/")+"/"),L(ne,j,K,"",function(Q){return Q})):ne!=null&&(U(ne)&&(ne=M(ne,K+(!ne.key||J&&J.key===ne.key?"":(""+ne.key).replace(I,"$&/")+"/")+D)),j.push(ne)),1;if(J=0,Z=Z===""?".":Z+":",T(D))for(var z=0;z<D.length;z++){H=D[z];var B=Z+E(H,z);J+=L(H,j,K,B,ne)}else if(B=h(D),typeof B=="function")for(D=B.call(D),z=0;!(H=D.next()).done;)H=H.value,B=Z+E(H,z++),J+=L(H,j,K,B,ne);else if(H==="object")throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return J}function A(D,j,K){if(D==null)return D;var Z=[],ne=0;return L(D,Z,"","",function(H){return j.call(K,H,ne++)}),Z}function S(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(K){(D._status===0||D._status===-1)&&(D._status=1,D._result=K)},function(K){(D._status===0||D._status===-1)&&(D._status=2,D._result=K)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var k={current:null},N={transition:null},C={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:N,ReactCurrentOwner:G};function O(){throw Error("act(...) is not supported in production builds of React.")}return vn.Children={map:A,forEach:function(D,j,K){A(D,function(){j.apply(this,arguments)},K)},count:function(D){var j=0;return A(D,function(){j++}),j},toArray:function(D){return A(D,function(j){return j})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},vn.Component=p,vn.Fragment=e,vn.Profiler=i,vn.PureComponent=v,vn.StrictMode=n,vn.Suspense=c,vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,vn.act=O,vn.cloneElement=function(D,j,K){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Z=y({},D.props),ne=D.key,H=D.ref,J=D._owner;if(j!=null){if(j.ref!==void 0&&(H=j.ref,J=G.current),j.key!==void 0&&(ne=""+j.key),D.type&&D.type.defaultProps)var z=D.type.defaultProps;for(B in j)F.call(j,B)&&!$.hasOwnProperty(B)&&(Z[B]=j[B]===void 0&&z!==void 0?z[B]:j[B])}var B=arguments.length-2;if(B===1)Z.children=K;else if(1<B){z=Array(B);for(var Q=0;Q<B;Q++)z[Q]=arguments[Q+2];Z.children=z}return{$$typeof:r,type:D.type,key:ne,ref:H,props:Z,_owner:J}},vn.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:s,_context:D},D.Consumer=D},vn.createElement=P,vn.createFactory=function(D){var j=P.bind(null,D);return j.type=D,j},vn.createRef=function(){return{current:null}},vn.forwardRef=function(D){return{$$typeof:l,render:D}},vn.isValidElement=U,vn.lazy=function(D){return{$$typeof:u,_payload:{_status:-1,_result:D},_init:S}},vn.memo=function(D,j){return{$$typeof:a,type:D,compare:j===void 0?null:j}},vn.startTransition=function(D){var j=N.transition;N.transition={};try{D()}finally{N.transition=j}},vn.unstable_act=O,vn.useCallback=function(D,j){return k.current.useCallback(D,j)},vn.useContext=function(D){return k.current.useContext(D)},vn.useDebugValue=function(){},vn.useDeferredValue=function(D){return k.current.useDeferredValue(D)},vn.useEffect=function(D,j){return k.current.useEffect(D,j)},vn.useId=function(){return k.current.useId()},vn.useImperativeHandle=function(D,j,K){return k.current.useImperativeHandle(D,j,K)},vn.useInsertionEffect=function(D,j){return k.current.useInsertionEffect(D,j)},vn.useLayoutEffect=function(D,j){return k.current.useLayoutEffect(D,j)},vn.useMemo=function(D,j){return k.current.useMemo(D,j)},vn.useReducer=function(D,j,K){return k.current.useReducer(D,j,K)},vn.useRef=function(D){return k.current.useRef(D)},vn.useState=function(D){return k.current.useState(D)},vn.useSyncExternalStore=function(D,j,K){return k.current.useSyncExternalStore(D,j,K)},vn.useTransition=function(){return k.current.useTransition()},vn.version="18.3.1",vn}var jb;function ey(){return jb||(jb=1,Zg.exports=B9()),Zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function V9(){if(Ib)return pf;Ib=1;var r=ey(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,a){var u,f={},h=null,d=null;a!==void 0&&(h=""+a),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(d=c.ref);for(u in c)n.call(c,u)&&!s.hasOwnProperty(u)&&(f[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:t,type:l,key:h,ref:d,props:f,_owner:i.current}}return pf.Fragment=e,pf.jsx=o,pf.jsxs=o,pf}var Pb;function z9(){return Pb||(Pb=1,Yg.exports=V9()),Yg.exports}var b=z9(),ie=ey();const qt=S0(ie),ty=F9({__proto__:null,default:qt},[ie]);var Qp={},Qg={exports:{}},$a={},Jg={exports:{}},e1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function U9(){return Rb||(Rb=1,(function(r){function t(N,C){var O=N.length;N.push(C);e:for(;0<O;){var D=O-1>>>1,j=N[D];if(0<i(j,C))N[D]=C,N[O]=j,O=D;else break e}}function e(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var C=N[0],O=N.pop();if(O!==C){N[0]=O;e:for(var D=0,j=N.length,K=j>>>1;D<K;){var Z=2*(D+1)-1,ne=N[Z],H=Z+1,J=N[H];if(0>i(ne,O))H<j&&0>i(J,ne)?(N[D]=J,N[H]=O,D=H):(N[D]=ne,N[Z]=O,D=Z);else if(H<j&&0>i(J,O))N[D]=J,N[H]=O,D=H;else break e}}return C}function i(N,C){var O=N.sortIndex-C.sortIndex;return O!==0?O:N.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],a=[],u=1,f=null,h=3,d=!1,y=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var C=e(a);C!==null;){if(C.callback===null)n(a);else if(C.startTime<=N)n(a),C.sortIndex=C.expirationTime,t(c,C);else break;C=e(a)}}function T(N){if(g=!1,_(N),!y)if(e(c)!==null)y=!0,S(F);else{var C=e(a);C!==null&&k(T,C.startTime-N)}}function F(N,C){y=!1,g&&(g=!1,w(P),P=-1),d=!0;var O=h;try{for(_(C),f=e(c);f!==null&&(!(f.expirationTime>C)||N&&!V());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var j=D(f.expirationTime<=C);C=r.unstable_now(),typeof j=="function"?f.callback=j:f===e(c)&&n(c),_(C)}else n(c);f=e(c)}if(f!==null)var K=!0;else{var Z=e(a);Z!==null&&k(T,Z.startTime-C),K=!1}return K}finally{f=null,h=O,d=!1}}var G=!1,$=null,P=-1,M=5,U=-1;function V(){return!(r.unstable_now()-U<M)}function I(){if($!==null){var N=r.unstable_now();U=N;var C=!0;try{C=$(!0,N)}finally{C?E():(G=!1,$=null)}}else G=!1}var E;if(typeof v=="function")E=function(){v(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=I,E=function(){A.postMessage(null)}}else E=function(){p(I,0)};function S(N){$=N,G||(G=!0,E())}function k(N,C){P=p(function(){N(r.unstable_now())},C)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_continueExecution=function(){y||d||(y=!0,S(F))},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return e(c)},r.unstable_next=function(N){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var O=h;h=C;try{return N()}finally{h=O}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(N,C){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=h;h=N;try{return C()}finally{h=O}},r.unstable_scheduleCallback=function(N,C,O){var D=r.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,N={id:u++,callback:C,priorityLevel:N,startTime:O,expirationTime:j,sortIndex:-1},O>D?(N.sortIndex=O,t(a,N),e(c)===null&&N===e(a)&&(g?(w(P),P=-1):g=!0,k(T,O-D))):(N.sortIndex=j,t(c,N),y||d||(y=!0,S(F))),N},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(N){var C=h;return function(){var O=h;h=C;try{return N.apply(this,arguments)}finally{h=O}}}})(e1)),e1}var Mb;function $9(){return Mb||(Mb=1,Jg.exports=U9()),Jg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function q9(){if(Ob)return $a;Ob=1;var r=ey(),t=$9();function e(m){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+m,R=1;R<arguments.length;R++)x+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(m,x){o(m,x),o(m+"Capture",x)}function o(m,x){for(i[m]=x,m=0;m<x.length;m++)n.add(x[m])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return c.call(f,m)?!0:c.call(u,m)?!1:a.test(m)?f[m]=!0:(u[m]=!0,!1)}function d(m,x,R,X){if(R!==null&&R.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return X?!1:R!==null?!R.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function y(m,x,R,X){if(x===null||typeof x>"u"||d(m,x,R,X))return!0;if(X)return!1;if(R!==null)switch(R.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(m,x,R,X,te,ae,be){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=X,this.attributeNamespace=te,this.mustUseProperty=R,this.propertyName=m,this.type=x,this.sanitizeURL=ae,this.removeEmptyString=be}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){p[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var x=m[0];p[x]=new g(x,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){p[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){p[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){p[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){p[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){p[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){p[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){p[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function v(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var x=m.replace(w,v);p[x]=new g(x,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var x=m.replace(w,v);p[x]=new g(x,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var x=m.replace(w,v);p[x]=new g(x,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){p[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){p[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function _(m,x,R,X){var te=p.hasOwnProperty(x)?p[x]:null;(te!==null?te.type!==0:X||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,R,te,X)&&(R=null),X||te===null?h(x)&&(R===null?m.removeAttribute(x):m.setAttribute(x,""+R)):te.mustUseProperty?m[te.propertyName]=R===null?te.type===3?!1:"":R:(x=te.attributeName,X=te.attributeNamespace,R===null?m.removeAttribute(x):(te=te.type,R=te===3||te===4&&R===!0?"":""+R,X?m.setAttributeNS(X,x,R):m.setAttribute(x,R))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),N=Symbol.iterator;function C(m){return m===null||typeof m!="object"?null:(m=N&&m[N]||m["@@iterator"],typeof m=="function"?m:null)}var O=Object.assign,D;function j(m){if(D===void 0)try{throw Error()}catch(R){var x=R.stack.trim().match(/\n( *(at )?)/);D=x&&x[1]||""}return`
`+D+m}var K=!1;function Z(m,x){if(!m||K)return"";K=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(nt){var X=nt}Reflect.construct(m,[],x)}else{try{x.call()}catch(nt){X=nt}m.call(x.prototype)}else{try{throw Error()}catch(nt){X=nt}m()}}catch(nt){if(nt&&X&&typeof nt.stack=="string"){for(var te=nt.stack.split(`
`),ae=X.stack.split(`
`),be=te.length-1,Me=ae.length-1;1<=be&&0<=Me&&te[be]!==ae[Me];)Me--;for(;1<=be&&0<=Me;be--,Me--)if(te[be]!==ae[Me]){if(be!==1||Me!==1)do if(be--,Me--,0>Me||te[be]!==ae[Me]){var Ve=`
`+te[be].replace(" at new "," at ");return m.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",m.displayName)),Ve}while(1<=be&&0<=Me);break}}}finally{K=!1,Error.prepareStackTrace=R}return(m=m?m.displayName||m.name:"")?j(m):""}function ne(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=Z(m.type,!1),m;case 11:return m=Z(m.type.render,!1),m;case 1:return m=Z(m.type,!0),m;default:return""}}function H(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case $:return"Fragment";case G:return"Portal";case M:return"Profiler";case P:return"StrictMode";case E:return"Suspense";case L:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case V:return(m.displayName||"Context")+".Consumer";case U:return(m._context.displayName||"Context")+".Provider";case I:var x=m.render;return m=m.displayName,m||(m=x.displayName||x.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case A:return x=m.displayName||null,x!==null?x:H(m.type)||"Memo";case S:x=m._payload,m=m._init;try{return H(m(x))}catch{}}return null}function J(m){var x=m.type;switch(m.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=x.render,m=m.displayName||m.name||"",x.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(x);case 8:return x===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function z(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function B(m){var x=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Q(m){var x=B(m)?"checked":"value",R=Object.getOwnPropertyDescriptor(m.constructor.prototype,x),X=""+m[x];if(!m.hasOwnProperty(x)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var te=R.get,ae=R.set;return Object.defineProperty(m,x,{configurable:!0,get:function(){return te.call(this)},set:function(be){X=""+be,ae.call(this,be)}}),Object.defineProperty(m,x,{enumerable:R.enumerable}),{getValue:function(){return X},setValue:function(be){X=""+be},stopTracking:function(){m._valueTracker=null,delete m[x]}}}}function oe(m){m._valueTracker||(m._valueTracker=Q(m))}function pe(m){if(!m)return!1;var x=m._valueTracker;if(!x)return!0;var R=x.getValue(),X="";return m&&(X=B(m)?m.checked?"true":"false":m.value),m=X,m!==R?(x.setValue(m),!0):!1}function de(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function ve(m,x){var R=x.checked;return O({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??m._wrapperState.initialChecked})}function ce(m,x){var R=x.defaultValue==null?"":x.defaultValue,X=x.checked!=null?x.checked:x.defaultChecked;R=z(x.value!=null?x.value:R),m._wrapperState={initialChecked:X,initialValue:R,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function he(m,x){x=x.checked,x!=null&&_(m,"checked",x,!1)}function fe(m,x){he(m,x);var R=z(x.value),X=x.type;if(R!=null)X==="number"?(R===0&&m.value===""||m.value!=R)&&(m.value=""+R):m.value!==""+R&&(m.value=""+R);else if(X==="submit"||X==="reset"){m.removeAttribute("value");return}x.hasOwnProperty("value")?ye(m,x.type,R):x.hasOwnProperty("defaultValue")&&ye(m,x.type,z(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(m.defaultChecked=!!x.defaultChecked)}function ke(m,x,R){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var X=x.type;if(!(X!=="submit"&&X!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+m._wrapperState.initialValue,R||x===m.value||(m.value=x),m.defaultValue=x}R=m.name,R!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,R!==""&&(m.name=R)}function ye(m,x,R){(x!=="number"||de(m.ownerDocument)!==m)&&(R==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+R&&(m.defaultValue=""+R))}var Re=Array.isArray;function Ie(m,x,R,X){if(m=m.options,x){x={};for(var te=0;te<R.length;te++)x["$"+R[te]]=!0;for(R=0;R<m.length;R++)te=x.hasOwnProperty("$"+m[R].value),m[R].selected!==te&&(m[R].selected=te),te&&X&&(m[R].defaultSelected=!0)}else{for(R=""+z(R),x=null,te=0;te<m.length;te++){if(m[te].value===R){m[te].selected=!0,X&&(m[te].defaultSelected=!0);return}x!==null||m[te].disabled||(x=m[te])}x!==null&&(x.selected=!0)}}function Oe(m,x){if(x.dangerouslySetInnerHTML!=null)throw Error(e(91));return O({},x,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function Fe(m,x){var R=x.value;if(R==null){if(R=x.children,x=x.defaultValue,R!=null){if(x!=null)throw Error(e(92));if(Re(R)){if(1<R.length)throw Error(e(93));R=R[0]}x=R}x==null&&(x=""),R=x}m._wrapperState={initialValue:z(R)}}function Se(m,x){var R=z(x.value),X=z(x.defaultValue);R!=null&&(R=""+R,R!==m.value&&(m.value=R),x.defaultValue==null&&m.defaultValue!==R&&(m.defaultValue=R)),X!=null&&(m.defaultValue=""+X)}function Pe(m){var x=m.textContent;x===m._wrapperState.initialValue&&x!==""&&x!==null&&(m.value=x)}function He(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(m,x){return m==null||m==="http://www.w3.org/1999/xhtml"?He(x):m==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var at,Je=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,R,X,te){MSApp.execUnsafeLocalFunction(function(){return m(x,R,X,te)})}:m})(function(m,x){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=x;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=at.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;x.firstChild;)m.appendChild(x.firstChild)}});function lt(m,x){if(x){var R=m.firstChild;if(R&&R===m.lastChild&&R.nodeType===3){R.nodeValue=x;return}}m.textContent=x}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ut=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(m){Ut.forEach(function(x){x=x+m.charAt(0).toUpperCase()+m.substring(1),ut[x]=ut[m]})});function ft(m,x,R){return x==null||typeof x=="boolean"||x===""?"":R||typeof x!="number"||x===0||ut.hasOwnProperty(m)&&ut[m]?(""+x).trim():x+"px"}function st(m,x){m=m.style;for(var R in x)if(x.hasOwnProperty(R)){var X=R.indexOf("--")===0,te=ft(R,x[R],X);R==="float"&&(R="cssFloat"),X?m.setProperty(R,te):m[R]=te}}var mt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function At(m,x){if(x){if(mt[m]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(e(137,m));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(e(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(e(61))}if(x.style!=null&&typeof x.style!="object")throw Error(e(62))}}function dt(m,x){if(m.indexOf("-")===-1)return typeof x.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function zt(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var St=null,nr=null,Tt=null;function _t(m){if(m=Bc(m)){if(typeof St!="function")throw Error(e(280));var x=m.stateNode;x&&(x=Lu(x),St(m.stateNode,m.type,x))}}function sr(m){nr?Tt?Tt.push(m):Tt=[m]:nr=m}function Dt(){if(nr){var m=nr,x=Tt;if(Tt=nr=null,_t(m),x)for(m=0;m<x.length;m++)_t(x[m])}}function jt(m,x){return m(x)}function Zt(){}var br=!1;function bt(m,x,R){if(br)return m(x,R);br=!0;try{return jt(m,x,R)}finally{br=!1,(nr!==null||Tt!==null)&&(Zt(),Dt())}}function Ar(m,x){var R=m.stateNode;if(R===null)return null;var X=Lu(R);if(X===null)return null;R=X[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(X=!X.disabled)||(m=m.type,X=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!X;break e;default:m=!1}if(m)return null;if(R&&typeof R!="function")throw Error(e(231,x,typeof R));return R}var Ir=!1;if(l)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Ir=!1}function Le(m,x,R,X,te,ae,be,Me,Ve){var nt=Array.prototype.slice.call(arguments,3);try{x.apply(R,nt)}catch(Rt){this.onError(Rt)}}var ze=!1,et=null,Et=!1,er=null,Lt={onError:function(m){ze=!0,et=m}};function dr(m,x,R,X,te,ae,be,Me,Ve){ze=!1,et=null,Le.apply(Lt,arguments)}function ir(m,x,R,X,te,ae,be,Me,Ve){if(dr.apply(this,arguments),ze){if(ze){var nt=et;ze=!1,et=null}else throw Error(e(198));Et||(Et=!0,er=nt)}}function Wt(m){var x=m,R=m;if(m.alternate)for(;x.return;)x=x.return;else{m=x;do x=m,(x.flags&4098)!==0&&(R=x.return),m=x.return;while(m)}return x.tag===3?R:null}function mr(m){if(m.tag===13){var x=m.memoizedState;if(x===null&&(m=m.alternate,m!==null&&(x=m.memoizedState)),x!==null)return x.dehydrated}return null}function hr(m){if(Wt(m)!==m)throw Error(e(188))}function Lr(m){var x=m.alternate;if(!x){if(x=Wt(m),x===null)throw Error(e(188));return x!==m?null:m}for(var R=m,X=x;;){var te=R.return;if(te===null)break;var ae=te.alternate;if(ae===null){if(X=te.return,X!==null){R=X;continue}break}if(te.child===ae.child){for(ae=te.child;ae;){if(ae===R)return hr(te),m;if(ae===X)return hr(te),x;ae=ae.sibling}throw Error(e(188))}if(R.return!==X.return)R=te,X=ae;else{for(var be=!1,Me=te.child;Me;){if(Me===R){be=!0,R=te,X=ae;break}if(Me===X){be=!0,X=te,R=ae;break}Me=Me.sibling}if(!be){for(Me=ae.child;Me;){if(Me===R){be=!0,R=ae,X=te;break}if(Me===X){be=!0,X=ae,R=te;break}Me=Me.sibling}if(!be)throw Error(e(189))}}if(R.alternate!==X)throw Error(e(190))}if(R.tag!==3)throw Error(e(188));return R.stateNode.current===R?m:x}function pn(m){return m=Lr(m),m!==null?on(m):null}function on(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var x=on(m);if(x!==null)return x;m=m.sibling}return null}var Ln=t.unstable_scheduleCallback,In=t.unstable_cancelCallback,Wn=t.unstable_shouldYield,Ae=t.unstable_requestPaint,$e=t.unstable_now,pt=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,Gt=t.unstable_UserBlockingPriority,Pt=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,Gr=t.unstable_IdlePriority,Pr=null,Tr=null;function wr(m){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Pr,m,void 0,(m.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:Fr,Yr=Math.log,Jr=Math.LN2;function Fr(m){return m>>>=0,m===0?32:31-(Yr(m)/Jr|0)|0}var En=64,kn=4194304;function Hr(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Ls(m,x){var R=m.pendingLanes;if(R===0)return 0;var X=0,te=m.suspendedLanes,ae=m.pingedLanes,be=R&268435455;if(be!==0){var Me=be&~te;Me!==0?X=Hr(Me):(ae&=be,ae!==0&&(X=Hr(ae)))}else be=R&~te,be!==0?X=Hr(be):ae!==0&&(X=Hr(ae));if(X===0)return 0;if(x!==0&&x!==X&&(x&te)===0&&(te=X&-X,ae=x&-x,te>=ae||te===16&&(ae&4194240)!==0))return x;if((X&4)!==0&&(X|=R&16),x=m.entangledLanes,x!==0)for(m=m.entanglements,x&=X;0<x;)R=31-Rr(x),te=1<<R,X|=m[R],x&=~te;return X}function ls(m,x){switch(m){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(m,x){for(var R=m.suspendedLanes,X=m.pingedLanes,te=m.expirationTimes,ae=m.pendingLanes;0<ae;){var be=31-Rr(ae),Me=1<<be,Ve=te[be];Ve===-1?((Me&R)===0||(Me&X)!==0)&&(te[be]=ls(Me,x)):Ve<=x&&(m.expiredLanes|=Me),ae&=~Me}}function Ds(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function ln(){var m=En;return En<<=1,(En&4194240)===0&&(En=64),m}function rn(m){for(var x=[],R=0;31>R;R++)x.push(m);return x}function ci(m,x,R){m.pendingLanes|=x,x!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,x=31-Rr(x),m[x]=R}function Fs(m,x){var R=m.pendingLanes&~x;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=x,m.mutableReadLanes&=x,m.entangledLanes&=x,x=m.entanglements;var X=m.eventTimes;for(m=m.expirationTimes;0<R;){var te=31-Rr(R),ae=1<<te;x[te]=0,X[te]=-1,m[te]=-1,R&=~ae}}function ma(m,x){var R=m.entangledLanes|=x;for(m=m.entanglements;R;){var X=31-Rr(R),te=1<<X;te&x|m[X]&x&&(m[X]|=x),R&=~te}}var Or=0;function cs(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var Bs,Ki,Ia,Xi,ui,ki=!1,ks=[],Ei=null,Es=null,es=null,Pa=new Map,Cr=new Map,Vs=[],Ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(m,x){switch(m){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Pa.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(x.pointerId)}}function Ys(m,x,R,X,te,ae){return m===null||m.nativeEvent!==ae?(m={blockedOn:x,domEventName:R,eventSystemFlags:X,nativeEvent:ae,targetContainers:[te]},x!==null&&(x=Bc(x),x!==null&&Ki(x)),m):(m.eventSystemFlags|=X,x=m.targetContainers,te!==null&&x.indexOf(te)===-1&&x.push(te),m)}function Ra(m,x,R,X,te){switch(x){case"focusin":return Ei=Ys(Ei,m,x,R,X,te),!0;case"dragenter":return Es=Ys(Es,m,x,R,X,te),!0;case"mouseover":return es=Ys(es,m,x,R,X,te),!0;case"pointerover":var ae=te.pointerId;return Pa.set(ae,Ys(Pa.get(ae)||null,m,x,R,X,te)),!0;case"gotpointercapture":return ae=te.pointerId,Cr.set(ae,Ys(Cr.get(ae)||null,m,x,R,X,te)),!0}return!1}function ul(m){var x=bl(m.target);if(x!==null){var R=Wt(x);if(R!==null){if(x=R.tag,x===13){if(x=mr(R),x!==null){m.blockedOn=x,ui(m.priority,function(){Ia(R)});return}}else if(x===3&&R.stateNode.current.memoizedState.isDehydrated){m.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Fn(m){if(m.blockedOn!==null)return!1;for(var x=m.targetContainers;0<x.length;){var R=yo(m.domEventName,m.eventSystemFlags,x[0],m.nativeEvent);if(R===null){R=m.nativeEvent;var X=new R.constructor(R.type,R);Yt=X,R.target.dispatchEvent(X),Yt=null}else return x=Bc(R),x!==null&&Ki(x),m.blockedOn=R,!1;x.shift()}return!0}function Oo(m,x,R){Fn(m)&&R.delete(x)}function ql(){ki=!1,Ei!==null&&Fn(Ei)&&(Ei=null),Es!==null&&Fn(Es)&&(Es=null),es!==null&&Fn(es)&&(es=null),Pa.forEach(Oo),Cr.forEach(Oo)}function Yi(m,x){m.blockedOn===x&&(m.blockedOn=null,ki||(ki=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ql)))}function go(m){function x(te){return Yi(te,m)}if(0<ks.length){Yi(ks[0],m);for(var R=1;R<ks.length;R++){var X=ks[R];X.blockedOn===m&&(X.blockedOn=null)}}for(Ei!==null&&Yi(Ei,m),Es!==null&&Yi(Es,m),es!==null&&Yi(es,m),Pa.forEach(x),Cr.forEach(x),R=0;R<Vs.length;R++)X=Vs[R],X.blockedOn===m&&(X.blockedOn=null);for(;0<Vs.length&&(R=Vs[0],R.blockedOn===null);)ul(R),R.blockedOn===null&&Vs.shift()}var wi=T.ReactCurrentBatchConfig,Za=!0;function Zi(m,x,R,X){var te=Or,ae=wi.transition;wi.transition=null;try{Or=1,hl(m,x,R,X)}finally{Or=te,wi.transition=ae}}function dl(m,x,R,X){var te=Or,ae=wi.transition;wi.transition=null;try{Or=4,hl(m,x,R,X)}finally{Or=te,wi.transition=ae}}function hl(m,x,R,X){if(Za){var te=yo(m,x,R,X);if(te===null)Ru(m,x,X,di,R),mo(m,X);else if(Ra(te,m,x,R,X))X.stopPropagation();else if(mo(m,X),x&4&&-1<Ac.indexOf(m)){for(;te!==null;){var ae=Bc(te);if(ae!==null&&Bs(ae),ae=yo(m,x,R,X),ae===null&&Ru(m,x,X,di,R),ae===te)break;te=ae}te!==null&&X.stopPropagation()}else Ru(m,x,X,null,R)}}var di=null;function yo(m,x,R,X){if(di=null,m=zt(X),m=bl(m),m!==null)if(x=Wt(m),x===null)m=null;else if(R=x.tag,R===13){if(m=mr(x),m!==null)return m;m=null}else if(R===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;m=null}else x!==m&&(m=null);return di=m,null}function Qa(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pt()){case Nt:return 1;case Gt:return 4;case Pt:case Ft:return 16;case Gr:return 536870912;default:return 16}default:return 16}}var xi=null,Ma=null,ga=null;function Hl(){if(ga)return ga;var m,x=Ma,R=x.length,X,te="value"in xi?xi.value:xi.textContent,ae=te.length;for(m=0;m<R&&x[m]===te[m];m++);var be=R-m;for(X=1;X<=be&&x[R-X]===te[ae-X];X++);return ga=te.slice(m,1<X?1-X:void 0)}function vo(m){var x=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&x===13&&(m=13)):m=x,m===10&&(m=13),32<=m||m===13?m:0}function hi(){return!0}function ya(){return!1}function Zs(m){function x(R,X,te,ae,be){this._reactName=R,this._targetInst=te,this.type=X,this.nativeEvent=ae,this.target=be,this.currentTarget=null;for(var Me in m)m.hasOwnProperty(Me)&&(R=m[Me],this[Me]=R?R(ae):ae[Me]);return this.isDefaultPrevented=(ae.defaultPrevented!=null?ae.defaultPrevented:ae.returnValue===!1)?hi:ya,this.isPropagationStopped=ya,this}return O(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),x}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Zs(Ai),ee=O({},Ai,{view:0,detail:0}),me=Zs(ee),je,De,We,ht=O({},ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==We&&(We&&m.type==="mousemove"?(je=m.screenX-We.screenX,De=m.screenY-We.screenY):De=je=0,We=m),je)},movementY:function(m){return"movementY"in m?m.movementY:De}}),Ct=Zs(ht),or=O({},ht,{dataTransfer:0}),gr=Zs(or),Dr=O({},ee,{relatedTarget:0}),kr=Zs(Dr),mn=O({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ts=Zs(mn),Gn=O({},Ai,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),W=Zs(Gn),se=O({},Ai,{data:0}),ue=Zs(se),Ne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(m){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(m):(m=rt[m])?!!x[m]:!1}function Wr(){return Vt}var rs=O({},ee,{key:function(m){if(m.key){var x=Ne[m.key]||m.key;if(x!=="Unidentified")return x}return m.type==="keypress"?(m=vo(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Ge[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(m){return m.type==="keypress"?vo(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?vo(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),gn=Zs(rs),ns=O({},ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Zs(ns),Ti=O({},ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),ss=Zs(Ti),ji=O({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oa=Zs(ji),Lo=O({},ht,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=Zs(Lo),Vi=[9,13,27,32],Ja=l&&"CompositionEvent"in window,wo=null;l&&"documentMode"in document&&(wo=document.documentMode);var xd=l&&"TextEvent"in window&&!wo,va=l&&(!Ja||wo&&8<wo&&11>=wo),fl=" ",Tc=!1;function jc(m,x){switch(m){case"keyup":return Vi.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var La=!1;function ba(m,x){switch(m){case"compositionend":return Do(x);case"keypress":return x.which!==32?null:(Tc=!0,fl);case"textInput":return m=x.data,m===fl&&Tc?null:m;default:return null}}function wa(m,x){if(La)return m==="compositionend"||!Ja&&jc(m,x)?(m=Hl(),ga=Ma=xi=null,La=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return va&&x.locale!=="ko"?null:x.data;default:return null}}var pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x==="input"?!!pl[m.type]:x==="textarea"}function Fo(m,x,R,X){sr(X),x=kd(x,"onChange"),0<x.length&&(R=new bo("onChange","change",null,R,X),m.push({event:R,listeners:x}))}var Bo=null,_o=null;function As(m){Iu(m,0)}function Wl(m){var x=rc(m);if(pe(x))return m}function So(m,x){if(m==="change")return x}var eo=!1;if(l){var Gl;if(l){var Kl="oninput"in document;if(!Kl){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Kl=typeof Ic.oninput=="function"}Gl=Kl}else Gl=!1;eo=Gl&&(!document.documentMode||9<document.documentMode)}function Pc(){Bo&&(Bo.detachEvent("onpropertychange",Vo),_o=Bo=null)}function Vo(m){if(m.propertyName==="value"&&Wl(_o)){var x=[];Fo(x,_o,m,zt(m)),bt(As,x)}}function ml(m,x,R){m==="focusin"?(Pc(),Bo=x,_o=R,Bo.attachEvent("onpropertychange",Vo)):m==="focusout"&&Pc()}function gl(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Wl(_o)}function Xl(m,x){if(m==="click")return Wl(x)}function yl(m,x){if(m==="input"||m==="change")return Wl(x)}function Yl(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var ws=typeof Object.is=="function"?Object.is:Yl;function Qi(m,x){if(ws(m,x))return!0;if(typeof m!="object"||m===null||typeof x!="object"||x===null)return!1;var R=Object.keys(m),X=Object.keys(x);if(R.length!==X.length)return!1;for(X=0;X<R.length;X++){var te=R[X];if(!c.call(x,te)||!ws(m[te],x[te]))return!1}return!0}function Pn(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function zn(m,x){var R=Pn(m);m=0;for(var X;R;){if(R.nodeType===3){if(X=m+R.textContent.length,m<=x&&X>=x)return{node:R,offset:x-m};m=X}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=Pn(R)}}function xs(m,x){return m&&x?m===x?!0:m&&m.nodeType===3?!1:x&&x.nodeType===3?xs(m,x.parentNode):"contains"in m?m.contains(x):m.compareDocumentPosition?!!(m.compareDocumentPosition(x)&16):!1:!1}function zs(){for(var m=window,x=de();x instanceof m.HTMLIFrameElement;){try{var R=typeof x.contentWindow.location.href=="string"}catch{R=!1}if(R)m=x.contentWindow;else break;x=de(m.document)}return x}function to(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x&&(x==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||x==="textarea"||m.contentEditable==="true")}function Eu(m){var x=zs(),R=m.focusedElem,X=m.selectionRange;if(x!==R&&R&&R.ownerDocument&&xs(R.ownerDocument.documentElement,R)){if(X!==null&&to(R)){if(x=X.start,m=X.end,m===void 0&&(m=x),"selectionStart"in R)R.selectionStart=x,R.selectionEnd=Math.min(m,R.value.length);else if(m=(x=R.ownerDocument||document)&&x.defaultView||window,m.getSelection){m=m.getSelection();var te=R.textContent.length,ae=Math.min(X.start,te);X=X.end===void 0?ae:Math.min(X.end,te),!m.extend&&ae>X&&(te=X,X=ae,ae=te),te=zn(R,ae);var be=zn(R,X);te&&be&&(m.rangeCount!==1||m.anchorNode!==te.node||m.anchorOffset!==te.offset||m.focusNode!==be.node||m.focusOffset!==be.offset)&&(x=x.createRange(),x.setStart(te.node,te.offset),m.removeAllRanges(),ae>X?(m.addRange(x),m.extend(be.node,be.offset)):(x.setEnd(be.node,be.offset),m.addRange(x)))}}for(x=[],m=R;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<x.length;R++)m=x[R],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Rc=l&&"documentMode"in document&&11>=document.documentMode,zo=null,_d=null,Mc=null,Sd=!1;function $h(m,x,R){var X=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;Sd||zo==null||zo!==de(X)||(X=zo,"selectionStart"in X&&to(X)?X={start:X.selectionStart,end:X.selectionEnd}:(X=(X.ownerDocument&&X.ownerDocument.defaultView||window).getSelection(),X={anchorNode:X.anchorNode,anchorOffset:X.anchorOffset,focusNode:X.focusNode,focusOffset:X.focusOffset}),Mc&&Qi(Mc,X)||(Mc=X,X=kd(_d,"onSelect"),0<X.length&&(x=new bo("onSelect","select",null,x,R),m.push({event:x,listeners:X}),x.target=zo)))}function Au(m,x){var R={};return R[m.toLowerCase()]=x.toLowerCase(),R["Webkit"+m]="webkit"+x,R["Moz"+m]="moz"+x,R}var Zl={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Ql={},qh={};l&&(qh=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Tu(m){if(Ql[m])return Ql[m];if(!Zl[m])return m;var x=Zl[m],R;for(R in x)if(x.hasOwnProperty(R)&&R in qh)return Ql[m]=x[R];return m}var Hh=Tu("animationend"),Wh=Tu("animationiteration"),Gh=Tu("animationstart"),Kh=Tu("transitionend"),Xh=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(m,x){Xh.set(m,x),s(x,[m])}for(var Oc=0;Oc<Yh.length;Oc++){var zi=Yh[Oc],Da=zi.toLowerCase(),Nd=zi[0].toUpperCase()+zi.slice(1);No(Da,"on"+Nd)}No(Hh,"onAnimationEnd"),No(Wh,"onAnimationIteration"),No(Gh,"onAnimationStart"),No("dblclick","onDoubleClick"),No("focusin","onFocus"),No("focusout","onBlur"),No(Kh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function ju(m,x,R){var X=m.type||"unknown-event";m.currentTarget=R,ir(X,x,void 0,m),m.currentTarget=null}function Iu(m,x){x=(x&4)!==0;for(var R=0;R<m.length;R++){var X=m[R],te=X.event;X=X.listeners;e:{var ae=void 0;if(x)for(var be=X.length-1;0<=be;be--){var Me=X[be],Ve=Me.instance,nt=Me.currentTarget;if(Me=Me.listener,Ve!==ae&&te.isPropagationStopped())break e;ju(te,Me,nt),ae=Ve}else for(be=0;be<X.length;be++){if(Me=X[be],Ve=Me.instance,nt=Me.currentTarget,Me=Me.listener,Ve!==ae&&te.isPropagationStopped())break e;ju(te,Me,nt),ae=Ve}}}if(Et)throw m=er,Et=!1,er=null,m}function Kn(m,x){var R=x[ea];R===void 0&&(R=x[ea]=new Set);var X=m+"__bubble";R.has(X)||(Pu(x,m,2,!1),R.add(X))}function Cd(m,x,R){var X=0;x&&(X|=4),Pu(R,m,X,x)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Jl(m){if(!m[Lc]){m[Lc]=!0,n.forEach(function(R){R!=="selectionchange"&&(vp.has(R)||Cd(R,!1,m),Cd(R,!0,m))});var x=m.nodeType===9?m:m.ownerDocument;x===null||x[Lc]||(x[Lc]=!0,Cd("selectionchange",!1,x))}}function Pu(m,x,R,X){switch(Qa(x)){case 1:var te=Zi;break;case 4:te=dl;break;default:te=hl}R=te.bind(null,x,R,m),te=void 0,!Ir||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(te=!0),X?te!==void 0?m.addEventListener(x,R,{capture:!0,passive:te}):m.addEventListener(x,R,!0):te!==void 0?m.addEventListener(x,R,{passive:te}):m.addEventListener(x,R,!1)}function Ru(m,x,R,X,te){var ae=X;if((x&1)===0&&(x&2)===0&&X!==null)e:for(;;){if(X===null)return;var be=X.tag;if(be===3||be===4){var Me=X.stateNode.containerInfo;if(Me===te||Me.nodeType===8&&Me.parentNode===te)break;if(be===4)for(be=X.return;be!==null;){var Ve=be.tag;if((Ve===3||Ve===4)&&(Ve=be.stateNode.containerInfo,Ve===te||Ve.nodeType===8&&Ve.parentNode===te))return;be=be.return}for(;Me!==null;){if(be=bl(Me),be===null)return;if(Ve=be.tag,Ve===5||Ve===6){X=ae=be;continue e}Me=Me.parentNode}}X=X.return}bt(function(){var nt=ae,Rt=zt(R),Ot=[];e:{var It=Xh.get(m);if(It!==void 0){var ar=bo,yr=m;switch(m){case"keypress":if(vo(R)===0)break e;case"keydown":case"keyup":ar=gn;break;case"focusin":yr="focus",ar=kr;break;case"focusout":yr="blur",ar=kr;break;case"beforeblur":case"afterblur":ar=kr;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ar=Ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ar=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ar=ss;break;case Hh:case Wh:case Gh:ar=ts;break;case Kh:ar=Oa;break;case"scroll":ar=me;break;case"wheel":ar=ku;break;case"copy":case"cut":case"paste":ar=W;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ar=Qs}var xr=(x&4)!==0,ti=!xr&&m==="scroll",Ye=xr?It!==null?It+"Capture":null:It;xr=[];for(var qe=nt,tt;qe!==null;){tt=qe;var $t=tt.stateNode;if(tt.tag===5&&$t!==null&&(tt=$t,Ye!==null&&($t=Ar(qe,Ye),$t!=null&&xr.push(Mu(qe,$t,tt)))),ti)break;qe=qe.return}0<xr.length&&(It=new ar(It,yr,null,R,Rt),Ot.push({event:It,listeners:xr}))}}if((x&7)===0){e:{if(It=m==="mouseover"||m==="pointerover",ar=m==="mouseout"||m==="pointerout",It&&R!==Yt&&(yr=R.relatedTarget||R.fromElement)&&(bl(yr)||yr[Ii]))break e;if((ar||It)&&(It=Rt.window===Rt?Rt:(It=Rt.ownerDocument)?It.defaultView||It.parentWindow:window,ar?(yr=R.relatedTarget||R.toElement,ar=nt,yr=yr?bl(yr):null,yr!==null&&(ti=Wt(yr),yr!==ti||yr.tag!==5&&yr.tag!==6)&&(yr=null)):(ar=null,yr=nt),ar!==yr)){if(xr=Ct,$t="onMouseLeave",Ye="onMouseEnter",qe="mouse",(m==="pointerout"||m==="pointerover")&&(xr=Qs,$t="onPointerLeave",Ye="onPointerEnter",qe="pointer"),ti=ar==null?It:rc(ar),tt=yr==null?It:rc(yr),It=new xr($t,qe+"leave",ar,R,Rt),It.target=ti,It.relatedTarget=tt,$t=null,bl(Rt)===nt&&(xr=new xr(Ye,qe+"enter",yr,R,Rt),xr.target=tt,xr.relatedTarget=ti,$t=xr),ti=$t,ar&&yr)t:{for(xr=ar,Ye=yr,qe=0,tt=xr;tt;tt=ec(tt))qe++;for(tt=0,$t=Ye;$t;$t=ec($t))tt++;for(;0<qe-tt;)xr=ec(xr),qe--;for(;0<tt-qe;)Ye=ec(Ye),tt--;for(;qe--;){if(xr===Ye||Ye!==null&&xr===Ye.alternate)break t;xr=ec(xr),Ye=ec(Ye)}xr=null}else xr=null;ar!==null&&bp(Ot,It,ar,xr,!1),yr!==null&&ti!==null&&bp(Ot,ti,yr,xr,!0)}}e:{if(It=nt?rc(nt):window,ar=It.nodeName&&It.nodeName.toLowerCase(),ar==="select"||ar==="input"&&It.type==="file")var Er=So;else if(xo(It))if(eo)Er=yl;else{Er=gl;var Br=ml}else(ar=It.nodeName)&&ar.toLowerCase()==="input"&&(It.type==="checkbox"||It.type==="radio")&&(Er=Xl);if(Er&&(Er=Er(m,nt))){Fo(Ot,Er,R,Rt);break e}Br&&Br(m,It,nt),m==="focusout"&&(Br=It._wrapperState)&&Br.controlled&&It.type==="number"&&ye(It,"number",It.value)}switch(Br=nt?rc(nt):window,m){case"focusin":(xo(Br)||Br.contentEditable==="true")&&(zo=Br,_d=nt,Mc=null);break;case"focusout":Mc=_d=zo=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,$h(Ot,R,Rt);break;case"selectionchange":if(Rc)break;case"keydown":case"keyup":$h(Ot,R,Rt)}var Vr;if(Ja)e:{switch(m){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else La?jc(m,R)&&(Zr="onCompositionEnd"):m==="keydown"&&R.keyCode===229&&(Zr="onCompositionStart");Zr&&(va&&R.locale!=="ko"&&(La||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&La&&(Vr=Hl()):(xi=Rt,Ma="value"in xi?xi.value:xi.textContent,La=!0)),Br=kd(nt,Zr),0<Br.length&&(Zr=new ue(Zr,m,null,R,Rt),Ot.push({event:Zr,listeners:Br}),Vr?Zr.data=Vr:(Vr=Do(R),Vr!==null&&(Zr.data=Vr)))),(Vr=xd?ba(m,R):wa(m,R))&&(nt=kd(nt,"onBeforeInput"),0<nt.length&&(Rt=new ue("onBeforeInput","beforeinput",null,R,Rt),Ot.push({event:Rt,listeners:nt}),Rt.data=Vr))}Iu(Ot,x)})}function Mu(m,x,R){return{instance:m,listener:x,currentTarget:R}}function kd(m,x){for(var R=x+"Capture",X=[];m!==null;){var te=m,ae=te.stateNode;te.tag===5&&ae!==null&&(te=ae,ae=Ar(m,R),ae!=null&&X.unshift(Mu(m,ae,te)),ae=Ar(m,x),ae!=null&&X.push(Mu(m,ae,te))),m=m.return}return X}function ec(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function bp(m,x,R,X,te){for(var ae=x._reactName,be=[];R!==null&&R!==X;){var Me=R,Ve=Me.alternate,nt=Me.stateNode;if(Ve!==null&&Ve===X)break;Me.tag===5&&nt!==null&&(Me=nt,te?(Ve=Ar(R,ae),Ve!=null&&be.unshift(Mu(R,Ve,Me))):te||(Ve=Ar(R,ae),Ve!=null&&be.push(Mu(R,Ve,Me)))),R=R.return}be.length!==0&&m.push({event:x,listeners:be})}var ug=/\r\n?/g,dg=/\u0000|\uFFFD/g;function wp(m){return(typeof m=="string"?m:""+m).replace(ug,`
`).replace(dg,"")}function Ed(m,x,R){if(x=wp(x),wp(m)!==x&&R)throw Error(e(425))}function Dc(){}var Ou=null,tc=null;function Zh(m,x){return m==="textarea"||m==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,hg=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(m){return _p.resolve(null).then(m).catch(fg)}:Qh;function fg(m){setTimeout(function(){throw m})}function Jh(m,x){var R=x,X=0;do{var te=R.nextSibling;if(m.removeChild(R),te&&te.nodeType===8)if(R=te.data,R==="/$"){if(X===0){m.removeChild(te),go(x);return}X--}else R!=="$"&&R!=="$?"&&R!=="$!"||X++;R=te}while(R);go(x)}function Ui(m){for(;m!=null;m=m.nextSibling){var x=m.nodeType;if(x===1||x===3)break;if(x===8){if(x=m.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return m}function Fa(m){m=m.previousSibling;for(var x=0;m;){if(m.nodeType===8){var R=m.data;if(R==="$"||R==="$!"||R==="$?"){if(x===0)return m;x--}else R==="/$"&&x++}m=m.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Co="__reactFiber$"+Ji,Fc="__reactProps$"+Ji,Ii="__reactContainer$"+Ji,ea="__reactEvents$"+Ji,pg="__reactListeners$"+Ji,mg="__reactHandles$"+Ji;function bl(m){var x=m[Co];if(x)return x;for(var R=m.parentNode;R;){if(x=R[Ii]||R[Co]){if(R=x.alternate,x.child!==null||R!==null&&R.child!==null)for(m=Fa(m);m!==null;){if(R=m[Co])return R;m=Fa(m)}return x}m=R,R=m.parentNode}return null}function Bc(m){return m=m[Co]||m[Ii],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function rc(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(e(33))}function Lu(m){return m[Fc]||null}var ef=[],Uo=-1;function ro(m){return{current:m}}function Bn(m){0>Uo||(m.current=ef[Uo],ef[Uo]=null,Uo--)}function Un(m,x){Uo++,ef[Uo]=m.current,m.current=x}var wl={},_i=ro(wl),ta=ro(!1),nc=wl;function Vc(m,x){var R=m.type.contextTypes;if(!R)return wl;var X=m.stateNode;if(X&&X.__reactInternalMemoizedUnmaskedChildContext===x)return X.__reactInternalMemoizedMaskedChildContext;var te={},ae;for(ae in R)te[ae]=x[ae];return X&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=x,m.__reactInternalMemoizedMaskedChildContext=te),te}function ra(m){return m=m.childContextTypes,m!=null}function Ad(){Bn(ta),Bn(_i)}function Sp(m,x,R){if(_i.current!==wl)throw Error(e(168));Un(_i,x),Un(ta,R)}function tf(m,x,R){var X=m.stateNode;if(x=x.childContextTypes,typeof X.getChildContext!="function")return R;X=X.getChildContext();for(var te in X)if(!(te in x))throw Error(e(108,J(m)||"Unknown",te));return O({},R,X)}function sc(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||wl,nc=_i.current,Un(_i,m),Un(ta,ta.current),!0}function Np(m,x,R){var X=m.stateNode;if(!X)throw Error(e(169));R?(m=tf(m,x,nc),X.__reactInternalMemoizedMergedChildContext=m,Bn(ta),Bn(_i),Un(_i,m)):Bn(ta),Un(ta,R)}var $o=null,Du=!1,q=!1;function Y(m){$o===null?$o=[m]:$o.push(m)}function re(m){Du=!0,Y(m)}function le(){if(!q&&$o!==null){q=!0;var m=0,x=Or;try{var R=$o;for(Or=1;m<R.length;m++){var X=R[m];do X=X(!0);while(X!==null)}$o=null,Du=!1}catch(te){throw $o!==null&&($o=$o.slice(m+1)),Ln(Nt,le),te}finally{Or=x,q=!1}}return null}var ge=[],we=0,xe=null,_e=0,Ce=[],Ee=0,Be=null,Xe=1,Te="";function Ue(m,x){ge[we++]=_e,ge[we++]=xe,xe=m,_e=x}function Ke(m,x,R){Ce[Ee++]=Xe,Ce[Ee++]=Te,Ce[Ee++]=Be,Be=m;var X=Xe;m=Te;var te=32-Rr(X)-1;X&=~(1<<te),R+=1;var ae=32-Rr(x)+te;if(30<ae){var be=te-te%5;ae=(X&(1<<be)-1).toString(32),X>>=be,te-=be,Xe=1<<32-Rr(x)+te|R<<te|X,Te=ae+m}else Xe=1<<ae|R<<te|X,Te=m}function ct(m){m.return!==null&&(Ue(m,1),Ke(m,1,0))}function Qe(m){for(;m===xe;)xe=ge[--we],ge[we]=null,_e=ge[--we],ge[we]=null;for(;m===Be;)Be=Ce[--Ee],Ce[Ee]=null,Te=Ce[--Ee],Ce[Ee]=null,Xe=Ce[--Ee],Ce[Ee]=null}var it=null,ot=null,gt=!1,vt=null;function Sr(m,x){var R=jo(5,null,null,0);R.elementType="DELETED",R.stateNode=x,R.return=m,x=m.deletions,x===null?(m.deletions=[R],m.flags|=16):x.push(R)}function lr(m,x){switch(m.tag){case 5:var R=m.type;return x=x.nodeType!==1||R.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(m.stateNode=x,it=m,ot=Ui(x.firstChild),!0):!1;case 6:return x=m.pendingProps===""||x.nodeType!==3?null:x,x!==null?(m.stateNode=x,it=m,ot=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(R=Be!==null?{id:Xe,overflow:Te}:null,m.memoizedState={dehydrated:x,treeContext:R,retryLane:1073741824},R=jo(18,null,null,0),R.stateNode=x,R.return=m,m.child=R,it=m,ot=null,!0):!1;default:return!1}}function en(m){return(m.mode&1)!==0&&(m.flags&128)===0}function pr(m){if(gt){var x=ot;if(x){var R=x;if(!lr(m,x)){if(en(m))throw Error(e(418));x=Ui(R.nextSibling);var X=it;x&&lr(m,x)?Sr(X,R):(m.flags=m.flags&-4097|2,gt=!1,it=m)}}else{if(en(m))throw Error(e(418));m.flags=m.flags&-4097|2,gt=!1,it=m}}}function yn(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;it=m}function _s(m){if(m!==it)return!1;if(!gt)return yn(m),gt=!0,!1;var x;if((x=m.tag!==3)&&!(x=m.tag!==5)&&(x=m.type,x=x!=="head"&&x!=="body"&&!Zh(m.type,m.memoizedProps)),x&&(x=ot)){if(en(m))throw nn(),Error(e(418));for(;x;)Sr(m,x),x=Ui(x.nextSibling)}if(yn(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(e(317));e:{for(m=m.nextSibling,x=0;m;){if(m.nodeType===8){var R=m.data;if(R==="/$"){if(x===0){ot=Ui(m.nextSibling);break e}x--}else R!=="$"&&R!=="$!"&&R!=="$?"||x++}m=m.nextSibling}ot=null}}else ot=it?Ui(m.stateNode.nextSibling):null;return!0}function nn(){for(var m=ot;m;)m=Ui(m.nextSibling)}function cr(){ot=it=null,gt=!1}function Ht(m){vt===null?vt=[m]:vt.push(m)}var Ts=T.ReactCurrentBatchConfig;function Kr(m,x,R){if(m=R.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(e(309));var X=R.stateNode}if(!X)throw Error(e(147,m));var te=X,ae=""+m;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===ae?x.ref:(x=function(be){var Me=te.refs;be===null?delete Me[ae]:Me[ae]=be},x._stringRef=ae,x)}if(typeof m!="string")throw Error(e(284));if(!R._owner)throw Error(e(290,m))}return m}function dn(m,x){throw m=Object.prototype.toString.call(x),Error(e(31,m==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":m))}function is(m){var x=m._init;return x(m._payload)}function fi(m){function x(Ye,qe){if(m){var tt=Ye.deletions;tt===null?(Ye.deletions=[qe],Ye.flags|=16):tt.push(qe)}}function R(Ye,qe){if(!m)return null;for(;qe!==null;)x(Ye,qe),qe=qe.sibling;return null}function X(Ye,qe){for(Ye=new Map;qe!==null;)qe.key!==null?Ye.set(qe.key,qe):Ye.set(qe.index,qe),qe=qe.sibling;return Ye}function te(Ye,qe){return Ye=Yc(Ye,qe),Ye.index=0,Ye.sibling=null,Ye}function ae(Ye,qe,tt){return Ye.index=tt,m?(tt=Ye.alternate,tt!==null?(tt=tt.index,tt<qe?(Ye.flags|=2,qe):tt):(Ye.flags|=2,qe)):(Ye.flags|=1048576,qe)}function be(Ye){return m&&Ye.alternate===null&&(Ye.flags|=2),Ye}function Me(Ye,qe,tt,$t){return qe===null||qe.tag!==6?(qe=qg(tt,Ye.mode,$t),qe.return=Ye,qe):(qe=te(qe,tt),qe.return=Ye,qe)}function Ve(Ye,qe,tt,$t){var Er=tt.type;return Er===$?Rt(Ye,qe,tt.props.children,$t,tt.key):qe!==null&&(qe.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===S&&is(Er)===qe.type)?($t=te(qe,tt.props),$t.ref=Kr(Ye,qe,tt),$t.return=Ye,$t):($t=qp(tt.type,tt.key,tt.props,null,Ye.mode,$t),$t.ref=Kr(Ye,qe,tt),$t.return=Ye,$t)}function nt(Ye,qe,tt,$t){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==tt.containerInfo||qe.stateNode.implementation!==tt.implementation?(qe=Hg(tt,Ye.mode,$t),qe.return=Ye,qe):(qe=te(qe,tt.children||[]),qe.return=Ye,qe)}function Rt(Ye,qe,tt,$t,Er){return qe===null||qe.tag!==7?(qe=Hu(tt,Ye.mode,$t,Er),qe.return=Ye,qe):(qe=te(qe,tt),qe.return=Ye,qe)}function Ot(Ye,qe,tt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=qg(""+qe,Ye.mode,tt),qe.return=Ye,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case F:return tt=qp(qe.type,qe.key,qe.props,null,Ye.mode,tt),tt.ref=Kr(Ye,null,qe),tt.return=Ye,tt;case G:return qe=Hg(qe,Ye.mode,tt),qe.return=Ye,qe;case S:var $t=qe._init;return Ot(Ye,$t(qe._payload),tt)}if(Re(qe)||C(qe))return qe=Hu(qe,Ye.mode,tt,null),qe.return=Ye,qe;dn(Ye,qe)}return null}function It(Ye,qe,tt,$t){var Er=qe!==null?qe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Er!==null?null:Me(Ye,qe,""+tt,$t);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case F:return tt.key===Er?Ve(Ye,qe,tt,$t):null;case G:return tt.key===Er?nt(Ye,qe,tt,$t):null;case S:return Er=tt._init,It(Ye,qe,Er(tt._payload),$t)}if(Re(tt)||C(tt))return Er!==null?null:Rt(Ye,qe,tt,$t,null);dn(Ye,tt)}return null}function ar(Ye,qe,tt,$t,Er){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return Ye=Ye.get(tt)||null,Me(qe,Ye,""+$t,Er);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case F:return Ye=Ye.get($t.key===null?tt:$t.key)||null,Ve(qe,Ye,$t,Er);case G:return Ye=Ye.get($t.key===null?tt:$t.key)||null,nt(qe,Ye,$t,Er);case S:var Br=$t._init;return ar(Ye,qe,tt,Br($t._payload),Er)}if(Re($t)||C($t))return Ye=Ye.get(tt)||null,Rt(qe,Ye,$t,Er,null);dn(qe,$t)}return null}function yr(Ye,qe,tt,$t){for(var Er=null,Br=null,Vr=qe,Zr=qe=0,Li=null;Vr!==null&&Zr<tt.length;Zr++){Vr.index>Zr?(Li=Vr,Vr=null):Li=Vr.sibling;var Dn=It(Ye,Vr,tt[Zr],$t);if(Dn===null){Vr===null&&(Vr=Li);break}m&&Vr&&Dn.alternate===null&&x(Ye,Vr),qe=ae(Dn,qe,Zr),Br===null?Er=Dn:Br.sibling=Dn,Br=Dn,Vr=Li}if(Zr===tt.length)return R(Ye,Vr),gt&&Ue(Ye,Zr),Er;if(Vr===null){for(;Zr<tt.length;Zr++)Vr=Ot(Ye,tt[Zr],$t),Vr!==null&&(qe=ae(Vr,qe,Zr),Br===null?Er=Vr:Br.sibling=Vr,Br=Vr);return gt&&Ue(Ye,Zr),Er}for(Vr=X(Ye,Vr);Zr<tt.length;Zr++)Li=ar(Vr,Ye,Zr,tt[Zr],$t),Li!==null&&(m&&Li.alternate!==null&&Vr.delete(Li.key===null?Zr:Li.key),qe=ae(Li,qe,Zr),Br===null?Er=Li:Br.sibling=Li,Br=Li);return m&&Vr.forEach(function(Zc){return x(Ye,Zc)}),gt&&Ue(Ye,Zr),Er}function xr(Ye,qe,tt,$t){var Er=C(tt);if(typeof Er!="function")throw Error(e(150));if(tt=Er.call(tt),tt==null)throw Error(e(151));for(var Br=Er=null,Vr=qe,Zr=qe=0,Li=null,Dn=tt.next();Vr!==null&&!Dn.done;Zr++,Dn=tt.next()){Vr.index>Zr?(Li=Vr,Vr=null):Li=Vr.sibling;var Zc=It(Ye,Vr,Dn.value,$t);if(Zc===null){Vr===null&&(Vr=Li);break}m&&Vr&&Zc.alternate===null&&x(Ye,Vr),qe=ae(Zc,qe,Zr),Br===null?Er=Zc:Br.sibling=Zc,Br=Zc,Vr=Li}if(Dn.done)return R(Ye,Vr),gt&&Ue(Ye,Zr),Er;if(Vr===null){for(;!Dn.done;Zr++,Dn=tt.next())Dn=Ot(Ye,Dn.value,$t),Dn!==null&&(qe=ae(Dn,qe,Zr),Br===null?Er=Dn:Br.sibling=Dn,Br=Dn);return gt&&Ue(Ye,Zr),Er}for(Vr=X(Ye,Vr);!Dn.done;Zr++,Dn=tt.next())Dn=ar(Vr,Ye,Zr,Dn.value,$t),Dn!==null&&(m&&Dn.alternate!==null&&Vr.delete(Dn.key===null?Zr:Dn.key),qe=ae(Dn,qe,Zr),Br===null?Er=Dn:Br.sibling=Dn,Br=Dn);return m&&Vr.forEach(function(O9){return x(Ye,O9)}),gt&&Ue(Ye,Zr),Er}function ti(Ye,qe,tt,$t){if(typeof tt=="object"&&tt!==null&&tt.type===$&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case F:e:{for(var Er=tt.key,Br=qe;Br!==null;){if(Br.key===Er){if(Er=tt.type,Er===$){if(Br.tag===7){R(Ye,Br.sibling),qe=te(Br,tt.props.children),qe.return=Ye,Ye=qe;break e}}else if(Br.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===S&&is(Er)===Br.type){R(Ye,Br.sibling),qe=te(Br,tt.props),qe.ref=Kr(Ye,Br,tt),qe.return=Ye,Ye=qe;break e}R(Ye,Br);break}else x(Ye,Br);Br=Br.sibling}tt.type===$?(qe=Hu(tt.props.children,Ye.mode,$t,tt.key),qe.return=Ye,Ye=qe):($t=qp(tt.type,tt.key,tt.props,null,Ye.mode,$t),$t.ref=Kr(Ye,qe,tt),$t.return=Ye,Ye=$t)}return be(Ye);case G:e:{for(Br=tt.key;qe!==null;){if(qe.key===Br)if(qe.tag===4&&qe.stateNode.containerInfo===tt.containerInfo&&qe.stateNode.implementation===tt.implementation){R(Ye,qe.sibling),qe=te(qe,tt.children||[]),qe.return=Ye,Ye=qe;break e}else{R(Ye,qe);break}else x(Ye,qe);qe=qe.sibling}qe=Hg(tt,Ye.mode,$t),qe.return=Ye,Ye=qe}return be(Ye);case S:return Br=tt._init,ti(Ye,qe,Br(tt._payload),$t)}if(Re(tt))return yr(Ye,qe,tt,$t);if(C(tt))return xr(Ye,qe,tt,$t);dn(Ye,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,qe!==null&&qe.tag===6?(R(Ye,qe.sibling),qe=te(qe,tt),qe.return=Ye,Ye=qe):(R(Ye,qe),qe=qg(tt,Ye.mode,$t),qe.return=Ye,Ye=qe),be(Ye)):R(Ye,qe)}return ti}var Us=fi(!0),gs=fi(!1),Js=ro(null),pi=null,hs=null,xn=null;function Rn(){xn=hs=pi=null}function fs(m){var x=Js.current;Bn(Js),m._currentValue=x}function Mn(m,x,R){for(;m!==null;){var X=m.alternate;if((m.childLanes&x)!==x?(m.childLanes|=x,X!==null&&(X.childLanes|=x)):X!==null&&(X.childLanes&x)!==x&&(X.childLanes|=x),m===R)break;m=m.return}}function Ss(m,x){pi=m,xn=hs=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&x)!==0&&(Va=!0),m.firstContext=null)}function Ns(m){var x=m._currentValue;if(xn!==m)if(m={context:m,memoizedValue:x,next:null},hs===null){if(pi===null)throw Error(e(308));hs=m,pi.dependencies={lanes:0,firstContext:m}}else hs=hs.next=m;return x}var Xn=null;function Pi(m){Xn===null?Xn=[m]:Xn.push(m)}function $n(m,x,R,X){var te=x.interleaved;return te===null?(R.next=R,Pi(x)):(R.next=te.next,te.next=R),x.interleaved=R,Yn(m,X)}function Yn(m,x){m.lanes|=x;var R=m.alternate;for(R!==null&&(R.lanes|=x),R=m,m=m.return;m!==null;)m.childLanes|=x,R=m.alternate,R!==null&&(R.childLanes|=x),R=m,m=m.return;return R.tag===3?R.stateNode:null}var $s=!1;function Si(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function na(m,x){m=m.updateQueue,x.updateQueue===m&&(x.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function js(m,x){return{eventTime:m,lane:x,tag:0,payload:null,callback:null,next:null}}function Is(m,x,R){var X=m.updateQueue;if(X===null)return null;if(X=X.shared,(On&2)!==0){var te=X.pending;return te===null?x.next=x:(x.next=te.next,te.next=x),X.pending=x,Yn(m,R)}return te=X.interleaved,te===null?(x.next=x,Pi(X)):(x.next=te.next,te.next=x),X.interleaved=x,Yn(m,R)}function Ri(m,x,R){if(x=x.updateQueue,x!==null&&(x=x.shared,(R&4194240)!==0)){var X=x.lanes;X&=m.pendingLanes,R|=X,x.lanes=R,ma(m,R)}}function Zn(m,x){var R=m.updateQueue,X=m.alternate;if(X!==null&&(X=X.updateQueue,R===X)){var te=null,ae=null;if(R=R.firstBaseUpdate,R!==null){do{var be={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};ae===null?te=ae=be:ae=ae.next=be,R=R.next}while(R!==null);ae===null?te=ae=x:ae=ae.next=x}else te=ae=x;R={baseState:X.baseState,firstBaseUpdate:te,lastBaseUpdate:ae,shared:X.shared,effects:X.effects},m.updateQueue=R;return}m=R.lastBaseUpdate,m===null?R.firstBaseUpdate=x:m.next=x,R.lastBaseUpdate=x}function Mi(m,x,R,X){var te=m.updateQueue;$s=!1;var ae=te.firstBaseUpdate,be=te.lastBaseUpdate,Me=te.shared.pending;if(Me!==null){te.shared.pending=null;var Ve=Me,nt=Ve.next;Ve.next=null,be===null?ae=nt:be.next=nt,be=Ve;var Rt=m.alternate;Rt!==null&&(Rt=Rt.updateQueue,Me=Rt.lastBaseUpdate,Me!==be&&(Me===null?Rt.firstBaseUpdate=nt:Me.next=nt,Rt.lastBaseUpdate=Ve))}if(ae!==null){var Ot=te.baseState;be=0,Rt=nt=Ve=null,Me=ae;do{var It=Me.lane,ar=Me.eventTime;if((X&It)===It){Rt!==null&&(Rt=Rt.next={eventTime:ar,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var yr=m,xr=Me;switch(It=x,ar=R,xr.tag){case 1:if(yr=xr.payload,typeof yr=="function"){Ot=yr.call(ar,Ot,It);break e}Ot=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=xr.payload,It=typeof yr=="function"?yr.call(ar,Ot,It):yr,It==null)break e;Ot=O({},Ot,It);break e;case 2:$s=!0}}Me.callback!==null&&Me.lane!==0&&(m.flags|=64,It=te.effects,It===null?te.effects=[Me]:It.push(Me))}else ar={eventTime:ar,lane:It,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},Rt===null?(nt=Rt=ar,Ve=Ot):Rt=Rt.next=ar,be|=It;if(Me=Me.next,Me===null){if(Me=te.shared.pending,Me===null)break;It=Me,Me=It.next,It.next=null,te.lastBaseUpdate=It,te.shared.pending=null}}while(!0);if(Rt===null&&(Ve=Ot),te.baseState=Ve,te.firstBaseUpdate=nt,te.lastBaseUpdate=Rt,x=te.shared.interleaved,x!==null){te=x;do be|=te.lane,te=te.next;while(te!==x)}else ae===null&&(te.shared.lanes=0);zu|=be,m.lanes=be,m.memoizedState=Ot}}function Ba(m,x,R){if(m=x.effects,x.effects=null,m!==null)for(x=0;x<m.length;x++){var X=m[x],te=X.callback;if(te!==null){if(X.callback=null,X=R,typeof te!="function")throw Error(e(191,te));te.call(X)}}}var no={},mi=ro(no),Ps=ro(no),xl=ro(no);function qo(m){if(m===no)throw Error(e(174));return m}function zc(m,x){switch(Un(xl,x),Un(Ps,m),Un(mi,no),m=x.nodeType,m){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Ze(null,"");break;default:m=m===8?x.parentNode:x,x=m.namespaceURI||null,m=m.tagName,x=Ze(x,m)}Bn(mi),Un(mi,x)}function ko(){Bn(mi),Bn(Ps),Bn(xl)}function Cp(m){qo(xl.current);var x=qo(mi.current),R=Ze(x,m.type);x!==R&&(Un(Ps,m),Un(mi,R))}function rf(m){Ps.current===m&&(Bn(mi),Bn(Ps))}var us=ro(0);function so(m){for(var x=m;x!==null;){if(x.tag===13){var R=x.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var nf=[];function sf(){for(var m=0;m<nf.length;m++)nf[m]._workInProgressVersionPrimary=null;nf.length=0}var Td=T.ReactCurrentDispatcher,jd=T.ReactCurrentBatchConfig,Eo=0,ps=null,qs=null,Rs=null,Uc=!1,Ho=!1,$c=0,gg=0;function ei(){throw Error(e(321))}function Id(m,x){if(x===null)return!1;for(var R=0;R<x.length&&R<m.length;R++)if(!ws(m[R],x[R]))return!1;return!0}function Fu(m,x,R,X,te,ae){if(Eo=ae,ps=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Td.current=m===null||m.memoizedState===null?o9:l9,m=R(X,te),Ho){ae=0;do{if(Ho=!1,$c=0,25<=ae)throw Error(e(301));ae+=1,Rs=qs=null,x.updateQueue=null,Td.current=c9,m=R(X,te)}while(Ho)}if(Td.current=jp,x=qs!==null&&qs.next!==null,Eo=0,Rs=qs=ps=null,Uc=!1,x)throw Error(e(300));return m}function Ao(){var m=$c!==0;return $c=0,m}function io(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?ps.memoizedState=Rs=m:Rs=Rs.next=m,Rs}function xa(){if(qs===null){var m=ps.alternate;m=m!==null?m.memoizedState:null}else m=qs.next;var x=Rs===null?ps.memoizedState:Rs.next;if(x!==null)Rs=x,qs=m;else{if(m===null)throw Error(e(310));qs=m,m={memoizedState:qs.memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},Rs===null?ps.memoizedState=Rs=m:Rs=Rs.next=m}return Rs}function Bu(m,x){return typeof x=="function"?x(m):x}function Pd(m){var x=xa(),R=x.queue;if(R===null)throw Error(e(311));R.lastRenderedReducer=m;var X=qs,te=X.baseQueue,ae=R.pending;if(ae!==null){if(te!==null){var be=te.next;te.next=ae.next,ae.next=be}X.baseQueue=te=ae,R.pending=null}if(te!==null){ae=te.next,X=X.baseState;var Me=be=null,Ve=null,nt=ae;do{var Rt=nt.lane;if((Eo&Rt)===Rt)Ve!==null&&(Ve=Ve.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),X=nt.hasEagerState?nt.eagerState:m(X,nt.action);else{var Ot={lane:Rt,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};Ve===null?(Me=Ve=Ot,be=X):Ve=Ve.next=Ot,ps.lanes|=Rt,zu|=Rt}nt=nt.next}while(nt!==null&&nt!==ae);Ve===null?be=X:Ve.next=Me,ws(X,x.memoizedState)||(Va=!0),x.memoizedState=X,x.baseState=be,x.baseQueue=Ve,R.lastRenderedState=X}if(m=R.interleaved,m!==null){te=m;do ae=te.lane,ps.lanes|=ae,zu|=ae,te=te.next;while(te!==m)}else te===null&&(R.lanes=0);return[x.memoizedState,R.dispatch]}function _l(m){var x=xa(),R=x.queue;if(R===null)throw Error(e(311));R.lastRenderedReducer=m;var X=R.dispatch,te=R.pending,ae=x.memoizedState;if(te!==null){R.pending=null;var be=te=te.next;do ae=m(ae,be.action),be=be.next;while(be!==te);ws(ae,x.memoizedState)||(Va=!0),x.memoizedState=ae,x.baseQueue===null&&(x.baseState=ae),R.lastRenderedState=ae}return[ae,X]}function kp(){}function af(m,x){var R=ps,X=xa(),te=x(),ae=!ws(X.memoizedState,te);if(ae&&(X.memoizedState=te,Va=!0),X=X.queue,Od(Ap.bind(null,R,X,m),[m]),X.getSnapshot!==x||ae||Rs!==null&&Rs.memoizedState.tag&1){if(R.flags|=2048,_a(9,of.bind(null,R,X,te,x),void 0,null),Oi===null)throw Error(e(349));(Eo&30)!==0||Ep(R,x,te)}return te}function Ep(m,x,R){m.flags|=16384,m={getSnapshot:x,value:R},x=ps.updateQueue,x===null?(x={lastEffect:null,stores:null},ps.updateQueue=x,x.stores=[m]):(R=x.stores,R===null?x.stores=[m]:R.push(m))}function of(m,x,R,X){x.value=R,x.getSnapshot=X,qc(x)&&Rd(m)}function Ap(m,x,R){return R(function(){qc(x)&&Rd(m)})}function qc(m){var x=m.getSnapshot;m=m.value;try{var R=x();return!ws(m,R)}catch{return!0}}function Rd(m){var x=Yn(m,1);x!==null&&Yo(x,m,1,-1)}function Vu(m){var x=io();return typeof m=="function"&&(m=m()),x.memoizedState=x.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:m},x.queue=m,m=m.dispatch=a9.bind(null,ps,m),[x.memoizedState,m]}function _a(m,x,R,X){return m={tag:m,create:x,destroy:R,deps:X,next:null},x=ps.updateQueue,x===null?(x={lastEffect:null,stores:null},ps.updateQueue=x,x.lastEffect=m.next=m):(R=x.lastEffect,R===null?x.lastEffect=m.next=m:(X=R.next,R.next=m,m.next=X,x.lastEffect=m)),m}function Wo(){return xa().memoizedState}function ao(m,x,R,X){var te=io();ps.flags|=m,te.memoizedState=_a(1|x,R,void 0,X===void 0?null:X)}function ic(m,x,R,X){var te=xa();X=X===void 0?null:X;var ae=void 0;if(qs!==null){var be=qs.memoizedState;if(ae=be.destroy,X!==null&&Id(X,be.deps)){te.memoizedState=_a(x,R,ae,X);return}}ps.flags|=m,te.memoizedState=_a(1|x,R,ae,X)}function Md(m,x){return ao(8390656,8,m,x)}function Od(m,x){return ic(2048,8,m,x)}function Tp(m,x){return ic(4,2,m,x)}function Ld(m,x){return ic(4,4,m,x)}function Dd(m,x){if(typeof x=="function")return m=m(),x(m),function(){x(null)};if(x!=null)return m=m(),x.current=m,function(){x.current=null}}function Ev(m,x,R){return R=R!=null?R.concat([m]):null,ic(4,4,Dd.bind(null,x,m),R)}function yg(){}function Av(m,x){var R=xa();x=x===void 0?null:x;var X=R.memoizedState;return X!==null&&x!==null&&Id(x,X[1])?X[0]:(R.memoizedState=[m,x],m)}function Tv(m,x){var R=xa();x=x===void 0?null:x;var X=R.memoizedState;return X!==null&&x!==null&&Id(x,X[1])?X[0]:(m=m(),R.memoizedState=[m,x],m)}function jv(m,x,R){return(Eo&21)===0?(m.baseState&&(m.baseState=!1,Va=!0),m.memoizedState=R):(ws(R,x)||(R=ln(),ps.lanes|=R,zu|=R,m.baseState=!0),x)}function s9(m,x){var R=Or;Or=R!==0&&4>R?R:4,m(!0);var X=jd.transition;jd.transition={};try{m(!1),x()}finally{Or=R,jd.transition=X}}function Iv(){return xa().memoizedState}function i9(m,x,R){var X=Kc(m);if(R={lane:X,action:R,hasEagerState:!1,eagerState:null,next:null},Pv(m))Rv(x,R);else if(R=$n(m,x,R,X),R!==null){var te=Na();Yo(R,m,X,te),Mv(R,x,X)}}function a9(m,x,R){var X=Kc(m),te={lane:X,action:R,hasEagerState:!1,eagerState:null,next:null};if(Pv(m))Rv(x,te);else{var ae=m.alternate;if(m.lanes===0&&(ae===null||ae.lanes===0)&&(ae=x.lastRenderedReducer,ae!==null))try{var be=x.lastRenderedState,Me=ae(be,R);if(te.hasEagerState=!0,te.eagerState=Me,ws(Me,be)){var Ve=x.interleaved;Ve===null?(te.next=te,Pi(x)):(te.next=Ve.next,Ve.next=te),x.interleaved=te;return}}catch{}finally{}R=$n(m,x,te,X),R!==null&&(te=Na(),Yo(R,m,X,te),Mv(R,x,X))}}function Pv(m){var x=m.alternate;return m===ps||x!==null&&x===ps}function Rv(m,x){Ho=Uc=!0;var R=m.pending;R===null?x.next=x:(x.next=R.next,R.next=x),m.pending=x}function Mv(m,x,R){if((R&4194240)!==0){var X=x.lanes;X&=m.pendingLanes,R|=X,x.lanes=R,ma(m,R)}}var jp={readContext:Ns,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},o9={readContext:Ns,useCallback:function(m,x){return io().memoizedState=[m,x===void 0?null:x],m},useContext:Ns,useEffect:Md,useImperativeHandle:function(m,x,R){return R=R!=null?R.concat([m]):null,ao(4194308,4,Dd.bind(null,x,m),R)},useLayoutEffect:function(m,x){return ao(4194308,4,m,x)},useInsertionEffect:function(m,x){return ao(4,2,m,x)},useMemo:function(m,x){var R=io();return x=x===void 0?null:x,m=m(),R.memoizedState=[m,x],m},useReducer:function(m,x,R){var X=io();return x=R!==void 0?R(x):x,X.memoizedState=X.baseState=x,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:x},X.queue=m,m=m.dispatch=i9.bind(null,ps,m),[X.memoizedState,m]},useRef:function(m){var x=io();return m={current:m},x.memoizedState=m},useState:Vu,useDebugValue:yg,useDeferredValue:function(m){return io().memoizedState=m},useTransition:function(){var m=Vu(!1),x=m[0];return m=s9.bind(null,m[1]),io().memoizedState=m,[x,m]},useMutableSource:function(){},useSyncExternalStore:function(m,x,R){var X=ps,te=io();if(gt){if(R===void 0)throw Error(e(407));R=R()}else{if(R=x(),Oi===null)throw Error(e(349));(Eo&30)!==0||Ep(X,x,R)}te.memoizedState=R;var ae={value:R,getSnapshot:x};return te.queue=ae,Md(Ap.bind(null,X,ae,m),[m]),X.flags|=2048,_a(9,of.bind(null,X,ae,R,x),void 0,null),R},useId:function(){var m=io(),x=Oi.identifierPrefix;if(gt){var R=Te,X=Xe;R=(X&~(1<<32-Rr(X)-1)).toString(32)+R,x=":"+x+"R"+R,R=$c++,0<R&&(x+="H"+R.toString(32)),x+=":"}else R=gg++,x=":"+x+"r"+R.toString(32)+":";return m.memoizedState=x},unstable_isNewReconciler:!1},l9={readContext:Ns,useCallback:Av,useContext:Ns,useEffect:Od,useImperativeHandle:Ev,useInsertionEffect:Tp,useLayoutEffect:Ld,useMemo:Tv,useReducer:Pd,useRef:Wo,useState:function(){return Pd(Bu)},useDebugValue:yg,useDeferredValue:function(m){var x=xa();return jv(x,qs.memoizedState,m)},useTransition:function(){var m=Pd(Bu)[0],x=xa().memoizedState;return[m,x]},useMutableSource:kp,useSyncExternalStore:af,useId:Iv,unstable_isNewReconciler:!1},c9={readContext:Ns,useCallback:Av,useContext:Ns,useEffect:Od,useImperativeHandle:Ev,useInsertionEffect:Tp,useLayoutEffect:Ld,useMemo:Tv,useReducer:_l,useRef:Wo,useState:function(){return _l(Bu)},useDebugValue:yg,useDeferredValue:function(m){var x=xa();return qs===null?x.memoizedState=m:jv(x,qs.memoizedState,m)},useTransition:function(){var m=_l(Bu)[0],x=xa().memoizedState;return[m,x]},useMutableSource:kp,useSyncExternalStore:af,useId:Iv,unstable_isNewReconciler:!1};function Go(m,x){if(m&&m.defaultProps){x=O({},x),m=m.defaultProps;for(var R in m)x[R]===void 0&&(x[R]=m[R]);return x}return x}function vg(m,x,R,X){x=m.memoizedState,R=R(X,x),R=R==null?x:O({},x,R),m.memoizedState=R,m.lanes===0&&(m.updateQueue.baseState=R)}var Ip={isMounted:function(m){return(m=m._reactInternals)?Wt(m)===m:!1},enqueueSetState:function(m,x,R){m=m._reactInternals;var X=Na(),te=Kc(m),ae=js(X,te);ae.payload=x,R!=null&&(ae.callback=R),x=Is(m,ae,te),x!==null&&(Yo(x,m,te,X),Ri(x,m,te))},enqueueReplaceState:function(m,x,R){m=m._reactInternals;var X=Na(),te=Kc(m),ae=js(X,te);ae.tag=1,ae.payload=x,R!=null&&(ae.callback=R),x=Is(m,ae,te),x!==null&&(Yo(x,m,te,X),Ri(x,m,te))},enqueueForceUpdate:function(m,x){m=m._reactInternals;var R=Na(),X=Kc(m),te=js(R,X);te.tag=2,x!=null&&(te.callback=x),x=Is(m,te,X),x!==null&&(Yo(x,m,X,R),Ri(x,m,X))}};function Ov(m,x,R,X,te,ae,be){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(X,ae,be):x.prototype&&x.prototype.isPureReactComponent?!Qi(R,X)||!Qi(te,ae):!0}function Lv(m,x,R){var X=!1,te=wl,ae=x.contextType;return typeof ae=="object"&&ae!==null?ae=Ns(ae):(te=ra(x)?nc:_i.current,X=x.contextTypes,ae=(X=X!=null)?Vc(m,te):wl),x=new x(R,ae),m.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ip,m.stateNode=x,x._reactInternals=m,X&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=te,m.__reactInternalMemoizedMaskedChildContext=ae),x}function Dv(m,x,R,X){m=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(R,X),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(R,X),x.state!==m&&Ip.enqueueReplaceState(x,x.state,null)}function bg(m,x,R,X){var te=m.stateNode;te.props=R,te.state=m.memoizedState,te.refs={},Si(m);var ae=x.contextType;typeof ae=="object"&&ae!==null?te.context=Ns(ae):(ae=ra(x)?nc:_i.current,te.context=Vc(m,ae)),te.state=m.memoizedState,ae=x.getDerivedStateFromProps,typeof ae=="function"&&(vg(m,x,ae,R),te.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof te.getSnapshotBeforeUpdate=="function"||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(x=te.state,typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount(),x!==te.state&&Ip.enqueueReplaceState(te,te.state,null),Mi(m,R,te,X),te.state=m.memoizedState),typeof te.componentDidMount=="function"&&(m.flags|=4194308)}function Fd(m,x){try{var R="",X=x;do R+=ne(X),X=X.return;while(X);var te=R}catch(ae){te=`
Error generating stack: `+ae.message+`
`+ae.stack}return{value:m,source:x,stack:te,digest:null}}function wg(m,x,R){return{value:m,source:null,stack:R??null,digest:x??null}}function xg(m,x){try{console.error(x.value)}catch(R){setTimeout(function(){throw R})}}var u9=typeof WeakMap=="function"?WeakMap:Map;function Fv(m,x,R){R=js(-1,R),R.tag=3,R.payload={element:null};var X=x.value;return R.callback=function(){Fp||(Fp=!0,Lg=X),xg(m,x)},R}function Bv(m,x,R){R=js(-1,R),R.tag=3;var X=m.type.getDerivedStateFromError;if(typeof X=="function"){var te=x.value;R.payload=function(){return X(te)},R.callback=function(){xg(m,x)}}var ae=m.stateNode;return ae!==null&&typeof ae.componentDidCatch=="function"&&(R.callback=function(){xg(m,x),typeof X!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var be=x.stack;this.componentDidCatch(x.value,{componentStack:be!==null?be:""})}),R}function Vv(m,x,R){var X=m.pingCache;if(X===null){X=m.pingCache=new u9;var te=new Set;X.set(x,te)}else te=X.get(x),te===void 0&&(te=new Set,X.set(x,te));te.has(R)||(te.add(R),m=N9.bind(null,m,x,R),x.then(m,m))}function zv(m){do{var x;if((x=m.tag===13)&&(x=m.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return m;m=m.return}while(m!==null);return null}function Uv(m,x,R,X,te){return(m.mode&1)===0?(m===x?m.flags|=65536:(m.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(x=js(-1,1),x.tag=2,Is(R,x,1))),R.lanes|=1),m):(m.flags|=65536,m.lanes=te,m)}var d9=T.ReactCurrentOwner,Va=!1;function Sa(m,x,R,X){x.child=m===null?gs(x,null,R,X):Us(x,m.child,R,X)}function $v(m,x,R,X,te){R=R.render;var ae=x.ref;return Ss(x,te),X=Fu(m,x,R,X,ae,te),R=Ao(),m!==null&&!Va?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~te,ac(m,x,te)):(gt&&R&&ct(x),x.flags|=1,Sa(m,x,X,te),x.child)}function qv(m,x,R,X,te){if(m===null){var ae=R.type;return typeof ae=="function"&&!$g(ae)&&ae.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(x.tag=15,x.type=ae,Hv(m,x,ae,X,te)):(m=qp(R.type,null,X,x,x.mode,te),m.ref=x.ref,m.return=x,x.child=m)}if(ae=m.child,(m.lanes&te)===0){var be=ae.memoizedProps;if(R=R.compare,R=R!==null?R:Qi,R(be,X)&&m.ref===x.ref)return ac(m,x,te)}return x.flags|=1,m=Yc(ae,X),m.ref=x.ref,m.return=x,x.child=m}function Hv(m,x,R,X,te){if(m!==null){var ae=m.memoizedProps;if(Qi(ae,X)&&m.ref===x.ref)if(Va=!1,x.pendingProps=X=ae,(m.lanes&te)!==0)(m.flags&131072)!==0&&(Va=!0);else return x.lanes=m.lanes,ac(m,x,te)}return _g(m,x,R,X,te)}function Wv(m,x,R){var X=x.pendingProps,te=X.children,ae=m!==null?m.memoizedState:null;if(X.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Vd,oo),oo|=R;else{if((R&1073741824)===0)return m=ae!==null?ae.baseLanes|R:R,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:m,cachePool:null,transitions:null},x.updateQueue=null,Un(Vd,oo),oo|=m,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},X=ae!==null?ae.baseLanes:R,Un(Vd,oo),oo|=X}else ae!==null?(X=ae.baseLanes|R,x.memoizedState=null):X=R,Un(Vd,oo),oo|=X;return Sa(m,x,te,R),x.child}function Gv(m,x){var R=x.ref;(m===null&&R!==null||m!==null&&m.ref!==R)&&(x.flags|=512,x.flags|=2097152)}function _g(m,x,R,X,te){var ae=ra(R)?nc:_i.current;return ae=Vc(x,ae),Ss(x,te),R=Fu(m,x,R,X,ae,te),X=Ao(),m!==null&&!Va?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~te,ac(m,x,te)):(gt&&X&&ct(x),x.flags|=1,Sa(m,x,R,te),x.child)}function Kv(m,x,R,X,te){if(ra(R)){var ae=!0;sc(x)}else ae=!1;if(Ss(x,te),x.stateNode===null)Rp(m,x),Lv(x,R,X),bg(x,R,X,te),X=!0;else if(m===null){var be=x.stateNode,Me=x.memoizedProps;be.props=Me;var Ve=be.context,nt=R.contextType;typeof nt=="object"&&nt!==null?nt=Ns(nt):(nt=ra(R)?nc:_i.current,nt=Vc(x,nt));var Rt=R.getDerivedStateFromProps,Ot=typeof Rt=="function"||typeof be.getSnapshotBeforeUpdate=="function";Ot||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(Me!==X||Ve!==nt)&&Dv(x,be,X,nt),$s=!1;var It=x.memoizedState;be.state=It,Mi(x,X,be,te),Ve=x.memoizedState,Me!==X||It!==Ve||ta.current||$s?(typeof Rt=="function"&&(vg(x,R,Rt,X),Ve=x.memoizedState),(Me=$s||Ov(x,R,Me,X,It,Ve,nt))?(Ot||typeof be.UNSAFE_componentWillMount!="function"&&typeof be.componentWillMount!="function"||(typeof be.componentWillMount=="function"&&be.componentWillMount(),typeof be.UNSAFE_componentWillMount=="function"&&be.UNSAFE_componentWillMount()),typeof be.componentDidMount=="function"&&(x.flags|=4194308)):(typeof be.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=X,x.memoizedState=Ve),be.props=X,be.state=Ve,be.context=nt,X=Me):(typeof be.componentDidMount=="function"&&(x.flags|=4194308),X=!1)}else{be=x.stateNode,na(m,x),Me=x.memoizedProps,nt=x.type===x.elementType?Me:Go(x.type,Me),be.props=nt,Ot=x.pendingProps,It=be.context,Ve=R.contextType,typeof Ve=="object"&&Ve!==null?Ve=Ns(Ve):(Ve=ra(R)?nc:_i.current,Ve=Vc(x,Ve));var ar=R.getDerivedStateFromProps;(Rt=typeof ar=="function"||typeof be.getSnapshotBeforeUpdate=="function")||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(Me!==Ot||It!==Ve)&&Dv(x,be,X,Ve),$s=!1,It=x.memoizedState,be.state=It,Mi(x,X,be,te);var yr=x.memoizedState;Me!==Ot||It!==yr||ta.current||$s?(typeof ar=="function"&&(vg(x,R,ar,X),yr=x.memoizedState),(nt=$s||Ov(x,R,nt,X,It,yr,Ve)||!1)?(Rt||typeof be.UNSAFE_componentWillUpdate!="function"&&typeof be.componentWillUpdate!="function"||(typeof be.componentWillUpdate=="function"&&be.componentWillUpdate(X,yr,Ve),typeof be.UNSAFE_componentWillUpdate=="function"&&be.UNSAFE_componentWillUpdate(X,yr,Ve)),typeof be.componentDidUpdate=="function"&&(x.flags|=4),typeof be.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof be.componentDidUpdate!="function"||Me===m.memoizedProps&&It===m.memoizedState||(x.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||Me===m.memoizedProps&&It===m.memoizedState||(x.flags|=1024),x.memoizedProps=X,x.memoizedState=yr),be.props=X,be.state=yr,be.context=Ve,X=nt):(typeof be.componentDidUpdate!="function"||Me===m.memoizedProps&&It===m.memoizedState||(x.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||Me===m.memoizedProps&&It===m.memoizedState||(x.flags|=1024),X=!1)}return Sg(m,x,R,X,ae,te)}function Sg(m,x,R,X,te,ae){Gv(m,x);var be=(x.flags&128)!==0;if(!X&&!be)return te&&Np(x,R,!1),ac(m,x,ae);X=x.stateNode,d9.current=x;var Me=be&&typeof R.getDerivedStateFromError!="function"?null:X.render();return x.flags|=1,m!==null&&be?(x.child=Us(x,m.child,null,ae),x.child=Us(x,null,Me,ae)):Sa(m,x,Me,ae),x.memoizedState=X.state,te&&Np(x,R,!0),x.child}function Xv(m){var x=m.stateNode;x.pendingContext?Sp(m,x.pendingContext,x.pendingContext!==x.context):x.context&&Sp(m,x.context,!1),zc(m,x.containerInfo)}function Yv(m,x,R,X,te){return cr(),Ht(te),x.flags|=256,Sa(m,x,R,X),x.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Cg(m){return{baseLanes:m,cachePool:null,transitions:null}}function Zv(m,x,R){var X=x.pendingProps,te=us.current,ae=!1,be=(x.flags&128)!==0,Me;if((Me=be)||(Me=m!==null&&m.memoizedState===null?!1:(te&2)!==0),Me?(ae=!0,x.flags&=-129):(m===null||m.memoizedState!==null)&&(te|=1),Un(us,te&1),m===null)return pr(x),m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((x.mode&1)===0?x.lanes=1:m.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(be=X.children,m=X.fallback,ae?(X=x.mode,ae=x.child,be={mode:"hidden",children:be},(X&1)===0&&ae!==null?(ae.childLanes=0,ae.pendingProps=be):ae=Hp(be,X,0,null),m=Hu(m,X,R,null),ae.return=x,m.return=x,ae.sibling=m,x.child=ae,x.child.memoizedState=Cg(R),x.memoizedState=Ng,m):kg(x,be));if(te=m.memoizedState,te!==null&&(Me=te.dehydrated,Me!==null))return h9(m,x,be,X,Me,te,R);if(ae){ae=X.fallback,be=x.mode,te=m.child,Me=te.sibling;var Ve={mode:"hidden",children:X.children};return(be&1)===0&&x.child!==te?(X=x.child,X.childLanes=0,X.pendingProps=Ve,x.deletions=null):(X=Yc(te,Ve),X.subtreeFlags=te.subtreeFlags&14680064),Me!==null?ae=Yc(Me,ae):(ae=Hu(ae,be,R,null),ae.flags|=2),ae.return=x,X.return=x,X.sibling=ae,x.child=X,X=ae,ae=x.child,be=m.child.memoizedState,be=be===null?Cg(R):{baseLanes:be.baseLanes|R,cachePool:null,transitions:be.transitions},ae.memoizedState=be,ae.childLanes=m.childLanes&~R,x.memoizedState=Ng,X}return ae=m.child,m=ae.sibling,X=Yc(ae,{mode:"visible",children:X.children}),(x.mode&1)===0&&(X.lanes=R),X.return=x,X.sibling=null,m!==null&&(R=x.deletions,R===null?(x.deletions=[m],x.flags|=16):R.push(m)),x.child=X,x.memoizedState=null,X}function kg(m,x){return x=Hp({mode:"visible",children:x},m.mode,0,null),x.return=m,m.child=x}function Pp(m,x,R,X){return X!==null&&Ht(X),Us(x,m.child,null,R),m=kg(x,x.pendingProps.children),m.flags|=2,x.memoizedState=null,m}function h9(m,x,R,X,te,ae,be){if(R)return x.flags&256?(x.flags&=-257,X=wg(Error(e(422))),Pp(m,x,be,X)):x.memoizedState!==null?(x.child=m.child,x.flags|=128,null):(ae=X.fallback,te=x.mode,X=Hp({mode:"visible",children:X.children},te,0,null),ae=Hu(ae,te,be,null),ae.flags|=2,X.return=x,ae.return=x,X.sibling=ae,x.child=X,(x.mode&1)!==0&&Us(x,m.child,null,be),x.child.memoizedState=Cg(be),x.memoizedState=Ng,ae);if((x.mode&1)===0)return Pp(m,x,be,null);if(te.data==="$!"){if(X=te.nextSibling&&te.nextSibling.dataset,X)var Me=X.dgst;return X=Me,ae=Error(e(419)),X=wg(ae,X,void 0),Pp(m,x,be,X)}if(Me=(be&m.childLanes)!==0,Va||Me){if(X=Oi,X!==null){switch(be&-be){case 4:te=2;break;case 16:te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:te=32;break;case 536870912:te=268435456;break;default:te=0}te=(te&(X.suspendedLanes|be))!==0?0:te,te!==0&&te!==ae.retryLane&&(ae.retryLane=te,Yn(m,te),Yo(X,m,te,-1))}return Ug(),X=wg(Error(e(421))),Pp(m,x,be,X)}return te.data==="$?"?(x.flags|=128,x.child=m.child,x=C9.bind(null,m),te._reactRetry=x,null):(m=ae.treeContext,ot=Ui(te.nextSibling),it=x,gt=!0,vt=null,m!==null&&(Ce[Ee++]=Xe,Ce[Ee++]=Te,Ce[Ee++]=Be,Xe=m.id,Te=m.overflow,Be=x),x=kg(x,X.children),x.flags|=4096,x)}function Qv(m,x,R){m.lanes|=x;var X=m.alternate;X!==null&&(X.lanes|=x),Mn(m.return,x,R)}function Eg(m,x,R,X,te){var ae=m.memoizedState;ae===null?m.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:X,tail:R,tailMode:te}:(ae.isBackwards=x,ae.rendering=null,ae.renderingStartTime=0,ae.last=X,ae.tail=R,ae.tailMode=te)}function Jv(m,x,R){var X=x.pendingProps,te=X.revealOrder,ae=X.tail;if(Sa(m,x,X.children,R),X=us.current,(X&2)!==0)X=X&1|2,x.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=x.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Qv(m,R,x);else if(m.tag===19)Qv(m,R,x);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===x)break e;for(;m.sibling===null;){if(m.return===null||m.return===x)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}X&=1}if(Un(us,X),(x.mode&1)===0)x.memoizedState=null;else switch(te){case"forwards":for(R=x.child,te=null;R!==null;)m=R.alternate,m!==null&&so(m)===null&&(te=R),R=R.sibling;R=te,R===null?(te=x.child,x.child=null):(te=R.sibling,R.sibling=null),Eg(x,!1,te,R,ae);break;case"backwards":for(R=null,te=x.child,x.child=null;te!==null;){if(m=te.alternate,m!==null&&so(m)===null){x.child=te;break}m=te.sibling,te.sibling=R,R=te,te=m}Eg(x,!0,R,null,ae);break;case"together":Eg(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Rp(m,x){(x.mode&1)===0&&m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2)}function ac(m,x,R){if(m!==null&&(x.dependencies=m.dependencies),zu|=x.lanes,(R&x.childLanes)===0)return null;if(m!==null&&x.child!==m.child)throw Error(e(153));if(x.child!==null){for(m=x.child,R=Yc(m,m.pendingProps),x.child=R,R.return=x;m.sibling!==null;)m=m.sibling,R=R.sibling=Yc(m,m.pendingProps),R.return=x;R.sibling=null}return x.child}function f9(m,x,R){switch(x.tag){case 3:Xv(x),cr();break;case 5:Cp(x);break;case 1:ra(x.type)&&sc(x);break;case 4:zc(x,x.stateNode.containerInfo);break;case 10:var X=x.type._context,te=x.memoizedProps.value;Un(Js,X._currentValue),X._currentValue=te;break;case 13:if(X=x.memoizedState,X!==null)return X.dehydrated!==null?(Un(us,us.current&1),x.flags|=128,null):(R&x.child.childLanes)!==0?Zv(m,x,R):(Un(us,us.current&1),m=ac(m,x,R),m!==null?m.sibling:null);Un(us,us.current&1);break;case 19:if(X=(R&x.childLanes)!==0,(m.flags&128)!==0){if(X)return Jv(m,x,R);x.flags|=128}if(te=x.memoizedState,te!==null&&(te.rendering=null,te.tail=null,te.lastEffect=null),Un(us,us.current),X)break;return null;case 22:case 23:return x.lanes=0,Wv(m,x,R)}return ac(m,x,R)}var eb,Ag,tb,rb;eb=function(m,x){for(var R=x.child;R!==null;){if(R.tag===5||R.tag===6)m.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===x)break;for(;R.sibling===null;){if(R.return===null||R.return===x)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Ag=function(){},tb=function(m,x,R,X){var te=m.memoizedProps;if(te!==X){m=x.stateNode,qo(mi.current);var ae=null;switch(R){case"input":te=ve(m,te),X=ve(m,X),ae=[];break;case"select":te=O({},te,{value:void 0}),X=O({},X,{value:void 0}),ae=[];break;case"textarea":te=Oe(m,te),X=Oe(m,X),ae=[];break;default:typeof te.onClick!="function"&&typeof X.onClick=="function"&&(m.onclick=Dc)}At(R,X);var be;R=null;for(nt in te)if(!X.hasOwnProperty(nt)&&te.hasOwnProperty(nt)&&te[nt]!=null)if(nt==="style"){var Me=te[nt];for(be in Me)Me.hasOwnProperty(be)&&(R||(R={}),R[be]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(i.hasOwnProperty(nt)?ae||(ae=[]):(ae=ae||[]).push(nt,null));for(nt in X){var Ve=X[nt];if(Me=te!=null?te[nt]:void 0,X.hasOwnProperty(nt)&&Ve!==Me&&(Ve!=null||Me!=null))if(nt==="style")if(Me){for(be in Me)!Me.hasOwnProperty(be)||Ve&&Ve.hasOwnProperty(be)||(R||(R={}),R[be]="");for(be in Ve)Ve.hasOwnProperty(be)&&Me[be]!==Ve[be]&&(R||(R={}),R[be]=Ve[be])}else R||(ae||(ae=[]),ae.push(nt,R)),R=Ve;else nt==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,Me=Me?Me.__html:void 0,Ve!=null&&Me!==Ve&&(ae=ae||[]).push(nt,Ve)):nt==="children"?typeof Ve!="string"&&typeof Ve!="number"||(ae=ae||[]).push(nt,""+Ve):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(i.hasOwnProperty(nt)?(Ve!=null&&nt==="onScroll"&&Kn("scroll",m),ae||Me===Ve||(ae=[])):(ae=ae||[]).push(nt,Ve))}R&&(ae=ae||[]).push("style",R);var nt=ae;(x.updateQueue=nt)&&(x.flags|=4)}},rb=function(m,x,R,X){R!==X&&(x.flags|=4)};function lf(m,x){if(!gt)switch(m.tailMode){case"hidden":x=m.tail;for(var R=null;x!==null;)x.alternate!==null&&(R=x),x=x.sibling;R===null?m.tail=null:R.sibling=null;break;case"collapsed":R=m.tail;for(var X=null;R!==null;)R.alternate!==null&&(X=R),R=R.sibling;X===null?x||m.tail===null?m.tail=null:m.tail.sibling=null:X.sibling=null}}function sa(m){var x=m.alternate!==null&&m.alternate.child===m.child,R=0,X=0;if(x)for(var te=m.child;te!==null;)R|=te.lanes|te.childLanes,X|=te.subtreeFlags&14680064,X|=te.flags&14680064,te.return=m,te=te.sibling;else for(te=m.child;te!==null;)R|=te.lanes|te.childLanes,X|=te.subtreeFlags,X|=te.flags,te.return=m,te=te.sibling;return m.subtreeFlags|=X,m.childLanes=R,x}function p9(m,x,R){var X=x.pendingProps;switch(Qe(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(x),null;case 1:return ra(x.type)&&Ad(),sa(x),null;case 3:return X=x.stateNode,ko(),Bn(ta),Bn(_i),sf(),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),(m===null||m.child===null)&&(_s(x)?x.flags|=4:m===null||m.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,vt!==null&&(Bg(vt),vt=null))),Ag(m,x),sa(x),null;case 5:rf(x);var te=qo(xl.current);if(R=x.type,m!==null&&x.stateNode!=null)tb(m,x,R,X,te),m.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!X){if(x.stateNode===null)throw Error(e(166));return sa(x),null}if(m=qo(mi.current),_s(x)){X=x.stateNode,R=x.type;var ae=x.memoizedProps;switch(X[Co]=x,X[Fc]=ae,m=(x.mode&1)!==0,R){case"dialog":Kn("cancel",X),Kn("close",X);break;case"iframe":case"object":case"embed":Kn("load",X);break;case"video":case"audio":for(te=0;te<vl.length;te++)Kn(vl[te],X);break;case"source":Kn("error",X);break;case"img":case"image":case"link":Kn("error",X),Kn("load",X);break;case"details":Kn("toggle",X);break;case"input":ce(X,ae),Kn("invalid",X);break;case"select":X._wrapperState={wasMultiple:!!ae.multiple},Kn("invalid",X);break;case"textarea":Fe(X,ae),Kn("invalid",X)}At(R,ae),te=null;for(var be in ae)if(ae.hasOwnProperty(be)){var Me=ae[be];be==="children"?typeof Me=="string"?X.textContent!==Me&&(ae.suppressHydrationWarning!==!0&&Ed(X.textContent,Me,m),te=["children",Me]):typeof Me=="number"&&X.textContent!==""+Me&&(ae.suppressHydrationWarning!==!0&&Ed(X.textContent,Me,m),te=["children",""+Me]):i.hasOwnProperty(be)&&Me!=null&&be==="onScroll"&&Kn("scroll",X)}switch(R){case"input":oe(X),ke(X,ae,!0);break;case"textarea":oe(X),Pe(X);break;case"select":case"option":break;default:typeof ae.onClick=="function"&&(X.onclick=Dc)}X=te,x.updateQueue=X,X!==null&&(x.flags|=4)}else{be=te.nodeType===9?te:te.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=He(R)),m==="http://www.w3.org/1999/xhtml"?R==="script"?(m=be.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof X.is=="string"?m=be.createElement(R,{is:X.is}):(m=be.createElement(R),R==="select"&&(be=m,X.multiple?be.multiple=!0:X.size&&(be.size=X.size))):m=be.createElementNS(m,R),m[Co]=x,m[Fc]=X,eb(m,x,!1,!1),x.stateNode=m;e:{switch(be=dt(R,X),R){case"dialog":Kn("cancel",m),Kn("close",m),te=X;break;case"iframe":case"object":case"embed":Kn("load",m),te=X;break;case"video":case"audio":for(te=0;te<vl.length;te++)Kn(vl[te],m);te=X;break;case"source":Kn("error",m),te=X;break;case"img":case"image":case"link":Kn("error",m),Kn("load",m),te=X;break;case"details":Kn("toggle",m),te=X;break;case"input":ce(m,X),te=ve(m,X),Kn("invalid",m);break;case"option":te=X;break;case"select":m._wrapperState={wasMultiple:!!X.multiple},te=O({},X,{value:void 0}),Kn("invalid",m);break;case"textarea":Fe(m,X),te=Oe(m,X),Kn("invalid",m);break;default:te=X}At(R,te),Me=te;for(ae in Me)if(Me.hasOwnProperty(ae)){var Ve=Me[ae];ae==="style"?st(m,Ve):ae==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,Ve!=null&&Je(m,Ve)):ae==="children"?typeof Ve=="string"?(R!=="textarea"||Ve!=="")&&lt(m,Ve):typeof Ve=="number"&&lt(m,""+Ve):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?Ve!=null&&ae==="onScroll"&&Kn("scroll",m):Ve!=null&&_(m,ae,Ve,be))}switch(R){case"input":oe(m),ke(m,X,!1);break;case"textarea":oe(m),Pe(m);break;case"option":X.value!=null&&m.setAttribute("value",""+z(X.value));break;case"select":m.multiple=!!X.multiple,ae=X.value,ae!=null?Ie(m,!!X.multiple,ae,!1):X.defaultValue!=null&&Ie(m,!!X.multiple,X.defaultValue,!0);break;default:typeof te.onClick=="function"&&(m.onclick=Dc)}switch(R){case"button":case"input":case"select":case"textarea":X=!!X.autoFocus;break e;case"img":X=!0;break e;default:X=!1}}X&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return sa(x),null;case 6:if(m&&x.stateNode!=null)rb(m,x,m.memoizedProps,X);else{if(typeof X!="string"&&x.stateNode===null)throw Error(e(166));if(R=qo(xl.current),qo(mi.current),_s(x)){if(X=x.stateNode,R=x.memoizedProps,X[Co]=x,(ae=X.nodeValue!==R)&&(m=it,m!==null))switch(m.tag){case 3:Ed(X.nodeValue,R,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&Ed(X.nodeValue,R,(m.mode&1)!==0)}ae&&(x.flags|=4)}else X=(R.nodeType===9?R:R.ownerDocument).createTextNode(X),X[Co]=x,x.stateNode=X}return sa(x),null;case 13:if(Bn(us),X=x.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(gt&&ot!==null&&(x.mode&1)!==0&&(x.flags&128)===0)nn(),cr(),x.flags|=98560,ae=!1;else if(ae=_s(x),X!==null&&X.dehydrated!==null){if(m===null){if(!ae)throw Error(e(318));if(ae=x.memoizedState,ae=ae!==null?ae.dehydrated:null,!ae)throw Error(e(317));ae[Co]=x}else cr(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;sa(x),ae=!1}else vt!==null&&(Bg(vt),vt=null),ae=!0;if(!ae)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=R,x):(X=X!==null,X!==(m!==null&&m.memoizedState!==null)&&X&&(x.child.flags|=8192,(x.mode&1)!==0&&(m===null||(us.current&1)!==0?Ni===0&&(Ni=3):Ug())),x.updateQueue!==null&&(x.flags|=4),sa(x),null);case 4:return ko(),Ag(m,x),m===null&&Jl(x.stateNode.containerInfo),sa(x),null;case 10:return fs(x.type._context),sa(x),null;case 17:return ra(x.type)&&Ad(),sa(x),null;case 19:if(Bn(us),ae=x.memoizedState,ae===null)return sa(x),null;if(X=(x.flags&128)!==0,be=ae.rendering,be===null)if(X)lf(ae,!1);else{if(Ni!==0||m!==null&&(m.flags&128)!==0)for(m=x.child;m!==null;){if(be=so(m),be!==null){for(x.flags|=128,lf(ae,!1),X=be.updateQueue,X!==null&&(x.updateQueue=X,x.flags|=4),x.subtreeFlags=0,X=R,R=x.child;R!==null;)ae=R,m=X,ae.flags&=14680066,be=ae.alternate,be===null?(ae.childLanes=0,ae.lanes=m,ae.child=null,ae.subtreeFlags=0,ae.memoizedProps=null,ae.memoizedState=null,ae.updateQueue=null,ae.dependencies=null,ae.stateNode=null):(ae.childLanes=be.childLanes,ae.lanes=be.lanes,ae.child=be.child,ae.subtreeFlags=0,ae.deletions=null,ae.memoizedProps=be.memoizedProps,ae.memoizedState=be.memoizedState,ae.updateQueue=be.updateQueue,ae.type=be.type,m=be.dependencies,ae.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),R=R.sibling;return Un(us,us.current&1|2),x.child}m=m.sibling}ae.tail!==null&&$e()>zd&&(x.flags|=128,X=!0,lf(ae,!1),x.lanes=4194304)}else{if(!X)if(m=so(be),m!==null){if(x.flags|=128,X=!0,R=m.updateQueue,R!==null&&(x.updateQueue=R,x.flags|=4),lf(ae,!0),ae.tail===null&&ae.tailMode==="hidden"&&!be.alternate&&!gt)return sa(x),null}else 2*$e()-ae.renderingStartTime>zd&&R!==1073741824&&(x.flags|=128,X=!0,lf(ae,!1),x.lanes=4194304);ae.isBackwards?(be.sibling=x.child,x.child=be):(R=ae.last,R!==null?R.sibling=be:x.child=be,ae.last=be)}return ae.tail!==null?(x=ae.tail,ae.rendering=x,ae.tail=x.sibling,ae.renderingStartTime=$e(),x.sibling=null,R=us.current,Un(us,X?R&1|2:R&1),x):(sa(x),null);case 22:case 23:return zg(),X=x.memoizedState!==null,m!==null&&m.memoizedState!==null!==X&&(x.flags|=8192),X&&(x.mode&1)!==0?(oo&1073741824)!==0&&(sa(x),x.subtreeFlags&6&&(x.flags|=8192)):sa(x),null;case 24:return null;case 25:return null}throw Error(e(156,x.tag))}function m9(m,x){switch(Qe(x),x.tag){case 1:return ra(x.type)&&Ad(),m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 3:return ko(),Bn(ta),Bn(_i),sf(),m=x.flags,(m&65536)!==0&&(m&128)===0?(x.flags=m&-65537|128,x):null;case 5:return rf(x),null;case 13:if(Bn(us),m=x.memoizedState,m!==null&&m.dehydrated!==null){if(x.alternate===null)throw Error(e(340));cr()}return m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 19:return Bn(us),null;case 4:return ko(),null;case 10:return fs(x.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var Mp=!1,ia=!1,g9=typeof WeakSet=="function"?WeakSet:Set,fr=null;function Bd(m,x){var R=m.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(X){Hs(m,x,X)}else R.current=null}function Tg(m,x,R){try{R()}catch(X){Hs(m,x,X)}}var nb=!1;function y9(m,x){if(Ou=Za,m=zs(),to(m)){if("selectionStart"in m)var R={start:m.selectionStart,end:m.selectionEnd};else e:{R=(R=m.ownerDocument)&&R.defaultView||window;var X=R.getSelection&&R.getSelection();if(X&&X.rangeCount!==0){R=X.anchorNode;var te=X.anchorOffset,ae=X.focusNode;X=X.focusOffset;try{R.nodeType,ae.nodeType}catch{R=null;break e}var be=0,Me=-1,Ve=-1,nt=0,Rt=0,Ot=m,It=null;t:for(;;){for(var ar;Ot!==R||te!==0&&Ot.nodeType!==3||(Me=be+te),Ot!==ae||X!==0&&Ot.nodeType!==3||(Ve=be+X),Ot.nodeType===3&&(be+=Ot.nodeValue.length),(ar=Ot.firstChild)!==null;)It=Ot,Ot=ar;for(;;){if(Ot===m)break t;if(It===R&&++nt===te&&(Me=be),It===ae&&++Rt===X&&(Ve=be),(ar=Ot.nextSibling)!==null)break;Ot=It,It=Ot.parentNode}Ot=ar}R=Me===-1||Ve===-1?null:{start:Me,end:Ve}}else R=null}R=R||{start:0,end:0}}else R=null;for(tc={focusedElem:m,selectionRange:R},Za=!1,fr=x;fr!==null;)if(x=fr,m=x.child,(x.subtreeFlags&1028)!==0&&m!==null)m.return=x,fr=m;else for(;fr!==null;){x=fr;try{var yr=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(yr!==null){var xr=yr.memoizedProps,ti=yr.memoizedState,Ye=x.stateNode,qe=Ye.getSnapshotBeforeUpdate(x.elementType===x.type?xr:Go(x.type,xr),ti);Ye.__reactInternalSnapshotBeforeUpdate=qe}break;case 3:var tt=x.stateNode.containerInfo;tt.nodeType===1?tt.textContent="":tt.nodeType===9&&tt.documentElement&&tt.removeChild(tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch($t){Hs(x,x.return,$t)}if(m=x.sibling,m!==null){m.return=x.return,fr=m;break}fr=x.return}return yr=nb,nb=!1,yr}function cf(m,x,R){var X=x.updateQueue;if(X=X!==null?X.lastEffect:null,X!==null){var te=X=X.next;do{if((te.tag&m)===m){var ae=te.destroy;te.destroy=void 0,ae!==void 0&&Tg(x,R,ae)}te=te.next}while(te!==X)}}function Op(m,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var R=x=x.next;do{if((R.tag&m)===m){var X=R.create;R.destroy=X()}R=R.next}while(R!==x)}}function jg(m){var x=m.ref;if(x!==null){var R=m.stateNode;switch(m.tag){case 5:m=R;break;default:m=R}typeof x=="function"?x(m):x.current=m}}function sb(m){var x=m.alternate;x!==null&&(m.alternate=null,sb(x)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(x=m.stateNode,x!==null&&(delete x[Co],delete x[Fc],delete x[ea],delete x[pg],delete x[mg])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function ib(m){return m.tag===5||m.tag===3||m.tag===4}function ab(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||ib(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Ig(m,x,R){var X=m.tag;if(X===5||X===6)m=m.stateNode,x?R.nodeType===8?R.parentNode.insertBefore(m,x):R.insertBefore(m,x):(R.nodeType===8?(x=R.parentNode,x.insertBefore(m,R)):(x=R,x.appendChild(m)),R=R._reactRootContainer,R!=null||x.onclick!==null||(x.onclick=Dc));else if(X!==4&&(m=m.child,m!==null))for(Ig(m,x,R),m=m.sibling;m!==null;)Ig(m,x,R),m=m.sibling}function Pg(m,x,R){var X=m.tag;if(X===5||X===6)m=m.stateNode,x?R.insertBefore(m,x):R.appendChild(m);else if(X!==4&&(m=m.child,m!==null))for(Pg(m,x,R),m=m.sibling;m!==null;)Pg(m,x,R),m=m.sibling}var $i=null,Ko=!1;function Hc(m,x,R){for(R=R.child;R!==null;)ob(m,x,R),R=R.sibling}function ob(m,x,R){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Pr,R)}catch{}switch(R.tag){case 5:ia||Bd(R,x);case 6:var X=$i,te=Ko;$i=null,Hc(m,x,R),$i=X,Ko=te,$i!==null&&(Ko?(m=$i,R=R.stateNode,m.nodeType===8?m.parentNode.removeChild(R):m.removeChild(R)):$i.removeChild(R.stateNode));break;case 18:$i!==null&&(Ko?(m=$i,R=R.stateNode,m.nodeType===8?Jh(m.parentNode,R):m.nodeType===1&&Jh(m,R),go(m)):Jh($i,R.stateNode));break;case 4:X=$i,te=Ko,$i=R.stateNode.containerInfo,Ko=!0,Hc(m,x,R),$i=X,Ko=te;break;case 0:case 11:case 14:case 15:if(!ia&&(X=R.updateQueue,X!==null&&(X=X.lastEffect,X!==null))){te=X=X.next;do{var ae=te,be=ae.destroy;ae=ae.tag,be!==void 0&&((ae&2)!==0||(ae&4)!==0)&&Tg(R,x,be),te=te.next}while(te!==X)}Hc(m,x,R);break;case 1:if(!ia&&(Bd(R,x),X=R.stateNode,typeof X.componentWillUnmount=="function"))try{X.props=R.memoizedProps,X.state=R.memoizedState,X.componentWillUnmount()}catch(Me){Hs(R,x,Me)}Hc(m,x,R);break;case 21:Hc(m,x,R);break;case 22:R.mode&1?(ia=(X=ia)||R.memoizedState!==null,Hc(m,x,R),ia=X):Hc(m,x,R);break;default:Hc(m,x,R)}}function lb(m){var x=m.updateQueue;if(x!==null){m.updateQueue=null;var R=m.stateNode;R===null&&(R=m.stateNode=new g9),x.forEach(function(X){var te=k9.bind(null,m,X);R.has(X)||(R.add(X),X.then(te,te))})}}function Xo(m,x){var R=x.deletions;if(R!==null)for(var X=0;X<R.length;X++){var te=R[X];try{var ae=m,be=x,Me=be;e:for(;Me!==null;){switch(Me.tag){case 5:$i=Me.stateNode,Ko=!1;break e;case 3:$i=Me.stateNode.containerInfo,Ko=!0;break e;case 4:$i=Me.stateNode.containerInfo,Ko=!0;break e}Me=Me.return}if($i===null)throw Error(e(160));ob(ae,be,te),$i=null,Ko=!1;var Ve=te.alternate;Ve!==null&&(Ve.return=null),te.return=null}catch(nt){Hs(te,x,nt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)cb(x,m),x=x.sibling}function cb(m,x){var R=m.alternate,X=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Xo(x,m),Sl(m),X&4){try{cf(3,m,m.return),Op(3,m)}catch(xr){Hs(m,m.return,xr)}try{cf(5,m,m.return)}catch(xr){Hs(m,m.return,xr)}}break;case 1:Xo(x,m),Sl(m),X&512&&R!==null&&Bd(R,R.return);break;case 5:if(Xo(x,m),Sl(m),X&512&&R!==null&&Bd(R,R.return),m.flags&32){var te=m.stateNode;try{lt(te,"")}catch(xr){Hs(m,m.return,xr)}}if(X&4&&(te=m.stateNode,te!=null)){var ae=m.memoizedProps,be=R!==null?R.memoizedProps:ae,Me=m.type,Ve=m.updateQueue;if(m.updateQueue=null,Ve!==null)try{Me==="input"&&ae.type==="radio"&&ae.name!=null&&he(te,ae),dt(Me,be);var nt=dt(Me,ae);for(be=0;be<Ve.length;be+=2){var Rt=Ve[be],Ot=Ve[be+1];Rt==="style"?st(te,Ot):Rt==="dangerouslySetInnerHTML"?Je(te,Ot):Rt==="children"?lt(te,Ot):_(te,Rt,Ot,nt)}switch(Me){case"input":fe(te,ae);break;case"textarea":Se(te,ae);break;case"select":var It=te._wrapperState.wasMultiple;te._wrapperState.wasMultiple=!!ae.multiple;var ar=ae.value;ar!=null?Ie(te,!!ae.multiple,ar,!1):It!==!!ae.multiple&&(ae.defaultValue!=null?Ie(te,!!ae.multiple,ae.defaultValue,!0):Ie(te,!!ae.multiple,ae.multiple?[]:"",!1))}te[Fc]=ae}catch(xr){Hs(m,m.return,xr)}}break;case 6:if(Xo(x,m),Sl(m),X&4){if(m.stateNode===null)throw Error(e(162));te=m.stateNode,ae=m.memoizedProps;try{te.nodeValue=ae}catch(xr){Hs(m,m.return,xr)}}break;case 3:if(Xo(x,m),Sl(m),X&4&&R!==null&&R.memoizedState.isDehydrated)try{go(x.containerInfo)}catch(xr){Hs(m,m.return,xr)}break;case 4:Xo(x,m),Sl(m);break;case 13:Xo(x,m),Sl(m),te=m.child,te.flags&8192&&(ae=te.memoizedState!==null,te.stateNode.isHidden=ae,!ae||te.alternate!==null&&te.alternate.memoizedState!==null||(Og=$e())),X&4&&lb(m);break;case 22:if(Rt=R!==null&&R.memoizedState!==null,m.mode&1?(ia=(nt=ia)||Rt,Xo(x,m),ia=nt):Xo(x,m),Sl(m),X&8192){if(nt=m.memoizedState!==null,(m.stateNode.isHidden=nt)&&!Rt&&(m.mode&1)!==0)for(fr=m,Rt=m.child;Rt!==null;){for(Ot=fr=Rt;fr!==null;){switch(It=fr,ar=It.child,It.tag){case 0:case 11:case 14:case 15:cf(4,It,It.return);break;case 1:Bd(It,It.return);var yr=It.stateNode;if(typeof yr.componentWillUnmount=="function"){X=It,R=It.return;try{x=X,yr.props=x.memoizedProps,yr.state=x.memoizedState,yr.componentWillUnmount()}catch(xr){Hs(X,R,xr)}}break;case 5:Bd(It,It.return);break;case 22:if(It.memoizedState!==null){hb(Ot);continue}}ar!==null?(ar.return=It,fr=ar):hb(Ot)}Rt=Rt.sibling}e:for(Rt=null,Ot=m;;){if(Ot.tag===5){if(Rt===null){Rt=Ot;try{te=Ot.stateNode,nt?(ae=te.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none"):(Me=Ot.stateNode,Ve=Ot.memoizedProps.style,be=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null,Me.style.display=ft("display",be))}catch(xr){Hs(m,m.return,xr)}}}else if(Ot.tag===6){if(Rt===null)try{Ot.stateNode.nodeValue=nt?"":Ot.memoizedProps}catch(xr){Hs(m,m.return,xr)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===m)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===m)break e;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===m)break e;Rt===Ot&&(Rt=null),Ot=Ot.return}Rt===Ot&&(Rt=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}break;case 19:Xo(x,m),Sl(m),X&4&&lb(m);break;case 21:break;default:Xo(x,m),Sl(m)}}function Sl(m){var x=m.flags;if(x&2){try{e:{for(var R=m.return;R!==null;){if(ib(R)){var X=R;break e}R=R.return}throw Error(e(160))}switch(X.tag){case 5:var te=X.stateNode;X.flags&32&&(lt(te,""),X.flags&=-33);var ae=ab(m);Pg(m,ae,te);break;case 3:case 4:var be=X.stateNode.containerInfo,Me=ab(m);Ig(m,Me,be);break;default:throw Error(e(161))}}catch(Ve){Hs(m,m.return,Ve)}m.flags&=-3}x&4096&&(m.flags&=-4097)}function v9(m,x,R){fr=m,ub(m)}function ub(m,x,R){for(var X=(m.mode&1)!==0;fr!==null;){var te=fr,ae=te.child;if(te.tag===22&&X){var be=te.memoizedState!==null||Mp;if(!be){var Me=te.alternate,Ve=Me!==null&&Me.memoizedState!==null||ia;Me=Mp;var nt=ia;if(Mp=be,(ia=Ve)&&!nt)for(fr=te;fr!==null;)be=fr,Ve=be.child,be.tag===22&&be.memoizedState!==null?fb(te):Ve!==null?(Ve.return=be,fr=Ve):fb(te);for(;ae!==null;)fr=ae,ub(ae),ae=ae.sibling;fr=te,Mp=Me,ia=nt}db(m)}else(te.subtreeFlags&8772)!==0&&ae!==null?(ae.return=te,fr=ae):db(m)}}function db(m){for(;fr!==null;){var x=fr;if((x.flags&8772)!==0){var R=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ia||Op(5,x);break;case 1:var X=x.stateNode;if(x.flags&4&&!ia)if(R===null)X.componentDidMount();else{var te=x.elementType===x.type?R.memoizedProps:Go(x.type,R.memoizedProps);X.componentDidUpdate(te,R.memoizedState,X.__reactInternalSnapshotBeforeUpdate)}var ae=x.updateQueue;ae!==null&&Ba(x,ae,X);break;case 3:var be=x.updateQueue;if(be!==null){if(R=null,x.child!==null)switch(x.child.tag){case 5:R=x.child.stateNode;break;case 1:R=x.child.stateNode}Ba(x,be,R)}break;case 5:var Me=x.stateNode;if(R===null&&x.flags&4){R=Me;var Ve=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ve.autoFocus&&R.focus();break;case"img":Ve.src&&(R.src=Ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var nt=x.alternate;if(nt!==null){var Rt=nt.memoizedState;if(Rt!==null){var Ot=Rt.dehydrated;Ot!==null&&go(Ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ia||x.flags&512&&jg(x)}catch(It){Hs(x,x.return,It)}}if(x===m){fr=null;break}if(R=x.sibling,R!==null){R.return=x.return,fr=R;break}fr=x.return}}function hb(m){for(;fr!==null;){var x=fr;if(x===m){fr=null;break}var R=x.sibling;if(R!==null){R.return=x.return,fr=R;break}fr=x.return}}function fb(m){for(;fr!==null;){var x=fr;try{switch(x.tag){case 0:case 11:case 15:var R=x.return;try{Op(4,x)}catch(Ve){Hs(x,R,Ve)}break;case 1:var X=x.stateNode;if(typeof X.componentDidMount=="function"){var te=x.return;try{X.componentDidMount()}catch(Ve){Hs(x,te,Ve)}}var ae=x.return;try{jg(x)}catch(Ve){Hs(x,ae,Ve)}break;case 5:var be=x.return;try{jg(x)}catch(Ve){Hs(x,be,Ve)}}}catch(Ve){Hs(x,x.return,Ve)}if(x===m){fr=null;break}var Me=x.sibling;if(Me!==null){Me.return=x.return,fr=Me;break}fr=x.return}}var b9=Math.ceil,Lp=T.ReactCurrentDispatcher,Rg=T.ReactCurrentOwner,To=T.ReactCurrentBatchConfig,On=0,Oi=null,gi=null,qi=0,oo=0,Vd=ro(0),Ni=0,uf=null,zu=0,Dp=0,Mg=0,df=null,za=null,Og=0,zd=1/0,oc=null,Fp=!1,Lg=null,Wc=null,Bp=!1,Gc=null,Vp=0,hf=0,Dg=null,zp=-1,Up=0;function Na(){return(On&6)!==0?$e():zp!==-1?zp:zp=$e()}function Kc(m){return(m.mode&1)===0?1:(On&2)!==0&&qi!==0?qi&-qi:Ts.transition!==null?(Up===0&&(Up=ln()),Up):(m=Or,m!==0||(m=window.event,m=m===void 0?16:Qa(m.type)),m)}function Yo(m,x,R,X){if(50<hf)throw hf=0,Dg=null,Error(e(185));ci(m,R,X),((On&2)===0||m!==Oi)&&(m===Oi&&((On&2)===0&&(Dp|=R),Ni===4&&Xc(m,qi)),Ua(m,X),R===1&&On===0&&(x.mode&1)===0&&(zd=$e()+500,Du&&le()))}function Ua(m,x){var R=m.callbackNode;An(m,x);var X=Ls(m,m===Oi?qi:0);if(X===0)R!==null&&In(R),m.callbackNode=null,m.callbackPriority=0;else if(x=X&-X,m.callbackPriority!==x){if(R!=null&&In(R),x===1)m.tag===0?re(mb.bind(null,m)):Y(mb.bind(null,m)),hg(function(){(On&6)===0&&le()}),R=null;else{switch(cs(X)){case 1:R=Nt;break;case 4:R=Gt;break;case 16:R=Pt;break;case 536870912:R=Gr;break;default:R=Pt}R=Sb(R,pb.bind(null,m))}m.callbackPriority=x,m.callbackNode=R}}function pb(m,x){if(zp=-1,Up=0,(On&6)!==0)throw Error(e(327));var R=m.callbackNode;if(Ud()&&m.callbackNode!==R)return null;var X=Ls(m,m===Oi?qi:0);if(X===0)return null;if((X&30)!==0||(X&m.expiredLanes)!==0||x)x=$p(m,X);else{x=X;var te=On;On|=2;var ae=yb();(Oi!==m||qi!==x)&&(oc=null,zd=$e()+500,$u(m,x));do try{_9();break}catch(Me){gb(m,Me)}while(!0);Rn(),Lp.current=ae,On=te,gi!==null?x=0:(Oi=null,qi=0,x=Ni)}if(x!==0){if(x===2&&(te=Ds(m),te!==0&&(X=te,x=Fg(m,te))),x===1)throw R=uf,$u(m,0),Xc(m,X),Ua(m,$e()),R;if(x===6)Xc(m,X);else{if(te=m.current.alternate,(X&30)===0&&!w9(te)&&(x=$p(m,X),x===2&&(ae=Ds(m),ae!==0&&(X=ae,x=Fg(m,ae))),x===1))throw R=uf,$u(m,0),Xc(m,X),Ua(m,$e()),R;switch(m.finishedWork=te,m.finishedLanes=X,x){case 0:case 1:throw Error(e(345));case 2:qu(m,za,oc);break;case 3:if(Xc(m,X),(X&130023424)===X&&(x=Og+500-$e(),10<x)){if(Ls(m,0)!==0)break;if(te=m.suspendedLanes,(te&X)!==X){Na(),m.pingedLanes|=m.suspendedLanes&te;break}m.timeoutHandle=Qh(qu.bind(null,m,za,oc),x);break}qu(m,za,oc);break;case 4:if(Xc(m,X),(X&4194240)===X)break;for(x=m.eventTimes,te=-1;0<X;){var be=31-Rr(X);ae=1<<be,be=x[be],be>te&&(te=be),X&=~ae}if(X=te,X=$e()-X,X=(120>X?120:480>X?480:1080>X?1080:1920>X?1920:3e3>X?3e3:4320>X?4320:1960*b9(X/1960))-X,10<X){m.timeoutHandle=Qh(qu.bind(null,m,za,oc),X);break}qu(m,za,oc);break;case 5:qu(m,za,oc);break;default:throw Error(e(329))}}}return Ua(m,$e()),m.callbackNode===R?pb.bind(null,m):null}function Fg(m,x){var R=df;return m.current.memoizedState.isDehydrated&&($u(m,x).flags|=256),m=$p(m,x),m!==2&&(x=za,za=R,x!==null&&Bg(x)),m}function Bg(m){za===null?za=m:za.push.apply(za,m)}function w9(m){for(var x=m;;){if(x.flags&16384){var R=x.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var X=0;X<R.length;X++){var te=R[X],ae=te.getSnapshot;te=te.value;try{if(!ws(ae(),te))return!1}catch{return!1}}}if(R=x.child,x.subtreeFlags&16384&&R!==null)R.return=x,x=R;else{if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Xc(m,x){for(x&=~Mg,x&=~Dp,m.suspendedLanes|=x,m.pingedLanes&=~x,m=m.expirationTimes;0<x;){var R=31-Rr(x),X=1<<R;m[R]=-1,x&=~X}}function mb(m){if((On&6)!==0)throw Error(e(327));Ud();var x=Ls(m,0);if((x&1)===0)return Ua(m,$e()),null;var R=$p(m,x);if(m.tag!==0&&R===2){var X=Ds(m);X!==0&&(x=X,R=Fg(m,X))}if(R===1)throw R=uf,$u(m,0),Xc(m,x),Ua(m,$e()),R;if(R===6)throw Error(e(345));return m.finishedWork=m.current.alternate,m.finishedLanes=x,qu(m,za,oc),Ua(m,$e()),null}function Vg(m,x){var R=On;On|=1;try{return m(x)}finally{On=R,On===0&&(zd=$e()+500,Du&&le())}}function Uu(m){Gc!==null&&Gc.tag===0&&(On&6)===0&&Ud();var x=On;On|=1;var R=To.transition,X=Or;try{if(To.transition=null,Or=1,m)return m()}finally{Or=X,To.transition=R,On=x,(On&6)===0&&le()}}function zg(){oo=Vd.current,Bn(Vd)}function $u(m,x){m.finishedWork=null,m.finishedLanes=0;var R=m.timeoutHandle;if(R!==-1&&(m.timeoutHandle=-1,xp(R)),gi!==null)for(R=gi.return;R!==null;){var X=R;switch(Qe(X),X.tag){case 1:X=X.type.childContextTypes,X!=null&&Ad();break;case 3:ko(),Bn(ta),Bn(_i),sf();break;case 5:rf(X);break;case 4:ko();break;case 13:Bn(us);break;case 19:Bn(us);break;case 10:fs(X.type._context);break;case 22:case 23:zg()}R=R.return}if(Oi=m,gi=m=Yc(m.current,null),qi=oo=x,Ni=0,uf=null,Mg=Dp=zu=0,za=df=null,Xn!==null){for(x=0;x<Xn.length;x++)if(R=Xn[x],X=R.interleaved,X!==null){R.interleaved=null;var te=X.next,ae=R.pending;if(ae!==null){var be=ae.next;ae.next=te,X.next=be}R.pending=X}Xn=null}return m}function gb(m,x){do{var R=gi;try{if(Rn(),Td.current=jp,Uc){for(var X=ps.memoizedState;X!==null;){var te=X.queue;te!==null&&(te.pending=null),X=X.next}Uc=!1}if(Eo=0,Rs=qs=ps=null,Ho=!1,$c=0,Rg.current=null,R===null||R.return===null){Ni=1,uf=x,gi=null;break}e:{var ae=m,be=R.return,Me=R,Ve=x;if(x=qi,Me.flags|=32768,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var nt=Ve,Rt=Me,Ot=Rt.tag;if((Rt.mode&1)===0&&(Ot===0||Ot===11||Ot===15)){var It=Rt.alternate;It?(Rt.updateQueue=It.updateQueue,Rt.memoizedState=It.memoizedState,Rt.lanes=It.lanes):(Rt.updateQueue=null,Rt.memoizedState=null)}var ar=zv(be);if(ar!==null){ar.flags&=-257,Uv(ar,be,Me,ae,x),ar.mode&1&&Vv(ae,nt,x),x=ar,Ve=nt;var yr=x.updateQueue;if(yr===null){var xr=new Set;xr.add(Ve),x.updateQueue=xr}else yr.add(Ve);break e}else{if((x&1)===0){Vv(ae,nt,x),Ug();break e}Ve=Error(e(426))}}else if(gt&&Me.mode&1){var ti=zv(be);if(ti!==null){(ti.flags&65536)===0&&(ti.flags|=256),Uv(ti,be,Me,ae,x),Ht(Fd(Ve,Me));break e}}ae=Ve=Fd(Ve,Me),Ni!==4&&(Ni=2),df===null?df=[ae]:df.push(ae),ae=be;do{switch(ae.tag){case 3:ae.flags|=65536,x&=-x,ae.lanes|=x;var Ye=Fv(ae,Ve,x);Zn(ae,Ye);break e;case 1:Me=Ve;var qe=ae.type,tt=ae.stateNode;if((ae.flags&128)===0&&(typeof qe.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(Wc===null||!Wc.has(tt)))){ae.flags|=65536,x&=-x,ae.lanes|=x;var $t=Bv(ae,Me,x);Zn(ae,$t);break e}}ae=ae.return}while(ae!==null)}bb(R)}catch(Er){x=Er,gi===R&&R!==null&&(gi=R=R.return);continue}break}while(!0)}function yb(){var m=Lp.current;return Lp.current=jp,m===null?jp:m}function Ug(){(Ni===0||Ni===3||Ni===2)&&(Ni=4),Oi===null||(zu&268435455)===0&&(Dp&268435455)===0||Xc(Oi,qi)}function $p(m,x){var R=On;On|=2;var X=yb();(Oi!==m||qi!==x)&&(oc=null,$u(m,x));do try{x9();break}catch(te){gb(m,te)}while(!0);if(Rn(),On=R,Lp.current=X,gi!==null)throw Error(e(261));return Oi=null,qi=0,Ni}function x9(){for(;gi!==null;)vb(gi)}function _9(){for(;gi!==null&&!Wn();)vb(gi)}function vb(m){var x=_b(m.alternate,m,oo);m.memoizedProps=m.pendingProps,x===null?bb(m):gi=x,Rg.current=null}function bb(m){var x=m;do{var R=x.alternate;if(m=x.return,(x.flags&32768)===0){if(R=p9(R,x,oo),R!==null){gi=R;return}}else{if(R=m9(R,x),R!==null){R.flags&=32767,gi=R;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Ni=6,gi=null;return}}if(x=x.sibling,x!==null){gi=x;return}gi=x=m}while(x!==null);Ni===0&&(Ni=5)}function qu(m,x,R){var X=Or,te=To.transition;try{To.transition=null,Or=1,S9(m,x,R,X)}finally{To.transition=te,Or=X}return null}function S9(m,x,R,X){do Ud();while(Gc!==null);if((On&6)!==0)throw Error(e(327));R=m.finishedWork;var te=m.finishedLanes;if(R===null)return null;if(m.finishedWork=null,m.finishedLanes=0,R===m.current)throw Error(e(177));m.callbackNode=null,m.callbackPriority=0;var ae=R.lanes|R.childLanes;if(Fs(m,ae),m===Oi&&(gi=Oi=null,qi=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||Bp||(Bp=!0,Sb(Pt,function(){return Ud(),null})),ae=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||ae){ae=To.transition,To.transition=null;var be=Or;Or=1;var Me=On;On|=4,Rg.current=null,y9(m,R),cb(R,m),Eu(tc),Za=!!Ou,tc=Ou=null,m.current=R,v9(R),Ae(),On=Me,Or=be,To.transition=ae}else m.current=R;if(Bp&&(Bp=!1,Gc=m,Vp=te),ae=m.pendingLanes,ae===0&&(Wc=null),wr(R.stateNode),Ua(m,$e()),x!==null)for(X=m.onRecoverableError,R=0;R<x.length;R++)te=x[R],X(te.value,{componentStack:te.stack,digest:te.digest});if(Fp)throw Fp=!1,m=Lg,Lg=null,m;return(Vp&1)!==0&&m.tag!==0&&Ud(),ae=m.pendingLanes,(ae&1)!==0?m===Dg?hf++:(hf=0,Dg=m):hf=0,le(),null}function Ud(){if(Gc!==null){var m=cs(Vp),x=To.transition,R=Or;try{if(To.transition=null,Or=16>m?16:m,Gc===null)var X=!1;else{if(m=Gc,Gc=null,Vp=0,(On&6)!==0)throw Error(e(331));var te=On;for(On|=4,fr=m.current;fr!==null;){var ae=fr,be=ae.child;if((fr.flags&16)!==0){var Me=ae.deletions;if(Me!==null){for(var Ve=0;Ve<Me.length;Ve++){var nt=Me[Ve];for(fr=nt;fr!==null;){var Rt=fr;switch(Rt.tag){case 0:case 11:case 15:cf(8,Rt,ae)}var Ot=Rt.child;if(Ot!==null)Ot.return=Rt,fr=Ot;else for(;fr!==null;){Rt=fr;var It=Rt.sibling,ar=Rt.return;if(sb(Rt),Rt===nt){fr=null;break}if(It!==null){It.return=ar,fr=It;break}fr=ar}}}var yr=ae.alternate;if(yr!==null){var xr=yr.child;if(xr!==null){yr.child=null;do{var ti=xr.sibling;xr.sibling=null,xr=ti}while(xr!==null)}}fr=ae}}if((ae.subtreeFlags&2064)!==0&&be!==null)be.return=ae,fr=be;else e:for(;fr!==null;){if(ae=fr,(ae.flags&2048)!==0)switch(ae.tag){case 0:case 11:case 15:cf(9,ae,ae.return)}var Ye=ae.sibling;if(Ye!==null){Ye.return=ae.return,fr=Ye;break e}fr=ae.return}}var qe=m.current;for(fr=qe;fr!==null;){be=fr;var tt=be.child;if((be.subtreeFlags&2064)!==0&&tt!==null)tt.return=be,fr=tt;else e:for(be=qe;fr!==null;){if(Me=fr,(Me.flags&2048)!==0)try{switch(Me.tag){case 0:case 11:case 15:Op(9,Me)}}catch(Er){Hs(Me,Me.return,Er)}if(Me===be){fr=null;break e}var $t=Me.sibling;if($t!==null){$t.return=Me.return,fr=$t;break e}fr=Me.return}}if(On=te,le(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Pr,m)}catch{}X=!0}return X}finally{Or=R,To.transition=x}}return!1}function wb(m,x,R){x=Fd(R,x),x=Fv(m,x,1),m=Is(m,x,1),x=Na(),m!==null&&(ci(m,1,x),Ua(m,x))}function Hs(m,x,R){if(m.tag===3)wb(m,m,R);else for(;x!==null;){if(x.tag===3){wb(x,m,R);break}else if(x.tag===1){var X=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof X.componentDidCatch=="function"&&(Wc===null||!Wc.has(X))){m=Fd(R,m),m=Bv(x,m,1),x=Is(x,m,1),m=Na(),x!==null&&(ci(x,1,m),Ua(x,m));break}}x=x.return}}function N9(m,x,R){var X=m.pingCache;X!==null&&X.delete(x),x=Na(),m.pingedLanes|=m.suspendedLanes&R,Oi===m&&(qi&R)===R&&(Ni===4||Ni===3&&(qi&130023424)===qi&&500>$e()-Og?$u(m,0):Mg|=R),Ua(m,x)}function xb(m,x){x===0&&((m.mode&1)===0?x=1:(x=kn,kn<<=1,(kn&130023424)===0&&(kn=4194304)));var R=Na();m=Yn(m,x),m!==null&&(ci(m,x,R),Ua(m,R))}function C9(m){var x=m.memoizedState,R=0;x!==null&&(R=x.retryLane),xb(m,R)}function k9(m,x){var R=0;switch(m.tag){case 13:var X=m.stateNode,te=m.memoizedState;te!==null&&(R=te.retryLane);break;case 19:X=m.stateNode;break;default:throw Error(e(314))}X!==null&&X.delete(x),xb(m,R)}var _b;_b=function(m,x,R){if(m!==null)if(m.memoizedProps!==x.pendingProps||ta.current)Va=!0;else{if((m.lanes&R)===0&&(x.flags&128)===0)return Va=!1,f9(m,x,R);Va=(m.flags&131072)!==0}else Va=!1,gt&&(x.flags&1048576)!==0&&Ke(x,_e,x.index);switch(x.lanes=0,x.tag){case 2:var X=x.type;Rp(m,x),m=x.pendingProps;var te=Vc(x,_i.current);Ss(x,R),te=Fu(null,x,X,m,te,R);var ae=Ao();return x.flags|=1,typeof te=="object"&&te!==null&&typeof te.render=="function"&&te.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,ra(X)?(ae=!0,sc(x)):ae=!1,x.memoizedState=te.state!==null&&te.state!==void 0?te.state:null,Si(x),te.updater=Ip,x.stateNode=te,te._reactInternals=x,bg(x,X,m,R),x=Sg(null,x,X,!0,ae,R)):(x.tag=0,gt&&ae&&ct(x),Sa(null,x,te,R),x=x.child),x;case 16:X=x.elementType;e:{switch(Rp(m,x),m=x.pendingProps,te=X._init,X=te(X._payload),x.type=X,te=x.tag=A9(X),m=Go(X,m),te){case 0:x=_g(null,x,X,m,R);break e;case 1:x=Kv(null,x,X,m,R);break e;case 11:x=$v(null,x,X,m,R);break e;case 14:x=qv(null,x,X,Go(X.type,m),R);break e}throw Error(e(306,X,""))}return x;case 0:return X=x.type,te=x.pendingProps,te=x.elementType===X?te:Go(X,te),_g(m,x,X,te,R);case 1:return X=x.type,te=x.pendingProps,te=x.elementType===X?te:Go(X,te),Kv(m,x,X,te,R);case 3:e:{if(Xv(x),m===null)throw Error(e(387));X=x.pendingProps,ae=x.memoizedState,te=ae.element,na(m,x),Mi(x,X,null,R);var be=x.memoizedState;if(X=be.element,ae.isDehydrated)if(ae={element:X,isDehydrated:!1,cache:be.cache,pendingSuspenseBoundaries:be.pendingSuspenseBoundaries,transitions:be.transitions},x.updateQueue.baseState=ae,x.memoizedState=ae,x.flags&256){te=Fd(Error(e(423)),x),x=Yv(m,x,X,R,te);break e}else if(X!==te){te=Fd(Error(e(424)),x),x=Yv(m,x,X,R,te);break e}else for(ot=Ui(x.stateNode.containerInfo.firstChild),it=x,gt=!0,vt=null,R=gs(x,null,X,R),x.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(cr(),X===te){x=ac(m,x,R);break e}Sa(m,x,X,R)}x=x.child}return x;case 5:return Cp(x),m===null&&pr(x),X=x.type,te=x.pendingProps,ae=m!==null?m.memoizedProps:null,be=te.children,Zh(X,te)?be=null:ae!==null&&Zh(X,ae)&&(x.flags|=32),Gv(m,x),Sa(m,x,be,R),x.child;case 6:return m===null&&pr(x),null;case 13:return Zv(m,x,R);case 4:return zc(x,x.stateNode.containerInfo),X=x.pendingProps,m===null?x.child=Us(x,null,X,R):Sa(m,x,X,R),x.child;case 11:return X=x.type,te=x.pendingProps,te=x.elementType===X?te:Go(X,te),$v(m,x,X,te,R);case 7:return Sa(m,x,x.pendingProps,R),x.child;case 8:return Sa(m,x,x.pendingProps.children,R),x.child;case 12:return Sa(m,x,x.pendingProps.children,R),x.child;case 10:e:{if(X=x.type._context,te=x.pendingProps,ae=x.memoizedProps,be=te.value,Un(Js,X._currentValue),X._currentValue=be,ae!==null)if(ws(ae.value,be)){if(ae.children===te.children&&!ta.current){x=ac(m,x,R);break e}}else for(ae=x.child,ae!==null&&(ae.return=x);ae!==null;){var Me=ae.dependencies;if(Me!==null){be=ae.child;for(var Ve=Me.firstContext;Ve!==null;){if(Ve.context===X){if(ae.tag===1){Ve=js(-1,R&-R),Ve.tag=2;var nt=ae.updateQueue;if(nt!==null){nt=nt.shared;var Rt=nt.pending;Rt===null?Ve.next=Ve:(Ve.next=Rt.next,Rt.next=Ve),nt.pending=Ve}}ae.lanes|=R,Ve=ae.alternate,Ve!==null&&(Ve.lanes|=R),Mn(ae.return,R,x),Me.lanes|=R;break}Ve=Ve.next}}else if(ae.tag===10)be=ae.type===x.type?null:ae.child;else if(ae.tag===18){if(be=ae.return,be===null)throw Error(e(341));be.lanes|=R,Me=be.alternate,Me!==null&&(Me.lanes|=R),Mn(be,R,x),be=ae.sibling}else be=ae.child;if(be!==null)be.return=ae;else for(be=ae;be!==null;){if(be===x){be=null;break}if(ae=be.sibling,ae!==null){ae.return=be.return,be=ae;break}be=be.return}ae=be}Sa(m,x,te.children,R),x=x.child}return x;case 9:return te=x.type,X=x.pendingProps.children,Ss(x,R),te=Ns(te),X=X(te),x.flags|=1,Sa(m,x,X,R),x.child;case 14:return X=x.type,te=Go(X,x.pendingProps),te=Go(X.type,te),qv(m,x,X,te,R);case 15:return Hv(m,x,x.type,x.pendingProps,R);case 17:return X=x.type,te=x.pendingProps,te=x.elementType===X?te:Go(X,te),Rp(m,x),x.tag=1,ra(X)?(m=!0,sc(x)):m=!1,Ss(x,R),Lv(x,X,te),bg(x,X,te,R),Sg(null,x,X,!0,m,R);case 19:return Jv(m,x,R);case 22:return Wv(m,x,R)}throw Error(e(156,x.tag))};function Sb(m,x){return Ln(m,x)}function E9(m,x,R,X){this.tag=m,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jo(m,x,R,X){return new E9(m,x,R,X)}function $g(m){return m=m.prototype,!(!m||!m.isReactComponent)}function A9(m){if(typeof m=="function")return $g(m)?1:0;if(m!=null){if(m=m.$$typeof,m===I)return 11;if(m===A)return 14}return 2}function Yc(m,x){var R=m.alternate;return R===null?(R=jo(m.tag,x,m.key,m.mode),R.elementType=m.elementType,R.type=m.type,R.stateNode=m.stateNode,R.alternate=m,m.alternate=R):(R.pendingProps=x,R.type=m.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=m.flags&14680064,R.childLanes=m.childLanes,R.lanes=m.lanes,R.child=m.child,R.memoizedProps=m.memoizedProps,R.memoizedState=m.memoizedState,R.updateQueue=m.updateQueue,x=m.dependencies,R.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},R.sibling=m.sibling,R.index=m.index,R.ref=m.ref,R}function qp(m,x,R,X,te,ae){var be=2;if(X=m,typeof m=="function")$g(m)&&(be=1);else if(typeof m=="string")be=5;else e:switch(m){case $:return Hu(R.children,te,ae,x);case P:be=8,te|=8;break;case M:return m=jo(12,R,x,te|2),m.elementType=M,m.lanes=ae,m;case E:return m=jo(13,R,x,te),m.elementType=E,m.lanes=ae,m;case L:return m=jo(19,R,x,te),m.elementType=L,m.lanes=ae,m;case k:return Hp(R,te,ae,x);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case U:be=10;break e;case V:be=9;break e;case I:be=11;break e;case A:be=14;break e;case S:be=16,X=null;break e}throw Error(e(130,m==null?m:typeof m,""))}return x=jo(be,R,x,te),x.elementType=m,x.type=X,x.lanes=ae,x}function Hu(m,x,R,X){return m=jo(7,m,X,x),m.lanes=R,m}function Hp(m,x,R,X){return m=jo(22,m,X,x),m.elementType=k,m.lanes=R,m.stateNode={isHidden:!1},m}function qg(m,x,R){return m=jo(6,m,null,x),m.lanes=R,m}function Hg(m,x,R){return x=jo(4,m.children!==null?m.children:[],m.key,x),x.lanes=R,x.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},x}function T9(m,x,R,X,te){this.tag=x,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rn(0),this.expirationTimes=rn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.identifierPrefix=X,this.onRecoverableError=te,this.mutableSourceEagerHydrationData=null}function Wg(m,x,R,X,te,ae,be,Me,Ve){return m=new T9(m,x,R,Me,Ve),x===1?(x=1,ae===!0&&(x|=8)):x=0,ae=jo(3,null,null,x),m.current=ae,ae.stateNode=m,ae.memoizedState={element:X,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},Si(ae),m}function j9(m,x,R){var X=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:X==null?null:""+X,children:m,containerInfo:x,implementation:R}}function Nb(m){if(!m)return wl;m=m._reactInternals;e:{if(Wt(m)!==m||m.tag!==1)throw Error(e(170));var x=m;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(ra(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(e(171))}if(m.tag===1){var R=m.type;if(ra(R))return tf(m,R,x)}return x}function Cb(m,x,R,X,te,ae,be,Me,Ve){return m=Wg(R,X,!0,m,te,ae,be,Me,Ve),m.context=Nb(null),R=m.current,X=Na(),te=Kc(R),ae=js(X,te),ae.callback=x??null,Is(R,ae,te),m.current.lanes=te,ci(m,te,X),Ua(m,X),m}function Wp(m,x,R,X){var te=x.current,ae=Na(),be=Kc(te);return R=Nb(R),x.context===null?x.context=R:x.pendingContext=R,x=js(ae,be),x.payload={element:m},X=X===void 0?null:X,X!==null&&(x.callback=X),m=Is(te,x,be),m!==null&&(Yo(m,te,be,ae),Ri(m,te,be)),be}function Gp(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function kb(m,x){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var R=m.retryLane;m.retryLane=R!==0&&R<x?R:x}}function Gg(m,x){kb(m,x),(m=m.alternate)&&kb(m,x)}function I9(){return null}var Eb=typeof reportError=="function"?reportError:function(m){console.error(m)};function Kg(m){this._internalRoot=m}Kp.prototype.render=Kg.prototype.render=function(m){var x=this._internalRoot;if(x===null)throw Error(e(409));Wp(m,x,null,null)},Kp.prototype.unmount=Kg.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var x=m.containerInfo;Uu(function(){Wp(null,m,null,null)}),x[Ii]=null}};function Kp(m){this._internalRoot=m}Kp.prototype.unstable_scheduleHydration=function(m){if(m){var x=Xi();m={blockedOn:null,target:m,priority:x};for(var R=0;R<Vs.length&&x!==0&&x<Vs[R].priority;R++);Vs.splice(R,0,m),R===0&&ul(m)}};function Xg(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function Xp(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function P9(m,x,R,X,te){if(te){if(typeof X=="function"){var ae=X;X=function(){var nt=Gp(be);ae.call(nt)}}var be=Cb(x,X,m,0,null,!1,!1,"",Ab);return m._reactRootContainer=be,m[Ii]=be.current,Jl(m.nodeType===8?m.parentNode:m),Uu(),be}for(;te=m.lastChild;)m.removeChild(te);if(typeof X=="function"){var Me=X;X=function(){var nt=Gp(Ve);Me.call(nt)}}var Ve=Wg(m,0,!1,null,null,!1,!1,"",Ab);return m._reactRootContainer=Ve,m[Ii]=Ve.current,Jl(m.nodeType===8?m.parentNode:m),Uu(function(){Wp(x,Ve,R,X)}),Ve}function Yp(m,x,R,X,te){var ae=R._reactRootContainer;if(ae){var be=ae;if(typeof te=="function"){var Me=te;te=function(){var Ve=Gp(be);Me.call(Ve)}}Wp(x,be,m,te)}else be=P9(R,x,m,te,X);return Gp(be)}Bs=function(m){switch(m.tag){case 3:var x=m.stateNode;if(x.current.memoizedState.isDehydrated){var R=Hr(x.pendingLanes);R!==0&&(ma(x,R|1),Ua(x,$e()),(On&6)===0&&(zd=$e()+500,le()))}break;case 13:Uu(function(){var X=Yn(m,1);if(X!==null){var te=Na();Yo(X,m,1,te)}}),Gg(m,1)}},Ki=function(m){if(m.tag===13){var x=Yn(m,134217728);if(x!==null){var R=Na();Yo(x,m,134217728,R)}Gg(m,134217728)}},Ia=function(m){if(m.tag===13){var x=Kc(m),R=Yn(m,x);if(R!==null){var X=Na();Yo(R,m,x,X)}Gg(m,x)}},Xi=function(){return Or},ui=function(m,x){var R=Or;try{return Or=m,x()}finally{Or=R}},St=function(m,x,R){switch(x){case"input":if(fe(m,R),x=R.name,R.type==="radio"&&x!=null){for(R=m;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<R.length;x++){var X=R[x];if(X!==m&&X.form===m.form){var te=Lu(X);if(!te)throw Error(e(90));pe(X),fe(X,te)}}}break;case"textarea":Se(m,R);break;case"select":x=R.value,x!=null&&Ie(m,!!R.multiple,x,!1)}},jt=Vg,Zt=Uu;var R9={usingClientEntryPoint:!1,Events:[Bc,rc,Lu,sr,Dt,Vg]},ff={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M9={bundleType:ff.bundleType,version:ff.version,rendererPackageName:ff.rendererPackageName,rendererConfig:ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=pn(m),m===null?null:m.stateNode},findFiberByHostInstance:ff.findFiberByHostInstance||I9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Pr=Zp.inject(M9),Tr=Zp}catch{}}return $a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R9,$a.createPortal=function(m,x){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(x))throw Error(e(200));return j9(m,x,null,R)},$a.createRoot=function(m,x){if(!Xg(m))throw Error(e(299));var R=!1,X="",te=Eb;return x!=null&&(x.unstable_strictMode===!0&&(R=!0),x.identifierPrefix!==void 0&&(X=x.identifierPrefix),x.onRecoverableError!==void 0&&(te=x.onRecoverableError)),x=Wg(m,1,!1,null,null,R,!1,X,te),m[Ii]=x.current,Jl(m.nodeType===8?m.parentNode:m),new Kg(x)},$a.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var x=m._reactInternals;if(x===void 0)throw typeof m.render=="function"?Error(e(188)):(m=Object.keys(m).join(","),Error(e(268,m)));return m=pn(x),m=m===null?null:m.stateNode,m},$a.flushSync=function(m){return Uu(m)},$a.hydrate=function(m,x,R){if(!Xp(x))throw Error(e(200));return Yp(null,m,x,!0,R)},$a.hydrateRoot=function(m,x,R){if(!Xg(m))throw Error(e(405));var X=R!=null&&R.hydratedSources||null,te=!1,ae="",be=Eb;if(R!=null&&(R.unstable_strictMode===!0&&(te=!0),R.identifierPrefix!==void 0&&(ae=R.identifierPrefix),R.onRecoverableError!==void 0&&(be=R.onRecoverableError)),x=Cb(x,null,m,1,R??null,te,!1,ae,be),m[Ii]=x.current,Jl(m),X)for(m=0;m<X.length;m++)R=X[m],te=R._getVersion,te=te(R._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[R,te]:x.mutableSourceEagerHydrationData.push(R,te);return new Kp(x)},$a.render=function(m,x,R){if(!Xp(x))throw Error(e(200));return Yp(null,m,x,!1,R)},$a.unmountComponentAtNode=function(m){if(!Xp(m))throw Error(e(40));return m._reactRootContainer?(Uu(function(){Yp(null,null,m,!1,function(){m._reactRootContainer=null,m[Ii]=null})}),!0):!1},$a.unstable_batchedUpdates=Vg,$a.unstable_renderSubtreeIntoContainer=function(m,x,R,X){if(!Xp(R))throw Error(e(200));if(m==null||m._reactInternals===void 0)throw Error(e(38));return Yp(m,x,R,!1,X)},$a.version="18.3.1-next-f1338f8080-20240426",$a}var Lb;function p4(){if(Lb)return Qg.exports;Lb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qg.exports=q9(),Qg.exports}var Db;function H9(){if(Db)return Qp;Db=1;var r=p4();return Qp.createRoot=r.createRoot,Qp.hydrateRoot=r.hydrateRoot,Qp}var W9=H9();const G9=S0(W9),K9=()=>{};var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},X9=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const i=r[e++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[e++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[e++],o=r[e++],l=r[e++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const s=r[e++],o=r[e++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},g4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],o=i+1<r.length,l=o?r[i+1]:0,c=i+2<r.length,a=c?r[i+2]:0,u=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|a>>6,d=a&63;c||(d=64,o||(h=64)),n.push(e[u],e[f],e[h],e[d])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(m4(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):X9(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=e[r.charAt(i++)],l=i<r.length?e[r.charAt(i)]:0;++i;const a=i<r.length?e[r.charAt(i)]:64;++i;const f=i<r.length?e[r.charAt(i)]:64;if(++i,s==null||l==null||a==null||f==null)throw new Y9;const h=s<<2|l>>4;if(n.push(h),a!==64){const d=l<<4&240|a>>2;if(n.push(d),f!==64){const y=a<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Y9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z9=function(r){const t=m4(r);return g4.encodeByteArray(t,!0)},qm=function(r){return Z9(r).replace(/\./g,"")},Q9=function(r){try{return g4.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=()=>J9().__FIREBASE_DEFAULTS__,tN=()=>{if(typeof process>"u"||typeof Fb>"u")return;const r=Fb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Q9(r[1]);return t&&JSON.parse(t)},ry=()=>{try{return K9()||eN()||tN()||rN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nN=r=>{var t,e;return(e=(t=ry())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},sN=r=>{const t=nN(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},y4=()=>{var r;return(r=ry())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aN(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qm(JSON.stringify(e)),qm(JSON.stringify(o)),""].join(".")}const Af={};function lN(){const r={prod:[],emulator:[]};for(const t of Object.keys(Af))Af[t]?r.emulator.push(t):r.prod.push(t);return r}function cN(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let Bb=!1;function uN(r,t){if(typeof window>"u"||typeof document>"u"||!ny(window.location.host)||Af[r]===t||Af[r]||Bb)return;Af[r]=t;function e(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=lN().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function a(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Bb=!0,o()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=cN(n),d=e("text"),y=document.getElementById(d)||document.createElement("span"),g=e("learnmore"),p=document.getElementById(g)||document.createElement("a"),w=e("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;l(_),u(p,g);const T=a();c(v,w),_.append(v,y,p,T),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hN(){var t;const r=(t=ry())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fN(){return!hN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pN(){try{return typeof indexedDB=="object"}catch{return!1}}function mN(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="FirebaseError";class kh extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=gN,Object.setPrototypeOf(this,kh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v4.prototype.create)}}class v4{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?yN(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new kh(i,l,n)}}function yN(r,t){return r.replace(vN,(e,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const vN=/\{\$([^}]+)}/g;function Hm(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const i of e){if(!n.includes(i))return!1;const s=r[i],o=t[i];if(Vb(s)&&Vb(o)){if(!Hm(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!e.includes(i))return!1;return!0}function Vb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){return r&&r._delegate?r._delegate:r}class Vf{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new iN;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xN(t))try{this.getOrInitializeService({instanceIdentifier:Wu})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=Wu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wu){return this.instances.has(t)}getOptions(t=Wu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&t(s,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wN(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Wu){return this.component?this.component.multipleInstances?t:Wu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(r){return r===Wu?void 0:r}function xN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jn||(jn={}));const SN={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},NN=jn.INFO,CN={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},kN=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),i=CN[t];if(i)console[i](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class b4{constructor(t){this.name=t,this._logLevel=NN,this._logHandler=kN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...t),this._logHandler(this,jn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...t),this._logHandler(this,jn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...t),this._logHandler(this,jn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...t),this._logHandler(this,jn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...t),this._logHandler(this,jn.ERROR,...t)}}const EN=(r,t)=>t.some(e=>r instanceof e);let zb,Ub;function AN(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TN(){return Ub||(Ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w4=new WeakMap,W1=new WeakMap,x4=new WeakMap,t1=new WeakMap,sy=new WeakMap;function jN(r){const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{e(au(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&w4.set(e,r)}).catch(()=>{}),sy.set(t,r),t}function IN(r){if(W1.has(r))return;const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});W1.set(r,t)}let G1={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return W1.get(r);if(t==="objectStoreNames")return r.objectStoreNames||x4.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return au(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function PN(r){G1=r(G1)}function RN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(r1(this),t,...e);return x4.set(n,t.sort?t.sort():[t]),au(n)}:TN().includes(r)?function(...t){return r.apply(r1(this),t),au(w4.get(this))}:function(...t){return au(r.apply(r1(this),t))}}function MN(r){return typeof r=="function"?RN(r):(r instanceof IDBTransaction&&IN(r),EN(r,AN())?new Proxy(r,G1):r)}function au(r){if(r instanceof IDBRequest)return jN(r);if(t1.has(r))return t1.get(r);const t=MN(r);return t!==r&&(t1.set(r,t),sy.set(t,r)),t}const r1=r=>sy.get(r);function ON(r,t,{blocked:e,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(r,t),l=au(o);return n&&o.addEventListener("upgradeneeded",c=>{n(au(o.result),c.oldVersion,c.newVersion,au(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const LN=["get","getKey","getAll","getAllKeys","count"],DN=["put","add","delete","clear"],n1=new Map;function $b(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(n1.get(t))return n1.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,i=DN.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(i||LN.includes(e)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let a=c.store;return n&&(a=a.index(l.shift())),(await Promise.all([a[e](...l),i&&c.done]))[0]};return n1.set(t,s),s}PN(r=>({...r,get:(t,e,n)=>$b(t,e)||r.get(t,e,n),has:(t,e)=>!!$b(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BN(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function BN(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const K1="@firebase/app",qb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new b4("@firebase/app"),VN="@firebase/app-compat",zN="@firebase/analytics-compat",UN="@firebase/analytics",$N="@firebase/app-check-compat",qN="@firebase/app-check",HN="@firebase/auth",WN="@firebase/auth-compat",GN="@firebase/database",KN="@firebase/data-connect",XN="@firebase/database-compat",YN="@firebase/functions",ZN="@firebase/functions-compat",QN="@firebase/installations",JN="@firebase/installations-compat",eC="@firebase/messaging",tC="@firebase/messaging-compat",rC="@firebase/performance",nC="@firebase/performance-compat",sC="@firebase/remote-config",iC="@firebase/remote-config-compat",aC="@firebase/storage",oC="@firebase/storage-compat",lC="@firebase/firestore",cC="@firebase/ai",uC="@firebase/firestore-compat",dC="firebase",hC="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="[DEFAULT]",fC={[K1]:"fire-core",[VN]:"fire-core-compat",[UN]:"fire-analytics",[zN]:"fire-analytics-compat",[qN]:"fire-app-check",[$N]:"fire-app-check-compat",[HN]:"fire-auth",[WN]:"fire-auth-compat",[GN]:"fire-rtdb",[KN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[YN]:"fire-fn",[ZN]:"fire-fn-compat",[QN]:"fire-iid",[JN]:"fire-iid-compat",[eC]:"fire-fcm",[tC]:"fire-fcm-compat",[rC]:"fire-perf",[nC]:"fire-perf-compat",[sC]:"fire-rc",[iC]:"fire-rc-compat",[aC]:"fire-gcs",[oC]:"fire-gcs-compat",[lC]:"fire-fst",[uC]:"fire-fst-compat",[cC]:"fire-vertex","fire-js":"fire-js",[dC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map,pC=new Map,Y1=new Map;function Hb(r,t){try{r.container.addComponent(t)}catch(e){yc.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Gm(r){const t=r.name;if(Y1.has(t))return yc.debug(`There were multiple attempts to register component ${t}.`),!1;Y1.set(t,r);for(const e of Wm.values())Hb(e,r);for(const e of pC.values())Hb(e,r);return!0}function mC(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function gC(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ou=new v4("app","Firebase",yC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ou.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=hC;function _4(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:X1,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw ou.create("bad-app-name",{appName:String(i)});if(e||(e=y4()),!e)throw ou.create("no-options");const s=Wm.get(i);if(s){if(Hm(e,s.options)&&Hm(n,s.config))return s;throw ou.create("duplicate-app",{appName:i})}const o=new _N(i);for(const c of Y1.values())o.addComponent(c);const l=new vC(e,n,o);return Wm.set(i,l),l}function wC(r=X1){const t=Wm.get(r);if(!t&&r===X1&&y4())return _4();if(!t)throw ou.create("no-app",{appName:r});return t}function sh(r,t,e){let n=fC[r]??r;e&&(n+=`-${e}`);const i=n.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yc.warn(o.join(" "));return}Gm(new Vf(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",_C=1,zf="firebase-heartbeat-store";let s1=null;function S4(){return s1||(s1=ON(xC,_C,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zf)}catch(e){console.warn(e)}}}}).catch(r=>{throw ou.create("idb-open",{originalErrorMessage:r.message})})),s1}async function SC(r){try{const e=(await S4()).transaction(zf),n=await e.objectStore(zf).get(N4(r));return await e.done,n}catch(t){if(t instanceof kh)yc.warn(t.message);else{const e=ou.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yc.warn(e.message)}}}async function Wb(r,t){try{const n=(await S4()).transaction(zf,"readwrite");await n.objectStore(zf).put(t,N4(r)),await n.done}catch(e){if(e instanceof kh)yc.warn(e.message);else{const n=ou.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});yc.warn(n.message)}}}function N4(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,CC=30;class kC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new AC(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gb();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>CC){const o=TC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gb(),{heartbeatsToSend:n,unsentEntries:i}=EC(this._heartbeatsCache.heartbeats),s=qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return yc.warn(e),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function EC(r,t=NC){const e=[];let n=r.slice();for(const i of r){const s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Kb(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),Kb(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class AC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pN()?mN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await SC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Kb(r){return qm(JSON.stringify({version:2,heartbeats:r})).length}function TC(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){Gm(new Vf("platform-logger",t=>new FN(t),"PRIVATE")),Gm(new Vf("heartbeat",t=>new kC(t),"PRIVATE")),sh(K1,qb,r),sh(K1,qb,"esm2020"),sh("fire-js","")}jC("");var IC="firebase",PC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sh(IC,PC,"app");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lu,C4;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t($,P){function M(){}M.prototype=P.prototype,$.F=P.prototype,$.prototype=new M,$.prototype.constructor=$,$.D=function(U,V,I){for(var E=Array(arguments.length-2),L=2;L<arguments.length;L++)E[L-2]=arguments[L];return P.prototype[V].apply(U,E)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i($,P,M){M||(M=0);const U=Array(16);if(typeof P=="string")for(var V=0;V<16;++V)U[V]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for(V=0;V<16;++V)U[V]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;P=$.g[0],M=$.g[1],V=$.g[2];let I=$.g[3],E;E=P+(I^M&(V^I))+U[0]+3614090360&4294967295,P=M+(E<<7&4294967295|E>>>25),E=I+(V^P&(M^V))+U[1]+3905402710&4294967295,I=P+(E<<12&4294967295|E>>>20),E=V+(M^I&(P^M))+U[2]+606105819&4294967295,V=I+(E<<17&4294967295|E>>>15),E=M+(P^V&(I^P))+U[3]+3250441966&4294967295,M=V+(E<<22&4294967295|E>>>10),E=P+(I^M&(V^I))+U[4]+4118548399&4294967295,P=M+(E<<7&4294967295|E>>>25),E=I+(V^P&(M^V))+U[5]+1200080426&4294967295,I=P+(E<<12&4294967295|E>>>20),E=V+(M^I&(P^M))+U[6]+2821735955&4294967295,V=I+(E<<17&4294967295|E>>>15),E=M+(P^V&(I^P))+U[7]+4249261313&4294967295,M=V+(E<<22&4294967295|E>>>10),E=P+(I^M&(V^I))+U[8]+1770035416&4294967295,P=M+(E<<7&4294967295|E>>>25),E=I+(V^P&(M^V))+U[9]+2336552879&4294967295,I=P+(E<<12&4294967295|E>>>20),E=V+(M^I&(P^M))+U[10]+4294925233&4294967295,V=I+(E<<17&4294967295|E>>>15),E=M+(P^V&(I^P))+U[11]+2304563134&4294967295,M=V+(E<<22&4294967295|E>>>10),E=P+(I^M&(V^I))+U[12]+1804603682&4294967295,P=M+(E<<7&4294967295|E>>>25),E=I+(V^P&(M^V))+U[13]+4254626195&4294967295,I=P+(E<<12&4294967295|E>>>20),E=V+(M^I&(P^M))+U[14]+2792965006&4294967295,V=I+(E<<17&4294967295|E>>>15),E=M+(P^V&(I^P))+U[15]+1236535329&4294967295,M=V+(E<<22&4294967295|E>>>10),E=P+(V^I&(M^V))+U[1]+4129170786&4294967295,P=M+(E<<5&4294967295|E>>>27),E=I+(M^V&(P^M))+U[6]+3225465664&4294967295,I=P+(E<<9&4294967295|E>>>23),E=V+(P^M&(I^P))+U[11]+643717713&4294967295,V=I+(E<<14&4294967295|E>>>18),E=M+(I^P&(V^I))+U[0]+3921069994&4294967295,M=V+(E<<20&4294967295|E>>>12),E=P+(V^I&(M^V))+U[5]+3593408605&4294967295,P=M+(E<<5&4294967295|E>>>27),E=I+(M^V&(P^M))+U[10]+38016083&4294967295,I=P+(E<<9&4294967295|E>>>23),E=V+(P^M&(I^P))+U[15]+3634488961&4294967295,V=I+(E<<14&4294967295|E>>>18),E=M+(I^P&(V^I))+U[4]+3889429448&4294967295,M=V+(E<<20&4294967295|E>>>12),E=P+(V^I&(M^V))+U[9]+568446438&4294967295,P=M+(E<<5&4294967295|E>>>27),E=I+(M^V&(P^M))+U[14]+3275163606&4294967295,I=P+(E<<9&4294967295|E>>>23),E=V+(P^M&(I^P))+U[3]+4107603335&4294967295,V=I+(E<<14&4294967295|E>>>18),E=M+(I^P&(V^I))+U[8]+1163531501&4294967295,M=V+(E<<20&4294967295|E>>>12),E=P+(V^I&(M^V))+U[13]+2850285829&4294967295,P=M+(E<<5&4294967295|E>>>27),E=I+(M^V&(P^M))+U[2]+4243563512&4294967295,I=P+(E<<9&4294967295|E>>>23),E=V+(P^M&(I^P))+U[7]+1735328473&4294967295,V=I+(E<<14&4294967295|E>>>18),E=M+(I^P&(V^I))+U[12]+2368359562&4294967295,M=V+(E<<20&4294967295|E>>>12),E=P+(M^V^I)+U[5]+4294588738&4294967295,P=M+(E<<4&4294967295|E>>>28),E=I+(P^M^V)+U[8]+2272392833&4294967295,I=P+(E<<11&4294967295|E>>>21),E=V+(I^P^M)+U[11]+1839030562&4294967295,V=I+(E<<16&4294967295|E>>>16),E=M+(V^I^P)+U[14]+4259657740&4294967295,M=V+(E<<23&4294967295|E>>>9),E=P+(M^V^I)+U[1]+2763975236&4294967295,P=M+(E<<4&4294967295|E>>>28),E=I+(P^M^V)+U[4]+1272893353&4294967295,I=P+(E<<11&4294967295|E>>>21),E=V+(I^P^M)+U[7]+4139469664&4294967295,V=I+(E<<16&4294967295|E>>>16),E=M+(V^I^P)+U[10]+3200236656&4294967295,M=V+(E<<23&4294967295|E>>>9),E=P+(M^V^I)+U[13]+681279174&4294967295,P=M+(E<<4&4294967295|E>>>28),E=I+(P^M^V)+U[0]+3936430074&4294967295,I=P+(E<<11&4294967295|E>>>21),E=V+(I^P^M)+U[3]+3572445317&4294967295,V=I+(E<<16&4294967295|E>>>16),E=M+(V^I^P)+U[6]+76029189&4294967295,M=V+(E<<23&4294967295|E>>>9),E=P+(M^V^I)+U[9]+3654602809&4294967295,P=M+(E<<4&4294967295|E>>>28),E=I+(P^M^V)+U[12]+3873151461&4294967295,I=P+(E<<11&4294967295|E>>>21),E=V+(I^P^M)+U[15]+530742520&4294967295,V=I+(E<<16&4294967295|E>>>16),E=M+(V^I^P)+U[2]+3299628645&4294967295,M=V+(E<<23&4294967295|E>>>9),E=P+(V^(M|~I))+U[0]+4096336452&4294967295,P=M+(E<<6&4294967295|E>>>26),E=I+(M^(P|~V))+U[7]+1126891415&4294967295,I=P+(E<<10&4294967295|E>>>22),E=V+(P^(I|~M))+U[14]+2878612391&4294967295,V=I+(E<<15&4294967295|E>>>17),E=M+(I^(V|~P))+U[5]+4237533241&4294967295,M=V+(E<<21&4294967295|E>>>11),E=P+(V^(M|~I))+U[12]+1700485571&4294967295,P=M+(E<<6&4294967295|E>>>26),E=I+(M^(P|~V))+U[3]+2399980690&4294967295,I=P+(E<<10&4294967295|E>>>22),E=V+(P^(I|~M))+U[10]+4293915773&4294967295,V=I+(E<<15&4294967295|E>>>17),E=M+(I^(V|~P))+U[1]+2240044497&4294967295,M=V+(E<<21&4294967295|E>>>11),E=P+(V^(M|~I))+U[8]+1873313359&4294967295,P=M+(E<<6&4294967295|E>>>26),E=I+(M^(P|~V))+U[15]+4264355552&4294967295,I=P+(E<<10&4294967295|E>>>22),E=V+(P^(I|~M))+U[6]+2734768916&4294967295,V=I+(E<<15&4294967295|E>>>17),E=M+(I^(V|~P))+U[13]+1309151649&4294967295,M=V+(E<<21&4294967295|E>>>11),E=P+(V^(M|~I))+U[4]+4149444226&4294967295,P=M+(E<<6&4294967295|E>>>26),E=I+(M^(P|~V))+U[11]+3174756917&4294967295,I=P+(E<<10&4294967295|E>>>22),E=V+(P^(I|~M))+U[2]+718787259&4294967295,V=I+(E<<15&4294967295|E>>>17),E=M+(I^(V|~P))+U[9]+3951481745&4294967295,$.g[0]=$.g[0]+P&4294967295,$.g[1]=$.g[1]+(V+(E<<21&4294967295|E>>>11))&4294967295,$.g[2]=$.g[2]+V&4294967295,$.g[3]=$.g[3]+I&4294967295}n.prototype.v=function($,P){P===void 0&&(P=$.length);const M=P-this.blockSize,U=this.C;let V=this.h,I=0;for(;I<P;){if(V==0)for(;I<=M;)i(this,$,I),I+=this.blockSize;if(typeof $=="string"){for(;I<P;)if(U[V++]=$.charCodeAt(I++),V==this.blockSize){i(this,U),V=0;break}}else for(;I<P;)if(U[V++]=$[I++],V==this.blockSize){i(this,U),V=0;break}}this.h=V,this.o+=P},n.prototype.A=function(){var $=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);$[0]=128;for(var P=1;P<$.length-8;++P)$[P]=0;P=this.o*8;for(var M=$.length-8;M<$.length;++M)$[M]=P&255,P/=256;for(this.v($),$=Array(16),P=0,M=0;M<4;++M)for(let U=0;U<32;U+=8)$[P++]=this.g[M]>>>U&255;return $};function s($,P){var M=l;return Object.prototype.hasOwnProperty.call(M,$)?M[$]:M[$]=P($)}function o($,P){this.h=P;const M=[];let U=!0;for(let V=$.length-1;V>=0;V--){const I=$[V]|0;U&&I==P||(M[V]=I,U=!1)}this.g=M}var l={};function c($){return-128<=$&&$<128?s($,function(P){return new o([P|0],P<0?-1:0)}):new o([$|0],$<0?-1:0)}function a($){if(isNaN($)||!isFinite($))return f;if($<0)return p(a(-$));const P=[];let M=1;for(let U=0;$>=M;U++)P[U]=$/M|0,M*=4294967296;return new o(P,0)}function u($,P){if($.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if($.charAt(0)=="-")return p(u($.substring(1),P));if($.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=a(Math.pow(P,8));let U=f;for(let I=0;I<$.length;I+=8){var V=Math.min(8,$.length-I);const E=parseInt($.substring(I,I+V),P);V<8?(V=a(Math.pow(P,V)),U=U.j(V).add(a(E))):(U=U.j(M),U=U.add(a(E)))}return U}var f=c(0),h=c(1),d=c(16777216);r=o.prototype,r.m=function(){if(g(this))return-p(this).m();let $=0,P=1;for(let M=0;M<this.g.length;M++){const U=this.i(M);$+=(U>=0?U:4294967296+U)*P,P*=4294967296}return $},r.toString=function($){if($=$||10,$<2||36<$)throw Error("radix out of range: "+$);if(y(this))return"0";if(g(this))return"-"+p(this).toString($);const P=a(Math.pow($,6));var M=this;let U="";for(;;){const V=T(M,P).g;M=w(M,V.j(P));let I=((M.g.length>0?M.g[0]:M.h)>>>0).toString($);if(M=V,y(M))return I+U;for(;I.length<6;)I="0"+I;U=I+U}},r.i=function($){return $<0?0:$<this.g.length?this.g[$]:this.h};function y($){if($.h!=0)return!1;for(let P=0;P<$.g.length;P++)if($.g[P]!=0)return!1;return!0}function g($){return $.h==-1}r.l=function($){return $=w(this,$),g($)?-1:y($)?0:1};function p($){const P=$.g.length,M=[];for(let U=0;U<P;U++)M[U]=~$.g[U];return new o(M,~$.h).add(h)}r.abs=function(){return g(this)?p(this):this},r.add=function($){const P=Math.max(this.g.length,$.g.length),M=[];let U=0;for(let V=0;V<=P;V++){let I=U+(this.i(V)&65535)+($.i(V)&65535),E=(I>>>16)+(this.i(V)>>>16)+($.i(V)>>>16);U=E>>>16,I&=65535,E&=65535,M[V]=E<<16|I}return new o(M,M[M.length-1]&-2147483648?-1:0)};function w($,P){return $.add(p(P))}r.j=function($){if(y(this)||y($))return f;if(g(this))return g($)?p(this).j(p($)):p(p(this).j($));if(g($))return p(this.j(p($)));if(this.l(d)<0&&$.l(d)<0)return a(this.m()*$.m());const P=this.g.length+$.g.length,M=[];for(var U=0;U<2*P;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(let V=0;V<$.g.length;V++){const I=this.i(U)>>>16,E=this.i(U)&65535,L=$.i(V)>>>16,A=$.i(V)&65535;M[2*U+2*V]+=E*A,v(M,2*U+2*V),M[2*U+2*V+1]+=I*A,v(M,2*U+2*V+1),M[2*U+2*V+1]+=E*L,v(M,2*U+2*V+1),M[2*U+2*V+2]+=I*L,v(M,2*U+2*V+2)}for($=0;$<P;$++)M[$]=M[2*$+1]<<16|M[2*$];for($=P;$<2*P;$++)M[$]=0;return new o(M,0)};function v($,P){for(;($[P]&65535)!=$[P];)$[P+1]+=$[P]>>>16,$[P]&=65535,P++}function _($,P){this.g=$,this.h=P}function T($,P){if(y(P))throw Error("division by zero");if(y($))return new _(f,f);if(g($))return P=T(p($),P),new _(p(P.g),p(P.h));if(g(P))return P=T($,p(P)),new _(p(P.g),P.h);if($.g.length>30){if(g($)||g(P))throw Error("slowDivide_ only works with positive integers.");for(var M=h,U=P;U.l($)<=0;)M=F(M),U=F(U);var V=G(M,1),I=G(U,1);for(U=G(U,2),M=G(M,2);!y(U);){var E=I.add(U);E.l($)<=0&&(V=V.add(M),I=E),U=G(U,1),M=G(M,1)}return P=w($,V.j(P)),new _(V,P)}for(V=f;$.l(P)>=0;){for(M=Math.max(1,Math.floor($.m()/P.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),I=a(M),E=I.j(P);g(E)||E.l($)>0;)M-=U,I=a(M),E=I.j(P);y(I)&&(I=h),V=V.add(I),$=w($,E)}return new _(V,$)}r.B=function($){return T(this,$).h},r.and=function($){const P=Math.max(this.g.length,$.g.length),M=[];for(let U=0;U<P;U++)M[U]=this.i(U)&$.i(U);return new o(M,this.h&$.h)},r.or=function($){const P=Math.max(this.g.length,$.g.length),M=[];for(let U=0;U<P;U++)M[U]=this.i(U)|$.i(U);return new o(M,this.h|$.h)},r.xor=function($){const P=Math.max(this.g.length,$.g.length),M=[];for(let U=0;U<P;U++)M[U]=this.i(U)^$.i(U);return new o(M,this.h^$.h)};function F($){const P=$.g.length+1,M=[];for(let U=0;U<P;U++)M[U]=$.i(U)<<1|$.i(U-1)>>>31;return new o(M,$.h)}function G($,P){const M=P>>5;P%=32;const U=$.g.length-M,V=[];for(let I=0;I<U;I++)V[I]=P>0?$.i(I+M)>>>P|$.i(I+M+1)<<32-P:$.i(I+M);return new o(V,$.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,C4=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=a,o.fromString=u,lu=o}).apply(typeof Xb<"u"?Xb:typeof self<"u"?self:typeof window<"u"?window:{});var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k4,_f,E4,Am,Z1,A4,T4,j4;(function(){var r,t=Object.defineProperty;function e(W){W=[typeof globalThis=="object"&&globalThis,W,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jp=="object"&&Jp];for(var se=0;se<W.length;++se){var ue=W[se];if(ue&&ue.Math==Math)return ue}throw Error("Cannot find global object")}var n=e(this);function i(W,se){if(se)e:{var ue=n;W=W.split(".");for(var Ne=0;Ne<W.length-1;Ne++){var Ge=W[Ne];if(!(Ge in ue))break e;ue=ue[Ge]}W=W[W.length-1],Ne=ue[W],se=se(Ne),se!=Ne&&se!=null&&t(ue,W,{configurable:!0,writable:!0,value:se})}}i("Symbol.dispose",function(W){return W||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(W){return W||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(W){return W||function(se){var ue=[],Ne;for(Ne in se)Object.prototype.hasOwnProperty.call(se,Ne)&&ue.push([Ne,se[Ne]]);return ue}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(W){var se=typeof W;return se=="object"&&W!=null||se=="function"}function c(W,se,ue){return W.call.apply(W.bind,arguments)}function a(W,se,ue){return a=c,a.apply(null,arguments)}function u(W,se){var ue=Array.prototype.slice.call(arguments,1);return function(){var Ne=ue.slice();return Ne.push.apply(Ne,arguments),W.apply(this,Ne)}}function f(W,se){function ue(){}ue.prototype=se.prototype,W.Z=se.prototype,W.prototype=new ue,W.prototype.constructor=W,W.Ob=function(Ne,Ge,rt){for(var Vt=Array(arguments.length-2),Wr=2;Wr<arguments.length;Wr++)Vt[Wr-2]=arguments[Wr];return se.prototype[Ge].apply(Ne,Vt)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?W=>W&&AsyncContext.Snapshot.wrap(W):W=>W;function d(W){const se=W.length;if(se>0){const ue=Array(se);for(let Ne=0;Ne<se;Ne++)ue[Ne]=W[Ne];return ue}return[]}function y(W,se){for(let Ne=1;Ne<arguments.length;Ne++){const Ge=arguments[Ne];var ue=typeof Ge;if(ue=ue!="object"?ue:Ge?Array.isArray(Ge)?"array":ue:"null",ue=="array"||ue=="object"&&typeof Ge.length=="number"){ue=W.length||0;const rt=Ge.length||0;W.length=ue+rt;for(let Vt=0;Vt<rt;Vt++)W[ue+Vt]=Ge[Vt]}else W.push(Ge)}}class g{constructor(se,ue){this.i=se,this.j=ue,this.h=0,this.g=null}get(){let se;return this.h>0?(this.h--,se=this.g,this.g=se.next,se.next=null):se=this.i(),se}}function p(W){o.setTimeout(()=>{throw W},0)}function w(){var W=$;let se=null;return W.g&&(se=W.g,W.g=W.g.next,W.g||(W.h=null),se.next=null),se}class v{constructor(){this.h=this.g=null}add(se,ue){const Ne=_.get();Ne.set(se,ue),this.h?this.h.next=Ne:this.g=Ne,this.h=Ne}}var _=new g(()=>new T,W=>W.reset());class T{constructor(){this.next=this.g=this.h=null}set(se,ue){this.h=se,this.g=ue,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,$=new v,P=()=>{const W=Promise.resolve(void 0);F=()=>{W.then(M)}};function M(){for(var W;W=w();){try{W.h.call(W.g)}catch(ue){p(ue)}var se=_;se.j(W),se.h<100&&(se.h++,W.next=se.g,se.g=W)}G=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(W,se){this.type=W,this.g=this.target=se,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var W=!1,se=Object.defineProperty({},"passive",{get:function(){W=!0}});try{const ue=()=>{};o.addEventListener("test",ue,se),o.removeEventListener("test",ue,se)}catch{}return W})();function E(W){return/^[\s\xa0]*$/.test(W)}function L(W,se){V.call(this,W?W.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,W&&this.init(W,se)}f(L,V),L.prototype.init=function(W,se){const ue=this.type=W.type,Ne=W.changedTouches&&W.changedTouches.length?W.changedTouches[0]:null;this.target=W.target||W.srcElement,this.g=se,se=W.relatedTarget,se||(ue=="mouseover"?se=W.fromElement:ue=="mouseout"&&(se=W.toElement)),this.relatedTarget=se,Ne?(this.clientX=Ne.clientX!==void 0?Ne.clientX:Ne.pageX,this.clientY=Ne.clientY!==void 0?Ne.clientY:Ne.pageY,this.screenX=Ne.screenX||0,this.screenY=Ne.screenY||0):(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0),this.button=W.button,this.key=W.key||"",this.ctrlKey=W.ctrlKey,this.altKey=W.altKey,this.shiftKey=W.shiftKey,this.metaKey=W.metaKey,this.pointerId=W.pointerId||0,this.pointerType=W.pointerType,this.state=W.state,this.i=W,W.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const W=this.i;W.preventDefault?W.preventDefault():W.returnValue=!1};var A="closure_listenable_"+(Math.random()*1e6|0),S=0;function k(W,se,ue,Ne,Ge){this.listener=W,this.proxy=null,this.src=se,this.type=ue,this.capture=!!Ne,this.ha=Ge,this.key=++S,this.da=this.fa=!1}function N(W){W.da=!0,W.listener=null,W.proxy=null,W.src=null,W.ha=null}function C(W,se,ue){for(const Ne in W)se.call(ue,W[Ne],Ne,W)}function O(W,se){for(const ue in W)se.call(void 0,W[ue],ue,W)}function D(W){const se={};for(const ue in W)se[ue]=W[ue];return se}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(W,se){let ue,Ne;for(let Ge=1;Ge<arguments.length;Ge++){Ne=arguments[Ge];for(ue in Ne)W[ue]=Ne[ue];for(let rt=0;rt<j.length;rt++)ue=j[rt],Object.prototype.hasOwnProperty.call(Ne,ue)&&(W[ue]=Ne[ue])}}function Z(W){this.src=W,this.g={},this.h=0}Z.prototype.add=function(W,se,ue,Ne,Ge){const rt=W.toString();W=this.g[rt],W||(W=this.g[rt]=[],this.h++);const Vt=H(W,se,Ne,Ge);return Vt>-1?(se=W[Vt],ue||(se.fa=!1)):(se=new k(se,this.src,rt,!!Ne,Ge),se.fa=ue,W.push(se)),se};function ne(W,se){const ue=se.type;if(ue in W.g){var Ne=W.g[ue],Ge=Array.prototype.indexOf.call(Ne,se,void 0),rt;(rt=Ge>=0)&&Array.prototype.splice.call(Ne,Ge,1),rt&&(N(se),W.g[ue].length==0&&(delete W.g[ue],W.h--))}}function H(W,se,ue,Ne){for(let Ge=0;Ge<W.length;++Ge){const rt=W[Ge];if(!rt.da&&rt.listener==se&&rt.capture==!!ue&&rt.ha==Ne)return Ge}return-1}var J="closure_lm_"+(Math.random()*1e6|0),z={};function B(W,se,ue,Ne,Ge){if(Array.isArray(se)){for(let rt=0;rt<se.length;rt++)B(W,se[rt],ue,Ne,Ge);return null}return ue=ke(ue),W&&W[A]?W.J(se,ue,l(Ne)?!!Ne.capture:!1,Ge):Q(W,se,ue,!1,Ne,Ge)}function Q(W,se,ue,Ne,Ge,rt){if(!se)throw Error("Invalid event type");const Vt=l(Ge)?!!Ge.capture:!!Ge;let Wr=he(W);if(Wr||(W[J]=Wr=new Z(W)),ue=Wr.add(se,ue,Ne,Vt,rt),ue.proxy)return ue;if(Ne=oe(),ue.proxy=Ne,Ne.src=W,Ne.listener=ue,W.addEventListener)I||(Ge=Vt),Ge===void 0&&(Ge=!1),W.addEventListener(se.toString(),Ne,Ge);else if(W.attachEvent)W.attachEvent(ve(se.toString()),Ne);else if(W.addListener&&W.removeListener)W.addListener(Ne);else throw Error("addEventListener and attachEvent are unavailable.");return ue}function oe(){function W(ue){return se.call(W.src,W.listener,ue)}const se=ce;return W}function pe(W,se,ue,Ne,Ge){if(Array.isArray(se))for(var rt=0;rt<se.length;rt++)pe(W,se[rt],ue,Ne,Ge);else Ne=l(Ne)?!!Ne.capture:!!Ne,ue=ke(ue),W&&W[A]?(W=W.i,rt=String(se).toString(),rt in W.g&&(se=W.g[rt],ue=H(se,ue,Ne,Ge),ue>-1&&(N(se[ue]),Array.prototype.splice.call(se,ue,1),se.length==0&&(delete W.g[rt],W.h--)))):W&&(W=he(W))&&(se=W.g[se.toString()],W=-1,se&&(W=H(se,ue,Ne,Ge)),(ue=W>-1?se[W]:null)&&de(ue))}function de(W){if(typeof W!="number"&&W&&!W.da){var se=W.src;if(se&&se[A])ne(se.i,W);else{var ue=W.type,Ne=W.proxy;se.removeEventListener?se.removeEventListener(ue,Ne,W.capture):se.detachEvent?se.detachEvent(ve(ue),Ne):se.addListener&&se.removeListener&&se.removeListener(Ne),(ue=he(se))?(ne(ue,W),ue.h==0&&(ue.src=null,se[J]=null)):N(W)}}}function ve(W){return W in z?z[W]:z[W]="on"+W}function ce(W,se){if(W.da)W=!0;else{se=new L(se,this);const ue=W.listener,Ne=W.ha||W.src;W.fa&&de(W),W=ue.call(Ne,se)}return W}function he(W){return W=W[J],W instanceof Z?W:null}var fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(W){return typeof W=="function"?W:(W[fe]||(W[fe]=function(se){return W.handleEvent(se)}),W[fe])}function ye(){U.call(this),this.i=new Z(this),this.M=this,this.G=null}f(ye,U),ye.prototype[A]=!0,ye.prototype.removeEventListener=function(W,se,ue,Ne){pe(this,W,se,ue,Ne)};function Re(W,se){var ue,Ne=W.G;if(Ne)for(ue=[];Ne;Ne=Ne.G)ue.push(Ne);if(W=W.M,Ne=se.type||se,typeof se=="string")se=new V(se,W);else if(se instanceof V)se.target=se.target||W;else{var Ge=se;se=new V(Ne,W),K(se,Ge)}Ge=!0;let rt,Vt;if(ue)for(Vt=ue.length-1;Vt>=0;Vt--)rt=se.g=ue[Vt],Ge=Ie(rt,Ne,!0,se)&&Ge;if(rt=se.g=W,Ge=Ie(rt,Ne,!0,se)&&Ge,Ge=Ie(rt,Ne,!1,se)&&Ge,ue)for(Vt=0;Vt<ue.length;Vt++)rt=se.g=ue[Vt],Ge=Ie(rt,Ne,!1,se)&&Ge}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var W=this.i;for(const se in W.g){const ue=W.g[se];for(let Ne=0;Ne<ue.length;Ne++)N(ue[Ne]);delete W.g[se],W.h--}}this.G=null},ye.prototype.J=function(W,se,ue,Ne){return this.i.add(String(W),se,!1,ue,Ne)},ye.prototype.K=function(W,se,ue,Ne){return this.i.add(String(W),se,!0,ue,Ne)};function Ie(W,se,ue,Ne){if(se=W.i.g[String(se)],!se)return!0;se=se.concat();let Ge=!0;for(let rt=0;rt<se.length;++rt){const Vt=se[rt];if(Vt&&!Vt.da&&Vt.capture==ue){const Wr=Vt.listener,rs=Vt.ha||Vt.src;Vt.fa&&ne(W.i,Vt),Ge=Wr.call(rs,Ne)!==!1&&Ge}}return Ge&&!Ne.defaultPrevented}function Oe(W,se){if(typeof W!="function")if(W&&typeof W.handleEvent=="function")W=a(W.handleEvent,W);else throw Error("Invalid listener argument");return Number(se)>2147483647?-1:o.setTimeout(W,se||0)}function Fe(W){W.g=Oe(()=>{W.g=null,W.i&&(W.i=!1,Fe(W))},W.l);const se=W.h;W.h=null,W.m.apply(null,se)}class Se extends U{constructor(se,ue){super(),this.m=se,this.l=ue,this.h=null,this.i=!1,this.g=null}j(se){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(W){U.call(this),this.h=W,this.g={}}f(Pe,U);var He=[];function Ze(W){C(W.g,function(se,ue){this.g.hasOwnProperty(ue)&&de(se)},W),W.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ze(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var at=o.JSON.stringify,Je=o.JSON.parse,lt=class{stringify(W){return o.JSON.stringify(W,void 0)}parse(W){return o.JSON.parse(W,void 0)}};function ut(){}function Ut(){}var ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function st(){V.call(this,"d")}f(st,V);function mt(){V.call(this,"c")}f(mt,V);var At={},dt=null;function Yt(){return dt=dt||new ye}At.Ia="serverreachability";function zt(W){V.call(this,At.Ia,W)}f(zt,V);function St(W){const se=Yt();Re(se,new zt(se))}At.STAT_EVENT="statevent";function nr(W,se){V.call(this,At.STAT_EVENT,W),this.stat=se}f(nr,V);function Tt(W){const se=Yt();Re(se,new nr(se,W))}At.Ja="timingevent";function _t(W,se){V.call(this,At.Ja,W),this.size=se}f(_t,V);function sr(W,se){if(typeof W!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){W()},se)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function jt(W,se,ue,Ne,Ge,rt){W.info(function(){if(W.g)if(rt){var Vt="",Wr=rt.split("&");for(let gn=0;gn<Wr.length;gn++){var rs=Wr[gn].split("=");if(rs.length>1){const ns=rs[0];rs=rs[1];const Qs=ns.split("_");Vt=Qs.length>=2&&Qs[1]=="type"?Vt+(ns+"="+rs+"&"):Vt+(ns+"=redacted&")}}}else Vt=null;else Vt=rt;return"XMLHTTP REQ ("+Ne+") [attempt "+Ge+"]: "+se+`
`+ue+`
`+Vt})}function Zt(W,se,ue,Ne,Ge,rt,Vt){W.info(function(){return"XMLHTTP RESP ("+Ne+") [ attempt "+Ge+"]: "+se+`
`+ue+`
`+rt+" "+Vt})}function br(W,se,ue,Ne){W.info(function(){return"XMLHTTP TEXT ("+se+"): "+Ar(W,ue)+(Ne?" "+Ne:"")})}function bt(W,se){W.info(function(){return"TIMEOUT: "+se})}Dt.prototype.info=function(){};function Ar(W,se){if(!W.g)return se;if(!se)return null;try{const rt=JSON.parse(se);if(rt){for(W=0;W<rt.length;W++)if(Array.isArray(rt[W])){var ue=rt[W];if(!(ue.length<2)){var Ne=ue[1];if(Array.isArray(Ne)&&!(Ne.length<1)){var Ge=Ne[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(let Vt=1;Vt<Ne.length;Vt++)Ne[Vt]=""}}}}return at(rt)}catch{return se}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Le;function ze(){}f(ze,ut),ze.prototype.g=function(){return new XMLHttpRequest},Le=new ze;function et(W){return encodeURIComponent(String(W))}function Et(W){var se=1;W=W.split(":");const ue=[];for(;se>0&&W.length;)ue.push(W.shift()),se--;return W.length&&ue.push(W.join(":")),ue}function er(W,se,ue,Ne){this.j=W,this.i=se,this.l=ue,this.S=Ne||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var dr={},ir={};function Wt(W,se,ue){W.M=1,W.A=Ls(Jr(se)),W.u=ue,W.R=!0,mr(W,null)}function mr(W,se){W.F=Date.now(),on(W),W.B=Jr(W.A);var ue=W.B,Ne=W.S;Array.isArray(Ne)||(Ne=[String(Ne)]),Xi(ue.i,"t",Ne),W.C=0,ue=W.j.L,W.h=new Lt,W.g=or(W.j,ue?se:null,!W.u),W.P>0&&(W.O=new Se(a(W.Y,W,W.g),W.P)),se=W.V,ue=W.g,Ne=W.ba;var Ge="readystatechange";Array.isArray(Ge)||(Ge&&(He[0]=Ge.toString()),Ge=He);for(let rt=0;rt<Ge.length;rt++){const Vt=B(ue,Ge[rt],Ne||se.handleEvent,!1,se.h||se);if(!Vt)break;se.g[Vt.key]=Vt}se=W.J?D(W.J):{},W.u?(W.v||(W.v="POST"),se["Content-Type"]="application/x-www-form-urlencoded",W.g.ea(W.B,W.v,W.u,se)):(W.v="GET",W.g.ea(W.B,W.v,null,se)),St(),jt(W.i,W.v,W.B,W.l,W.S,W.u)}er.prototype.ba=function(W){W=W.target;const se=this.O;se&&Zi(W)==3?se.j():this.Y(W)},er.prototype.Y=function(W){try{if(W==this.g)e:{const Wr=Zi(this.g),rs=this.g.ya(),gn=this.g.ca();if(!(Wr<3)&&(Wr!=3||this.g&&(this.h.h||this.g.la()||dl(this.g)))){this.K||Wr!=4||rs==7||(rs==8||gn<=0?St(3):St(2)),In(this);var se=this.g.ca();this.X=se;var ue=hr(this);if(this.o=se==200,Zt(this.i,this.v,this.B,this.l,this.S,Wr,se),this.o){if(this.U&&!this.L){t:{if(this.g){var Ne,Ge=this.g;if((Ne=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ne)){var rt=Ne;break t}}rt=null}if(W=rt)br(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,W);else{this.o=!1,this.m=3,Tt(12),Ae(this),Wn(this);break e}}if(this.R){W=!0;let ns;for(;!this.K&&this.C<ue.length;)if(ns=pn(this,ue),ns==ir){Wr==4&&(this.m=4,Tt(14),W=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(ns==dr){this.m=4,Tt(15),br(this.i,this.l,ue,"[Invalid Chunk]"),W=!1;break}else br(this.i,this.l,ns,null),$e(this,ns);if(Lr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wr!=4||ue.length!=0||this.h.h||(this.m=1,Tt(16),W=!1),this.o=this.o&&W,!W)br(this.i,this.l,ue,"[Invalid Chunked Response]"),Ae(this),Wn(this);else if(ue.length>0&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.aa&&!Vt.P&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),bo(Vt),Vt.P=!0,Tt(11))}}else br(this.i,this.l,ue,null),$e(this,ue);Wr==4&&Ae(this),this.o&&!this.K&&(Wr==4?je(this.j,this):(this.o=!1,on(this)))}else hl(this.g),se==400&&ue.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Ae(this),Wn(this)}}}catch{}finally{}};function hr(W){if(!Lr(W))return W.g.la();const se=dl(W.g);if(se==="")return"";let ue="";const Ne=se.length,Ge=Zi(W.g)==4;if(!W.h.i){if(typeof TextDecoder>"u")return Ae(W),Wn(W),"";W.h.i=new o.TextDecoder}for(let rt=0;rt<Ne;rt++)W.h.h=!0,ue+=W.h.i.decode(se[rt],{stream:!(Ge&&rt==Ne-1)});return se.length=0,W.h.g+=ue,W.C=0,W.h.g}function Lr(W){return W.g?W.v=="GET"&&W.M!=2&&W.j.Aa:!1}function pn(W,se){var ue=W.C,Ne=se.indexOf(`
`,ue);return Ne==-1?ir:(ue=Number(se.substring(ue,Ne)),isNaN(ue)?dr:(Ne+=1,Ne+ue>se.length?ir:(se=se.slice(Ne,Ne+ue),W.C=Ne+ue,se)))}er.prototype.cancel=function(){this.K=!0,Ae(this)};function on(W){W.T=Date.now()+W.H,Ln(W,W.H)}function Ln(W,se){if(W.D!=null)throw Error("WatchDog timer not null");W.D=sr(a(W.aa,W),se)}function In(W){W.D&&(o.clearTimeout(W.D),W.D=null)}er.prototype.aa=function(){this.D=null;const W=Date.now();W-this.T>=0?(bt(this.i,this.B),this.M!=2&&(St(),Tt(17)),Ae(this),this.m=2,Wn(this)):Ln(this,this.T-W)};function Wn(W){W.j.I==0||W.K||je(W.j,W)}function Ae(W){In(W);var se=W.O;se&&typeof se.dispose=="function"&&se.dispose(),W.O=null,Ze(W.V),W.g&&(se=W.g,W.g=null,se.abort(),se.dispose())}function $e(W,se){try{var ue=W.j;if(ue.I!=0&&(ue.g==W||Ft(ue.h,W))){if(!W.L&&Ft(ue.h,W)&&ue.I==3){try{var Ne=ue.Ba.g.parse(se)}catch{Ne=null}if(Array.isArray(Ne)&&Ne.length==3){var Ge=Ne;if(Ge[0]==0){e:if(!ue.v){if(ue.g)if(ue.g.F+3e3<W.F)me(ue),xi(ue);else break e;Ai(ue),Tt(18)}}else ue.xa=Ge[1],0<ue.xa-ue.K&&Ge[2]<37500&&ue.F&&ue.A==0&&!ue.C&&(ue.C=sr(a(ue.Va,ue),6e3));Pt(ue.h)<=1&&ue.ta&&(ue.ta=void 0)}else We(ue,11)}else if((W.L||ue.g==W)&&me(ue),!E(se))for(Ge=ue.Ba.g.parse(se),se=0;se<Ge.length;se++){let gn=Ge[se];const ns=gn[0];if(!(ns<=ue.K))if(ue.K=ns,gn=gn[1],ue.I==2)if(gn[0]=="c"){ue.M=gn[1],ue.ba=gn[2];const Qs=gn[3];Qs!=null&&(ue.ka=Qs,ue.j.info("VER="+ue.ka));const Ti=gn[4];Ti!=null&&(ue.za=Ti,ue.j.info("SVER="+ue.za));const ss=gn[5];ss!=null&&typeof ss=="number"&&ss>0&&(Ne=1.5*ss,ue.O=Ne,ue.j.info("backChannelRequestTimeoutMs_="+Ne)),Ne=ue;const ji=W.g;if(ji){const Oa=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var rt=Ne.h;rt.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Gr(rt,rt.h),rt.h=null))}if(Ne.G){const Lo=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(Ne.wa=Lo,Hr(Ne.J,Ne.G,Lo))}}ue.I=3,ue.l&&ue.l.ra(),ue.aa&&(ue.T=Date.now()-W.F,ue.j.info("Handshake RTT: "+ue.T+"ms")),Ne=ue;var Vt=W;if(Ne.na=Ct(Ne,Ne.L?Ne.ba:null,Ne.W),Vt.L){Pr(Ne.h,Vt);var Wr=Vt,rs=Ne.O;rs&&(Wr.H=rs),Wr.D&&(In(Wr),on(Wr)),Ne.g=Vt}else Zs(Ne);ue.i.length>0&&ga(ue)}else gn[0]!="stop"&&gn[0]!="close"||We(ue,7);else ue.I==3&&(gn[0]=="stop"||gn[0]=="close"?gn[0]=="stop"?We(ue,7):Qa(ue):gn[0]!="noop"&&ue.l&&ue.l.qa(gn),ue.A=0)}}St(4)}catch{}}var pt=class{constructor(W,se){this.g=W,this.map=se}};function Nt(W){this.l=W||10,o.PerformanceNavigationTiming?(W=o.performance.getEntriesByType("navigation"),W=W.length>0&&(W[0].nextHopProtocol=="hq"||W[0].nextHopProtocol=="h2")):W=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=W?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gt(W){return W.h?!0:W.g?W.g.size>=W.j:!1}function Pt(W){return W.h?1:W.g?W.g.size:0}function Ft(W,se){return W.h?W.h==se:W.g?W.g.has(se):!1}function Gr(W,se){W.g?W.g.add(se):W.h=se}function Pr(W,se){W.h&&W.h==se?W.h=null:W.g&&W.g.has(se)&&W.g.delete(se)}Nt.prototype.cancel=function(){if(this.i=Tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const W of this.g.values())W.cancel();this.g.clear()}};function Tr(W){if(W.h!=null)return W.i.concat(W.h.G);if(W.g!=null&&W.g.size!==0){let se=W.i;for(const ue of W.g.values())se=se.concat(ue.G);return se}return d(W.i)}var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(W,se){if(W){W=W.split("&");for(let ue=0;ue<W.length;ue++){const Ne=W[ue].indexOf("=");let Ge,rt=null;Ne>=0?(Ge=W[ue].substring(0,Ne),rt=W[ue].substring(Ne+1)):Ge=W[ue],se(Ge,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function Yr(W){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let se;W instanceof Yr?(this.l=W.l,Fr(this,W.j),this.o=W.o,this.g=W.g,En(this,W.u),this.h=W.h,kn(this,ui(W.i)),this.m=W.m):W&&(se=String(W).match(wr))?(this.l=!1,Fr(this,se[1]||"",!0),this.o=ls(se[2]||""),this.g=ls(se[3]||"",!0),En(this,se[4]),this.h=ls(se[5]||"",!0),kn(this,se[6]||"",!0),this.m=ls(se[7]||"")):(this.l=!1,this.i=new Or(null,this.l))}Yr.prototype.toString=function(){const W=[];var se=this.j;se&&W.push(An(se,ln,!0),":");var ue=this.g;return(ue||se=="file")&&(W.push("//"),(se=this.o)&&W.push(An(se,ln,!0),"@"),W.push(et(ue).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ue=this.u,ue!=null&&W.push(":",String(ue))),(ue=this.h)&&(this.g&&ue.charAt(0)!="/"&&W.push("/"),W.push(An(ue,ue.charAt(0)=="/"?ci:rn,!0))),(ue=this.i.toString())&&W.push("?",ue),(ue=this.m)&&W.push("#",An(ue,ma)),W.join("")},Yr.prototype.resolve=function(W){const se=Jr(this);let ue=!!W.j;ue?Fr(se,W.j):ue=!!W.o,ue?se.o=W.o:ue=!!W.g,ue?se.g=W.g:ue=W.u!=null;var Ne=W.h;if(ue)En(se,W.u);else if(ue=!!W.h){if(Ne.charAt(0)!="/")if(this.g&&!this.h)Ne="/"+Ne;else{var Ge=se.h.lastIndexOf("/");Ge!=-1&&(Ne=se.h.slice(0,Ge+1)+Ne)}if(Ge=Ne,Ge==".."||Ge==".")Ne="";else if(Ge.indexOf("./")!=-1||Ge.indexOf("/.")!=-1){Ne=Ge.lastIndexOf("/",0)==0,Ge=Ge.split("/");const rt=[];for(let Vt=0;Vt<Ge.length;){const Wr=Ge[Vt++];Wr=="."?Ne&&Vt==Ge.length&&rt.push(""):Wr==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),Ne&&Vt==Ge.length&&rt.push("")):(rt.push(Wr),Ne=!0)}Ne=rt.join("/")}else Ne=Ge}return ue?se.h=Ne:ue=W.i.toString()!=="",ue?kn(se,ui(W.i)):ue=!!W.m,ue&&(se.m=W.m),se};function Jr(W){return new Yr(W)}function Fr(W,se,ue){W.j=ue?ls(se,!0):se,W.j&&(W.j=W.j.replace(/:$/,""))}function En(W,se){if(se){if(se=Number(se),isNaN(se)||se<0)throw Error("Bad port number "+se);W.u=se}else W.u=null}function kn(W,se,ue){se instanceof Or?(W.i=se,ks(W.i,W.l)):(ue||(se=An(se,Fs)),W.i=new Or(se,W.l))}function Hr(W,se,ue){W.i.set(se,ue)}function Ls(W){return Hr(W,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),W}function ls(W,se){return W?se?decodeURI(W.replace(/%25/g,"%2525")):decodeURIComponent(W):""}function An(W,se,ue){return typeof W=="string"?(W=encodeURI(W).replace(se,Ds),ue&&(W=W.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W):null}function Ds(W){return W=W.charCodeAt(0),"%"+(W>>4&15).toString(16)+(W&15).toString(16)}var ln=/[#\/\?@]/g,rn=/[#\?:]/g,ci=/[#\?]/g,Fs=/[#\?@]/g,ma=/#/g;function Or(W,se){this.h=this.g=null,this.i=W||null,this.j=!!se}function cs(W){W.g||(W.g=new Map,W.h=0,W.i&&Rr(W.i,function(se,ue){W.add(decodeURIComponent(se.replace(/\+/g," ")),ue)}))}r=Or.prototype,r.add=function(W,se){cs(this),this.i=null,W=ki(this,W);let ue=this.g.get(W);return ue||this.g.set(W,ue=[]),ue.push(se),this.h+=1,this};function Bs(W,se){cs(W),se=ki(W,se),W.g.has(se)&&(W.i=null,W.h-=W.g.get(se).length,W.g.delete(se))}function Ki(W,se){return cs(W),se=ki(W,se),W.g.has(se)}r.forEach=function(W,se){cs(this),this.g.forEach(function(ue,Ne){ue.forEach(function(Ge){W.call(se,Ge,Ne,this)},this)},this)};function Ia(W,se){cs(W);let ue=[];if(typeof se=="string")Ki(W,se)&&(ue=ue.concat(W.g.get(ki(W,se))));else for(W=Array.from(W.g.values()),se=0;se<W.length;se++)ue=ue.concat(W[se]);return ue}r.set=function(W,se){return cs(this),this.i=null,W=ki(this,W),Ki(this,W)&&(this.h-=this.g.get(W).length),this.g.set(W,[se]),this.h+=1,this},r.get=function(W,se){return W?(W=Ia(this,W),W.length>0?String(W[0]):se):se};function Xi(W,se,ue){Bs(W,se),ue.length>0&&(W.i=null,W.g.set(ki(W,se),d(ue)),W.h+=ue.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const W=[],se=Array.from(this.g.keys());for(let Ne=0;Ne<se.length;Ne++){var ue=se[Ne];const Ge=et(ue);ue=Ia(this,ue);for(let rt=0;rt<ue.length;rt++){let Vt=Ge;ue[rt]!==""&&(Vt+="="+et(ue[rt])),W.push(Vt)}}return this.i=W.join("&")};function ui(W){const se=new Or;return se.i=W.i,W.g&&(se.g=new Map(W.g),se.h=W.h),se}function ki(W,se){return se=String(se),W.j&&(se=se.toLowerCase()),se}function ks(W,se){se&&!W.j&&(cs(W),W.i=null,W.g.forEach(function(ue,Ne){const Ge=Ne.toLowerCase();Ne!=Ge&&(Bs(this,Ne),Xi(this,Ge,ue))},W)),W.j=se}function Ei(W,se){const ue=new Dt;if(o.Image){const Ne=new Image;Ne.onload=u(es,ue,"TestLoadImage: loaded",!0,se,Ne),Ne.onerror=u(es,ue,"TestLoadImage: error",!1,se,Ne),Ne.onabort=u(es,ue,"TestLoadImage: abort",!1,se,Ne),Ne.ontimeout=u(es,ue,"TestLoadImage: timeout",!1,se,Ne),o.setTimeout(function(){Ne.ontimeout&&Ne.ontimeout()},1e4),Ne.src=W}else se(!1)}function Es(W,se){const ue=new Dt,Ne=new AbortController,Ge=setTimeout(()=>{Ne.abort(),es(ue,"TestPingServer: timeout",!1,se)},1e4);fetch(W,{signal:Ne.signal}).then(rt=>{clearTimeout(Ge),rt.ok?es(ue,"TestPingServer: ok",!0,se):es(ue,"TestPingServer: server error",!1,se)}).catch(()=>{clearTimeout(Ge),es(ue,"TestPingServer: error",!1,se)})}function es(W,se,ue,Ne,Ge){try{Ge&&(Ge.onload=null,Ge.onerror=null,Ge.onabort=null,Ge.ontimeout=null),Ne(ue)}catch{}}function Pa(){this.g=new lt}function Cr(W){this.i=W.Sb||null,this.h=W.ab||!1}f(Cr,ut),Cr.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(W,se){ye.call(this),this.H=W,this.o=se,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Vs,ye),r=Vs.prototype,r.open=function(W,se){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=W,this.D=se,this.readyState=1,Ys(this)},r.send=function(W){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const se={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};W&&(se.body=W),(this.H||o).fetch(new Request(this.D,se)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=0},r.Pa=function(W){if(this.g&&(this.l=W,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=W.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")W.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in W){if(this.j=W.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ac(this)}else W.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ac(W){W.j.read().then(W.Ma.bind(W)).catch(W.ga.bind(W))}r.Ma=function(W){if(this.g){if(this.o&&W.value)this.response.push(W.value);else if(!this.o){var se=W.value?W.value:new Uint8Array(0);(se=this.B.decode(se,{stream:!W.done}))&&(this.response=this.responseText+=se)}W.done?mo(this):Ys(this),this.readyState==3&&Ac(this)}},r.Oa=function(W){this.g&&(this.response=this.responseText=W,mo(this))},r.Na=function(W){this.g&&(this.response=W,mo(this))},r.ga=function(){this.g&&mo(this)};function mo(W){W.readyState=4,W.l=null,W.j=null,W.B=null,Ys(W)}r.setRequestHeader=function(W,se){this.A.append(W,se)},r.getResponseHeader=function(W){return this.h&&this.h.get(W.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const W=[],se=this.h.entries();for(var ue=se.next();!ue.done;)ue=ue.value,W.push(ue[0]+": "+ue[1]),ue=se.next();return W.join(`\r
`)};function Ys(W){W.onreadystatechange&&W.onreadystatechange.call(W)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(W){this.m=W?"include":"same-origin"}});function Ra(W){let se="";return C(W,function(ue,Ne){se+=Ne,se+=":",se+=ue,se+=`\r
`}),se}function ul(W,se,ue){e:{for(Ne in ue){var Ne=!1;break e}Ne=!0}Ne||(ue=Ra(ue),typeof W=="string"?ue!=null&&et(ue):Hr(W,se,ue))}function Fn(W){ye.call(this),this.headers=new Map,this.L=W||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Fn,ye);var Oo=/^https?$/i,ql=["POST","PUT"];r=Fn.prototype,r.Fa=function(W){this.H=W},r.ea=function(W,se,ue,Ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+W);se=se?se.toUpperCase():"GET",this.D=W,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Le.g(),this.g.onreadystatechange=h(a(this.Ca,this));try{this.B=!0,this.g.open(se,String(W),!0),this.B=!1}catch(rt){Yi(this,rt);return}if(W=ue||"",ue=new Map(this.headers),Ne)if(Object.getPrototypeOf(Ne)===Object.prototype)for(var Ge in Ne)ue.set(Ge,Ne[Ge]);else if(typeof Ne.keys=="function"&&typeof Ne.get=="function")for(const rt of Ne.keys())ue.set(rt,Ne.get(rt));else throw Error("Unknown input type for opt_headers: "+String(Ne));Ne=Array.from(ue.keys()).find(rt=>rt.toLowerCase()=="content-type"),Ge=o.FormData&&W instanceof o.FormData,!(Array.prototype.indexOf.call(ql,se,void 0)>=0)||Ne||Ge||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,Vt]of ue)this.g.setRequestHeader(rt,Vt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(W),this.v=!1}catch(rt){Yi(this,rt)}};function Yi(W,se){W.h=!1,W.g&&(W.j=!0,W.g.abort(),W.j=!1),W.l=se,W.o=5,go(W),Za(W)}function go(W){W.A||(W.A=!0,Re(W,"complete"),Re(W,"error"))}r.abort=function(W){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=W||7,Re(this,"complete"),Re(this,"abort"),Za(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),Fn.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wi(this):this.Xa())},r.Xa=function(){wi(this)};function wi(W){if(W.h&&typeof s<"u"){if(W.v&&Zi(W)==4)setTimeout(W.Ca.bind(W),0);else if(Re(W,"readystatechange"),Zi(W)==4){W.h=!1;try{const rt=W.ca();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var se=!0;break e;default:se=!1}var ue;if(!(ue=se)){var Ne;if(Ne=rt===0){let Vt=String(W.D).match(wr)[1]||null;!Vt&&o.self&&o.self.location&&(Vt=o.self.location.protocol.slice(0,-1)),Ne=!Oo.test(Vt?Vt.toLowerCase():"")}ue=Ne}if(ue)Re(W,"complete"),Re(W,"success");else{W.o=6;try{var Ge=Zi(W)>2?W.g.statusText:""}catch{Ge=""}W.l=Ge+" ["+W.ca()+"]",go(W)}}finally{Za(W)}}}}function Za(W,se){if(W.g){W.m&&(clearTimeout(W.m),W.m=null);const ue=W.g;W.g=null,se||Re(W,"ready");try{ue.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zi(W){return W.g?W.g.readyState:0}r.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(W){if(this.g){var se=this.g.responseText;return W&&se.indexOf(W)==0&&(se=se.substring(W.length)),Je(se)}};function dl(W){try{if(!W.g)return null;if("response"in W.g)return W.g.response;switch(W.F){case"":case"text":return W.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in W.g)return W.g.mozResponseArrayBuffer}return null}catch{return null}}function hl(W){const se={};W=(W.g&&Zi(W)>=2&&W.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ne=0;Ne<W.length;Ne++){if(E(W[Ne]))continue;var ue=Et(W[Ne]);const Ge=ue[0];if(ue=ue[1],typeof ue!="string")continue;ue=ue.trim();const rt=se[Ge]||[];se[Ge]=rt,rt.push(ue)}O(se,function(Ne){return Ne.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(W,se,ue){return ue&&ue.internalChannelParams&&ue.internalChannelParams[W]||se}function yo(W){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,W),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,W),this.Za=di("retryDelaySeedMs",1e4,W),this.Ta=di("forwardChannelMaxRetries",2,W),this.va=di("forwardChannelRequestTimeoutMs",2e4,W),this.ma=W&&W.xmlHttpFactory||void 0,this.Ua=W&&W.Rb||void 0,this.Aa=W&&W.useFetchStreams||!1,this.O=void 0,this.L=W&&W.supportsCrossDomainXhr||!1,this.M="",this.h=new Nt(W&&W.concurrentRequestLimit),this.Ba=new Pa,this.S=W&&W.fastHandshake||!1,this.R=W&&W.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=W&&W.Pb||!1,W&&W.ua&&this.j.ua(),W&&W.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&W&&W.detectBufferingProxy||!1,this.ia=void 0,W&&W.longPollingTimeout&&W.longPollingTimeout>0&&(this.ia=W.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yo.prototype,r.ka=8,r.I=1,r.connect=function(W,se,ue,Ne){Tt(0),this.W=W,this.H=se||{},ue&&Ne!==void 0&&(this.H.OSID=ue,this.H.OAID=Ne),this.F=this.X,this.J=Ct(this,null,this.W),ga(this)};function Qa(W){if(Ma(W),W.I==3){var se=W.V++,ue=Jr(W.J);if(Hr(ue,"SID",W.M),Hr(ue,"RID",se),Hr(ue,"TYPE","terminate"),hi(W,ue),se=new er(W,W.j,se),se.M=2,se.A=Ls(Jr(ue)),ue=!1,o.navigator&&o.navigator.sendBeacon)try{ue=o.navigator.sendBeacon(se.A.toString(),"")}catch{}!ue&&o.Image&&(new Image().src=se.A,ue=!0),ue||(se.g=or(se.j,null),se.g.ea(se.A)),se.F=Date.now(),on(se)}ht(W)}function xi(W){W.g&&(bo(W),W.g.cancel(),W.g=null)}function Ma(W){xi(W),W.v&&(o.clearTimeout(W.v),W.v=null),me(W),W.h.cancel(),W.m&&(typeof W.m=="number"&&o.clearTimeout(W.m),W.m=null)}function ga(W){if(!Gt(W.h)&&!W.m){W.m=!0;var se=W.Ea;F||P(),G||(F(),G=!0),$.add(se,W),W.D=0}}function Hl(W,se){return Pt(W.h)>=W.h.j-(W.m?1:0)?!1:W.m?(W.i=se.G.concat(W.i),!0):W.I==1||W.I==2||W.D>=(W.Sa?0:W.Ta)?!1:(W.m=sr(a(W.Ea,W,se),De(W,W.D)),W.D++,!0)}r.Ea=function(W){if(this.m)if(this.m=null,this.I==1){if(!W){this.V=Math.floor(Math.random()*1e5),W=this.V++;const Ge=new er(this,this.j,W);let rt=this.o;if(this.U&&(rt?(rt=D(rt),K(rt,this.U)):rt=this.U),this.u!==null||this.R||(Ge.J=rt,rt=null),this.S)e:{for(var se=0,ue=0;ue<this.i.length;ue++){t:{var Ne=this.i[ue];if("__data__"in Ne.map&&(Ne=Ne.map.__data__,typeof Ne=="string")){Ne=Ne.length;break t}Ne=void 0}if(Ne===void 0)break;if(se+=Ne,se>4096){se=ue;break e}if(se===4096||ue===this.i.length-1){se=ue+1;break e}}se=1e3}else se=1e3;se=ya(this,Ge,se),ue=Jr(this.J),Hr(ue,"RID",W),Hr(ue,"CVER",22),this.G&&Hr(ue,"X-HTTP-Session-Id",this.G),hi(this,ue),rt&&(this.R?se="headers="+et(Ra(rt))+"&"+se:this.u&&ul(ue,this.u,rt)),Gr(this.h,Ge),this.Ra&&Hr(ue,"TYPE","init"),this.S?(Hr(ue,"$req",se),Hr(ue,"SID","null"),Ge.U=!0,Wt(Ge,ue,null)):Wt(Ge,ue,se),this.I=2}}else this.I==3&&(W?vo(this,W):this.i.length==0||Gt(this.h)||vo(this))};function vo(W,se){var ue;se?ue=se.l:ue=W.V++;const Ne=Jr(W.J);Hr(Ne,"SID",W.M),Hr(Ne,"RID",ue),Hr(Ne,"AID",W.K),hi(W,Ne),W.u&&W.o&&ul(Ne,W.u,W.o),ue=new er(W,W.j,ue,W.D+1),W.u===null&&(ue.J=W.o),se&&(W.i=se.G.concat(W.i)),se=ya(W,ue,1e3),ue.H=Math.round(W.va*.5)+Math.round(W.va*.5*Math.random()),Gr(W.h,ue),Wt(ue,Ne,se)}function hi(W,se){W.H&&C(W.H,function(ue,Ne){Hr(se,Ne,ue)}),W.l&&C({},function(ue,Ne){Hr(se,Ne,ue)})}function ya(W,se,ue){ue=Math.min(W.i.length,ue);const Ne=W.l?a(W.l.Ka,W.l,W):null;e:{var Ge=W.i;let Wr=-1;for(;;){const rs=["count="+ue];Wr==-1?ue>0?(Wr=Ge[0].g,rs.push("ofs="+Wr)):Wr=0:rs.push("ofs="+Wr);let gn=!0;for(let ns=0;ns<ue;ns++){var rt=Ge[ns].g;const Qs=Ge[ns].map;if(rt-=Wr,rt<0)Wr=Math.max(0,Ge[ns].g-100),gn=!1;else try{rt="req"+rt+"_"||"";try{var Vt=Qs instanceof Map?Qs:Object.entries(Qs);for(const[Ti,ss]of Vt){let ji=ss;l(ss)&&(ji=at(ss)),rs.push(rt+Ti+"="+encodeURIComponent(ji))}}catch(Ti){throw rs.push(rt+"type="+encodeURIComponent("_badmap")),Ti}}catch{Ne&&Ne(Qs)}}if(gn){Vt=rs.join("&");break e}}Vt=void 0}return W=W.i.splice(0,ue),se.G=W,Vt}function Zs(W){if(!W.g&&!W.v){W.Y=1;var se=W.Da;F||P(),G||(F(),G=!0),$.add(se,W),W.A=0}}function Ai(W){return W.g||W.v||W.A>=3?!1:(W.Y++,W.v=sr(a(W.Da,W),De(W,W.A)),W.A++,!0)}r.Da=function(){if(this.v=null,ee(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var W=4*this.T;this.j.info("BP detection timer enabled: "+W),this.B=sr(a(this.Wa,this),W)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),xi(this),ee(this))};function bo(W){W.B!=null&&(o.clearTimeout(W.B),W.B=null)}function ee(W){W.g=new er(W,W.j,"rpc",W.Y),W.u===null&&(W.g.J=W.o),W.g.P=0;var se=Jr(W.na);Hr(se,"RID","rpc"),Hr(se,"SID",W.M),Hr(se,"AID",W.K),Hr(se,"CI",W.F?"0":"1"),!W.F&&W.ia&&Hr(se,"TO",W.ia),Hr(se,"TYPE","xmlhttp"),hi(W,se),W.u&&W.o&&ul(se,W.u,W.o),W.O&&(W.g.H=W.O);var ue=W.g;W=W.ba,ue.M=1,ue.A=Ls(Jr(se)),ue.u=null,ue.R=!0,mr(ue,W)}r.Va=function(){this.C!=null&&(this.C=null,xi(this),Ai(this),Tt(19))};function me(W){W.C!=null&&(o.clearTimeout(W.C),W.C=null)}function je(W,se){var ue=null;if(W.g==se){me(W),bo(W),W.g=null;var Ne=2}else if(Ft(W.h,se))ue=se.G,Pr(W.h,se),Ne=1;else return;if(W.I!=0){if(se.o)if(Ne==1){ue=se.u?se.u.length:0,se=Date.now()-se.F;var Ge=W.D;Ne=Yt(),Re(Ne,new _t(Ne,ue)),ga(W)}else Zs(W);else if(Ge=se.m,Ge==3||Ge==0&&se.X>0||!(Ne==1&&Hl(W,se)||Ne==2&&Ai(W)))switch(ue&&ue.length>0&&(se=W.h,se.i=se.i.concat(ue)),Ge){case 1:We(W,5);break;case 4:We(W,10);break;case 3:We(W,6);break;default:We(W,2)}}}function De(W,se){let ue=W.Qa+Math.floor(Math.random()*W.Za);return W.isActive()||(ue*=2),ue*se}function We(W,se){if(W.j.info("Error code "+se),se==2){var ue=a(W.bb,W),Ne=W.Ua;const Ge=!Ne;Ne=new Yr(Ne||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fr(Ne,"https"),Ls(Ne),Ge?Ei(Ne.toString(),ue):Es(Ne.toString(),ue)}else Tt(2);W.I=0,W.l&&W.l.pa(se),ht(W),Ma(W)}r.bb=function(W){W?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ht(W){if(W.I=0,W.ja=[],W.l){const se=Tr(W.h);(se.length!=0||W.i.length!=0)&&(y(W.ja,se),y(W.ja,W.i),W.h.i.length=0,d(W.i),W.i.length=0),W.l.oa()}}function Ct(W,se,ue){var Ne=ue instanceof Yr?Jr(ue):new Yr(ue);if(Ne.g!="")se&&(Ne.g=se+"."+Ne.g),En(Ne,Ne.u);else{var Ge=o.location;Ne=Ge.protocol,se=se?se+"."+Ge.hostname:Ge.hostname,Ge=+Ge.port;const rt=new Yr(null);Ne&&Fr(rt,Ne),se&&(rt.g=se),Ge&&En(rt,Ge),ue&&(rt.h=ue),Ne=rt}return ue=W.G,se=W.wa,ue&&se&&Hr(Ne,ue,se),Hr(Ne,"VER",W.ka),hi(W,Ne),Ne}function or(W,se,ue){if(se&&!W.L)throw Error("Can't create secondary domain capable XhrIo object.");return se=W.Aa&&!W.ma?new Fn(new Cr({ab:ue})):new Fn(W.ma),se.Fa(W.L),se}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gr(){}r=gr.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(W,se){return new kr(W,se)};function kr(W,se){ye.call(this),this.g=new yo(se),this.l=W,this.h=se&&se.messageUrlParams||null,W=se&&se.messageHeaders||null,se&&se.clientProtocolHeaderRequired&&(W?W["X-Client-Protocol"]="webchannel":W={"X-Client-Protocol":"webchannel"}),this.g.o=W,W=se&&se.initMessageHeaders||null,se&&se.messageContentType&&(W?W["X-WebChannel-Content-Type"]=se.messageContentType:W={"X-WebChannel-Content-Type":se.messageContentType}),se&&se.sa&&(W?W["X-WebChannel-Client-Profile"]=se.sa:W={"X-WebChannel-Client-Profile":se.sa}),this.g.U=W,(W=se&&se.Qb)&&!E(W)&&(this.g.u=W),this.A=se&&se.supportsCrossDomainXhr||!1,this.v=se&&se.sendRawJson||!1,(se=se&&se.httpSessionIdParam)&&!E(se)&&(this.g.G=se,W=this.h,W!==null&&se in W&&(W=this.h,se in W&&delete W[se])),this.j=new Gn(this)}f(kr,ye),kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){Qa(this.g)},kr.prototype.o=function(W){var se=this.g;if(typeof W=="string"){var ue={};ue.__data__=W,W=ue}else this.v&&(ue={},ue.__data__=at(W),W=ue);se.i.push(new pt(se.Ya++,W)),se.I==3&&ga(se)},kr.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,kr.Z.N.call(this)};function mn(W){st.call(this),W.__headers__&&(this.headers=W.__headers__,this.statusCode=W.__status__,delete W.__headers__,delete W.__status__);var se=W.__sm__;if(se){e:{for(const ue in se){W=ue;break e}W=void 0}(this.i=W)&&(W=this.i,se=se!==null&&W in se?se[W]:void 0),this.data=se}else this.data=W}f(mn,st);function ts(){mt.call(this),this.status=1}f(ts,mt);function Gn(W){this.g=W}f(Gn,gr),Gn.prototype.ra=function(){Re(this.g,"a")},Gn.prototype.qa=function(W){Re(this.g,new mn(W))},Gn.prototype.pa=function(W){Re(this.g,new ts)},Gn.prototype.oa=function(){Re(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,j4=function(){return new Dr},T4=function(){return Yt()},A4=At,Z1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Am=Ir,Kt.COMPLETE="complete",E4=Kt,Ut.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",ye.prototype.listen=ye.prototype.J,_f=Ut,Fn.prototype.listenOnce=Fn.prototype.K,Fn.prototype.getLastError=Fn.prototype.Ha,Fn.prototype.getLastErrorCode=Fn.prototype.ya,Fn.prototype.getStatus=Fn.prototype.ca,Fn.prototype.getResponseJson=Fn.prototype.La,Fn.prototype.getResponseText=Fn.prototype.la,Fn.prototype.send=Fn.prototype.ea,Fn.prototype.setWithCredentials=Fn.prototype.Fa,k4=Fn}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",Zb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};da.UNAUTHENTICATED=new da(null),da.GOOGLE_CREDENTIALS=new da("google-credentials-uid"),da.FIRST_PARTY=new da("first-party-uid"),da.MOCK_USER=new da("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new b4("@firebase/firestore");function Zd(){return td.logLevel}function ur(r,...t){if(td.logLevel<=jn.DEBUG){const e=t.map(iy);td.debug(`Firestore (${Eh}): ${r}`,...e)}}function vc(r,...t){if(td.logLevel<=jn.ERROR){const e=t.map(iy);td.error(`Firestore (${Eh}): ${r}`,...e)}}function gh(r,...t){if(td.logLevel<=jn.WARN){const e=t.map(iy);td.warn(`Firestore (${Eh}): ${r}`,...e)}}function iy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,I4(r,n,e)}function I4(r,t,e){let n=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw vc(n),new Error(n)}function Hn(r,t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,r||I4(t,i,n)}function an(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tr extends kh{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(da.UNAUTHENTICATED)))}shutdown(){}}class MC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class OC{constructor(t){this.t=t,this.currentUser=da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hn(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve();let s=new pc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pc,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;t.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{ur("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ur("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pc)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(ur("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Hn(typeof n.accessToken=="string",31837,{l:n}),new P4(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hn(t===null||typeof t=="string",2055,{h:t}),new da(t)}}class LC{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=da.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DC{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(da.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gC(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Hn(this.o===void 0,3512);const n=s=>{s.error!=null&&ur("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ur("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>n(s)))};const i=s=>{ur("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ur("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Hn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Qb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=BC(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%62))}return n}}function Nn(r,t){return r<t?-1:r>t?1:0}function Q1(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const i=r.charAt(n),s=t.charAt(n);if(i!==s)return i1(i)===i1(s)?Nn(i,s):i1(i)?1:-1}return Nn(r.length,t.length)}const VC=55296,zC=57343;function i1(r){const t=r.charCodeAt(0);return t>=VC&&t<=zC}function yh(r,t,e){return r.length===t.length&&r.every(((n,i)=>e(n,t[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__name__";class kl{constructor(t,e,n){e===void 0?e=0:e>t.length&&Xr(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Xr(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return kl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof kl?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=kl.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return Nn(t.length,e.length)}static compareSegments(t,e){const n=kl.isNumericId(t),i=kl.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?kl.extractNumericId(t).compare(kl.extractNumericId(e)):Q1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lu.fromString(t.substring(4,t.length-2))}}class ms extends kl{construct(t,e,n){return new ms(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new tr(xt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((i=>i.length>0)))}return new ms(e)}static emptyPath(){return new ms([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends kl{construct(t,e,n){return new Wi(t,e,n)}static isValidIdentifier(t){return UC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jb}static keyField(){return new Wi([Jb])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(n.length===0)throw new tr(xt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new tr(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new tr(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new tr(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wi(e)}static emptyPath(){return new Wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.path=t}static fromPath(t){return new Mr(ms.fromString(t))}static fromName(t){return new Mr(ms.fromString(t).popFirst(5))}static empty(){return new Mr(ms.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ms.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ms.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mr(new ms(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(r,t,e){if(!e)throw new tr(xt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $C(r,t,e,n){if(t===!0&&n===!0)throw new tr(xt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function ew(r){if(!Mr.isDocumentKey(r))throw new tr(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tw(r){if(Mr.isDocumentKey(r))throw new tr(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M4(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function N0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Xr(12329,{type:typeof r})}function Dl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new tr(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=N0(r);throw new tr(xt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(r,t){const e={typeString:r};return t&&(e.value=t),e}function rp(r,t){if(!M4(r))throw new tr(xt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const i=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const o=r[n];if(i&&typeof o!==i){e=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${n}' field to equal '${s.value}'`;break}}if(e)throw new tr(xt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=-62135596800,nw=1e6;class vs{static now(){return vs.fromMillis(Date.now())}static fromDate(t){return vs.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*nw);return new vs(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tr(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tr(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<rw)throw new tr(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tr(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(t){return this.seconds===t.seconds?Nn(this.nanoseconds,t.nanoseconds):Nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rp(t,vs._jsonSchema))return new vs(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vs._jsonSchemaVersion="firestore/timestamp/1.0",vs._jsonSchema={type:bi("string",vs._jsonSchemaVersion),seconds:bi("number"),nanoseconds:bi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{static fromTimestamp(t){return new tn(t)}static min(){return new tn(new vs(0,0))}static max(){return new tn(new vs(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=-1;function qC(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=tn.fromTimestamp(n===1e9?new vs(e+1,0):new vs(e,n));return new uu(i,Mr.empty(),t)}function HC(r){return new uu(r.readTime,r.key,Uf)}class uu{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new uu(tn.min(),Mr.empty(),Uf)}static max(){return new uu(tn.max(),Mr.empty(),Uf)}}function WC(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Mr.comparator(r.documentKey,t.documentKey),e!==0?e:Nn(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){if(r.code!==xt.FAILED_PRECONDITION||r.message!==GC)throw r;ur("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Xr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new kt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof kt?e:kt.resolve(e)}catch(e){return kt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):kt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):kt.reject(e)}static resolve(t){return new kt(((e,n)=>{e(t)}))}static reject(t){return new kt(((e,n)=>{n(t)}))}static waitFor(t){return new kt(((e,n)=>{let i=0,s=0,o=!1;t.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&e()}),(c=>n(c)))})),o=!0,s===i&&e()}))}static or(t){let e=kt.resolve(!1);for(const n of t)e=e.next((i=>i?kt.resolve(i):n()));return e}static forEach(t,e){const n=[];return t.forEach(((i,s)=>{n.push(e.call(this,i,s))})),this.waitFor(n)}static mapArray(t,e){return new kt(((n,i)=>{const s=t.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const a=c;e(t[a]).next((u=>{o[a]=u,++l,l===s&&n(o)}),(u=>i(u)))}}))}static doWhile(t,e){return new kt(((n,i)=>{const s=()=>{t()===!0?e().next((()=>{s()}),i):n()};s()}))}}function XC(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Th(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}C0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=-1;function k0(r){return r==null}function Km(r){return r===0&&1/r==-1/0}function YC(r){return typeof r=="number"&&Number.isInteger(r)&&!Km(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="";function ZC(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=sw(t)),t=QC(r.get(e),t);return sw(t)}function QC(r,t){let e=t;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":e+="";break;case O4:e+="";break;default:e+=s}}return e}function sw(r){return r+O4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function xu(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function L4(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,e){this.comparator=t,this.root=e||Hi.EMPTY}insert(t,e){return new Os(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(t){return new Os(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new em(this.root,t,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new em(this.root,t,this.comparator,!0)}}class em{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Hi{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=n??Hi.RED,this.left=i??Hi.EMPTY,this.right=s??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Hi(t??this.key,e??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Hi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Xr(27949);return t+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1;Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xr(57766)}get value(){throw Xr(16141)}get color(){throw Xr(16727)}get left(){throw Xr(29726)}get right(){throw Xr(36894)}copy(t,e,n,i,s){return this}insert(t,e,n){return new Hi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.comparator=t,this.data=new Os(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new aw(this.data.getIterator())}getIteratorFrom(t){return new aw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof Ci)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ci(this.comparator);return e.data=t,e}}class aw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.fields=t,t.sort(Wi.comparator)}static empty(){return new uo([])}unionWith(t){let e=new Ci(Wi.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new uo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yh(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D4("Invalid base64 string: "+s):s}})(t);return new Gi(e)}static fromUint8Array(t){const e=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new Gi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const JC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(r){if(Hn(!!r,39018),typeof r=="string"){let t=0;const e=JC.exec(r);if(Hn(!!e,46558,{timestamp:r}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ri(r.seconds),nanos:ri(r.nanos)}}function ri(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hu(r){return typeof r=="string"?Gi.fromBase64String(r):Gi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="server_timestamp",B4="__type__",V4="__previous_value__",z4="__local_write_time__";function ly(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[B4])==null?void 0:n.stringValue)===F4}function E0(r){const t=r.mapValue.fields[V4];return ly(t)?E0(t):t}function $f(r){const t=du(r.mapValue.fields[z4].timestampValue);return new vs(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,e,n,i,s,o,l,c,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=a,this.isUsingEmulator=u}}const Xm="(default)";class qf{constructor(t,e){this.projectId=t,this.database=e||Xm}static empty(){return new qf("","")}get isDefaultDatabase(){return this.database===Xm}isEqual(t){return t instanceof qf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="__type__",tk="__max__",tm={mapValue:{}},$4="__vector__",Ym="value";function fu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ly(r)?4:nk(r)?9007199254740991:rk(r)?10:11:Xr(28295,{value:r})}function Fl(r,t){if(r===t)return!0;const e=fu(r);if(e!==fu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return $f(r).isEqual($f(t));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=du(i.timestampValue),l=du(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(i,s){return hu(i.bytesValue).isEqual(hu(s.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(i,s){return ri(i.geoPointValue.latitude)===ri(s.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(s.geoPointValue.longitude)})(r,t);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ri(i.integerValue)===ri(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ri(i.doubleValue),l=ri(s.doubleValue);return o===l?Km(o)===Km(l):isNaN(o)&&isNaN(l)}return!1})(r,t);case 9:return yh(r.arrayValue.values||[],t.arrayValue.values||[],Fl);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(iw(o)!==iw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Fl(o[c],l[c])))return!1;return!0})(r,t);default:return Xr(52216,{left:r})}}function Hf(r,t){return(r.values||[]).find((e=>Fl(e,t)))!==void 0}function vh(r,t){if(r===t)return 0;const e=fu(r),n=fu(t);if(e!==n)return Nn(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nn(r.booleanValue,t.booleanValue);case 2:return(function(s,o){const l=ri(s.integerValue||s.doubleValue),c=ri(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,t);case 3:return ow(r.timestampValue,t.timestampValue);case 4:return ow($f(r),$f(t));case 5:return Q1(r.stringValue,t.stringValue);case 6:return(function(s,o){const l=hu(s),c=hu(o);return l.compareTo(c)})(r.bytesValue,t.bytesValue);case 7:return(function(s,o){const l=s.split("/"),c=o.split("/");for(let a=0;a<l.length&&a<c.length;a++){const u=Nn(l[a],c[a]);if(u!==0)return u}return Nn(l.length,c.length)})(r.referenceValue,t.referenceValue);case 8:return(function(s,o){const l=Nn(ri(s.latitude),ri(o.latitude));return l!==0?l:Nn(ri(s.longitude),ri(o.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return lw(r.arrayValue,t.arrayValue);case 10:return(function(s,o){var h,d,y,g;const l=s.fields||{},c=o.fields||{},a=(h=l[Ym])==null?void 0:h.arrayValue,u=(d=c[Ym])==null?void 0:d.arrayValue,f=Nn(((y=a==null?void 0:a.values)==null?void 0:y.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:lw(a,u)})(r.mapValue,t.mapValue);case 11:return(function(s,o){if(s===tm.mapValue&&o===tm.mapValue)return 0;if(s===tm.mapValue)return 1;if(o===tm.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),a=o.fields||{},u=Object.keys(a);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const h=Q1(c[f],u[f]);if(h!==0)return h;const d=vh(l[c[f]],a[u[f]]);if(d!==0)return d}return Nn(c.length,u.length)})(r.mapValue,t.mapValue);default:throw Xr(23264,{he:e})}}function ow(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nn(r,t);const e=du(r),n=du(t),i=Nn(e.seconds,n.seconds);return i!==0?i:Nn(e.nanos,n.nanos)}function lw(r,t){const e=r.values||[],n=t.values||[];for(let i=0;i<e.length&&i<n.length;++i){const s=vh(e[i],n[i]);if(s)return s}return Nn(e.length,n.length)}function bh(r){return J1(r)}function J1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const n=du(e);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return hu(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return Mr.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let n="[",i=!0;for(const s of e.values||[])i?i=!1:n+=",",n+=J1(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(e){const n=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${J1(e.fields[o])}`;return i+"}"})(r.mapValue):Xr(61005,{value:r})}function Tm(r){switch(fu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=E0(r);return t?16+Tm(t):16;case 5:return 2*r.stringValue.length;case 6:return hu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Tm(s)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return xu(n.fields,((s,o)=>{i+=s.length+Tm(o)})),i})(r.mapValue);default:throw Xr(13486,{value:r})}}function cw(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function e2(r){return!!r&&"integerValue"in r}function cy(r){return!!r&&"arrayValue"in r}function uw(r){return!!r&&"nullValue"in r}function dw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jm(r){return!!r&&"mapValue"in r}function rk(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[U4])==null?void 0:n.stringValue)===$4}function Tf(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return xu(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Tf(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tf(r.arrayValue.values[e]);return t}return{...r}}function nk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.value=t}static empty(){return new Wa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!jm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tf(e)}setAll(t){let e=Wi.emptyPath(),n={},i=[];t.forEach(((o,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,n,i),n={},i=[],e=l.popLast()}o?n[l.lastSegment()]=Tf(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());jm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){xu(e,((i,s)=>t[i]=s));for(const i of n)delete t[i]}clone(){return new Wa(Tf(this.value))}}function q4(r){const t=[];return xu(r.fields,((e,n)=>{const i=new Wi([e]);if(jm(n)){const s=q4(n.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)})),new uo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,e,n,i,s,o,l){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new ha(t,0,tn.min(),tn.min(),tn.min(),Wa.empty(),0)}static newFoundDocument(t,e,n,i){return new ha(t,1,e,tn.min(),n,i,0)}static newNoDocument(t,e){return new ha(t,2,e,tn.min(),tn.min(),Wa.empty(),0)}static newUnknownDocument(t,e){return new ha(t,3,e,tn.min(),tn.min(),Wa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(tn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ha&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ha(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,e){this.position=t,this.inclusive=e}}function hw(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const s=t[i],o=r.position[i];if(s.field.isKeyField()?n=Mr.comparator(Mr.fromName(o.referenceValue),e.key):n=vh(o,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function fw(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!Fl(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,e="asc"){this.field=t,this.dir=e}}function sk(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H4=class{};class vi extends H4{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new ak(t,e,n):e==="array-contains"?new ck(t,n):e==="in"?new uk(t,n):e==="not-in"?new dk(t,n):e==="array-contains-any"?new hk(t,n):new vi(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new ok(t,n):new lk(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(vh(e,this.value)):e!==null&&fu(this.value)===fu(e)&&this.matchesComparison(vh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rl extends H4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new rl(t,e)}matches(t){return W4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W4(r){return r.op==="and"}function G4(r){return ik(r)&&W4(r)}function ik(r){for(const t of r.filters)if(t instanceof rl)return!1;return!0}function t2(r){if(r instanceof vi)return r.field.canonicalString()+r.op.toString()+bh(r.value);if(G4(r))return r.filters.map((t=>t2(t))).join(",");{const t=r.filters.map((e=>t2(e))).join(",");return`${r.op}(${t})`}}function K4(r,t){return r instanceof vi?(function(n,i){return i instanceof vi&&n.op===i.op&&n.field.isEqual(i.field)&&Fl(n.value,i.value)})(r,t):r instanceof rl?(function(n,i){return i instanceof rl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,l)=>s&&K4(o,i.filters[l])),!0):!1})(r,t):void Xr(19439)}function X4(r){return r instanceof vi?(function(e){return`${e.field.canonicalString()} ${e.op} ${bh(e.value)}`})(r):r instanceof rl?(function(e){return e.op.toString()+" {"+e.getFilters().map(X4).join(" ,")+"}"})(r):"Filter"}class ak extends vi{constructor(t,e,n){super(t,e,n),this.key=Mr.fromName(n.referenceValue)}matches(t){const e=Mr.comparator(t.key,this.key);return this.matchesComparison(e)}}class ok extends vi{constructor(t,e){super(t,"in",e),this.keys=Y4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class lk extends vi{constructor(t,e){super(t,"not-in",e),this.keys=Y4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Y4(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((n=>Mr.fromName(n.referenceValue)))}class ck extends vi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return cy(e)&&Hf(e.arrayValue,this.value)}}class uk extends vi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hf(this.value.arrayValue,e)}}class dk extends vi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hf(this.value.arrayValue,e)}}class hk extends vi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!cy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>Hf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,e=null,n=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function pw(r,t=null,e=[],n=[],i=null,s=null,o=null){return new fk(r,t,e,n,i,s,o)}function uy(r){const t=an(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>t2(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),k0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>bh(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>bh(n))).join(",")),t.Te=e}return t.Te}function dy(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!sk(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!K4(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!fw(r.startAt,t.startAt)&&fw(r.endAt,t.endAt)}function r2(r){return Mr.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,e=null,n=[],i=[],s=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pk(r,t,e,n,i,s,o,l){return new np(r,t,e,n,i,s,o,l)}function hy(r){return new np(r)}function mw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z4(r){return r.collectionGroup!==null}function jf(r){const t=an(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ci(Wi.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((a=>{a.isInequality()&&(l=l.add(a.field))}))})),l})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Qm(s,n))})),e.has(Wi.keyField().canonicalString())||t.Ie.push(new Qm(Wi.keyField(),n))}return t.Ie}function Il(r){const t=an(r);return t.Ee||(t.Ee=mk(t,jf(r))),t.Ee}function mk(r,t){if(r.limitType==="F")return pw(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Qm(i.field,s)}));const e=r.endAt?new Zm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Zm(r.startAt.position,r.startAt.inclusive):null;return pw(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function n2(r,t){const e=r.filters.concat([t]);return new np(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function s2(r,t,e){return new np(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function A0(r,t){return dy(Il(r),Il(t))&&r.limitType===t.limitType}function Q4(r){return`${uy(Il(r))}|lt:${r.limitType}`}function Qd(r){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((i=>X4(i))).join(", ")}]`),k0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>bh(i))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>bh(i))).join(",")),`Target(${n})`})(Il(r))}; limitType=${r.limitType})`}function T0(r,t){return t.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Mr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,t)&&(function(n,i){for(const s of jf(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,t)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,t)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const a=hw(o,l,c);return o.inclusive?a<=0:a<0})(n.startAt,jf(n),i)||n.endAt&&!(function(o,l,c){const a=hw(o,l,c);return o.inclusive?a>=0:a>0})(n.endAt,jf(n),i))})(r,t)}function gk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function J4(r){return(t,e)=>{let n=!1;for(const i of jf(r)){const s=yk(i,t,e);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function yk(r,t,e){const n=r.field.isKeyField()?Mr.comparator(t.key,e.key):(function(s,o,l){const c=o.data.field(s),a=l.data.field(s);return c!==null&&a!==null?vh(c,a):Xr(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Xr(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){xu(this.inner,((e,n)=>{for(const[i,s]of n)t(i,s)}))}isEmpty(){return L4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new Os(Mr.comparator);function bc(){return vk}const e3=new Os(Mr.comparator);function Sf(...r){let t=e3;for(const e of r)t=t.insert(e.key,e);return t}function t3(r){let t=e3;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Yu(){return If()}function r3(){return If()}function If(){return new hd((r=>r.toString()),((r,t)=>r.isEqual(t)))}const bk=new Os(Mr.comparator),wk=new Ci(Mr.comparator);function Cn(...r){let t=wk;for(const e of r)t=t.add(e);return t}const xk=new Ci(Nn);function _k(){return xk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(t)?"-0":t}}function n3(r){return{integerValue:""+r}}function Sk(r,t){return YC(t)?n3(t):fy(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this._=void 0}}function Nk(r,t,e){return r instanceof Jm?(function(i,s){const o={fields:{[B4]:{stringValue:F4},[z4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ly(s)&&(s=E0(s)),s&&(o.fields[V4]=s),{mapValue:o}})(e,t):r instanceof Wf?i3(r,t):r instanceof Gf?a3(r,t):(function(i,s){const o=s3(i,s),l=gw(o)+gw(i.Ae);return e2(o)&&e2(i.Ae)?n3(l):fy(i.serializer,l)})(r,t)}function Ck(r,t,e){return r instanceof Wf?i3(r,t):r instanceof Gf?a3(r,t):e}function s3(r,t){return r instanceof e0?(function(n){return e2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(t)?t:{integerValue:0}:null}class Jm extends j0{}class Wf extends j0{constructor(t){super(),this.elements=t}}function i3(r,t){const e=o3(t);for(const n of r.elements)e.some((i=>Fl(i,n)))||e.push(n);return{arrayValue:{values:e}}}class Gf extends j0{constructor(t){super(),this.elements=t}}function a3(r,t){let e=o3(t);for(const n of r.elements)e=e.filter((i=>!Fl(i,n)));return{arrayValue:{values:e}}}class e0 extends j0{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function gw(r){return ri(r.integerValue||r.doubleValue)}function o3(r){return cy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function kk(r,t){return r.field.isEqual(t.field)&&(function(n,i){return n instanceof Wf&&i instanceof Wf||n instanceof Gf&&i instanceof Gf?yh(n.elements,i.elements,Fl):n instanceof e0&&i instanceof e0?Fl(n.Ae,i.Ae):n instanceof Jm&&i instanceof Jm})(r.transform,t.transform)}class Ek{constructor(t,e){this.version=t,this.transformResults=e}}class el{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new el}static exists(t){return new el(void 0,t)}static updateTime(t){return new el(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Im(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class I0{}function l3(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new py(r.key,el.none()):new sp(r.key,r.data,el.none());{const e=r.data,n=Wa.empty();let i=new Ci(Wi.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new _u(r.key,n,new uo(i.toArray()),el.none())}}function Ak(r,t,e){r instanceof sp?(function(i,s,o){const l=i.value.clone(),c=vw(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(r,t,e):r instanceof _u?(function(i,s,o){if(!Im(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=vw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(c3(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(r,t,e):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Pf(r,t,e,n){return r instanceof sp?(function(s,o,l,c){if(!Im(s.precondition,o))return l;const a=s.value.clone(),u=bw(s.fieldTransforms,c,o);return a.setAll(u),o.convertToFoundDocument(o.version,a).setHasLocalMutations(),null})(r,t,e,n):r instanceof _u?(function(s,o,l,c){if(!Im(s.precondition,o))return l;const a=bw(s.fieldTransforms,c,o),u=o.data;return u.setAll(c3(s)),u.setAll(a),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(r,t,e,n):(function(s,o,l){return Im(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(r,t,e)}function Tk(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),s=s3(n.transform,i||null);s!=null&&(e===null&&(e=Wa.empty()),e.set(n.field,s))}return e||null}function yw(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yh(n,i,((s,o)=>kk(s,o)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class sp extends I0{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _u extends I0{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c3(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function vw(r,t,e){const n=new Map;Hn(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let i=0;i<e.length;i++){const s=r[i],o=s.transform,l=t.data.field(s.field);n.set(s.field,Ck(o,l,e[i]))}return n}function bw(r,t,e){const n=new Map;for(const i of r){const s=i.transform,o=e.data.field(i.field);n.set(i.field,Nk(s,o,t))}return n}class py extends I0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jk extends I0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Ak(s,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Pf(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Pf(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=r3();return this.mutations.forEach((i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=e.has(i.key)?null:l;const c=l3(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(tn.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Cn())}isEqual(t){return this.batchId===t.batchId&&yh(this.mutations,t.mutations,((e,n)=>yw(e,n)))&&yh(this.baseMutations,t.baseMutations,((e,n)=>yw(e,n)))}}class my{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Hn(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=(function(){return bk})();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new my(t,e,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pk=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi,Tn;function Mk(r){switch(r){case xt.OK:return Xr(64938);case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0;default:return Xr(15467,{code:r})}}function u3(r){if(r===void 0)return vc("GRPC error has no .code"),xt.UNKNOWN;switch(r){case yi.OK:return xt.OK;case yi.CANCELLED:return xt.CANCELLED;case yi.UNKNOWN:return xt.UNKNOWN;case yi.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case yi.INTERNAL:return xt.INTERNAL;case yi.UNAVAILABLE:return xt.UNAVAILABLE;case yi.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case yi.NOT_FOUND:return xt.NOT_FOUND;case yi.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case yi.ABORTED:return xt.ABORTED;case yi.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case yi.DATA_LOSS:return xt.DATA_LOSS;default:return Xr(39323,{code:r})}}(Tn=yi||(yi={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new lu([4294967295,4294967295],0);function ww(r){const t=Ok().encode(r),e=new C4;return e.update(t),new Uint8Array(e.digest())}function xw(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new lu([e,n],0),new lu([i,s],0)]}class gy{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Nf(`Invalid padding: ${e}`);if(n<0)throw new Nf(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=lu.fromNumber(this.ge)}ye(t,e,n){let i=t.add(e.multiply(lu.fromNumber(n)));return i.compare(Lk)===1&&(i=new lu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ww(t),[n,i]=xw(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new gy(s,i,e);return n.forEach((l=>o.insert(l))),o}insert(t){if(this.ge===0)return;const e=ww(t),[n,i]=xw(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,ip.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new P0(tn.min(),i,new Os(Nn),bc(),Cn())}}class ip{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new ip(n,e,Cn(),Cn(),Cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,e,n,i){this.be=t,this.removedTargetIds=e,this.key=n,this.De=i}}class d3{constructor(t,e){this.targetId=t,this.Ce=e}}class h3{constructor(t,e,n=Gi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class _w{constructor(){this.ve=0,this.Fe=Sw(),this.Me=Gi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Cn(),e=Cn(),n=Cn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Xr(38017,{changeType:s})}})),new ip(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=Sw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dk{constructor(t){this.Ge=t,this.ze=new Map,this.je=bc(),this.Je=rm(),this.He=rm(),this.Ye=new Os(Nn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Xr(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,i)=>{this.rt(i)&&e(i)}))}st(t){const e=t.targetId,n=t.Ce.count,i=this.ot(e);if(i){const s=i.target;if(r2(s))if(n===0){const o=new Mr(s.path);this.et(e,o,ha.newNoDocument(o,tn.min()))}else Hn(n===1,20013,{expectedCount:n});else{const o=this._t(e);if(o!==n){const l=this.ut(t),c=l?this.ct(l,t,o):1;if(c!==0){this.it(e);const a=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,a)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=e;let o,l;try{o=hu(n).toUint8Array()}catch(c){if(c instanceof D4)return gh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new gy(o,i,s)}catch(c){return gh(c instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let i=0;return n.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(e,s,null),i++)})),i}Tt(t){const e=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&r2(l.target)){const c=new Mr(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ha.newNoDocument(c,t))}s.Be&&(e.set(o,s.ke()),s.qe())}}));let n=Cn();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((c=>{const a=this.ot(c);return!a||a.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(t)));const i=new P0(t,e,this.Ye,this.je,n);return this.je=bc(),this.Je=rm(),this.He=rm(),this.Ye=new Os(Nn),i}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new _w,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ci(Nn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ci(Nn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ur("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _w),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rm(){return new Os(Mr.comparator)}function Sw(){return new Os(Mr.comparator)}const Fk={asc:"ASCENDING",desc:"DESCENDING"},Bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vk={and:"AND",or:"OR"};class zk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function i2(r,t){return r.useProto3Json||k0(t)?t:{value:t}}function t0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function f3(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Uk(r,t){return t0(r,t.toTimestamp())}function Pl(r){return Hn(!!r,49232),tn.fromTimestamp((function(e){const n=du(e);return new vs(n.seconds,n.nanos)})(r))}function yy(r,t){return a2(r,t).canonicalString()}function a2(r,t){const e=(function(i){return new ms(["projects",i.projectId,"databases",i.database])})(r).child("documents");return t===void 0?e:e.child(t)}function p3(r){const t=ms.fromString(r);return Hn(b3(t),10190,{key:t.toString()}),t}function o2(r,t){return yy(r.databaseId,t.path)}function a1(r,t){const e=p3(t);if(e.get(1)!==r.databaseId.projectId)throw new tr(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new tr(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Mr(g3(e))}function m3(r,t){return yy(r.databaseId,t)}function $k(r){const t=p3(r);return t.length===4?ms.emptyPath():g3(t)}function l2(r){return new ms(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function g3(r){return Hn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Nw(r,t,e){return{name:o2(r,t),fields:e.value.mapValue.fields}}function qk(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:Xr(39313,{state:a})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=(function(a,u){return a.useProto3Json?(Hn(u===void 0||typeof u=="string",58123),Gi.fromBase64String(u||"")):(Hn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Gi.fromUint8Array(u||new Uint8Array))})(r,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&(function(a){const u=a.code===void 0?xt.UNKNOWN:u3(a.code);return new tr(u,a.message||"")})(o);e=new h3(n,i,s,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=a1(r,n.document.name),s=Pl(n.document.updateTime),o=n.document.createTime?Pl(n.document.createTime):tn.min(),l=new Wa({mapValue:{fields:n.document.fields}}),c=ha.newFoundDocument(i,s,o,l),a=n.targetIds||[],u=n.removedTargetIds||[];e=new Pm(a,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=a1(r,n.document),s=n.readTime?Pl(n.readTime):tn.min(),o=ha.newNoDocument(i,s),l=n.removedTargetIds||[];e=new Pm([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=a1(r,n.document),s=n.removedTargetIds||[];e=new Pm([],s,i,null)}else{if(!("filter"in t))return Xr(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Rk(i,s),l=n.targetId;e=new d3(l,o)}}return e}function Hk(r,t){let e;if(t instanceof sp)e={update:Nw(r,t.key,t.value)};else if(t instanceof py)e={delete:o2(r,t.key)};else if(t instanceof _u)e={update:Nw(r,t.key,t.data),updateMask:eE(t.fieldMask)};else{if(!(t instanceof jk))return Xr(16599,{Vt:t.type});e={verify:o2(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(s,o){const l=o.transform;if(l instanceof Jm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof e0)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Xr(20930,{transform:o.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Uk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xr(27497)})(r,t.precondition)),e}function Wk(r,t){return r&&r.length>0?(Hn(t!==void 0,14353),r.map((e=>(function(i,s){let o=i.updateTime?Pl(i.updateTime):Pl(s);return o.isEqual(tn.min())&&(o=Pl(s)),new Ek(o,i.transformResults||[])})(e,t)))):[]}function Gk(r,t){return{documents:[m3(r,t.path)]}}function Kk(r,t){const e={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=m3(r,i);const s=(function(a){if(a.length!==0)return v3(rl.create(a,"and"))})(t.filters);s&&(e.structuredQuery.where=s);const o=(function(a){if(a.length!==0)return a.map((u=>(function(h){return{field:Jd(h.field),direction:Zk(h.dir)}})(u)))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=i2(r,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=(function(a){return{before:a.inclusive,values:a.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(a){return{before:!a.inclusive,values:a.position}})(t.endAt)),{ft:e,parent:i}}function Xk(r){let t=$k(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){Hn(n===1,65062);const u=e.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=(function(f){const h=y3(f);return h instanceof rl&&G4(h)?h.getFilters():[h]})(e.where));let o=[];e.orderBy&&(o=(function(f){return f.map((h=>(function(y){return new Qm(eh(y.field),(function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(h)))})(e.orderBy));let l=null;e.limit&&(l=(function(f){let h;return h=typeof f=="object"?f.value:f,k0(h)?null:h})(e.limit));let c=null;e.startAt&&(c=(function(f){const h=!!f.before,d=f.values||[];return new Zm(d,h)})(e.startAt));let a=null;return e.endAt&&(a=(function(f){const h=!f.before,d=f.values||[];return new Zm(d,h)})(e.endAt)),pk(t,i,o,s,l,"F",c,a)}function Yk(r,t){const e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xr(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function y3(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eh(e.unaryFilter.field);return vi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=eh(e.unaryFilter.field);return vi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=eh(e.unaryFilter.field);return vi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eh(e.unaryFilter.field);return vi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xr(61313);default:return Xr(60726)}})(r):r.fieldFilter!==void 0?(function(e){return vi.create(eh(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xr(58110);default:return Xr(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return rl.create(e.compositeFilter.filters.map((n=>y3(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xr(1026)}})(e.compositeFilter.op))})(r):Xr(30097,{filter:r})}function Zk(r){return Fk[r]}function Qk(r){return Bk[r]}function Jk(r){return Vk[r]}function Jd(r){return{fieldPath:r.canonicalString()}}function eh(r){return Wi.fromServerFormat(r.fieldPath)}function v3(r){return r instanceof vi?(function(e){if(e.op==="=="){if(dw(e.value))return{unaryFilter:{field:Jd(e.field),op:"IS_NAN"}};if(uw(e.value))return{unaryFilter:{field:Jd(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dw(e.value))return{unaryFilter:{field:Jd(e.field),op:"IS_NOT_NAN"}};if(uw(e.value))return{unaryFilter:{field:Jd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jd(e.field),op:Qk(e.op),value:e.value}}})(r):r instanceof rl?(function(e){const n=e.getFilters().map((i=>v3(i)));return n.length===1?n[0]:{compositeFilter:{op:Jk(e.op),filters:n}}})(r):Xr(54877,{filter:r})}function eE(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function b3(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e,n,i,s=tn.min(),o=tn.min(),l=Gi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new su(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t){this.yt=t}}function rE(r){const t=Xk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?s2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.Cn=new sE}addToCollectionParentIndex(t,e){return this.Cn.add(e),kt.resolve()}getCollectionParents(t,e){return kt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return kt.resolve()}deleteFieldIndex(t,e){return kt.resolve()}deleteAllFieldIndexes(t){return kt.resolve()}createTargetIndexes(t,e){return kt.resolve()}getDocumentsMatchingTarget(t,e){return kt.resolve(null)}getIndexType(t,e){return kt.resolve(0)}getFieldIndexes(t,e){return kt.resolve([])}getNextCollectionGroupToUpdate(t){return kt.resolve(null)}getMinOffset(t,e){return kt.resolve(uu.min())}getMinOffsetFromCollectionGroup(t,e){return kt.resolve(uu.min())}updateCollectionGroup(t,e,n){return kt.resolve()}updateIndexEntries(t,e){return kt.resolve()}}class sE{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Ci(ms.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ci(ms.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w3=41943040;class Ha{static withCacheSize(t){return new Ha(t,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.DEFAULT_COLLECTION_PERCENTILE=10,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ha.DEFAULT=new Ha(w3,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ha.DISABLED=new Ha(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new wh(0)}static cr(){return new wh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LruGarbageCollector",iE=1048576;function Ew([r,t],[e,n]){const i=Nn(r,e);return i===0?Nn(t,n):i}class aE{constructor(t){this.Ir=t,this.buffer=new Ci(Ew),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();Ew(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oE{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ur(kw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Th(e)?ur(kw,"Ignoring IndexedDB error during garbage collection: ",e):await Ah(e)}await this.Vr(3e5)}))}}class lE{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return kt.resolve(C0.ce);const n=new aE(e);return this.mr.forEachTarget(t,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ur("LruGarbageCollector","Garbage collection skipped; disabled"),kt.resolve(Cw)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ur("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,i,s,o,l,c,a;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ur("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i)))).next((f=>(n=f,l=Date.now(),this.removeTargets(t,n,e)))).next((f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((f=>(a=Date.now(),Zd()<=jn.DEBUG&&ur("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(a-c)+`ms
Total Duration: ${a-u}ms`),kt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function cE(r,t){return new lE(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.changes=new hd((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ha.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?kt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((i=>(n!==null&&Pf(n.mutation,i,uo.empty(),vs.now()),i)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,Cn()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=Cn()){const i=Yu();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((s=>{let o=Sf();return s.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(t,e){const n=Yu();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Cn())))}populateOverlays(t,e,n){const i=[];return n.forEach((s=>{e.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(t,i).next((s=>{s.forEach(((o,l)=>{e.set(o,l)}))}))}computeViews(t,e,n,i){let s=bc();const o=If(),l=(function(){return If()})();return e.forEach(((c,a)=>{const u=n.get(a.key);i.has(a.key)&&(u===void 0||u.mutation instanceof _u)?s=s.insert(a.key,a):u!==void 0?(o.set(a.key,u.mutation.getFieldMask()),Pf(u.mutation,a,u.mutation.getFieldMask(),vs.now())):o.set(a.key,uo.empty())})),this.recalculateAndSaveOverlays(t,s).next((c=>(c.forEach(((a,u)=>o.set(a,u))),e.forEach(((a,u)=>l.set(a,new dE(u,o.get(a)??null)))),l)))}recalculateAndSaveOverlays(t,e){const n=If();let i=new Os(((o,l)=>o-l)),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((o=>{for(const l of o)l.keys().forEach((c=>{const a=e.get(c);if(a===null)return;let u=n.get(c)||uo.empty();u=l.applyToLocalView(a,u),n.set(c,u);const f=(i.get(l.batchId)||Cn()).add(c);i=i.insert(l.batchId,f)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),a=c.key,u=c.value,f=r3();u.forEach((h=>{if(!s.has(h)){const d=l3(e.get(h),n.get(h));d!==null&&f.set(h,d),s=s.add(h)}})),o.push(this.documentOverlayCache.saveOverlays(t,a,f))}return kt.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,i){return(function(o){return Mr.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Z4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-s.size):kt.resolve(Yu());let l=Uf,c=s;return o.next((a=>kt.forEach(a,((u,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(u)?kt.resolve():this.remoteDocumentCache.getEntry(t,u).next((h=>{c=c.insert(u,h)}))))).next((()=>this.populateOverlays(t,a,s))).next((()=>this.computeViews(t,c,a,Cn()))).next((u=>({batchId:l,changes:t3(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mr(e)).next((n=>{let i=Sf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const s=e.collectionGroup;let o=Sf();return this.indexManager.getCollectionParents(t,s).next((l=>kt.forEach(l,(c=>{const a=(function(f,h){return new np(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(e,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next((u=>{u.forEach(((f,h)=>{o=o.insert(f,h)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,i)))).next((o=>{s.forEach(((c,a)=>{const u=a.getKey();o.get(u)===null&&(o=o.insert(u,ha.newInvalidDocument(u)))}));let l=Sf();return o.forEach(((c,a)=>{const u=s.get(c);u!==void 0&&Pf(u.mutation,a,uo.empty(),vs.now()),T0(e,a)&&(l=l.insert(c,a))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return kt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:Pl(i.createTime)}})(e)),kt.resolve()}getNamedQuery(t,e){return kt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:rE(i.bundledQuery),readTime:Pl(i.readTime)}})(e)),kt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.overlays=new Os(Mr.comparator),this.qr=new Map}getOverlay(t,e){return kt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Yu();return kt.forEach(e,(i=>this.getOverlay(t,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((i,s)=>{this.St(t,e,s)})),kt.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),kt.resolve()}getOverlaysForCollection(t,e,n){const i=Yu(),s=e.length+1,o=new Mr(e.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,a=c.getKey();if(!e.isPrefixOf(a.path))break;a.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return kt.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new Os(((a,u)=>a-u));const o=this.overlays.getIterator();for(;o.hasNext();){const a=o.getNext().value;if(a.getKey().getCollectionGroup()===e&&a.largestBatchId>n){let u=s.get(a.largestBatchId);u===null&&(u=Yu(),s=s.insert(a.largestBatchId,u)),u.set(a.getKey(),a)}}const l=Yu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((a,u)=>l.set(a,u))),!(l.size()>=i)););return kt.resolve(l)}St(t,e,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Pk(e,n));let s=this.qr.get(e);s===void 0&&(s=Cn(),this.qr.set(e,s)),this.qr.set(e,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.sessionToken=Gi.EMPTY_BYTE_STRING}getSessionToken(t){return kt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,kt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.Qr=new Ci(Di.$r),this.Ur=new Ci(Di.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Di(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new Di(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new Mr(new ms([])),n=new Di(e,t),i=new Di(e,t+1),s=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Mr(new ms([])),n=new Di(e,t),i=new Di(e,t+1);let s=Cn();return this.Ur.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(t){const e=new Di(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Di{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Mr.comparator(t.key,e.key)||Nn(t.Yr,e.Yr)}static Kr(t,e){return Nn(t.Yr,e.Yr)||Mr.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ci(Di.$r)}checkEmpty(t){return kt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ik(s,e,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Di(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return kt.resolve(o)}lookupMutationBatch(t,e){return kt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ei(n),s=i<0?0:i;return kt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return kt.resolve(this.mutationQueue.length===0?oy:this.tr-1)}getAllMutationBatches(t){return kt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Di(e,0),i=new Di(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),kt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ci(Nn);return e.forEach((i=>{const s=new Di(i,0),o=new Di(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{n=n.add(l.Yr)}))})),kt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;Mr.isDocumentKey(s)||(s=s.child(""));const o=new Di(new Mr(s),0);let l=new Ci(Nn);return this.Zr.forEachWhile((c=>{const a=c.key.path;return!!n.isPrefixOf(a)&&(a.length===i&&(l=l.add(c.Yr)),!0)}),o),kt.resolve(this.ti(l))}ti(t){const e=[];return t.forEach((n=>{const i=this.Xr(n);i!==null&&e.push(i)})),e}removeMutationBatch(t,e){Hn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return kt.forEach(e.mutations,(i=>{const s=new Di(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new Di(e,0),i=this.Zr.firstAfterOrEqual(n);return kt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,kt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t){this.ri=t,this.docs=(function(){return new Os(Mr.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return kt.resolve(n?n.document.mutableCopy():ha.newInvalidDocument(e))}getEntries(t,e){let n=bc();return e.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ha.newInvalidDocument(i))})),kt.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let s=bc();const o=e.path,l=new Mr(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:a,value:{document:u}}=c.getNext();if(!o.isPrefixOf(a.path))break;a.path.length>o.length+1||WC(HC(u),n)<=0||(i.has(u.key)||T0(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return kt.resolve(s)}getAllFromCollectionGroup(t,e,n,i){Xr(9500)}ii(t,e){return kt.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new vE(this)}getSize(t){return kt.resolve(this.size)}}class vE extends uE{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)})),kt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.persistence=t,this.si=new hd((e=>uy(e)),dy),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=wh.ur()}forEachTarget(t,e){return this.si.forEach(((n,i)=>e(i))),kt.resolve()}getLastRemoteSnapshotVersion(t){return kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return kt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),kt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),kt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new wh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,kt.resolve()}updateTargetData(t,e){return this.Pr(e),kt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,kt.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=e&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)})),kt.waitFor(s).next((()=>i))}getTargetCount(t){return kt.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return kt.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),kt.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach((o=>{s.push(i.markPotentiallyOrphaned(t,o))})),kt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),kt.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return kt.resolve(n)}containsKey(t,e){return kt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t,e){this.ui={},this.overlays={},this.ci=new C0(0),this.li=!1,this.li=!0,this.hi=new mE,this.referenceDelegate=t(this),this.Pi=new bE(this),this.indexManager=new nE,this.remoteDocumentCache=(function(i){return new yE(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new tE(e),this.Ii=new fE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pE,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new gE(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){ur("MemoryPersistence","Starting transaction:",t);const i=new wE(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(t,e){return kt.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class wE extends KC{constructor(t){super(),this.currentSequenceNumber=t}}class by{constructor(t){this.persistence=t,this.Ri=new vy,this.Vi=null}static mi(t){return new by(t)}get fi(){if(this.Vi)return this.Vi;throw Xr(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),kt.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),kt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),kt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kt.forEach(this.fi,(n=>{const i=Mr.fromPath(n);return this.gi(t,i).next((s=>{s||e.removeEntry(i,tn.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return kt.or([()=>kt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class r0{constructor(t,e){this.persistence=t,this.pi=new hd((n=>ZC(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=cE(this,e)}static mi(t,e){return new r0(t,e)}Ei(){}di(t){return kt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((i=>n+i))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return kt.forEach(this.pi,((n,i)=>this.br(t,n,i).next((s=>s?kt.resolve():e(i)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,(o=>this.br(t,o,e).next((l=>{l||(n++,s.removeEntry(o,tn.min()))})))).next((()=>s.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),kt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),kt.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),kt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),kt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Tm(t.data.value)),e}br(t,e,n){return kt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return kt.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=i}static As(t,e){let n=Cn(),i=Cn();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wy(t,e.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fN()?8:XC(dN())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,i){const s={result:null};return this.ys(t,e).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(t,e,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new xE;return this.Ss(t,e,o).next((l=>{if(s.result=l,this.Vs)return this.bs(t,e,o,l.size)}))})).next((()=>s.result))}bs(t,e,n,i){return n.documentReadCount<this.fs?(Zd()<=jn.DEBUG&&ur("QueryEngine","SDK will not create cache indexes for query:",Qd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),kt.resolve()):(Zd()<=jn.DEBUG&&ur("QueryEngine","Query:",Qd(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Zd()<=jn.DEBUG&&ur("QueryEngine","The SDK decides to create cache indexes for query:",Qd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Il(e))):kt.resolve())}ys(t,e){if(mw(e))return kt.resolve(null);let n=Il(e);return this.indexManager.getIndexType(t,n).next((i=>i===0?null:(e.limit!==null&&i===1&&(e=s2(e,null,"F"),n=Il(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((s=>{const o=Cn(...s);return this.ps.getDocuments(t,o).next((l=>this.indexManager.getMinOffset(t,n).next((c=>{const a=this.Ds(e,l);return this.Cs(e,a,o,c.readTime)?this.ys(t,s2(e,null,"F")):this.vs(t,a,e,c)}))))})))))}ws(t,e,n,i){return mw(e)||i.isEqual(tn.min())?kt.resolve(null):this.ps.getDocuments(t,n).next((s=>{const o=this.Ds(e,s);return this.Cs(e,o,n,i)?kt.resolve(null):(Zd()<=jn.DEBUG&&ur("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qd(e)),this.vs(t,o,e,qC(i,Uf)).next((l=>l)))}))}Ds(t,e){let n=new Ci(J4(t));return e.forEach(((i,s)=>{T0(t,s)&&(n=n.add(s))})),n}Cs(t,e,n,i){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,n){return Zd()<=jn.DEBUG&&ur("QueryEngine","Using full collection scan to execute query:",Qd(e)),this.ps.getDocumentsMatchingQuery(t,e,uu.min(),n)}vs(t,e,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next((s=>(e.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",SE=3e8;class NE{constructor(t,e,n,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Os(Nn),this.xs=new hd((s=>uy(s)),dy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function CE(r,t,e,n){return new NE(r,t,e,n)}async function _3(r,t){const e=an(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],l=[];let c=Cn();for(const a of i){o.push(a.batchId);for(const u of a.mutations)c=c.add(u.key)}for(const a of s){l.push(a.batchId);for(const u of a.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next((a=>({Ls:a,removedBatchIds:o,addedBatchIds:l})))}))}))}function kE(r,t){const e=an(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,a,u){const f=a.batch,h=f.keys();let d=kt.resolve();return h.forEach((y=>{d=d.next((()=>u.getEntry(c,y))).next((g=>{const p=a.docVersions.get(y);Hn(p!==null,48541),g.version.compareTo(p)<0&&(f.applyToRemoteDocument(g,a),g.isValidDocument()&&(g.setReadTime(a.commitVersion),u.addEntry(g)))}))})),d.next((()=>l.mutationQueue.removeMutationBatch(c,f)))})(e,n,t,s).next((()=>s.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Cn();for(let a=0;a<l.mutationResults.length;++a)l.mutationResults[a].transformResults.length>0&&(c=c.add(l.batch.mutations[a].key));return c})(t)))).next((()=>e.localDocuments.getDocuments(n,i)))}))}function S3(r){const t=an(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function EE(r,t){const e=an(r),n=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const l=[];t.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;l.push(e.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>e.Pi.addMatchingKeys(s,u.addedDocuments,f))));let d=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(Gi.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),i=i.insert(f,d),(function(g,p,w){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=SE?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(h,d,u)&&l.push(e.Pi.updateTargetData(s,d))}));let c=bc(),a=Cn();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))})),l.push(AE(s,o,t.documentUpdates).next((u=>{c=u.ks,a=u.qs}))),!n.isEqual(tn.min())){const u=e.Pi.getLastRemoteSnapshotVersion(s).next((f=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));l.push(u)}return kt.waitFor(l).next((()=>o.apply(s))).next((()=>e.localDocuments.getLocalViewOfDocuments(s,c,a))).next((()=>c))})).then((s=>(e.Ms=i,s)))}function AE(r,t,e){let n=Cn(),i=Cn();return e.forEach((s=>n=n.add(s))),t.getEntries(r,n).next((s=>{let o=bc();return e.forEach(((l,c)=>{const a=s.get(l);c.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(tn.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!a.isValidDocument()||c.version.compareTo(a.version)>0||c.version.compareTo(a.version)===0&&a.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):ur(xy,"Ignoring outdated watch update for ",l,". Current version:",a.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function TE(r,t){const e=an(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=oy),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function jE(r,t){const e=an(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return e.Pi.getTargetData(n,t).next((s=>s?(i=s,kt.resolve(i)):e.Pi.allocateTargetId(n).next((o=>(i=new su(t,o,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=e.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function c2(r,t,e){const n=an(r),i=n.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Th(o))throw o;ur(xy,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function Aw(r,t,e){const n=an(r);let i=tn.min(),s=Cn();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,a,u){const f=an(c),h=f.xs.get(u);return h!==void 0?kt.resolve(f.Ms.get(h)):f.Pi.getTargetData(a,u)})(n,o,Il(t)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{s=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,t,e?i:tn.min(),e?s:Cn()))).next((l=>(IE(n,gk(t),l),{documents:l,Qs:s})))))}function IE(r,t,e){let n=r.Os.get(t)||tn.min();e.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.Os.set(t,n)}class Tw{constructor(){this.activeTargetIds=_k()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PE{constructor(){this.Mo=new Tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Tw,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="ConnectivityMonitor";class Iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ur(jw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ur(jw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm=null;function u2(){return nm===null?nm=(function(){return 268435456+Math.round(2147483648*Math.random())})():nm++,"0x"+nm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="RestConnection",ME={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OE{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Xm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,e,n,i,s){const o=u2(),l=this.zo(t,e.toUriEncodedString());ur(o1,`Sending RPC '${t}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:a}=new URL(l),u=ny(a);return this.Jo(t,l,c,n,u).then((f=>(ur(o1,`Received RPC '${t}' ${o}: `,f),f)),(f=>{throw gh(o1,`RPC '${t}' ${o} failed with error: `,f,"url: ",l,"request:",n),f}))}Ho(t,e,n,i,s,o){return this.Go(t,e,n,i,s)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((i,s)=>t[s]=i)),n&&n.headers.forEach(((i,s)=>t[s]=i))}zo(t,e){const n=ME[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="WebChannelConnection";class DE extends OE{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,i,s){const o=u2();return new Promise(((l,c)=>{const a=new k4;a.setWithCredentials(!0),a.listenOnce(E4.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Am.NO_ERROR:const f=a.getResponseJson();ur(aa,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),l(f);break;case Am.TIMEOUT:ur(aa,`RPC '${t}' ${o} timed out`),c(new tr(xt.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const h=a.getStatus();if(ur(aa,`RPC '${t}' ${o} failed with status:`,h,"response text:",a.getResponseText()),h>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const g=(function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(v)>=0?v:xt.UNKNOWN})(y.status);c(new tr(g,y.message))}else c(new tr(xt.UNKNOWN,"Server responded with status "+a.getStatus()))}else c(new tr(xt.UNAVAILABLE,"Connection failed."));break;default:Xr(9055,{l_:t,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{ur(aa,`RPC '${t}' ${o} completed.`)}}));const u=JSON.stringify(i);ur(aa,`RPC '${t}' ${o} sending request:`,i),a.send(e,"POST",u,n,15)}))}T_(t,e,n){const i=u2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=j4(),l=T4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;a!==void 0&&(c.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=s.join("");ur(aa,`Creating RPC '${t}' stream ${i}: ${u}`,c);const f=o.createWebChannel(u,c);this.I_(f);let h=!1,d=!1;const y=new LE({Yo:p=>{d?ur(aa,`Not sending because RPC '${t}' stream ${i} is closed:`,p):(h||(ur(aa,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),ur(aa,`RPC '${t}' stream ${i} sending:`,p),f.send(p))},Zo:()=>f.close()}),g=(p,w,v)=>{p.listen(w,(_=>{try{v(_)}catch(T){setTimeout((()=>{throw T}),0)}}))};return g(f,_f.EventType.OPEN,(()=>{d||(ur(aa,`RPC '${t}' stream ${i} transport opened.`),y.o_())})),g(f,_f.EventType.CLOSE,(()=>{d||(d=!0,ur(aa,`RPC '${t}' stream ${i} transport closed`),y.a_(),this.E_(f))})),g(f,_f.EventType.ERROR,(p=>{d||(d=!0,gh(aa,`RPC '${t}' stream ${i} transport errored. Name:`,p.name,"Message:",p.message),y.a_(new tr(xt.UNAVAILABLE,"The operation could not be completed")))})),g(f,_f.EventType.MESSAGE,(p=>{var w;if(!d){const v=p.data[0];Hn(!!v,16349);const _=v,T=(_==null?void 0:_.error)||((w=_[0])==null?void 0:w.error);if(T){ur(aa,`RPC '${t}' stream ${i} received error:`,T);const F=T.status;let G=(function(M){const U=yi[M];if(U!==void 0)return u3(U)})(F),$=T.message;G===void 0&&(G=xt.INTERNAL,$="Unknown error status: "+F+" with message "+T.message),d=!0,y.a_(new tr(G,$)),f.close()}else ur(aa,`RPC '${t}' stream ${i} received:`,v),y.u_(v)}})),g(l,A4.STAT_EVENT,(p=>{p.stat===Z1.PROXY?ur(aa,`RPC '${t}' stream ${i} detected buffering proxy`):p.stat===Z1.NOPROXY&&ur(aa,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function l1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r){return new zk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,e,n=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-n);i>0&&ur("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="PersistentStream";class C3{constructor(t,e,n,i,s,o,l,c){this.Mi=t,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N3(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===xt.RESOURCE_EXHAUSTED?(vc(e.toString()),vc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===xt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===e&&this.G_(n,i)}),(n=>{t((()=>{const i=new tr(xt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ur(Pw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ur(Pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FE extends C3{constructor(t,e,n,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=qk(this.serializer,t),n=(function(s){if(!("targetChange"in s))return tn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?tn.min():o.readTime?Pl(o.readTime):tn.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=l2(this.serializer),e.addTarget=(function(s,o){let l;const c=o.target;if(l=r2(c)?{documents:Gk(s,c)}:{query:Kk(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=f3(s,o.resumeToken);const a=i2(s,o.expectedCount);a!==null&&(l.expectedCount=a)}else if(o.snapshotVersion.compareTo(tn.min())>0){l.readTime=t0(s,o.snapshotVersion.toTimestamp());const a=i2(s,o.expectedCount);a!==null&&(l.expectedCount=a)}return l})(this.serializer,t);const n=Yk(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=l2(this.serializer),e.removeTarget=t,this.q_(e)}}class BE extends C3{constructor(t,e,n,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Hn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Hn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Hn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Wk(t.writeResults,t.commitTime),n=Pl(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=l2(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>Hk(this.serializer,n)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class zE extends VE{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tr(xt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(t,a2(e,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tr(xt.UNKNOWN,s.toString())}))}Ho(t,e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(t,a2(e,n),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tr(xt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UE{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vc(e),this.aa=!1):ur("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="RemoteStore";class $E{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{fd(this)&&(ur(rd,"Restarting streams for network reachability change."),await(async function(c){const a=an(c);a.Ea.add(4),await ap(a),a.Ra.set("Unknown"),a.Ea.delete(4),await M0(a)})(this))}))})),this.Ra=new UE(n,i)}}async function M0(r){if(fd(r))for(const t of r.da)await t(!0)}async function ap(r){for(const t of r.da)await t(!1)}function k3(r,t){const e=an(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Cy(e)?Ny(e):jh(e).O_()&&Sy(e,t))}function _y(r,t){const e=an(r),n=jh(e);e.Ia.delete(t),n.O_()&&E3(e,t),e.Ia.size===0&&(n.O_()?n.L_():fd(e)&&e.Ra.set("Unknown"))}function Sy(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tn.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}jh(r).Y_(t)}function E3(r,t){r.Va.Ue(t),jh(r).Z_(t)}function Ny(r){r.Va=new Dk({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),jh(r).start(),r.Ra.ua()}function Cy(r){return fd(r)&&!jh(r).x_()&&r.Ia.size>0}function fd(r){return an(r).Ea.size===0}function A3(r){r.Va=void 0}async function qE(r){r.Ra.set("Online")}async function HE(r){r.Ia.forEach(((t,e)=>{Sy(r,t)}))}async function WE(r,t){A3(r),Cy(r)?(r.Ra.ha(t),Ny(r)):r.Ra.set("Unknown")}async function GE(r,t,e){if(r.Ra.set("Online"),t instanceof h3&&t.state===2&&t.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(r,t)}catch(n){ur(rd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await n0(r,n)}else if(t instanceof Pm?r.Va.Ze(t):t instanceof d3?r.Va.st(t):r.Va.tt(t),!e.isEqual(tn.min()))try{const n=await S3(r.localStore);e.compareTo(n)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((c,a)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.Ia.get(a);u&&s.Ia.set(a,u.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,a)=>{const u=s.Ia.get(c);if(!u)return;s.Ia.set(c,u.withResumeToken(Gi.EMPTY_BYTE_STRING,u.snapshotVersion)),E3(s,c);const f=new su(u.target,c,a,u.sequenceNumber);Sy(s,f)})),s.remoteSyncer.applyRemoteEvent(l)})(r,e)}catch(n){ur(rd,"Failed to raise snapshot:",n),await n0(r,n)}}async function n0(r,t,e){if(!Th(t))throw t;r.Ea.add(1),await ap(r),r.Ra.set("Offline"),e||(e=()=>S3(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ur(rd,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await M0(r)}))}function T3(r,t){return t().catch((e=>n0(r,e,t)))}async function O0(r){const t=an(r),e=pu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:oy;for(;KE(t);)try{const i=await TE(t.localStore,n);if(i===null){t.Ta.length===0&&e.L_();break}n=i.batchId,XE(t,i)}catch(i){await n0(t,i)}j3(t)&&I3(t)}function KE(r){return fd(r)&&r.Ta.length<10}function XE(r,t){r.Ta.push(t);const e=pu(r);e.O_()&&e.X_&&e.ea(t.mutations)}function j3(r){return fd(r)&&!pu(r).x_()&&r.Ta.length>0}function I3(r){pu(r).start()}async function YE(r){pu(r).ra()}async function ZE(r){const t=pu(r);for(const e of r.Ta)t.ea(e.mutations)}async function QE(r,t,e){const n=r.Ta.shift(),i=my.from(n,t,e);await T3(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await O0(r)}async function JE(r,t){t&&pu(r).X_&&await(async function(n,i){if((function(o){return Mk(o)&&o!==xt.ABORTED})(i.code)){const s=n.Ta.shift();pu(n).B_(),await T3(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await O0(n)}})(r,t),j3(r)&&I3(r)}async function Rw(r,t){const e=an(r);e.asyncQueue.verifyOperationInProgress(),ur(rd,"RemoteStore received new credentials");const n=fd(e);e.Ea.add(3),await ap(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await M0(e)}async function eA(r,t){const e=an(r);t?(e.Ea.delete(2),await M0(e)):t||(e.Ea.add(2),await ap(e),e.Ra.set("Unknown"))}function jh(r){return r.ma||(r.ma=(function(e,n,i){const s=an(e);return s.sa(),new FE(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Xo:qE.bind(null,r),t_:HE.bind(null,r),r_:WE.bind(null,r),H_:GE.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Cy(r)?Ny(r):r.Ra.set("Unknown")):(await r.ma.stop(),A3(r))}))),r.ma}function pu(r){return r.fa||(r.fa=(function(e,n,i){const s=an(e);return s.sa(),new BE(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YE.bind(null,r),r_:JE.bind(null,r),ta:ZE.bind(null,r),na:QE.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await O0(r)):(await r.fa.stop(),r.Ta.length>0&&(ur(rd,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,s){const o=Date.now()+n,l=new ky(t,e,o,i,s);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tr(xt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(r,t){if(vc("AsyncQueue",`${t}: ${r}`),Th(r))return new tr(xt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{static emptySet(t){return new ih(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Mr.comparator(e.key,n.key):(e,n)=>Mr.comparator(e.key,n.key),this.keyedMap=Sf(),this.sortedSet=new Os(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ih)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new ih;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.ga=new Os(Mr.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Xr(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class xh{constructor(t,e,n,i,s,o,l,c,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=a}static fromInitialDocuments(t,e,n,i,s){const o=[];return e.forEach((l=>{o.push({type:0,doc:l})})),new xh(t,e,ih.emptySet(e),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&A0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rA{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const i=an(e),s=i.queries;i.queries=Ow(),s.forEach(((o,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new tr(xt.ABORTED,"Firestore shutting down"))}}function Ow(){return new hd((r=>Q4(r)),A0)}async function P3(r,t){const e=an(r);let n=3;const i=t.query;let s=e.queries.get(i);s?!s.ba()&&t.Da()&&(n=2):(s=new tA,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){const l=Ey(o,`Initialization of query '${Qd(t.query)}' failed`);return void t.onError(l)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&Ay(e)}async function R3(r,t){const e=an(r),n=t.query;let i=3;const s=e.queries.get(n);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function nA(r,t){const e=an(r);let n=!1;for(const i of t){const s=i.query,o=e.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&Ay(e)}function sA(r,t,e){const n=an(r),i=n.queries.get(t);if(i)for(const s of i.Sa)s.onError(e);n.queries.delete(t)}function Ay(r){r.Ca.forEach((t=>{t.next()}))}var d2,Lw;(Lw=d2||(d2={})).Ma="default",Lw.Cache="cache";class M3{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new xh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=xh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==d2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t){this.key=t}}class L3{constructor(t){this.key=t}}class iA{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Cn(),this.mutatedKeys=Cn(),this.eu=J4(t),this.tu=new ih(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new Mw,i=e?e.tu:this.tu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,a=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((u,f)=>{const h=i.get(u),d=T0(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;h&&d?h.data.isEqual(d.data)?y!==g&&(n.track({type:3,doc:d}),p=!0):this.su(h,d)||(n.track({type:2,doc:d}),p=!0,(c&&this.eu(d,c)>0||a&&this.eu(d,a)<0)&&(l=!0)):!h&&d?(n.track({type:0,doc:d}),p=!0):h&&!d&&(n.track({type:1,doc:h}),p=!0,(c||a)&&(l=!0)),p&&(d?(o=o.add(d),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((u,f)=>(function(d,y){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xr(20277,{Rt:p})}};return g(d)-g(y)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(n),i=i??!1;const l=e&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,a=c!==this.Za;return this.Za=c,o.length!==0||a?{snapshot:new xh(this.query,t.tu,s,o,t.mutatedKeys,c===0,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Cn(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new L3(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new O3(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=Cn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return xh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class aA{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class oA{constructor(t){this.key=t,this.hu=!1}}class lA{constructor(t,e,n,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hd((l=>Q4(l)),A0),this.Iu=new Map,this.Eu=new Set,this.du=new Os(Mr.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=wh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cA(r,t,e=!0){const n=U3(r);let i;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await D3(n,t,e,!0),i}async function uA(r,t){const e=U3(r);await D3(e,t,!0,!1)}async function D3(r,t,e,n){const i=await jE(r.localStore,Il(t)),s=i.targetId,o=r.sharedClientState.addLocalQueryTarget(s,e);let l;return n&&(l=await dA(r,t,s,o==="current",i.resumeToken)),r.isPrimaryClient&&e&&k3(r.remoteStore,i),l}async function dA(r,t,e,n,i){r.pu=(f,h,d)=>(async function(g,p,w,v){let _=p.view.ru(w);_.Cs&&(_=await Aw(g.localStore,p.query,!1).then((({documents:$})=>p.view.ru($,_))));const T=v&&v.targetChanges.get(p.targetId),F=v&&v.targetMismatches.get(p.targetId)!=null,G=p.view.applyChanges(_,g.isPrimaryClient,T,F);return Fw(g,p.targetId,G.au),G.snapshot})(r,f,h,d);const s=await Aw(r.localStore,t,!0),o=new iA(t,s.Qs),l=o.ru(s.documents),c=ip.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",i),a=o.applyChanges(l,r.isPrimaryClient,c);Fw(r,e,a.au);const u=new aA(t,e,o);return r.Tu.set(t,u),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),a.snapshot}async function hA(r,t,e){const n=an(r),i=n.Tu.get(t),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((o=>!A0(o,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await c2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),e&&_y(n.remoteStore,i.targetId),h2(n,i.targetId)})).catch(Ah)):(h2(n,i.targetId),await c2(n.localStore,i.targetId,!0))}async function fA(r,t){const e=an(r),n=e.Tu.get(t),i=e.Iu.get(n.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),_y(e.remoteStore,n.targetId))}async function pA(r,t,e){const n=xA(r);try{const i=await(function(o,l){const c=an(o),a=vs.now(),u=l.reduce(((d,y)=>d.add(y.key)),Cn());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let y=bc(),g=Cn();return c.Ns.getEntries(d,u).next((p=>{y=p,y.forEach(((w,v)=>{v.isValidDocument()||(g=g.add(w))}))})).next((()=>c.localDocuments.getOverlayedDocuments(d,y))).next((p=>{f=p;const w=[];for(const v of l){const _=Tk(v,f.get(v.key).overlayedDocument);_!=null&&w.push(new _u(v.key,_,q4(_.value.mapValue),el.exists(!0)))}return c.mutationQueue.addMutationBatch(d,a,w,l)})).next((p=>{h=p;const w=p.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(d,p.batchId,w)}))})).then((()=>({batchId:h.batchId,changes:t3(f)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let a=o.Vu[o.currentUser.toKey()];a||(a=new Os(Nn)),a=a.insert(l,c),o.Vu[o.currentUser.toKey()]=a})(n,i.batchId,e),await op(n,i.changes),await O0(n.remoteStore)}catch(i){const s=Ey(i,"Failed to persist write");e.reject(s)}}async function F3(r,t){const e=an(r);try{const n=await EE(e.localStore,t);t.targetChanges.forEach(((i,s)=>{const o=e.Au.get(s);o&&(Hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Hn(o.hu,14607):i.removedDocuments.size>0&&(Hn(o.hu,42227),o.hu=!1))})),await op(e,n,t)}catch(n){await Ah(n)}}function Dw(r,t,e){const n=an(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const i=[];n.Tu.forEach(((s,o)=>{const l=o.view.va(t);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=an(o);c.onlineState=l;let a=!1;c.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(l)&&(a=!0)})),a&&Ay(c)})(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function mA(r,t,e){const n=an(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n.Au.get(t),s=i&&i.key;if(s){let o=new Os(Mr.comparator);o=o.insert(s,ha.newNoDocument(s,tn.min()));const l=Cn().add(s),c=new P0(tn.min(),new Map,new Os(Nn),o,l);await F3(n,c),n.du=n.du.remove(s),n.Au.delete(t),jy(n)}else await c2(n.localStore,t,!1).then((()=>h2(n,t,e))).catch(Ah)}async function gA(r,t){const e=an(r),n=t.batch.batchId;try{const i=await kE(e.localStore,t);V3(e,n,null),B3(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await op(e,i)}catch(i){await Ah(i)}}async function yA(r,t,e){const n=an(r);try{const i=await(function(o,l){const c=an(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(a=>{let u;return c.mutationQueue.lookupMutationBatch(a,l).next((f=>(Hn(f!==null,37113),u=f.keys(),c.mutationQueue.removeMutationBatch(a,f)))).next((()=>c.mutationQueue.performConsistencyCheck(a))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(a,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,u))).next((()=>c.localDocuments.getDocuments(a,u)))}))})(n.localStore,t);V3(n,t,e),B3(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await op(n,i)}catch(i){await Ah(i)}}function B3(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function V3(r,t,e){const n=an(r);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function h2(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||z3(r,n)}))}function z3(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(_y(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),jy(r))}function Fw(r,t,e){for(const n of e)n instanceof O3?(r.Ru.addReference(n.key,t),vA(r,n)):n instanceof L3?(ur(Ty,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||z3(r,n.key)):Xr(19791,{wu:n})}function vA(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(ur(Ty,"New document in limbo: "+e),r.Eu.add(n),jy(r))}function jy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new Mr(ms.fromString(t)),n=r.fu.next();r.Au.set(n,new oA(e)),r.du=r.du.insert(e,n),k3(r.remoteStore,new su(Il(hy(e.path)),n,"TargetPurposeLimboResolution",C0.ce))}}async function op(r,t,e){const n=an(r),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{o.push(n.pu(c,t,e).then((a=>{var u;if((a||e)&&n.isPrimaryClient){const f=a?!a.fromCache:(u=e==null?void 0:e.targetChanges.get(c.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(a){i.push(a);const f=wy.As(c.targetId,a);s.push(f)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,a){const u=an(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>kt.forEach(a,(h=>kt.forEach(h.Es,(d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d))).next((()=>kt.forEach(h.ds,(d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))))))}catch(f){if(!Th(f))throw f;ur(xy,"Failed to update sequence numbers: "+f)}for(const f of a){const h=f.targetId;if(!f.fromCache){const d=u.Ms.get(h),y=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(h,g)}}})(n.localStore,s))}async function bA(r,t){const e=an(r);if(!e.currentUser.isEqual(t)){ur(Ty,"User change. New user:",t.toKey());const n=await _3(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new tr(xt.CANCELLED,o))}))})),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await op(e,n.Ls)}}function wA(r,t){const e=an(r),n=e.Au.get(t);if(n&&n.hu)return Cn().add(n.key);{let i=Cn();const s=e.Iu.get(t);if(!s)return i;for(const o of s){const l=e.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function U3(r){const t=an(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=F3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mA.bind(null,t),t.Pu.H_=nA.bind(null,t.eventManager),t.Pu.yu=sA.bind(null,t.eventManager),t}function xA(r){const t=an(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yA.bind(null,t),t}class s0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=R0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return CE(this.persistence,new _E,t.initialUser,this.serializer)}Cu(t){return new x3(by.mi,this.serializer)}Du(t){return new PE}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}s0.provider={build:()=>new s0};class _A extends s0{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Hn(this.persistence.referenceDelegate instanceof r0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new oE(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ha.withCacheSize(this.cacheSizeBytes):Ha.DEFAULT;return new x3((n=>r0.mi(n,e)),this.serializer)}}class f2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Dw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bA.bind(null,this.syncEngine),await eA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rA})()}createDatastore(t){const e=R0(t.databaseInfo.databaseId),n=(function(s){return new DE(s)})(t.databaseInfo);return(function(s,o,l,c){return new zE(s,o,l,c)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(n,i,s,o,l){return new $E(n,i,s,o,l)})(this.localStore,this.datastore,t.asyncQueue,(e=>Dw(this.syncEngine,e,0)),(function(){return Iw.v()?new Iw:new RE})())}createSyncEngine(t,e){return(function(i,s,o,l,c,a,u){const f=new lA(i,s,o,l,c,a);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(i){const s=an(i);ur(rd,"RemoteStore shutting down."),s.Ea.add(5),await ap(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}f2.provider={build:()=>new f2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="FirestoreClient";class SA{constructor(t,e,n,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=da.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{ur(mu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(ur(mu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ey(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function c1(r,t){r.asyncQueue.verifyOperationInProgress(),ur(mu,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await _3(t.localStore,i),n=i)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Bw(r,t){r.asyncQueue.verifyOperationInProgress();const e=await NA(r);ur(mu,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>Rw(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>Rw(t.remoteStore,i))),r._onlineComponents=t}async function NA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ur(mu,"Using user provided OfflineComponentProvider");try{await c1(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===xt.FAILED_PRECONDITION||i.code===xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;gh("Error using user provided cache. Falling back to memory cache: "+e),await c1(r,new s0)}}else ur(mu,"Using default OfflineComponentProvider"),await c1(r,new _A(void 0));return r._offlineComponents}async function q3(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ur(mu,"Using user provided OnlineComponentProvider"),await Bw(r,r._uninitializedComponentsProvider._online)):(ur(mu,"Using default OnlineComponentProvider"),await Bw(r,new f2))),r._onlineComponents}function CA(r){return q3(r).then((t=>t.syncEngine))}async function H3(r){const t=await q3(r),e=t.eventManager;return e.onListen=cA.bind(null,t.syncEngine),e.onUnlisten=hA.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=uA.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=fA.bind(null,t.syncEngine),e}function kA(r,t,e={}){const n=new pc;return r.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,a){const u=new $3({next:h=>{u.Nu(),o.enqueueAndForget((()=>R3(s,f)));const d=h.docs.has(l);!d&&h.fromCache?a.reject(new tr(xt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&c&&c.source==="server"?a.reject(new tr(xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(h)},error:h=>a.reject(h)}),f=new M3(hy(l.path),u,{includeMetadataChanges:!0,qa:!0});return P3(s,f)})(await H3(r),r.asyncQueue,t,e,n))),n.promise}function EA(r,t,e={}){const n=new pc;return r.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,a){const u=new $3({next:h=>{u.Nu(),o.enqueueAndForget((()=>R3(s,f))),h.fromCache&&c.source==="server"?a.reject(new tr(xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(h)},error:h=>a.reject(h)}),f=new M3(l,u,{includeMetadataChanges:!0,qa:!0});return P3(s,f)})(await H3(r),r.asyncQueue,t,e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firestore.googleapis.com",zw=!0;class Uw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new tr(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G3,this.ssl=zw}else this.host=t.host,this.ssl=t.ssl??zw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iE)throw new tr(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$C("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W3(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new tr(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new tr(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new tr(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class L0{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tr(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new tr(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new RC;switch(n.type){case"firstParty":return new DC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new tr(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=Vw.get(e);n&&(ur("ComponentProvider","Removing Datastore"),Vw.delete(e),n.terminate())})(this),Promise.resolve()}}function AA(r,t,e,n={}){var a;r=Dl(r,L0);const i=ny(t),s=r._getSettings(),o={...s,emulatorOptions:r._getEmulatorOptions()},l=`${t}:${e}`;i&&(aN(`https://${l}`),uN("Firestore",!0)),s.host!==G3&&s.host!==l&&gh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:n};if(!Hm(c,o)&&(r._setSettings(c),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=da.MOCK_USER;else{u=oN(n.mockUserToken,(a=r._app)==null?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new tr(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new da(h)}r._authCredentials=new MC(new P4(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class li{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new li(this.firestore,t,this._key)}toJSON(){return{type:li._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(rp(e,li._jsonSchema))return new li(t,n||null,new Mr(ms.fromString(e.referencePath)))}}li._jsonSchemaVersion="firestore/documentReference/1.0",li._jsonSchema={type:bi("string",li._jsonSchemaVersion),referencePath:bi("string")};class cu extends Ih{constructor(t,e,n){super(t,e,hy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new li(this.firestore,null,new Mr(t))}withConverter(t){return new cu(this.firestore,t,this._path)}}function Ka(r,t,...e){if(r=gc(r),R4("collection","path",t),r instanceof L0){const n=ms.fromString(t,...e);return tw(n),new cu(r,null,n)}{if(!(r instanceof li||r instanceof cu))throw new tr(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ms.fromString(t,...e));return tw(n),new cu(r.firestore,null,n)}}function _n(r,t,...e){if(r=gc(r),arguments.length===1&&(t=ay.newId()),R4("doc","path",t),r instanceof L0){const n=ms.fromString(t,...e);return ew(n),new li(r,null,new Mr(n))}{if(!(r instanceof li||r instanceof cu))throw new tr(xt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ms.fromString(t,...e));return ew(n),new li(r.firestore,r instanceof cu?r.converter:null,new Mr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="AsyncQueue";class qw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N3(this,"async_queue_retry"),this._c=()=>{const n=l1();n&&ur($w,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=l1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=l1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new pc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Th(t))throw t;ur($w,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,vc("INTERNAL UNHANDLED ERROR: ",Hw(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=ky.createAndSchedule(this,t,e,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Xr(47125,{Pc:Hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Hw(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ph extends L0{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new qw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qw(t),this._firestoreClient=void 0,await t}}}function TA(r,t){const e=typeof r=="object"?r:wC(),n=typeof r=="string"?r:Xm,i=mC(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=sN("firestore");s&&AA(i,...s)}return i}function Iy(r){if(r._terminated)throw new tr(xt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jA(r),r._firestoreClient}function jA(r){var n,i,s;const t=r._freezeSettings(),e=(function(l,c,a,u){return new ek(l,c,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,W3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new SA(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Io(Gi.fromBase64String(t))}catch(e){throw new tr(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Io(Gi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Io._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rp(t,Io._jsonSchema))return Io.fromBase64String(t.bytes)}}Io._jsonSchemaVersion="firestore/bytes/1.0",Io._jsonSchema={type:bi("string",Io._jsonSchemaVersion),bytes:bi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new tr(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new tr(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tr(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nn(this._lat,t._lat)||Nn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rl._jsonSchemaVersion}}static fromJSON(t){if(rp(t,Rl._jsonSchema))return new Rl(t.latitude,t.longitude)}}Rl._jsonSchemaVersion="firestore/geoPoint/1.0",Rl._jsonSchema={type:bi("string",Rl._jsonSchemaVersion),latitude:bi("number"),longitude:bi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ml._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rp(t,Ml._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ml(t.vectorValues);throw new tr(xt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ml._jsonSchemaVersion="firestore/vectorValue/1.0",Ml._jsonSchema={type:bi("string",Ml._jsonSchemaVersion),vectorValues:bi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^__.*__$/;class PA{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new _u(t,this.data,this.fieldMask,e,this.fieldTransforms):new sp(t,this.data,e,this.fieldTransforms)}}class K3{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new _u(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function X3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xr(40011,{Ac:r})}}class Ry{constructor(t,e,n,i,s,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ry({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return i0(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(X3(this.Ac)&&IA.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RA{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||R0(t)}Cc(t,e,n,i=!1){return new Ry({Ac:t,methodName:e,Dc:n,path:Wi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(r){const t=r._freezeSettings(),e=R0(r._databaseId);return new RA(r._databaseId,!!t.ignoreUndefinedProperties,e)}function MA(r,t,e,n,i,s={}){const o=r.Cc(s.merge||s.mergeFields?2:0,t,e,i);Oy("Data must be an object, but it was:",o,n);const l=Y3(n,o);let c,a;if(s.merge)c=new uo(o.fieldMask),a=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=p2(t,f,e);if(!o.contains(h))throw new tr(xt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Q3(u,h)||u.push(h)}c=new uo(u),a=o.fieldTransforms.filter((f=>c.covers(f.field)))}else c=null,a=o.fieldTransforms;return new PA(new Wa(l),c,a)}class F0 extends Py{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof F0}}function OA(r,t,e,n){const i=r.Cc(1,t,e);Oy("Data must be an object, but it was:",i,n);const s=[],o=Wa.empty();xu(n,((c,a)=>{const u=Ly(t,c,e);a=gc(a);const f=i.yc(u);if(a instanceof F0)s.push(u);else{const h=lp(a,f);h!=null&&(s.push(u),o.set(u,h))}}));const l=new uo(s);return new K3(o,l,i.fieldTransforms)}function LA(r,t,e,n,i,s){const o=r.Cc(1,t,e),l=[p2(t,n,e)],c=[i];if(s.length%2!=0)throw new tr(xt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(p2(t,s[h])),c.push(s[h+1]);const a=[],u=Wa.empty();for(let h=l.length-1;h>=0;--h)if(!Q3(a,l[h])){const d=l[h];let y=c[h];y=gc(y);const g=o.yc(d);if(y instanceof F0)a.push(d);else{const p=lp(y,g);p!=null&&(a.push(d),u.set(d,p))}}const f=new uo(a);return new K3(u,f,o.fieldTransforms)}function DA(r,t,e,n=!1){return lp(e,r.Cc(n?4:3,t))}function lp(r,t){if(Z3(r=gc(r)))return Oy("Unsupported field value:",t,r),Y3(r,t);if(r instanceof Py)return(function(n,i){if(!X3(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let o=0;for(const l of n){let c=lp(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(r,t)}return(function(n,i){if((n=gc(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Sk(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=vs.fromDate(n);return{timestampValue:t0(i.serializer,s)}}if(n instanceof vs){const s=new vs(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:t0(i.serializer,s)}}if(n instanceof Rl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Io)return{bytesValue:f3(i.serializer,n._byteString)};if(n instanceof li){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ml)return(function(o,l){return{mapValue:{fields:{[U4]:{stringValue:$4},[Ym]:{arrayValue:{values:o.toArray().map((a=>{if(typeof a!="number")throw l.Sc("VectorValues must only contain numeric values.");return fy(l.serializer,a)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${N0(n)}`)})(r,t)}function Y3(r,t){const e={};return L4(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xu(r,((n,i)=>{const s=lp(i,t.mc(n));s!=null&&(e[n]=s)})),{mapValue:{fields:e}}}function Z3(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vs||r instanceof Rl||r instanceof Io||r instanceof li||r instanceof Py||r instanceof Ml)}function Oy(r,t,e){if(!Z3(e)||!M4(e)){const n=N0(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function p2(r,t,e){if((t=gc(t))instanceof D0)return t._internalPath;if(typeof t=="string")return Ly(r,t);throw i0("Field path arguments must be of type string or ",r,!1,void 0,e)}const FA=new RegExp("[~\\*/\\[\\]]");function Ly(r,t,e){if(t.search(FA)>=0)throw i0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new D0(...t.split("."))._internalPath}catch{throw i0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function i0(r,t,e,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new tr(xt.INVALID_ARGUMENT,l+r+c)}function Q3(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class BA extends J3{data(){return super.data()}}function Dy(r,t){return typeof t=="string"?Ly(r,t):t instanceof D0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new tr(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fy{}class zA extends Fy{}function Ww(r,t,...e){let n=[];t instanceof Fy&&n.push(t),n=n.concat(e),(function(s){const o=s.filter((c=>c instanceof By)).length,l=s.filter((c=>c instanceof B0)).length;if(o>1||o>0&&l>0)throw new tr(xt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class B0 extends zA{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new B0(t,e,n)}_apply(t){const e=this._parse(t);return e6(t._query,e),new Ih(t.firestore,t.converter,n2(t._query,e))}_parse(t){const e=My(t.firestore);return(function(s,o,l,c,a,u,f){let h;if(a.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new tr(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Xw(f,u);const y=[];for(const g of f)y.push(Kw(c,s,g));h={arrayValue:{values:y}}}else h=Kw(c,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Xw(f,u),h=DA(l,o,f,u==="in"||u==="not-in");return vi.create(a,u,h)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Gw(r,t,e){const n=t,i=Dy("where",r);return B0._create(i,n,e)}class By extends Fy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new By(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:rl.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)e6(o,c),o=n2(o,c)})(t._query,e),new Ih(t.firestore,t.converter,n2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kw(r,t,e){if(typeof(e=gc(e))=="string"){if(e==="")throw new tr(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z4(t)&&e.indexOf("/")!==-1)throw new tr(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(ms.fromString(e));if(!Mr.isDocumentKey(n))throw new tr(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return cw(r,new Mr(n))}if(e instanceof li)return cw(r,e._key);throw new tr(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(e)}.`)}function Xw(r,t){if(!Array.isArray(r)||r.length===0)throw new tr(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function e6(r,t){const e=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new tr(xt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new tr(xt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class UA{convertValue(t,e="none"){switch(fu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Xr(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return xu(t,((i,s)=>{n[i]=this.convertValue(s,e)})),n}convertVectorValue(t){var n,i,s;const e=(s=(i=(n=t.fields)==null?void 0:n[Ym].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>ri(o.doubleValue)));return new Ml(e)}convertGeoPoint(t){return new Rl(ri(t.latitude),ri(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=E0(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp($f(t));default:return null}}convertTimestamp(t){const e=du(t);return new vs(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ms.fromString(t);Hn(b3(n),9688,{name:t});const i=new qf(n.get(1),n.get(3)),s=new Mr(n.popFirst(5));return i.isEqual(e)||vc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r,t,e){let n;return n=r?r.toFirestore(t):t,n}class Cf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qu extends J3{constructor(t,e,n,i,s,o){super(t,e,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tr(xt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Qu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Qu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qu._jsonSchema={type:bi("string",Qu._jsonSchemaVersion),bundleSource:bi("string","DocumentSnapshot"),bundleName:bi("string"),bundle:bi("string")};class Rm extends Qu{data(t={}){return super.data(t)}}class ah{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Cf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Rm(this._firestore,this._userDataWriter,n.key,n,new Cf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tr(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new Rm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Cf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new Rm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Cf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let a=-1,u=-1;return l.type!==0&&(a=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:qA(l.type),doc:c,oldIndex:a,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tr(xt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ah._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(e.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xr(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(r){r=Dl(r,li);const t=Dl(r.firestore,Ph);return kA(Iy(t),r._key).then((e=>HA(t,r,e)))}ah._jsonSchemaVersion="firestore/querySnapshot/1.0",ah._jsonSchema={type:bi("string",ah._jsonSchemaVersion),bundleSource:bi("string","QuerySnapshot"),bundleName:bi("string"),bundle:bi("string")};class t6 extends UA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Io(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,e)}}function Xa(r){r=Dl(r,Ih);const t=Dl(r.firestore,Ph),e=Iy(t),n=new t6(t);return VA(r._query),EA(e,r._query).then((i=>new ah(t,n,r,i)))}function Bi(r,t,e){r=Dl(r,li);const n=Dl(r.firestore,Ph),i=$A(r.converter,t);return Vy(n,[MA(My(n),"setDoc",r._key,i,r.converter!==null,e).toMutation(r._key,el.none())])}function Su(r,t,e,...n){r=Dl(r,li);const i=Dl(r.firestore,Ph),s=My(i);let o;return o=typeof(t=gc(t))=="string"||t instanceof D0?LA(s,"updateDoc",r._key,t,e,n):OA(s,"updateDoc",r._key,t),Vy(i,[o.toMutation(r._key,el.exists(!0))])}function gu(r){return Vy(Dl(r.firestore,Ph),[new py(r._key,el.none())])}function Vy(r,t){return(function(n,i){const s=new pc;return n.asyncQueue.enqueueAndForget((async()=>pA(await CA(n),i,s))),s.promise})(Iy(r),t)}function HA(r,t,e){const n=e.docs.get(t._key),i=new t6(r);return new Qu(r,i,t._key,n,new Cf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){Eh=i})(bC),Gm(new Vf("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Ph(new OC(n.getProvider("auth-internal")),new FC(o,n.getProvider("app-check-internal")),(function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new tr(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qf(a.options.projectId,u)})(o,i),o);return s={useFetchStreams:e,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),sh(Yb,Zb,t),sh(Yb,Zb,"esm2020")})();const WA={apiKey:"AIzaSyDemoKeyReplaceMeWithYourActualKey",authDomain:"your-project-id.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project-id.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456"},GA=_4(WA),$r=TA(GA),qr={users:"users",clients:"clients",cases:"cases",tasks:"tasks",courtLogs:"courtLogs",messages:"messages",timeEntries:"timeEntries",invoices:"invoices",passwords:"passwords",settings:"settings"},Nc=r=>`${r}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,KA=[{id:"user-admin-001",name:"Admin User",email:"admin@lawfirm.com",role:"Admin",status:"active",createdAt:"2024-01-01T00:00:00.000Z"},{id:"user-lawyer-001",name:"John Smith",email:"john@lawfirm.com",role:"Lawyer",status:"active",createdAt:"2024-01-15T00:00:00.000Z"},{id:"user-lawyer-002",name:"Sarah Johnson",email:"sarah@lawfirm.com",role:"Lawyer",status:"active",createdAt:"2024-02-01T00:00:00.000Z"}],XA={"user-admin-001":"admin123","user-lawyer-001":"lawyer123","user-lawyer-002":"lawyer123"},YA=[{id:"client-001",name:"James Anderson",firstName:"James",lastName:"Anderson",email:"james.anderson@email.com",phone:"+1-555-0101",type:"Individual",address:"123 Main Street, New York, NY 10001",createdAt:"2024-03-01T00:00:00.000Z"},{id:"client-002",name:"Tech Solutions Inc.",companyName:"Tech Solutions Inc.",email:"legal@techsolutions.com",phone:"+1-555-0102",type:"Corporate",address:"456 Business Ave, San Francisco, CA 94102",createdAt:"2024-03-15T00:00:00.000Z"},{id:"client-003",name:"Maria Garcia",firstName:"Maria",lastName:"Garcia",email:"maria.garcia@email.com",phone:"+1-555-0103",type:"Individual",address:"789 Oak Lane, Los Angeles, CA 90001",createdAt:"2024-04-01T00:00:00.000Z"}],ZA=[{id:"case-001",title:"H1B Visa Application - James Anderson",caseNumber:"CASE-2024-001",type:"General",status:"Open",clientId:"client-001",assignedTo:["user-lawyer-001"],description:"H1B visa application for software engineer position",createdAt:"2024-03-05T00:00:00.000Z",updatedAt:"2024-12-20T00:00:00.000Z"},{id:"case-002",title:"Asylum Application - Maria Garcia",caseNumber:"CASE-2024-002",type:"Asylum",status:"Open",clientId:"client-003",assignedTo:["user-lawyer-002"],description:"Asylum application",createdAt:"2024-04-05T00:00:00.000Z",updatedAt:"2024-12-22T00:00:00.000Z"}],QA=[{id:"task-001",title:"Prepare H1B petition documents",description:"Gather and prepare all required documents",assignedTo:"user-lawyer-001",caseId:"case-001",dueDate:"2024-12-30T00:00:00.000Z",priority:"High",status:"In Progress",createdAt:"2024-12-01T00:00:00.000Z"},{id:"task-002",title:"Client follow-up call",description:"Schedule follow-up with Maria Garcia",assignedTo:"user-lawyer-002",caseId:"case-002",dueDate:"2024-12-28T00:00:00.000Z",priority:"Medium",status:"Todo",createdAt:"2024-12-05T00:00:00.000Z"}];async function JA(){try{const r=_n($r,qr.settings,"init");if((await nl(r)).exists()){console.log(" Database already initialized");return}console.log(" Initializing database with sample data...");for(const e of KA)await Bi(_n($r,qr.users,e.id),e);for(const[e,n]of Object.entries(XA))await Bi(_n($r,qr.passwords,e),{password:n});for(const e of YA)await Bi(_n($r,qr.clients,e.id),e);for(const e of ZA)await Bi(_n($r,qr.cases,e.id),e);for(const e of QA)await Bi(_n($r,qr.tasks,e.id),e);await Bi(r,{initialized:!0,date:new Date().toISOString()}),console.log(" Database initialized with sample data")}catch(r){console.error("Error initializing database:",r)}}JA();const sm={async login(r,t){try{const e=Ka($r,qr.users),n=Ww(e,Gw("email","==",r)),i=await Xa(n);if(i.empty)return null;const s=i.docs[0],o={id:s.id,...s.data()};if(o.status!=="active")return null;const l=await nl(_n($r,qr.passwords,o.id));if(!l.exists()||l.data().password!==t)return null;const a=`firebase-token-${o.id}-${Date.now()}`;return localStorage.setItem("auth_token",a),localStorage.setItem("lawfirm_current_user",JSON.stringify(o)),{user:o,token:a}}catch(e){return console.error("Login error:",e),null}},async register(r,t,e,n="Staff"){try{const i=Ka($r,qr.users),s=Ww(i,Gw("email","==",t));if(!(await Xa(s)).empty)throw new Error("Email already registered");const l=Nc("user"),c={id:l,name:r,email:t,role:n,status:"active",createdAt:new Date().toISOString()};await Bi(_n($r,qr.users,l),c),await Bi(_n($r,qr.passwords,l),{password:e});const a=`firebase-token-${l}-${Date.now()}`;return localStorage.setItem("auth_token",a),localStorage.setItem("lawfirm_current_user",JSON.stringify(c)),{user:c,token:a}}catch(i){throw console.error("Register error:",i),i}},getCurrentUser(){const r=localStorage.getItem("lawfirm_current_user");return r?JSON.parse(r):null},logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("lawfirm_current_user")},getToken(){return localStorage.getItem("auth_token")}},im={async getAll(){try{return(await Xa(Ka($r,qr.users))).docs.map(t=>({id:t.id,...t.data()}))}catch(r){return console.error("Error getting users:",r),[]}},async getById(r){try{const t=await nl(_n($r,qr.users,r));return t.exists()?{id:t.id,...t.data()}:void 0}catch(t){console.error("Error getting user:",t);return}},async create(r){const t=Nc("user"),e={id:t,name:r.name,email:r.email,role:r.role,status:"active",createdAt:new Date().toISOString()};return await Bi(_n($r,qr.users,t),e),await Bi(_n($r,qr.passwords,t),{password:r.password}),e},async update(r,t){const{password:e,...n}=t,i=_n($r,qr.users,r);await Su(i,n),e&&await Bi(_n($r,qr.passwords,r),{password:e});const s=await nl(i);return{id:r,...s.data()}},async delete(r){await gu(_n($r,qr.users,r)),await gu(_n($r,qr.passwords,r))}},am={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.clients))).docs.map(l=>({id:l.id,...l.data()}));if(r.search){const l=r.search.toLowerCase();e=e.filter(c=>{var a,u,f;return((a=c.name)==null?void 0:a.toLowerCase().includes(l))||((u=c.email)==null?void 0:u.toLowerCase().includes(l))||((f=c.phone)==null?void 0:f.includes(l))})}r.type&&(e=e.filter(l=>l.type===r.type));const n=e.length,i=parseInt(r.page)||1,s=parseInt(r.limit)||50,o=(i-1)*s;return e=e.slice(o,o+s),{clients:e,pagination:{total:n,page:i,limit:s,totalPages:Math.ceil(n/s)}}}catch(t){return console.error("Error getting clients:",t),{clients:[],pagination:{total:0,page:1,limit:50,totalPages:0}}}},async getById(r){try{const t=await nl(_n($r,qr.clients,r));return t.exists()?{id:t.id,...t.data()}:void 0}catch(t){console.error("Error getting client:",t);return}},async create(r){const t=Nc("client"),e={id:t,name:r.name||"",email:r.email||"",phone:r.phone||"",type:r.type||"Individual",createdAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.clients,t),e),e},async update(r,t){const e=_n($r,qr.clients,r);await Su(e,t);const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.clients,r))}},om={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.cases))).docs.map(l=>({id:l.id,...l.data()}));if(r.search){const l=r.search.toLowerCase();e=e.filter(c=>{var a,u;return((a=c.title)==null?void 0:a.toLowerCase().includes(l))||((u=c.caseNumber)==null?void 0:u.toLowerCase().includes(l))})}r.status&&(e=e.filter(l=>l.status===r.status)),r.type&&(e=e.filter(l=>l.type===r.type)),r.clientId&&(e=e.filter(l=>l.clientId===r.clientId));const n=e.length,i=parseInt(r.page)||1,s=parseInt(r.limit)||50,o=(i-1)*s;return e=e.slice(o,o+s),{cases:e,pagination:{total:n,page:i,limit:s,totalPages:Math.ceil(n/s)}}}catch(t){return console.error("Error getting cases:",t),{cases:[],pagination:{total:0,page:1,limit:50,totalPages:0}}}},async create(r){const t=Nc("case"),e={id:t,title:r.title||"",caseNumber:r.caseNumber||`CASE-${Date.now()}`,type:r.type||"General",status:r.status||"Open",clientId:r.clientId||"",assignedTo:r.assignedTo||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.cases,t),e),e},async update(r,t){const e=_n($r,qr.cases,r);await Su(e,{...t,updatedAt:new Date().toISOString()});const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.cases,r))}},lm={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.tasks))).docs.map(n=>({id:n.id,...n.data()}));return r.assignedTo&&(e=e.filter(n=>n.assignedTo===r.assignedTo)),r.status&&(e=e.filter(n=>n.status===r.status)),r.caseId&&(e=e.filter(n=>n.caseId===r.caseId)),e}catch(t){return console.error("Error getting tasks:",t),[]}},async create(r){const t=Nc("task"),e={id:t,title:r.title||"",assignedTo:r.assignedTo||"",dueDate:r.dueDate||new Date().toISOString(),priority:r.priority||"Medium",status:r.status||"Todo",createdAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.tasks,t),e),e},async update(r,t){const e=_n($r,qr.tasks,r);await Su(e,t);const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.tasks,r))}},$d={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.courtLogs))).docs.map(l=>({id:l.id,...l.data()}));r.clientId&&(e=e.filter(l=>l.clientId===r.clientId)),r.status&&(e=e.filter(l=>l.status===r.status));const n=e.length,i=parseInt(r.page)||1,s=parseInt(r.limit)||50,o=(i-1)*s;return e=e.slice(o,o+s),{courtLogs:e,pagination:{total:n,page:i,limit:s,totalPages:Math.ceil(n/s)}}}catch(t){return console.error("Error getting court logs:",t),{courtLogs:[],pagination:{total:0,page:1,limit:50,totalPages:0}}}},async create(r){const t=Nc("court"),e={id:t,clientId:r.clientId||"",clientName:r.clientName||"",courtDate:r.courtDate||"",courtTime:r.courtTime||"",courtName:r.courtName||"",purpose:r.purpose||"",reminderEnabled:r.reminderEnabled??!0,reminderDaysBefore:r.reminderDaysBefore??7,reminderSentToLawyer:!1,reminderSentToClient:!1,status:r.status||"Scheduled",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.courtLogs,t),e),e},async update(r,t){const e=_n($r,qr.courtLogs,r);await Su(e,{...t,updatedAt:new Date().toISOString()});const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.courtLogs,r))}},Yw={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.messages))).docs.map(l=>({id:l.id,...l.data()}));r.userId&&(e=e.filter(l=>l.fromUserId===r.userId||l.toUserIds.includes(r.userId)));const n=e.length,i=parseInt(r.page)||1,s=parseInt(r.limit)||50,o=(i-1)*s;return e=e.slice(o,o+s),{messages:e,pagination:{total:n,page:i,limit:s,totalPages:Math.ceil(n/s)}}}catch(t){return console.error("Error getting messages:",t),{messages:[],pagination:{total:0,page:1,limit:50,totalPages:0}}}},async create(r){const t=Nc("msg"),e={id:t,subject:r.subject||"",content:r.content||"",fromUserId:r.fromUserId||"",toUserIds:r.toUserIds||[],read:!1,createdAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.messages,t),e),e},async markAsRead(r){await Su(_n($r,qr.messages,r),{read:!0})}},cm={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.timeEntries))).docs.map(n=>({id:n.id,...n.data()}));return r.caseId&&(e=e.filter(n=>n.caseId===r.caseId)),r.clientId&&(e=e.filter(n=>n.clientId===r.clientId)),r.userId&&(e=e.filter(n=>n.userId===r.userId)),e}catch(t){return console.error("Error getting time entries:",t),[]}},async create(r){const t=Nc("time"),e={id:t,caseId:r.caseId||"",clientId:r.clientId||"",userId:r.userId||"",date:r.date||new Date().toISOString().split("T")[0],duration:r.duration||0,description:r.description||"",hourlyRate:r.hourlyRate||0,billable:r.billable??!0,createdAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.timeEntries,t),e),e},async update(r,t){const e=_n($r,qr.timeEntries,r);await Su(e,t);const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.timeEntries,r))}},um={async getAll(r={}){try{let e=(await Xa(Ka($r,qr.invoices))).docs.map(n=>({id:n.id,...n.data()}));return r.clientId&&(e=e.filter(n=>n.clientId===r.clientId)),r.status&&(e=e.filter(n=>n.status===r.status)),e}catch(t){return console.error("Error getting invoices:",t),[]}},async create(r){const t=Nc("inv"),e={id:t,invoiceNumber:r.invoiceNumber||`INV-${Date.now()}`,clientId:r.clientId||"",timeEntryIds:r.timeEntryIds||[],subtotal:r.subtotal||0,tax:r.tax||0,total:r.total||0,status:r.status||"Draft",issuedDate:r.issuedDate||new Date().toISOString().split("T")[0],dueDate:r.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],createdAt:new Date().toISOString(),...r};return await Bi(_n($r,qr.invoices,t),e),e},async update(r,t){const e=_n($r,qr.invoices,r);await Su(e,t);const n=await nl(e);return{id:r,...n.data()}},async delete(r){await gu(_n($r,qr.invoices,r))}},eT={async getStats(){try{const[r,t,e,n]=await Promise.all([Xa(Ka($r,qr.clients)),Xa(Ka($r,qr.cases)),Xa(Ka($r,qr.tasks)),Xa(Ka($r,qr.invoices))]),i=t.docs.map(l=>({id:l.id,...l.data()})),s=e.docs.map(l=>({id:l.id,...l.data()})),o=n.docs.map(l=>({id:l.id,...l.data()}));return{totalClients:r.size,activeCases:i.filter(l=>l.status==="Open"||l.status==="Pending").length,pendingTasks:s.filter(l=>l.status!=="Completed").length,unpaidInvoices:o.filter(l=>l.status!=="Paid").length,recentCases:i.slice(-5).reverse(),upcomingTasks:s.filter(l=>l.status!=="Completed").sort((l,c)=>new Date(l.dueDate).getTime()-new Date(c.dueDate).getTime()).slice(0,5)}}catch(r){return console.error("Error getting dashboard stats:",r),{totalClients:0,activeCases:0,pendingTasks:0,unpaidInvoices:0,recentCases:[],upcomingTasks:[]}}}};class tT{constructor(){qn(this,"token",null);this.token=localStorage.getItem("auth_token")}setToken(t){this.token=t,t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token")}async login(t,e){const n=await sm.login(t,e);if(!n)throw new Error("Invalid credentials");return this.setToken(n.token),n}async register(t,e,n,i){const s=await sm.register(t,e,n,i);if(!s)throw new Error("Registration failed");return this.setToken(s.token),s}async getMe(){const t=sm.getCurrentUser();if(!t)throw new Error("Not authenticated");return{user:t}}logout(){sm.logout(),this.setToken(null)}async getUsers(){return im.getAll()}async createUser(t){return im.create(t)}async updateUser(t,e){return im.update(t,e)}async deleteUser(t){return await im.delete(t),{success:!0}}async getClients(t={}){return am.getAll(t)}async createClient(t){return am.create(t)}async updateClient(t,e){return am.update(t,e)}async deleteClient(t){return await am.delete(t),{success:!0}}async getCases(t={}){return om.getAll(t)}async createCase(t){return om.create(t)}async updateCase(t,e){return om.update(t,e)}async deleteCase(t){return await om.delete(t),{success:!0}}async getTasks(t={}){return lm.getAll(t)}async createTask(t){return lm.create(t)}async updateTask(t,e){return lm.update(t,e)}async deleteTask(t){return await lm.delete(t),{success:!0}}async getCourtLogs(t={}){return $d.getAll(t)}async createCourtLog(t){return $d.create(t)}async updateCourtLog(t,e){return $d.update(t,e)}async deleteCourtLog(t){return await $d.delete(t),{success:!0}}async getAppointments(t={}){return(await $d.getAll(t)).courtLogs}async createAppointment(t){return $d.create(t)}async getMessages(t={}){return Yw.getAll(t)}async createMessage(t){return Yw.create(t)}async getTimeEntries(t={}){return cm.getAll(t)}async createTimeEntry(t){return cm.create(t)}async updateTimeEntry(t,e){return cm.update(t,e)}async deleteTimeEntry(t){return await cm.delete(t),{success:!0}}async getInvoices(t={}){return um.getAll(t)}async createInvoice(t){return um.create(t)}async updateInvoice(t,e){return um.update(t,e)}async deleteInvoice(t){return await um.delete(t),{success:!0}}async getDashboardStats(){return eT.getStats()}async health(){return{status:"ok",mode:"firebase"}}}const os=new tT,r6=ie.createContext(null);function rT({children:r}){const[t,e]=ie.useState({user:null,token:localStorage.getItem("auth_token"),isAuthenticated:!1,isLoading:!0});ie.useEffect(()=>{(async()=>{if(t.token)try{const{user:l}=await os.getMe();e(c=>({...c,user:l,isAuthenticated:!0,isLoading:!1}))}catch{os.logout(),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}else e(l=>({...l,isLoading:!1}))})()},[]);const n=async(o,l)=>{try{const{user:c,token:a}=await os.login(o,l);return e({user:c,token:a,isAuthenticated:!0,isLoading:!1}),{success:!0}}catch(c){return{success:!1,error:c.message}}},i=async(o,l,c,a)=>{try{const{user:u,token:f}=await os.register(o,l,c,a);return e({user:u,token:f,isAuthenticated:!0,isLoading:!1}),{success:!0}}catch(u){return{success:!1,error:u.message}}},s=()=>{os.logout(),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})};return b.jsx(r6.Provider,{value:{...t,login:n,register:i,logout:s},children:r})}function pd(){const r=ie.useContext(r6);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}function Zw(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function Cc(...r){return t=>{let e=!1;const n=r.map(i=>{const s=Zw(i,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Zw(r[i],null)}}}}function Vn(...r){return ie.useCallback(Cc(...r),r)}var nT=Symbol.for("react.lazy"),a0=ty[" use ".trim().toString()];function sT(r){return typeof r=="object"&&r!==null&&"then"in r}function n6(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===nT&&"_payload"in r&&sT(r._payload)}function zy(r){const t=aT(r),e=ie.forwardRef((n,i)=>{let{children:s,...o}=n;n6(s)&&typeof a0=="function"&&(s=a0(s._payload));const l=ie.Children.toArray(s),c=l.find(lT);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}var iT=zy("Slot");function aT(r){const t=ie.forwardRef((e,n)=>{let{children:i,...s}=e;if(n6(i)&&typeof a0=="function"&&(i=a0(i._payload)),ie.isValidElement(i)){const o=uT(i),l=cT(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var oT=Symbol("radix.slottable");function lT(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===oT}function cT(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function uT(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}function s6(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(e=s6(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function i6(){for(var r,t,e=0,n="",i=arguments.length;e<i;e++)(r=arguments[e])&&(t=s6(r))&&(n&&(n+=" "),n+=t);return n}const Qw=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Jw=i6,Uy=(r,t)=>e=>{var n;if((t==null?void 0:t.variants)==null)return Jw(r,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(a=>{const u=e==null?void 0:e[a],f=s==null?void 0:s[a];if(u===null)return null;const h=Qw(u)||Qw(f);return i[a][h]}),l=e&&Object.entries(e).reduce((a,u)=>{let[f,h]=u;return h===void 0||(a[f]=h),a},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((a,u)=>{let{class:f,className:h,...d}=u;return Object.entries(d).every(y=>{let[g,p]=y;return Array.isArray(p)?p.includes({...s,...l}[g]):{...s,...l}[g]===p})?[...a,f,h]:a},[]);return Jw(r,o,c,e==null?void 0:e.class,e==null?void 0:e.className)},$y="-",dT=r=>{const t=fT(r),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:o=>{const l=o.split($y);return l[0]===""&&l.length!==1&&l.shift(),a6(l,t)||hT(o)},getConflictingClassGroupIds:(o,l)=>{const c=e[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},a6=(r,t)=>{var o;if(r.length===0)return t.classGroupId;const e=r[0],n=t.nextPart.get(e),i=n?a6(r.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=r.join($y);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},e5=/^\[(.+)\]$/,hT=r=>{if(e5.test(r)){const t=e5.exec(r)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},fT=r=>{const{theme:t,prefix:e}=r,n={nextPart:new Map,validators:[]};return mT(Object.entries(r.classGroups),e).forEach(([s,o])=>{m2(o,n,s,t)}),n},m2=(r,t,e,n)=>{r.forEach(i=>{if(typeof i=="string"){const s=i===""?t:t5(t,i);s.classGroupId=e;return}if(typeof i=="function"){if(pT(i)){m2(i(n),t,e,n);return}t.validators.push({validator:i,classGroupId:e});return}Object.entries(i).forEach(([s,o])=>{m2(o,t5(t,s),e,n)})})},t5=(r,t)=>{let e=r;return t.split($y).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},pT=r=>r.isThemeGetter,mT=(r,t)=>t?r.map(([e,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[e,i]}):r,gT=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const i=(s,o)=>{e.set(s,o),t++,t>r&&(t=0,n=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){e.has(s)?e.set(s,o):i(s,o)}}},o6="!",yT=r=>{const{separator:t,experimentalParseClassName:e}=r,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let a=0,u=0,f;for(let p=0;p<l.length;p++){let w=l[p];if(a===0){if(w===i&&(n||l.slice(p,p+s)===t)){c.push(l.slice(u,p)),u=p+s;continue}if(w==="/"){f=p;continue}}w==="["?a++:w==="]"&&a--}const h=c.length===0?l:l.substring(u),d=h.startsWith(o6),y=d?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:d,baseClassName:y,maybePostfixModifierPosition:g}};return e?l=>e({className:l,parseClassName:o}):o},vT=r=>{if(r.length<=1)return r;const t=[];let e=[];return r.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},bT=r=>({cache:gT(r.cacheSize),parseClassName:yT(r),...dT(r)}),wT=/\s+/,xT=(r,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=r.trim().split(wT);let l="";for(let c=o.length-1;c>=0;c-=1){const a=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:d}=e(a);let y=!!d,g=n(y?h.substring(0,d):h);if(!g){if(!y){l=a+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=a+(l.length>0?" "+l:l);continue}y=!1}const p=vT(u).join(":"),w=f?p+o6:p,v=w+g;if(s.includes(v))continue;s.push(v);const _=i(g,y);for(let T=0;T<_.length;++T){const F=_[T];s.push(w+F)}l=a+(l.length>0?" "+l:l)}return l};function _T(){let r=0,t,e,n="";for(;r<arguments.length;)(t=arguments[r++])&&(e=l6(t))&&(n&&(n+=" "),n+=e);return n}const l6=r=>{if(typeof r=="string")return r;let t,e="";for(let n=0;n<r.length;n++)r[n]&&(t=l6(r[n]))&&(e&&(e+=" "),e+=t);return e};function ST(r,...t){let e,n,i,s=o;function o(c){const a=t.reduce((u,f)=>f(u),r());return e=bT(a),n=e.cache.get,i=e.cache.set,s=l,l(c)}function l(c){const a=n(c);if(a)return a;const u=xT(c,e);return i(c,u),u}return function(){return s(_T.apply(null,arguments))}}const ys=r=>{const t=e=>e[r]||[];return t.isThemeGetter=!0,t},c6=/^\[(?:([a-z-]+):)?(.+)\]$/i,NT=/^\d+\/\d+$/,CT=new Set(["px","full","screen"]),kT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ET=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lc=r=>oh(r)||CT.has(r)||NT.test(r),Qc=r=>Rh(r,"length",FT),oh=r=>!!r&&!Number.isNaN(Number(r)),u1=r=>Rh(r,"number",oh),mf=r=>!!r&&Number.isInteger(Number(r)),IT=r=>r.endsWith("%")&&oh(r.slice(0,-1)),cn=r=>c6.test(r),Jc=r=>kT.test(r),PT=new Set(["length","size","percentage"]),RT=r=>Rh(r,PT,u6),MT=r=>Rh(r,"position",u6),OT=new Set(["image","url"]),LT=r=>Rh(r,OT,VT),DT=r=>Rh(r,"",BT),gf=()=>!0,Rh=(r,t,e)=>{const n=c6.exec(r);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},FT=r=>ET.test(r)&&!AT.test(r),u6=()=>!1,BT=r=>TT.test(r),VT=r=>jT.test(r),zT=()=>{const r=ys("colors"),t=ys("spacing"),e=ys("blur"),n=ys("brightness"),i=ys("borderColor"),s=ys("borderRadius"),o=ys("borderSpacing"),l=ys("borderWidth"),c=ys("contrast"),a=ys("grayscale"),u=ys("hueRotate"),f=ys("invert"),h=ys("gap"),d=ys("gradientColorStops"),y=ys("gradientColorStopPositions"),g=ys("inset"),p=ys("margin"),w=ys("opacity"),v=ys("padding"),_=ys("saturate"),T=ys("scale"),F=ys("sepia"),G=ys("skew"),$=ys("space"),P=ys("translate"),M=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",cn,t],I=()=>[cn,t],E=()=>["",lc,Qc],L=()=>["auto",oh,cn],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",cn],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[oh,cn];return{cacheSize:500,separator:":",theme:{colors:[gf],spacing:[lc,Qc],blur:["none","",Jc,cn],brightness:D(),borderColor:[r],borderRadius:["none","","full",Jc,cn],borderSpacing:I(),borderWidth:E(),contrast:D(),grayscale:C(),hueRotate:D(),invert:C(),gap:I(),gradientColorStops:[r],gradientColorStopPositions:[IT,Qc],inset:V(),margin:V(),opacity:D(),padding:I(),saturate:D(),scale:D(),sepia:C(),skew:D(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",cn]}],container:["container"],columns:[{columns:[Jc]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),cn]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mf,cn]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",cn]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",mf,cn]}],"grid-cols":[{"grid-cols":[gf]}],"col-start-end":[{col:["auto",{span:["full",mf,cn]},cn]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[gf]}],"row-start-end":[{row:["auto",{span:[mf,cn]},cn]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",cn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",cn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",cn,t]}],"min-w":[{"min-w":[cn,t,"min","max","fit"]}],"max-w":[{"max-w":[cn,t,"none","full","min","max","fit","prose",{screen:[Jc]},Jc]}],h:[{h:[cn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[cn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[cn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[cn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jc,Qc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",u1]}],"font-family":[{font:[gf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",cn]}],"line-clamp":[{"line-clamp":["none",oh,u1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lc,cn]}],"list-image":[{"list-image":["none",cn]}],"list-style-type":[{list:["none","disc","decimal",cn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lc,Qc]}],"underline-offset":[{"underline-offset":["auto",lc,cn]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",cn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",cn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),MT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LT]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:S()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[lc,cn]}],"outline-w":[{outline:[lc,Qc]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[lc,Qc]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Jc,DT]}],"shadow-color":[{shadow:[gf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jc,cn]}],grayscale:[{grayscale:[a]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[a]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",cn]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",cn]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",cn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[mf,cn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",cn]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",cn]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",cn]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[lc,Qc,u1]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UT=ST(zT);function _r(...r){return UT(i6(r))}const qy=Uy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Mt=ie.forwardRef(({className:r,variant:t,size:e,asChild:n=!1,...i},s)=>{const o=n?iT:"button";return b.jsx(o,{className:_r(qy({variant:t,size:e,className:r})),ref:s,...i})});Mt.displayName="Button";const Xt=ie.forwardRef(({className:r,type:t,...e},n)=>b.jsx("input",{type:t,className:_r("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:n,...e}));Xt.displayName="Input";var cp=p4();const d6=S0(cp);var $T=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qT=$T.reduce((r,t)=>{const e=zy(`Primitive.${t}`),n=ie.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...r,[t]:n}},{}),HT="Label",h6=ie.forwardRef((r,t)=>b.jsx(qT.label,{...r,ref:t,onMouseDown:e=>{var i;e.target.closest("button, input, select, textarea")||((i=r.onMouseDown)==null||i.call(r,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));h6.displayName=HT;var f6=h6;const WT=Uy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yt=ie.forwardRef(({className:r,...t},e)=>b.jsx(f6,{ref:e,className:_r(WT(),r),...t}));yt.displayName=f6.displayName;const Qt=ie.forwardRef(({className:r,...t},e)=>b.jsx("div",{ref:e,className:_r("rounded-xl border bg-card text-card-foreground shadow",r),...t}));Qt.displayName="Card";const zr=ie.forwardRef(({className:r,...t},e)=>b.jsx("div",{ref:e,className:_r("flex flex-col space-y-1.5 p-6",r),...t}));zr.displayName="CardHeader";const Ur=ie.forwardRef(({className:r,...t},e)=>b.jsx("h3",{ref:e,className:_r("font-semibold leading-none tracking-tight",r),...t}));Ur.displayName="CardTitle";const fa=ie.forwardRef(({className:r,...t},e)=>b.jsx("p",{ref:e,className:_r("text-sm text-muted-foreground",r),...t}));fa.displayName="CardDescription";const Jt=ie.forwardRef(({className:r,...t},e)=>b.jsx("div",{ref:e,className:_r("p-6 pt-0",r),...t}));Jt.displayName="CardContent";const g2=ie.forwardRef(({className:r,...t},e)=>b.jsx("div",{ref:e,className:_r("flex items-center p-6 pt-0",r),...t}));g2.displayName="CardFooter";function Nr(r,t,{checkForDefaultPrevented:e=!0}={}){return function(i){if(r==null||r(i),e===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function GT(r,t){const e=ie.createContext(t),n=s=>{const{children:o,...l}=s,c=ie.useMemo(()=>l,Object.values(l));return b.jsx(e.Provider,{value:c,children:o})};n.displayName=r+"Provider";function i(s){const o=ie.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${r}\``)}return[n,i]}function zl(r,t=[]){let e=[];function n(s,o){const l=ie.createContext(o),c=e.length;e=[...e,o];const a=f=>{var w;const{scope:h,children:d,...y}=f,g=((w=h==null?void 0:h[r])==null?void 0:w[c])||l,p=ie.useMemo(()=>y,Object.values(y));return b.jsx(g.Provider,{value:p,children:d})};a.displayName=s+"Provider";function u(f,h){var g;const d=((g=h==null?void 0:h[r])==null?void 0:g[c])||l,y=ie.useContext(d);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[a,u]}const i=()=>{const s=e.map(o=>ie.createContext(o));return function(l){const c=(l==null?void 0:l[r])||s;return ie.useMemo(()=>({[`__scope${r}`]:{...l,[r]:c}}),[l,c])}};return i.scopeName=r,[n,KT(i,...t)]}function KT(...r){const t=r[0];if(r.length===1)return t;const e=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:a})=>{const f=c(s)[`__scope${a}`];return{...l,...f}},{});return ie.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function r5(r){const t=XT(r),e=ie.forwardRef((n,i)=>{const{children:s,...o}=n,l=ie.Children.toArray(s),c=l.find(ZT);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}function XT(r){const t=ie.forwardRef((e,n)=>{const{children:i,...s}=e;if(ie.isValidElement(i)){const o=JT(i),l=QT(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var YT=Symbol("radix.slottable");function ZT(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===YT}function QT(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function JT(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}function Hy(r){const t=r+"CollectionProvider",[e,n]=zl(t),[i,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:p,children:w}=g,v=qt.useRef(null),_=qt.useRef(new Map).current;return b.jsx(i,{scope:p,itemMap:_,collectionRef:v,children:w})};o.displayName=t;const l=r+"CollectionSlot",c=r5(l),a=qt.forwardRef((g,p)=>{const{scope:w,children:v}=g,_=s(l,w),T=Vn(p,_.collectionRef);return b.jsx(c,{ref:T,children:v})});a.displayName=l;const u=r+"CollectionItemSlot",f="data-radix-collection-item",h=r5(u),d=qt.forwardRef((g,p)=>{const{scope:w,children:v,..._}=g,T=qt.useRef(null),F=Vn(p,T),G=s(u,w);return qt.useEffect(()=>(G.itemMap.set(T,{ref:T,..._}),()=>void G.itemMap.delete(T))),b.jsx(h,{[f]:"",ref:F,children:v})});d.displayName=u;function y(g){const p=s(r+"CollectionConsumer",g);return qt.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((G,$)=>_.indexOf(G.ref.current)-_.indexOf($.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:a,ItemSlot:d},y,n]}var pa=globalThis!=null&&globalThis.document?ie.useLayoutEffect:()=>{},ej=ty[" useId ".trim().toString()]||(()=>{}),tj=0;function Ol(r){const[t,e]=ie.useState(ej());return pa(()=>{e(n=>n??String(tj++))},[r]),t?`radix-${t}`:""}function rj(r){const t=nj(r),e=ie.forwardRef((n,i)=>{const{children:s,...o}=n,l=ie.Children.toArray(s),c=l.find(ij);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}function nj(r){const t=ie.forwardRef((e,n)=>{const{children:i,...s}=e;if(ie.isValidElement(i)){const o=oj(i),l=aj(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var sj=Symbol("radix.slottable");function ij(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===sj}function aj(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function oj(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var lj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],un=lj.reduce((r,t)=>{const e=rj(`Primitive.${t}`),n=ie.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...r,[t]:n}},{});function p6(r,t){r&&cp.flushSync(()=>r.dispatchEvent(t))}function Bl(r){const t=ie.useRef(r);return ie.useEffect(()=>{t.current=r}),ie.useMemo(()=>(...e)=>{var n;return(n=t.current)==null?void 0:n.call(t,...e)},[])}var cj=ty[" useInsertionEffect ".trim().toString()]||pa;function nd({prop:r,defaultProp:t,onChange:e=()=>{},caller:n}){const[i,s,o]=uj({defaultProp:t,onChange:e}),l=r!==void 0,c=l?r:i;{const u=ie.useRef(r!==void 0);ie.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const a=ie.useCallback(u=>{var f;if(l){const h=dj(u)?u(r):u;h!==r&&((f=o.current)==null||f.call(o,h))}else s(u)},[l,r,s,o]);return[c,a]}function uj({defaultProp:r,onChange:t}){const[e,n]=ie.useState(r),i=ie.useRef(e),s=ie.useRef(t);return cj(()=>{s.current=t},[t]),ie.useEffect(()=>{var o;i.current!==e&&((o=s.current)==null||o.call(s,e),i.current=e)},[e,i]),[e,n,s]}function dj(r){return typeof r=="function"}var hj=ie.createContext(void 0);function V0(r){const t=ie.useContext(hj);return r||t||"ltr"}var d1="rovingFocusGroup.onEntryFocus",fj={bubbles:!1,cancelable:!0},up="RovingFocusGroup",[y2,m6,pj]=Hy(up),[mj,z0]=zl(up,[pj]),[gj,yj]=mj(up),g6=ie.forwardRef((r,t)=>b.jsx(y2.Provider,{scope:r.__scopeRovingFocusGroup,children:b.jsx(y2.Slot,{scope:r.__scopeRovingFocusGroup,children:b.jsx(vj,{...r,ref:t})})}));g6.displayName=up;var vj=ie.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:a,preventScrollOnEntryFocus:u=!1,...f}=r,h=ie.useRef(null),d=Vn(t,h),y=V0(s),[g,p]=nd({prop:o,defaultProp:l??null,onChange:c,caller:up}),[w,v]=ie.useState(!1),_=Bl(a),T=m6(e),F=ie.useRef(!1),[G,$]=ie.useState(0);return ie.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(d1,_),()=>P.removeEventListener(d1,_)},[_]),b.jsx(gj,{scope:e,orientation:n,dir:y,loop:i,currentTabStopId:g,onItemFocus:ie.useCallback(P=>p(P),[p]),onItemShiftTab:ie.useCallback(()=>v(!0),[]),onFocusableItemAdd:ie.useCallback(()=>$(P=>P+1),[]),onFocusableItemRemove:ie.useCallback(()=>$(P=>P-1),[]),children:b.jsx(un.div,{tabIndex:w||G===0?-1:0,"data-orientation":n,...f,ref:d,style:{outline:"none",...r.style},onMouseDown:Nr(r.onMouseDown,()=>{F.current=!0}),onFocus:Nr(r.onFocus,P=>{const M=!F.current;if(P.target===P.currentTarget&&M&&!w){const U=new CustomEvent(d1,fj);if(P.currentTarget.dispatchEvent(U),!U.defaultPrevented){const V=T().filter(S=>S.focusable),I=V.find(S=>S.active),E=V.find(S=>S.id===g),A=[I,E,...V].filter(Boolean).map(S=>S.ref.current);b6(A,u)}}F.current=!1}),onBlur:Nr(r.onBlur,()=>v(!1))})})}),y6="RovingFocusGroupItem",v6=ie.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=r,c=Ol(),a=s||c,u=yj(y6,e),f=u.currentTabStopId===a,h=m6(e),{onFocusableItemAdd:d,onFocusableItemRemove:y,currentTabStopId:g}=u;return ie.useEffect(()=>{if(n)return d(),()=>y()},[n,d,y]),b.jsx(y2.ItemSlot,{scope:e,id:a,focusable:n,active:i,children:b.jsx(un.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Nr(r.onMouseDown,p=>{n?u.onItemFocus(a):p.preventDefault()}),onFocus:Nr(r.onFocus,()=>u.onItemFocus(a)),onKeyDown:Nr(r.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const w=xj(p,u.orientation,u.dir);if(w!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let _=h().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const T=_.indexOf(p.currentTarget);_=u.loop?_j(_,T+1):_.slice(T+1)}setTimeout(()=>b6(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});v6.displayName=y6;var bj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wj(r,t){return t!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function xj(r,t,e){const n=wj(r.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bj[n]}function b6(r,t=!1){const e=document.activeElement;for(const n of r)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function _j(r,t){return r.map((e,n)=>r[(t+n)%r.length])}var w6=g6,x6=v6;function Sj(r,t){return ie.useReducer((e,n)=>t[e][n]??e,r)}var kc=r=>{const{present:t,children:e}=r,n=Nj(t),i=typeof e=="function"?e({present:n.isPresent}):ie.Children.only(e),s=Vn(n.ref,Cj(i));return typeof e=="function"||n.isPresent?ie.cloneElement(i,{ref:s}):null};kc.displayName="Presence";function Nj(r){const[t,e]=ie.useState(),n=ie.useRef(null),i=ie.useRef(r),s=ie.useRef("none"),o=r?"mounted":"unmounted",[l,c]=Sj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ie.useEffect(()=>{const a=dm(n.current);s.current=l==="mounted"?a:"none"},[l]),pa(()=>{const a=n.current,u=i.current;if(u!==r){const h=s.current,d=dm(a);r?c("MOUNT"):d==="none"||(a==null?void 0:a.display)==="none"?c("UNMOUNT"):c(u&&h!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,c]),pa(()=>{if(t){let a;const u=t.ownerDocument.defaultView??window,f=d=>{const g=dm(n.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(c("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",a=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=d=>{d.target===t&&(s.current=dm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(a),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:ie.useCallback(a=>{n.current=a?getComputedStyle(a):null,e(a)},[])}}function dm(r){return(r==null?void 0:r.animationName)||"none"}function Cj(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var U0="Tabs",[kj]=zl(U0,[z0]),_6=z0(),[Ej,Wy]=kj(U0),S6=ie.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...a}=r,u=V0(l),[f,h]=nd({prop:n,onChange:i,defaultProp:s??"",caller:U0});return b.jsx(Ej,{scope:e,baseId:Ol(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:b.jsx(un.div,{dir:u,"data-orientation":o,...a,ref:t})})});S6.displayName=U0;var N6="TabsList",C6=ie.forwardRef((r,t)=>{const{__scopeTabs:e,loop:n=!0,...i}=r,s=Wy(N6,e),o=_6(e);return b.jsx(w6,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:b.jsx(un.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});C6.displayName=N6;var k6="TabsTrigger",E6=ie.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,disabled:i=!1,...s}=r,o=Wy(k6,e),l=_6(e),c=j6(o.baseId,n),a=I6(o.baseId,n),u=n===o.value;return b.jsx(x6,{asChild:!0,...l,focusable:!i,active:u,children:b.jsx(un.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":a,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Nr(r.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Nr(r.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Nr(r.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(n)})})})});E6.displayName=k6;var A6="TabsContent",T6=ie.forwardRef((r,t)=>{const{__scopeTabs:e,value:n,forceMount:i,children:s,...o}=r,l=Wy(A6,e),c=j6(l.baseId,n),a=I6(l.baseId,n),u=n===l.value,f=ie.useRef(u);return ie.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),b.jsx(kc,{present:i||u,children:({present:h})=>b.jsx(un.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:a,tabIndex:0,...o,ref:t,style:{...r.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});T6.displayName=A6;function j6(r,t){return`${r}-trigger-${t}`}function I6(r,t){return`${r}-content-${t}`}var Aj=S6,P6=C6,R6=E6,M6=T6;const dp=Aj,Mh=ie.forwardRef(({className:r,...t},e)=>b.jsx(P6,{ref:e,className:_r("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...t}));Mh.displayName=P6.displayName;const ai=ie.forwardRef(({className:r,...t},e)=>b.jsx(R6,{ref:e,className:_r("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...t}));ai.displayName=R6.displayName;const oi=ie.forwardRef(({className:r,...t},e)=>b.jsx(M6,{ref:e,className:_r("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t}));oi.displayName=M6.displayName;function Tj(r,t=globalThis==null?void 0:globalThis.document){const e=Bl(r);ie.useEffect(()=>{const n=i=>{i.key==="Escape"&&e(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var jj="DismissableLayer",v2="dismissableLayer.update",Ij="dismissableLayer.pointerDownOutside",Pj="dismissableLayer.focusOutside",n5,O6=ie.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$0=ie.forwardRef((r,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=r,a=ie.useContext(O6),[u,f]=ie.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=ie.useState({}),y=Vn(t,$=>f($)),g=Array.from(a.layers),[p]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(p),v=u?g.indexOf(u):-1,_=a.layersWithOutsidePointerEventsDisabled.size>0,T=v>=w,F=Oj($=>{const P=$.target,M=[...a.branches].some(U=>U.contains(P));!T||M||(i==null||i($),o==null||o($),$.defaultPrevented||l==null||l())},h),G=Lj($=>{const P=$.target;[...a.branches].some(U=>U.contains(P))||(s==null||s($),o==null||o($),$.defaultPrevented||l==null||l())},h);return Tj($=>{v===a.layers.size-1&&(n==null||n($),!$.defaultPrevented&&l&&($.preventDefault(),l()))},h),ie.useEffect(()=>{if(u)return e&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(n5=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(u)),a.layers.add(u),s5(),()=>{e&&a.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=n5)}},[u,h,e,a]),ie.useEffect(()=>()=>{u&&(a.layers.delete(u),a.layersWithOutsidePointerEventsDisabled.delete(u),s5())},[u,a]),ie.useEffect(()=>{const $=()=>d({});return document.addEventListener(v2,$),()=>document.removeEventListener(v2,$)},[]),b.jsx(un.div,{...c,ref:y,style:{pointerEvents:_?T?"auto":"none":void 0,...r.style},onFocusCapture:Nr(r.onFocusCapture,G.onFocusCapture),onBlurCapture:Nr(r.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Nr(r.onPointerDownCapture,F.onPointerDownCapture)})});$0.displayName=jj;var Rj="DismissableLayerBranch",Mj=ie.forwardRef((r,t)=>{const e=ie.useContext(O6),n=ie.useRef(null),i=Vn(t,n);return ie.useEffect(()=>{const s=n.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),b.jsx(un.div,{...r,ref:i})});Mj.displayName=Rj;function Oj(r,t=globalThis==null?void 0:globalThis.document){const e=Bl(r),n=ie.useRef(!1),i=ie.useRef(()=>{});return ie.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){L6(Ij,e,a,{discrete:!0})};const a={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function Lj(r,t=globalThis==null?void 0:globalThis.document){const e=Bl(r),n=ie.useRef(!1);return ie.useEffect(()=>{const i=s=>{s.target&&!n.current&&L6(Pj,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function s5(){const r=new CustomEvent(v2);document.dispatchEvent(r)}function L6(r,t,e,{discrete:n}){const i=e.originalEvent.target,s=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:e});t&&i.addEventListener(r,t,{once:!0}),n?p6(i,s):i.dispatchEvent(s)}var h1=0;function Gy(){ie.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??i5()),document.body.insertAdjacentElement("beforeend",r[1]??i5()),h1++,()=>{h1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),h1--}},[])}function i5(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var f1="focusScope.autoFocusOnMount",p1="focusScope.autoFocusOnUnmount",a5={bubbles:!1,cancelable:!0},Dj="FocusScope",q0=ie.forwardRef((r,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=r,[l,c]=ie.useState(null),a=Bl(i),u=Bl(s),f=ie.useRef(null),h=Vn(t,g=>c(g)),d=ie.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ie.useEffect(()=>{if(n){let g=function(_){if(d.paused||!l)return;const T=_.target;l.contains(T)?f.current=T:nu(f.current,{select:!0})},p=function(_){if(d.paused||!l)return;const T=_.relatedTarget;T!==null&&(l.contains(T)||nu(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const F of _)F.removedNodes.length>0&&nu(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),v.disconnect()}}},[n,l,d.paused]),ie.useEffect(()=>{if(l){l5.add(d);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(f1,a5);l.addEventListener(f1,a),l.dispatchEvent(w),w.defaultPrevented||(Fj($j(D6(l)),{select:!0}),document.activeElement===g&&nu(l))}return()=>{l.removeEventListener(f1,a),setTimeout(()=>{const w=new CustomEvent(p1,a5);l.addEventListener(p1,u),l.dispatchEvent(w),w.defaultPrevented||nu(g??document.body,{select:!0}),l.removeEventListener(p1,u),l5.remove(d)},0)}}},[l,a,u,d]);const y=ie.useCallback(g=>{if(!e&&!n||d.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(p&&w){const v=g.currentTarget,[_,T]=Bj(v);_&&T?!g.shiftKey&&w===T?(g.preventDefault(),e&&nu(_,{select:!0})):g.shiftKey&&w===_&&(g.preventDefault(),e&&nu(T,{select:!0})):w===v&&g.preventDefault()}},[e,n,d.paused]);return b.jsx(un.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});q0.displayName=Dj;function Fj(r,{select:t=!1}={}){const e=document.activeElement;for(const n of r)if(nu(n,{select:t}),document.activeElement!==e)return}function Bj(r){const t=D6(r),e=o5(t,r),n=o5(t.reverse(),r);return[e,n]}function D6(r){const t=[],e=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function o5(r,t){for(const e of r)if(!Vj(e,{upTo:t}))return e}function Vj(r,{upTo:t}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t!==void 0&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function zj(r){return r instanceof HTMLInputElement&&"select"in r}function nu(r,{select:t=!1}={}){if(r&&r.focus){const e=document.activeElement;r.focus({preventScroll:!0}),r!==e&&zj(r)&&t&&r.select()}}var l5=Uj();function Uj(){let r=[];return{add(t){const e=r[0];t!==e&&(e==null||e.pause()),r=c5(r,t),r.unshift(t)},remove(t){var e;r=c5(r,t),(e=r[0])==null||e.resume()}}}function c5(r,t){const e=[...r],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function $j(r){return r.filter(t=>t.tagName!=="A")}const qj=["top","right","bottom","left"],yu=Math.min,co=Math.max,o0=Math.round,hm=Math.floor,Ll=r=>({x:r,y:r}),Hj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function b2(r,t,e){return co(r,yu(t,e))}function wc(r,t){return typeof r=="function"?r(t):r}function xc(r){return r.split("-")[0]}function Oh(r){return r.split("-")[1]}function Ky(r){return r==="x"?"y":"x"}function Xy(r){return r==="y"?"height":"width"}const Gj=new Set(["top","bottom"]);function Al(r){return Gj.has(xc(r))?"y":"x"}function Yy(r){return Ky(Al(r))}function Kj(r,t,e){e===void 0&&(e=!1);const n=Oh(r),i=Yy(r),s=Xy(i);let o=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=l0(o)),[o,l0(o)]}function Xj(r){const t=l0(r);return[w2(r),t,w2(t)]}function w2(r){return r.replace(/start|end/g,t=>Wj[t])}const u5=["left","right"],d5=["right","left"],Yj=["top","bottom"],Zj=["bottom","top"];function Qj(r,t,e){switch(r){case"top":case"bottom":return e?t?d5:u5:t?u5:d5;case"left":case"right":return t?Yj:Zj;default:return[]}}function Jj(r,t,e,n){const i=Oh(r);let s=Qj(xc(r),e==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(w2)))),s}function l0(r){return r.replace(/left|right|bottom|top/g,t=>Hj[t])}function eI(r){return{top:0,right:0,bottom:0,left:0,...r}}function F6(r){return typeof r!="number"?eI(r):{top:r,right:r,bottom:r,left:r}}function c0(r){const{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function h5(r,t,e){let{reference:n,floating:i}=r;const s=Al(t),o=Yy(t),l=Xy(o),c=xc(t),a=s==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let d;switch(c){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:f};break;case"left":d={x:n.x-i.width,y:f};break;default:d={x:n.x,y:n.y}}switch(Oh(t)){case"start":d[o]-=h*(e&&a?-1:1);break;case"end":d[o]+=h*(e&&a?-1:1);break}return d}const tI=async(r,t,e)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=e,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let a=await o.getElementRects({reference:r,floating:t,strategy:i}),{x:u,y:f}=h5(a,n,c),h=n,d={},y=0;for(let g=0;g<l.length;g++){const{name:p,fn:w}=l[g],{x:v,y:_,data:T,reset:F}=await w({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:d,rects:a,platform:o,elements:{reference:r,floating:t}});u=v??u,f=_??f,d={...d,[p]:{...d[p],...T}},F&&y<=50&&(y++,typeof F=="object"&&(F.placement&&(h=F.placement),F.rects&&(a=F.rects===!0?await o.getElementRects({reference:r,floating:t,strategy:i}):F.rects),{x:u,y:f}=h5(a,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:d}};async function Kf(r,t){var e;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=r,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=wc(t,r),y=F6(d),p=l[h?f==="floating"?"reference":"floating":f],w=c0(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(p)))==null||e?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:a,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},F=c0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:c}):v);return{top:(w.top-F.top+y.top)/T.y,bottom:(F.bottom-w.bottom+y.bottom)/T.y,left:(w.left-F.left+y.left)/T.x,right:(F.right-w.right+y.right)/T.x}}const rI=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:a,padding:u=0}=wc(r,t)||{};if(a==null)return{};const f=F6(u),h={x:e,y:n},d=Yy(i),y=Xy(d),g=await o.getDimensions(a),p=d==="y",w=p?"top":"left",v=p?"bottom":"right",_=p?"clientHeight":"clientWidth",T=s.reference[y]+s.reference[d]-h[d]-s.floating[y],F=h[d]-s.reference[d],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a));let $=G?G[_]:0;(!$||!await(o.isElement==null?void 0:o.isElement(G)))&&($=l.floating[_]||s.floating[y]);const P=T/2-F/2,M=$/2-g[y]/2-1,U=yu(f[w],M),V=yu(f[v],M),I=U,E=$-g[y]-V,L=$/2-g[y]/2+P,A=b2(I,L,E),S=!c.arrow&&Oh(i)!=null&&L!==A&&s.reference[y]/2-(L<I?U:V)-g[y]/2<0,k=S?L<I?L-I:L-E:0;return{[d]:h[d]+k,data:{[d]:A,centerOffset:L-A-k,...S&&{alignmentOffset:k}},reset:S}}}),nI=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:a}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...p}=wc(r,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const w=xc(i),v=Al(l),_=xc(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(a.floating)),F=h||(_||!g?[l0(l)]:Xj(l)),G=y!=="none";!h&&G&&F.push(...Jj(l,g,y,T));const $=[l,...F],P=await Kf(t,p),M=[];let U=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&M.push(P[w]),f){const L=Kj(i,o,T);M.push(P[L[0]],P[L[1]])}if(U=[...U,{placement:i,overflows:M}],!M.every(L=>L<=0)){var V,I;const L=(((V=s.flip)==null?void 0:V.index)||0)+1,A=$[L];if(A&&(!(f==="alignment"?v!==Al(A):!1)||U.every(N=>Al(N.placement)===v?N.overflows[0]>0:!0)))return{data:{index:L,overflows:U},reset:{placement:A}};let S=(I=U.filter(k=>k.overflows[0]<=0).sort((k,N)=>k.overflows[1]-N.overflows[1])[0])==null?void 0:I.placement;if(!S)switch(d){case"bestFit":{var E;const k=(E=U.filter(N=>{if(G){const C=Al(N.placement);return C===v||C==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(C=>C>0).reduce((C,O)=>C+O,0)]).sort((N,C)=>N[1]-C[1])[0])==null?void 0:E[0];k&&(S=k);break}case"initialPlacement":S=l;break}if(i!==S)return{reset:{placement:S}}}return{}}}};function f5(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function p5(r){return qj.some(t=>r[t]>=0)}const sI=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...i}=wc(r,t);switch(n){case"referenceHidden":{const s=await Kf(t,{...i,elementContext:"reference"}),o=f5(s,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:p5(o)}}}case"escaped":{const s=await Kf(t,{...i,altBoundary:!0}),o=f5(s,e.floating);return{data:{escapedOffsets:o,escaped:p5(o)}}}default:return{}}}}},B6=new Set(["left","top"]);async function iI(r,t){const{placement:e,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=xc(e),l=Oh(e),c=Al(e)==="y",a=B6.has(o)?-1:1,u=s&&c?-1:1,f=wc(t,r);let{mainAxis:h,crossAxis:d,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(d=l==="end"?y*-1:y),c?{x:d*u,y:h*a}:{x:h*a,y:d*u}}const aI=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,n;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await iI(t,r);return o===((e=l.offset)==null?void 0:e.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},oI=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:w,y:v}=p;return{x:w,y:v}}},...c}=wc(r,t),a={x:e,y:n},u=await Kf(t,c),f=Al(xc(i)),h=Ky(f);let d=a[h],y=a[f];if(s){const p=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=d+u[p],_=d-u[w];d=b2(v,d,_)}if(o){const p=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=y+u[p],_=y-u[w];y=b2(v,y,_)}const g=l.fn({...t,[h]:d,[f]:y});return{...g,data:{x:g.x-e,y:g.y-n,enabled:{[h]:s,[f]:o}}}}}},lI=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:e,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:a=!0}=wc(r,t),u={x:e,y:n},f=Al(i),h=Ky(f);let d=u[h],y=u[f];const g=wc(l,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",T=s.reference[h]-s.floating[_]+p.mainAxis,F=s.reference[h]+s.reference[_]-p.mainAxis;d<T?d=T:d>F&&(d=F)}if(a){var w,v;const _=h==="y"?"width":"height",T=B6.has(xc(i)),F=s.reference[f]-s.floating[_]+(T&&((w=o.offset)==null?void 0:w[f])||0)+(T?0:p.crossAxis),G=s.reference[f]+s.reference[_]+(T?0:((v=o.offset)==null?void 0:v[f])||0)-(T?p.crossAxis:0);y<F?y=F:y>G&&(y=G)}return{[h]:d,[f]:y}}}},cI=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var e,n;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...a}=wc(r,t),u=await Kf(t,a),f=xc(i),h=Oh(i),d=Al(i)==="y",{width:y,height:g}=s.floating;let p,w;f==="top"||f==="bottom"?(p=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,p=h==="end"?"top":"bottom");const v=g-u.top-u.bottom,_=y-u.left-u.right,T=yu(g-u[p],v),F=yu(y-u[w],_),G=!t.middlewareData.shift;let $=T,P=F;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(P=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&($=v),G&&!h){const U=co(u.left,0),V=co(u.right,0),I=co(u.top,0),E=co(u.bottom,0);d?P=y-2*(U!==0||V!==0?U+V:co(u.left,u.right)):$=g-2*(I!==0||E!==0?I+E:co(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:$});const M=await o.getDimensions(l.floating);return y!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function H0(){return typeof window<"u"}function Lh(r){return V6(r)?(r.nodeName||"").toLowerCase():"#document"}function fo(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Ul(r){var t;return(t=(V6(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function V6(r){return H0()?r instanceof Node||r instanceof fo(r).Node:!1}function sl(r){return H0()?r instanceof Element||r instanceof fo(r).Element:!1}function Vl(r){return H0()?r instanceof HTMLElement||r instanceof fo(r).HTMLElement:!1}function m5(r){return!H0()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof fo(r).ShadowRoot}const uI=new Set(["inline","contents"]);function hp(r){const{overflow:t,overflowX:e,overflowY:n,display:i}=il(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!uI.has(i)}const dI=new Set(["table","td","th"]);function hI(r){return dI.has(Lh(r))}const fI=[":popover-open",":modal"];function W0(r){return fI.some(t=>{try{return r.matches(t)}catch{return!1}})}const pI=["transform","translate","scale","rotate","perspective"],mI=["transform","translate","scale","rotate","perspective","filter"],gI=["paint","layout","strict","content"];function Zy(r){const t=Qy(),e=sl(r)?il(r):r;return pI.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||mI.some(n=>(e.willChange||"").includes(n))||gI.some(n=>(e.contain||"").includes(n))}function yI(r){let t=vu(r);for(;Vl(t)&&!_h(t);){if(Zy(t))return t;if(W0(t))return null;t=vu(t)}return null}function Qy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vI=new Set(["html","body","#document"]);function _h(r){return vI.has(Lh(r))}function il(r){return fo(r).getComputedStyle(r)}function G0(r){return sl(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function vu(r){if(Lh(r)==="html")return r;const t=r.assignedSlot||r.parentNode||m5(r)&&r.host||Ul(r);return m5(t)?t.host:t}function z6(r){const t=vu(r);return _h(t)?r.ownerDocument?r.ownerDocument.body:r.body:Vl(t)&&hp(t)?t:z6(t)}function Xf(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=z6(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),o=fo(i);if(s){const l=x2(o);return t.concat(o,o.visualViewport||[],hp(i)?i:[],l&&e?Xf(l):[])}return t.concat(i,Xf(i,[],e))}function x2(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function U6(r){const t=il(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Vl(r),s=i?r.offsetWidth:e,o=i?r.offsetHeight:n,l=o0(e)!==s||o0(n)!==o;return l&&(e=s,n=o),{width:e,height:n,$:l}}function Jy(r){return sl(r)?r:r.contextElement}function lh(r){const t=Jy(r);if(!Vl(t))return Ll(1);const e=t.getBoundingClientRect(),{width:n,height:i,$:s}=U6(t);let o=(s?o0(e.width):e.width)/n,l=(s?o0(e.height):e.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bI=Ll(0);function $6(r){const t=fo(r);return!Qy()||!t.visualViewport?bI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wI(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==fo(r)?!1:t}function sd(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=r.getBoundingClientRect(),s=Jy(r);let o=Ll(1);t&&(n?sl(n)&&(o=lh(n)):o=lh(r));const l=wI(s,e,n)?$6(s):Ll(0);let c=(i.left+l.x)/o.x,a=(i.top+l.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=fo(s),d=n&&sl(n)?fo(n):n;let y=h,g=x2(y);for(;g&&n&&d!==y;){const p=lh(g),w=g.getBoundingClientRect(),v=il(g),_=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*p.x,T=w.top+(g.clientTop+parseFloat(v.paddingTop))*p.y;c*=p.x,a*=p.y,u*=p.x,f*=p.y,c+=_,a+=T,y=fo(g),g=x2(y)}}return c0({width:u,height:f,x:c,y:a})}function K0(r,t){const e=G0(r).scrollLeft;return t?t.left+e:sd(Ul(r)).left+e}function q6(r,t){const e=r.getBoundingClientRect(),n=e.left+t.scrollLeft-K0(r,e),i=e.top+t.scrollTop;return{x:n,y:i}}function xI(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r;const s=i==="fixed",o=Ul(n),l=t?W0(t.floating):!1;if(n===o||l&&s)return e;let c={scrollLeft:0,scrollTop:0},a=Ll(1);const u=Ll(0),f=Vl(n);if((f||!f&&!s)&&((Lh(n)!=="body"||hp(o))&&(c=G0(n)),Vl(n))){const d=sd(n);a=lh(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}const h=o&&!f&&!s?q6(o,c):Ll(0);return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-c.scrollLeft*a.x+u.x+h.x,y:e.y*a.y-c.scrollTop*a.y+u.y+h.y}}function _I(r){return Array.from(r.getClientRects())}function SI(r){const t=Ul(r),e=G0(r),n=r.ownerDocument.body,i=co(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=co(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+K0(r);const l=-e.scrollTop;return il(n).direction==="rtl"&&(o+=co(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}const g5=25;function NI(r,t){const e=fo(r),n=Ul(r),i=e.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=Qy();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const a=K0(n);if(a<=0){const u=n.ownerDocument,f=u.body,h=getComputedStyle(f),d=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-d);y<=g5&&(s-=y)}else a<=g5&&(s+=a);return{width:s,height:o,x:l,y:c}}const CI=new Set(["absolute","fixed"]);function kI(r,t){const e=sd(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,s=Vl(r)?lh(r):Ll(1),o=r.clientWidth*s.x,l=r.clientHeight*s.y,c=i*s.x,a=n*s.y;return{width:o,height:l,x:c,y:a}}function y5(r,t,e){let n;if(t==="viewport")n=NI(r,e);else if(t==="document")n=SI(Ul(r));else if(sl(t))n=kI(t,e);else{const i=$6(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return c0(n)}function H6(r,t){const e=vu(r);return e===t||!sl(e)||_h(e)?!1:il(e).position==="fixed"||H6(e,t)}function EI(r,t){const e=t.get(r);if(e)return e;let n=Xf(r,[],!1).filter(l=>sl(l)&&Lh(l)!=="body"),i=null;const s=il(r).position==="fixed";let o=s?vu(r):r;for(;sl(o)&&!_h(o);){const l=il(o),c=Zy(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&CI.has(i.position)||hp(o)&&!c&&H6(r,o))?n=n.filter(u=>u!==o):i=l,o=vu(o)}return t.set(r,n),n}function AI(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r;const o=[...e==="clippingAncestors"?W0(t)?[]:EI(t,this._c):[].concat(e),n],l=o[0],c=o.reduce((a,u)=>{const f=y5(t,u,i);return a.top=co(f.top,a.top),a.right=yu(f.right,a.right),a.bottom=yu(f.bottom,a.bottom),a.left=co(f.left,a.left),a},y5(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TI(r){const{width:t,height:e}=U6(r);return{width:t,height:e}}function jI(r,t,e){const n=Vl(t),i=Ul(t),s=e==="fixed",o=sd(r,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Ll(0);function a(){c.x=K0(i)}if(n||!n&&!s)if((Lh(t)!=="body"||hp(i))&&(l=G0(t)),n){const d=sd(t,!0,s,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else i&&a();s&&!n&&i&&a();const u=i&&!n&&!s?q6(i,l):Ll(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function m1(r){return il(r).position==="static"}function v5(r,t){if(!Vl(r)||il(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return Ul(r)===e&&(e=e.ownerDocument.body),e}function W6(r,t){const e=fo(r);if(W0(r))return e;if(!Vl(r)){let i=vu(r);for(;i&&!_h(i);){if(sl(i)&&!m1(i))return i;i=vu(i)}return e}let n=v5(r,t);for(;n&&hI(n)&&m1(n);)n=v5(n,t);return n&&_h(n)&&m1(n)&&!Zy(n)?e:n||yI(r)||e}const II=async function(r){const t=this.getOffsetParent||W6,e=this.getDimensions,n=await e(r.floating);return{reference:jI(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PI(r){return il(r).direction==="rtl"}const RI={convertOffsetParentRelativeRectToViewportRelativeRect:xI,getDocumentElement:Ul,getClippingRect:AI,getOffsetParent:W6,getElementRects:II,getClientRects:_I,getDimensions:TI,getScale:lh,isElement:sl,isRTL:PI};function G6(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function MI(r,t){let e=null,n;const i=Ul(r);function s(){var l;clearTimeout(n),(l=e)==null||l.disconnect(),e=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const a=r.getBoundingClientRect(),{left:u,top:f,width:h,height:d}=a;if(l||t(),!h||!d)return;const y=hm(f),g=hm(i.clientWidth-(u+h)),p=hm(i.clientHeight-(f+d)),w=hm(u),_={rootMargin:-y+"px "+-g+"px "+-p+"px "+-w+"px",threshold:co(0,yu(1,c))||1};let T=!0;function F(G){const $=G[0].intersectionRatio;if($!==c){if(!T)return o();$?o(!1,$):n=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!G6(a,r.getBoundingClientRect())&&o(),T=!1}try{e=new IntersectionObserver(F,{..._,root:i.ownerDocument})}catch{e=new IntersectionObserver(F,_)}e.observe(r)}return o(!0),s}function OI(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,a=Jy(r),u=i||s?[...a?Xf(a):[],...Xf(t)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",e,{passive:!0}),s&&w.addEventListener("resize",e)});const f=a&&l?MI(a,e):null;let h=-1,d=null;o&&(d=new ResizeObserver(w=>{let[v]=w;v&&v.target===a&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(t)})),e()}),a&&!c&&d.observe(a),d.observe(t));let y,g=c?sd(r):null;c&&p();function p(){const w=sd(r);g&&!G6(g,w)&&e(),g=w,y=requestAnimationFrame(p)}return e(),()=>{var w;u.forEach(v=>{i&&v.removeEventListener("scroll",e),s&&v.removeEventListener("resize",e)}),f==null||f(),(w=d)==null||w.disconnect(),d=null,c&&cancelAnimationFrame(y)}}const LI=aI,DI=oI,FI=nI,BI=cI,VI=sI,b5=rI,zI=lI,UI=(r,t,e)=>{const n=new Map,i={platform:RI,...e},s={...i.platform,_c:n};return tI(r,t,{...i,platform:s})};var $I=typeof document<"u",qI=function(){},Mm=$I?ie.useLayoutEffect:qI;function u0(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let e,n,i;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(e=r.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!u0(r[n],t[n]))return!1;return!0}if(i=Object.keys(r),e=i.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=e;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!u0(r[s],t[s]))return!1}return!0}return r!==r&&t!==t}function K6(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function w5(r,t){const e=K6(r);return Math.round(t*e)/e}function g1(r){const t=ie.useRef(r);return Mm(()=>{t.current=r}),t}function HI(r){r===void 0&&(r={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:a}=r,[u,f]=ie.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[h,d]=ie.useState(n);u0(h,n)||d(n);const[y,g]=ie.useState(null),[p,w]=ie.useState(null),v=ie.useCallback(N=>{N!==G.current&&(G.current=N,g(N))},[]),_=ie.useCallback(N=>{N!==$.current&&($.current=N,w(N))},[]),T=s||y,F=o||p,G=ie.useRef(null),$=ie.useRef(null),P=ie.useRef(u),M=c!=null,U=g1(c),V=g1(i),I=g1(a),E=ie.useCallback(()=>{if(!G.current||!$.current)return;const N={placement:t,strategy:e,middleware:h};V.current&&(N.platform=V.current),UI(G.current,$.current,N).then(C=>{const O={...C,isPositioned:I.current!==!1};L.current&&!u0(P.current,O)&&(P.current=O,cp.flushSync(()=>{f(O)}))})},[h,t,e,V,I]);Mm(()=>{a===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[a]);const L=ie.useRef(!1);Mm(()=>(L.current=!0,()=>{L.current=!1}),[]),Mm(()=>{if(T&&(G.current=T),F&&($.current=F),T&&F){if(U.current)return U.current(T,F,E);E()}},[T,F,E,U,M]);const A=ie.useMemo(()=>({reference:G,floating:$,setReference:v,setFloating:_}),[v,_]),S=ie.useMemo(()=>({reference:T,floating:F}),[T,F]),k=ie.useMemo(()=>{const N={position:e,left:0,top:0};if(!S.floating)return N;const C=w5(S.floating,u.x),O=w5(S.floating,u.y);return l?{...N,transform:"translate("+C+"px, "+O+"px)",...K6(S.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:C,top:O}},[e,l,S.floating,u.x,u.y]);return ie.useMemo(()=>({...u,update:E,refs:A,elements:S,floatingStyles:k}),[u,E,A,S,k])}const WI=r=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:r,fn(e){const{element:n,padding:i}=typeof r=="function"?r(e):r;return n&&t(n)?n.current!=null?b5({element:n.current,padding:i}).fn(e):{}:n?b5({element:n,padding:i}).fn(e):{}}}},GI=(r,t)=>({...LI(r),options:[r,t]}),KI=(r,t)=>({...DI(r),options:[r,t]}),XI=(r,t)=>({...zI(r),options:[r,t]}),YI=(r,t)=>({...FI(r),options:[r,t]}),ZI=(r,t)=>({...BI(r),options:[r,t]}),QI=(r,t)=>({...VI(r),options:[r,t]}),JI=(r,t)=>({...WI(r),options:[r,t]});var eP="Arrow",X6=ie.forwardRef((r,t)=>{const{children:e,width:n=10,height:i=5,...s}=r;return b.jsx(un.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?e:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});X6.displayName=eP;var tP=X6;function Y6(r){const[t,e]=ie.useState(void 0);return pa(()=>{if(r){e({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,a=Array.isArray(c)?c[0]:c;o=a.inlineSize,l=a.blockSize}else o=r.offsetWidth,l=r.offsetHeight;e({width:o,height:l})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else e(void 0)},[r]),t}var ev="Popper",[Z6,X0]=zl(ev),[rP,Q6]=Z6(ev),J6=r=>{const{__scopePopper:t,children:e}=r,[n,i]=ie.useState(null);return b.jsx(rP,{scope:t,anchor:n,onAnchorChange:i,children:e})};J6.displayName=ev;var e_="PopperAnchor",t_=ie.forwardRef((r,t)=>{const{__scopePopper:e,virtualRef:n,...i}=r,s=Q6(e_,e),o=ie.useRef(null),l=Vn(t,o),c=ie.useRef(null);return ie.useEffect(()=>{const a=c.current;c.current=(n==null?void 0:n.current)||o.current,a!==c.current&&s.onAnchorChange(c.current)}),n?null:b.jsx(un.div,{...i,ref:l})});t_.displayName=e_;var tv="PopperContent",[nP,sP]=Z6(tv),r_=ie.forwardRef((r,t)=>{var J,z,B,Q,oe,pe;const{__scopePopper:e,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:a=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:d="optimized",onPlaced:y,...g}=r,p=Q6(tv,e),[w,v]=ie.useState(null),_=Vn(t,de=>v(de)),[T,F]=ie.useState(null),G=Y6(T),$=(G==null?void 0:G.width)??0,P=(G==null?void 0:G.height)??0,M=n+(s!=="center"?"-"+s:""),U=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},V=Array.isArray(a)?a:[a],I=V.length>0,E={padding:U,boundary:V.filter(aP),altBoundary:I},{refs:L,floatingStyles:A,placement:S,isPositioned:k,middlewareData:N}=HI({strategy:"fixed",placement:M,whileElementsMounted:(...de)=>OI(...de,{animationFrame:d==="always"}),elements:{reference:p.anchor},middleware:[GI({mainAxis:i+P,alignmentAxis:o}),c&&KI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XI():void 0,...E}),c&&YI({...E}),ZI({...E,apply:({elements:de,rects:ve,availableWidth:ce,availableHeight:he})=>{const{width:fe,height:ke}=ve.reference,ye=de.floating.style;ye.setProperty("--radix-popper-available-width",`${ce}px`),ye.setProperty("--radix-popper-available-height",`${he}px`),ye.setProperty("--radix-popper-anchor-width",`${fe}px`),ye.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),T&&JI({element:T,padding:l}),oP({arrowWidth:$,arrowHeight:P}),h&&QI({strategy:"referenceHidden",...E})]}),[C,O]=i_(S),D=Bl(y);pa(()=>{k&&(D==null||D())},[k,D]);const j=(J=N.arrow)==null?void 0:J.x,K=(z=N.arrow)==null?void 0:z.y,Z=((B=N.arrow)==null?void 0:B.centerOffset)!==0,[ne,H]=ie.useState();return pa(()=>{w&&H(window.getComputedStyle(w).zIndex)},[w]),b.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:k?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(Q=N.transformOrigin)==null?void 0:Q.x,(oe=N.transformOrigin)==null?void 0:oe.y].join(" "),...((pe=N.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:b.jsx(nP,{scope:e,placedSide:C,onArrowChange:F,arrowX:j,arrowY:K,shouldHideArrow:Z,children:b.jsx(un.div,{"data-side":C,"data-align":O,...g,ref:_,style:{...g.style,animation:k?void 0:"none"}})})})});r_.displayName=tv;var n_="PopperArrow",iP={top:"bottom",right:"left",bottom:"top",left:"right"},s_=ie.forwardRef(function(t,e){const{__scopePopper:n,...i}=t,s=sP(n_,n),o=iP[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx(tP,{...i,ref:e,style:{...i.style,display:"block"}})})});s_.displayName=n_;function aP(r){return r!==null}var oP=r=>({name:"transformOrigin",options:r,fn(t){var p,w,v;const{placement:e,rects:n,middlewareData:i}=t,o=((p=i.arrow)==null?void 0:p.centerOffset)!==0,l=o?0:r.arrowWidth,c=o?0:r.arrowHeight,[a,u]=i_(e),f={start:"0%",center:"50%",end:"100%"}[u],h=(((w=i.arrow)==null?void 0:w.x)??0)+l/2,d=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return a==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):a==="top"?(y=o?f:`${h}px`,g=`${n.floating.height+c}px`):a==="right"?(y=`${-c}px`,g=o?f:`${d}px`):a==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${d}px`),{data:{x:y,y:g}}}});function i_(r){const[t,e="center"]=r.split("-");return[t,e]}var a_=J6,o_=t_,l_=r_,c_=s_,lP="Portal",Y0=ie.forwardRef((r,t)=>{var l;const{container:e,...n}=r,[i,s]=ie.useState(!1);pa(()=>s(!0),[]);const o=e||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?d6.createPortal(b.jsx(un.div,{...n,ref:t}),o):null});Y0.displayName=lP;function cP(r){const t=uP(r),e=ie.forwardRef((n,i)=>{const{children:s,...o}=n,l=ie.Children.toArray(s),c=l.find(hP);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}function uP(r){const t=ie.forwardRef((e,n)=>{const{children:i,...s}=e;if(ie.isValidElement(i)){const o=pP(i),l=fP(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var dP=Symbol("radix.slottable");function hP(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===dP}function fP(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function pP(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var mP=function(r){if(typeof document>"u")return null;var t=Array.isArray(r)?r[0]:r;return t.ownerDocument.body},qd=new WeakMap,fm=new WeakMap,pm={},y1=0,u_=function(r){return r&&(r.host||u_(r.parentNode))},gP=function(r,t){return t.map(function(e){if(r.contains(e))return e;var n=u_(e);return n&&r.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",r,". Doing nothing"),null)}).filter(function(e){return!!e})},yP=function(r,t,e,n){var i=gP(t,Array.isArray(r)?r:[r]);pm[e]||(pm[e]=new WeakMap);var s=pm[e],o=[],l=new Set,c=new Set(i),a=function(f){!f||l.has(f)||(l.add(f),a(f.parentNode))};i.forEach(a);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var d=h.getAttribute(n),y=d!==null&&d!=="false",g=(qd.get(h)||0)+1,p=(s.get(h)||0)+1;qd.set(h,g),s.set(h,p),o.push(h),g===1&&y&&fm.set(h,!0),p===1&&h.setAttribute(e,"true"),y||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(t),l.clear(),y1++,function(){o.forEach(function(f){var h=qd.get(f)-1,d=s.get(f)-1;qd.set(f,h),s.set(f,d),h||(fm.has(f)||f.removeAttribute(n),fm.delete(f)),d||f.removeAttribute(e)}),y1--,y1||(qd=new WeakMap,qd=new WeakMap,fm=new WeakMap,pm={})}},rv=function(r,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),i=mP(r);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),yP(n,i,e,"aria-hidden")):function(){return null}},El=function(){return El=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},El.apply(this,arguments)};function d_(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function vP(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}var Om="right-scroll-bar-position",Lm="width-before-scroll-bar",bP="with-scroll-bars-hidden",wP="--removed-body-scroll-bar-size";function v1(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function xP(r,t){var e=ie.useState(function(){return{value:r,callback:t,facade:{get current(){return e.value},set current(n){var i=e.value;i!==n&&(e.value=n,e.callback(n,i))}}}})[0];return e.callback=t,e.facade}var _P=typeof window<"u"?ie.useLayoutEffect:ie.useEffect,x5=new WeakMap;function SP(r,t){var e=xP(null,function(n){return r.forEach(function(i){return v1(i,n)})});return _P(function(){var n=x5.get(e);if(n){var i=new Set(n),s=new Set(r),o=e.current;i.forEach(function(l){s.has(l)||v1(l,null)}),s.forEach(function(l){i.has(l)||v1(l,o)})}x5.set(e,r)},[r]),e}function NP(r){return r}function CP(r,t){t===void 0&&(t=NP);var e=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:r},useMedium:function(s){var o=t(s,n);return e.push(o),function(){e=e.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;e.length;){var o=e;e=[],o.forEach(s)}e={push:function(l){return s(l)},filter:function(){return e}}},assignMedium:function(s){n=!0;var o=[];if(e.length){var l=e;e=[],l.forEach(s),o=e}var c=function(){var u=o;o=[],u.forEach(s)},a=function(){return Promise.resolve().then(c)};a(),e={push:function(u){o.push(u),a()},filter:function(u){return o=o.filter(u),e}}}};return i}function kP(r){r===void 0&&(r={});var t=CP(null);return t.options=El({async:!0,ssr:!1},r),t}var h_=function(r){var t=r.sideCar,e=d_(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return ie.createElement(n,El({},e))};h_.isSideCarExport=!0;function EP(r,t){return r.useMedium(t),h_}var f_=kP(),b1=function(){},Z0=ie.forwardRef(function(r,t){var e=ie.useRef(null),n=ie.useState({onScrollCapture:b1,onWheelCapture:b1,onTouchMoveCapture:b1}),i=n[0],s=n[1],o=r.forwardProps,l=r.children,c=r.className,a=r.removeScrollBar,u=r.enabled,f=r.shards,h=r.sideCar,d=r.noRelative,y=r.noIsolation,g=r.inert,p=r.allowPinchZoom,w=r.as,v=w===void 0?"div":w,_=r.gapMode,T=d_(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=h,G=SP([e,t]),$=El(El({},T),i);return ie.createElement(ie.Fragment,null,u&&ie.createElement(F,{sideCar:f_,removeScrollBar:a,shards:f,noRelative:d,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!p,lockRef:e,gapMode:_}),o?ie.cloneElement(ie.Children.only(l),El(El({},$),{ref:G})):ie.createElement(v,El({},$,{className:c,ref:G}),l))});Z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Z0.classNames={fullWidth:Lm,zeroRight:Om};var AP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TP(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var t=AP();return t&&r.setAttribute("nonce",t),r}function jP(r,t){r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}function IP(r){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(r)}var PP=function(){var r=0,t=null;return{add:function(e){r==0&&(t=TP())&&(jP(t,e),IP(t)),r++},remove:function(){r--,!r&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RP=function(){var r=PP();return function(t,e){ie.useEffect(function(){return r.add(t),function(){r.remove()}},[t&&e])}},p_=function(){var r=RP(),t=function(e){var n=e.styles,i=e.dynamic;return r(n,i),null};return t},MP={left:0,top:0,right:0,gap:0},w1=function(r){return parseInt(r||"",10)||0},OP=function(r){var t=window.getComputedStyle(document.body),e=t[r==="padding"?"paddingLeft":"marginLeft"],n=t[r==="padding"?"paddingTop":"marginTop"],i=t[r==="padding"?"paddingRight":"marginRight"];return[w1(e),w1(n),w1(i)]},LP=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return MP;var t=OP(r),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},DP=p_(),ch="data-scroll-locked",FP=function(r,t,e,n){var i=r.left,s=r.top,o=r.right,l=r.gap;return e===void 0&&(e="margin"),`
  .`.concat(bP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ch,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Om,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Om," .").concat(Om,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ch,`] {
    `).concat(wP,": ").concat(l,`px;
  }
`)},_5=function(){var r=parseInt(document.body.getAttribute(ch)||"0",10);return isFinite(r)?r:0},BP=function(){ie.useEffect(function(){return document.body.setAttribute(ch,(_5()+1).toString()),function(){var r=_5()-1;r<=0?document.body.removeAttribute(ch):document.body.setAttribute(ch,r.toString())}},[])},VP=function(r){var t=r.noRelative,e=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;BP();var s=ie.useMemo(function(){return LP(i)},[i]);return ie.createElement(DP,{styles:FP(s,!t,i,e?"":"!important")})},_2=!1;if(typeof window<"u")try{var mm=Object.defineProperty({},"passive",{get:function(){return _2=!0,!0}});window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{_2=!1}var Hd=_2?{passive:!1}:!1,zP=function(r){return r.tagName==="TEXTAREA"},m_=function(r,t){if(!(r instanceof Element))return!1;var e=window.getComputedStyle(r);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!zP(r)&&e[t]==="visible")},UP=function(r){return m_(r,"overflowY")},$P=function(r){return m_(r,"overflowX")},S5=function(r,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=g_(r,n);if(i){var s=y_(r,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},qP=function(r){var t=r.scrollTop,e=r.scrollHeight,n=r.clientHeight;return[t,e,n]},HP=function(r){var t=r.scrollLeft,e=r.scrollWidth,n=r.clientWidth;return[t,e,n]},g_=function(r,t){return r==="v"?UP(t):$P(t)},y_=function(r,t){return r==="v"?qP(t):HP(t)},WP=function(r,t){return r==="h"&&t==="rtl"?-1:1},GP=function(r,t,e,n,i){var s=WP(r,window.getComputedStyle(t).direction),o=s*n,l=e.target,c=t.contains(l),a=!1,u=o>0,f=0,h=0;do{if(!l)break;var d=y_(r,l),y=d[0],g=d[1],p=d[2],w=g-p-s*y;(y||w)&&g_(r,l)&&(f+=w,h+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(a=!0),a},gm=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},N5=function(r){return[r.deltaX,r.deltaY]},C5=function(r){return r&&"current"in r?r.current:r},KP=function(r,t){return r[0]===t[0]&&r[1]===t[1]},XP=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},YP=0,Wd=[];function ZP(r){var t=ie.useRef([]),e=ie.useRef([0,0]),n=ie.useRef(),i=ie.useState(YP++)[0],s=ie.useState(p_)[0],o=ie.useRef(r);ie.useEffect(function(){o.current=r},[r]),ie.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var g=vP([r.lockRef.current],(r.shards||[]).map(C5),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var l=ie.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=gm(g),v=e.current,_="deltaX"in g?g.deltaX:v[0]-w[0],T="deltaY"in g?g.deltaY:v[1]-w[1],F,G=g.target,$=Math.abs(_)>Math.abs(T)?"h":"v";if("touches"in g&&$==="h"&&G.type==="range")return!1;var P=window.getSelection(),M=P&&P.anchorNode,U=M?M===G||M.contains(G):!1;if(U)return!1;var V=S5($,G);if(!V)return!0;if(V?F=$:(F=$==="v"?"h":"v",V=S5($,G)),!V)return!1;if(!n.current&&"changedTouches"in g&&(_||T)&&(n.current=F),!F)return!0;var I=n.current||F;return GP(I,p,g,I==="h"?_:T)},[]),c=ie.useCallback(function(g){var p=g;if(!(!Wd.length||Wd[Wd.length-1]!==s)){var w="deltaY"in p?N5(p):gm(p),v=t.current.filter(function(F){return F.name===p.type&&(F.target===p.target||p.target===F.shadowParent)&&KP(F.delta,w)})[0];if(v&&v.should){p.cancelable&&p.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(C5).filter(Boolean).filter(function(F){return F.contains(p.target)}),T=_.length>0?l(p,_[0]):!o.current.noIsolation;T&&p.cancelable&&p.preventDefault()}}},[]),a=ie.useCallback(function(g,p,w,v){var _={name:g,delta:p,target:w,should:v,shadowParent:QP(w)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(T){return T!==_})},1)},[]),u=ie.useCallback(function(g){e.current=gm(g),n.current=void 0},[]),f=ie.useCallback(function(g){a(g.type,N5(g),g.target,l(g,r.lockRef.current))},[]),h=ie.useCallback(function(g){a(g.type,gm(g),g.target,l(g,r.lockRef.current))},[]);ie.useEffect(function(){return Wd.push(s),r.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hd),document.addEventListener("touchmove",c,Hd),document.addEventListener("touchstart",u,Hd),function(){Wd=Wd.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Hd),document.removeEventListener("touchmove",c,Hd),document.removeEventListener("touchstart",u,Hd)}},[]);var d=r.removeScrollBar,y=r.inert;return ie.createElement(ie.Fragment,null,y?ie.createElement(s,{styles:XP(i)}):null,d?ie.createElement(VP,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function QP(r){for(var t=null;r!==null;)r instanceof ShadowRoot&&(t=r.host,r=r.host),r=r.parentNode;return t}const JP=EP(f_,ZP);var Q0=ie.forwardRef(function(r,t){return ie.createElement(Z0,El({},r,{ref:t,sideCar:JP}))});Q0.classNames=Z0.classNames;var S2=["Enter"," "],eR=["ArrowDown","PageUp","Home"],v_=["ArrowUp","PageDown","End"],tR=[...eR,...v_],rR={ltr:[...S2,"ArrowRight"],rtl:[...S2,"ArrowLeft"]},nR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fp="Menu",[Yf,sR,iR]=Hy(fp),[md,b_]=zl(fp,[iR,X0,z0]),J0=X0(),w_=z0(),[aR,gd]=md(fp),[oR,pp]=md(fp),x_=r=>{const{__scopeMenu:t,open:e=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=r,l=J0(t),[c,a]=ie.useState(null),u=ie.useRef(!1),f=Bl(s),h=V0(i);return ie.useEffect(()=>{const d=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),b.jsx(a_,{...l,children:b.jsx(aR,{scope:t,open:e,onOpenChange:f,content:c,onContentChange:a,children:b.jsx(oR,{scope:t,onClose:ie.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:n})})})};x_.displayName=fp;var lR="MenuAnchor",nv=ie.forwardRef((r,t)=>{const{__scopeMenu:e,...n}=r,i=J0(e);return b.jsx(o_,{...i,...n,ref:t})});nv.displayName=lR;var sv="MenuPortal",[cR,__]=md(sv,{forceMount:void 0}),S_=r=>{const{__scopeMenu:t,forceMount:e,children:n,container:i}=r,s=gd(sv,t);return b.jsx(cR,{scope:t,forceMount:e,children:b.jsx(kc,{present:e||s.open,children:b.jsx(Y0,{asChild:!0,container:i,children:n})})})};S_.displayName=sv;var Po="MenuContent",[uR,iv]=md(Po),N_=ie.forwardRef((r,t)=>{const e=__(Po,r.__scopeMenu),{forceMount:n=e.forceMount,...i}=r,s=gd(Po,r.__scopeMenu),o=pp(Po,r.__scopeMenu);return b.jsx(Yf.Provider,{scope:r.__scopeMenu,children:b.jsx(kc,{present:n||s.open,children:b.jsx(Yf.Slot,{scope:r.__scopeMenu,children:o.modal?b.jsx(dR,{...i,ref:t}):b.jsx(hR,{...i,ref:t})})})})}),dR=ie.forwardRef((r,t)=>{const e=gd(Po,r.__scopeMenu),n=ie.useRef(null),i=Vn(t,n);return ie.useEffect(()=>{const s=n.current;if(s)return rv(s)},[]),b.jsx(av,{...r,ref:i,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:Nr(r.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),hR=ie.forwardRef((r,t)=>{const e=gd(Po,r.__scopeMenu);return b.jsx(av,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),fR=cP("MenuContent.ScrollLock"),av=ie.forwardRef((r,t)=>{const{__scopeMenu:e,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:d,disableOutsideScroll:y,...g}=r,p=gd(Po,e),w=pp(Po,e),v=J0(e),_=w_(e),T=sR(e),[F,G]=ie.useState(null),$=ie.useRef(null),P=Vn(t,$,p.onContentChange),M=ie.useRef(0),U=ie.useRef(""),V=ie.useRef(0),I=ie.useRef(null),E=ie.useRef("right"),L=ie.useRef(0),A=y?Q0:ie.Fragment,S=y?{as:fR,allowPinchZoom:!0}:void 0,k=C=>{var J,z;const O=U.current+C,D=T().filter(B=>!B.disabled),j=document.activeElement,K=(J=D.find(B=>B.ref.current===j))==null?void 0:J.textValue,Z=D.map(B=>B.textValue),ne=CR(Z,O,K),H=(z=D.find(B=>B.textValue===ne))==null?void 0:z.ref.current;(function B(Q){U.current=Q,window.clearTimeout(M.current),Q!==""&&(M.current=window.setTimeout(()=>B(""),1e3))})(O),H&&setTimeout(()=>H.focus())};ie.useEffect(()=>()=>window.clearTimeout(M.current),[]),Gy();const N=ie.useCallback(C=>{var D,j;return E.current===((D=I.current)==null?void 0:D.side)&&ER(C,(j=I.current)==null?void 0:j.area)},[]);return b.jsx(uR,{scope:e,searchRef:U,onItemEnter:ie.useCallback(C=>{N(C)&&C.preventDefault()},[N]),onItemLeave:ie.useCallback(C=>{var O;N(C)||((O=$.current)==null||O.focus(),G(null))},[N]),onTriggerLeave:ie.useCallback(C=>{N(C)&&C.preventDefault()},[N]),pointerGraceTimerRef:V,onPointerGraceIntentChange:ie.useCallback(C=>{I.current=C},[]),children:b.jsx(A,{...S,children:b.jsx(q0,{asChild:!0,trapped:i,onMountAutoFocus:Nr(s,C=>{var O;C.preventDefault(),(O=$.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:b.jsx($0,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:d,children:b.jsx(w6,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:F,onCurrentTabStopIdChange:G,onEntryFocus:Nr(c,C=>{w.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:b.jsx(l_,{role:"menu","aria-orientation":"vertical","data-state":V_(p.open),"data-radix-menu-content":"",dir:w.dir,...v,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:Nr(g.onKeyDown,C=>{const D=C.target.closest("[data-radix-menu-content]")===C.currentTarget,j=C.ctrlKey||C.altKey||C.metaKey,K=C.key.length===1;D&&(C.key==="Tab"&&C.preventDefault(),!j&&K&&k(C.key));const Z=$.current;if(C.target!==Z||!tR.includes(C.key))return;C.preventDefault();const H=T().filter(J=>!J.disabled).map(J=>J.ref.current);v_.includes(C.key)&&H.reverse(),SR(H)}),onBlur:Nr(r.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout(M.current),U.current="")}),onPointerMove:Nr(r.onPointerMove,Zf(C=>{const O=C.target,D=L.current!==C.clientX;if(C.currentTarget.contains(O)&&D){const j=C.clientX>L.current?"right":"left";E.current=j,L.current=C.clientX}}))})})})})})})});N_.displayName=Po;var pR="MenuGroup",ov=ie.forwardRef((r,t)=>{const{__scopeMenu:e,...n}=r;return b.jsx(un.div,{role:"group",...n,ref:t})});ov.displayName=pR;var mR="MenuLabel",C_=ie.forwardRef((r,t)=>{const{__scopeMenu:e,...n}=r;return b.jsx(un.div,{...n,ref:t})});C_.displayName=mR;var d0="MenuItem",k5="menu.itemSelect",eg=ie.forwardRef((r,t)=>{const{disabled:e=!1,onSelect:n,...i}=r,s=ie.useRef(null),o=pp(d0,r.__scopeMenu),l=iv(d0,r.__scopeMenu),c=Vn(t,s),a=ie.useRef(!1),u=()=>{const f=s.current;if(!e&&f){const h=new CustomEvent(k5,{bubbles:!0,cancelable:!0});f.addEventListener(k5,d=>n==null?void 0:n(d),{once:!0}),p6(f,h),h.defaultPrevented?a.current=!1:o.onClose()}};return b.jsx(k_,{...i,ref:c,disabled:e,onClick:Nr(r.onClick,u),onPointerDown:f=>{var h;(h=r.onPointerDown)==null||h.call(r,f),a.current=!0},onPointerUp:Nr(r.onPointerUp,f=>{var h;a.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Nr(r.onKeyDown,f=>{const h=l.searchRef.current!=="";e||h&&f.key===" "||S2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});eg.displayName=d0;var k_=ie.forwardRef((r,t)=>{const{__scopeMenu:e,disabled:n=!1,textValue:i,...s}=r,o=iv(d0,e),l=w_(e),c=ie.useRef(null),a=Vn(t,c),[u,f]=ie.useState(!1),[h,d]=ie.useState("");return ie.useEffect(()=>{const y=c.current;y&&d((y.textContent??"").trim())},[s.children]),b.jsx(Yf.ItemSlot,{scope:e,disabled:n,textValue:i??h,children:b.jsx(x6,{asChild:!0,...l,focusable:!n,children:b.jsx(un.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:a,onPointerMove:Nr(r.onPointerMove,Zf(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Nr(r.onPointerLeave,Zf(y=>o.onItemLeave(y))),onFocus:Nr(r.onFocus,()=>f(!0)),onBlur:Nr(r.onBlur,()=>f(!1))})})})}),gR="MenuCheckboxItem",E_=ie.forwardRef((r,t)=>{const{checked:e=!1,onCheckedChange:n,...i}=r;return b.jsx(P_,{scope:r.__scopeMenu,checked:e,children:b.jsx(eg,{role:"menuitemcheckbox","aria-checked":h0(e)?"mixed":e,...i,ref:t,"data-state":cv(e),onSelect:Nr(i.onSelect,()=>n==null?void 0:n(h0(e)?!0:!e),{checkForDefaultPrevented:!1})})})});E_.displayName=gR;var A_="MenuRadioGroup",[yR,vR]=md(A_,{value:void 0,onValueChange:()=>{}}),T_=ie.forwardRef((r,t)=>{const{value:e,onValueChange:n,...i}=r,s=Bl(n);return b.jsx(yR,{scope:r.__scopeMenu,value:e,onValueChange:s,children:b.jsx(ov,{...i,ref:t})})});T_.displayName=A_;var j_="MenuRadioItem",I_=ie.forwardRef((r,t)=>{const{value:e,...n}=r,i=vR(j_,r.__scopeMenu),s=e===i.value;return b.jsx(P_,{scope:r.__scopeMenu,checked:s,children:b.jsx(eg,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":cv(s),onSelect:Nr(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,e)},{checkForDefaultPrevented:!1})})})});I_.displayName=j_;var lv="MenuItemIndicator",[P_,bR]=md(lv,{checked:!1}),R_=ie.forwardRef((r,t)=>{const{__scopeMenu:e,forceMount:n,...i}=r,s=bR(lv,e);return b.jsx(kc,{present:n||h0(s.checked)||s.checked===!0,children:b.jsx(un.span,{...i,ref:t,"data-state":cv(s.checked)})})});R_.displayName=lv;var wR="MenuSeparator",M_=ie.forwardRef((r,t)=>{const{__scopeMenu:e,...n}=r;return b.jsx(un.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});M_.displayName=wR;var xR="MenuArrow",O_=ie.forwardRef((r,t)=>{const{__scopeMenu:e,...n}=r,i=J0(e);return b.jsx(c_,{...i,...n,ref:t})});O_.displayName=xR;var _R="MenuSub",[Az,L_]=md(_R),kf="MenuSubTrigger",D_=ie.forwardRef((r,t)=>{const e=gd(kf,r.__scopeMenu),n=pp(kf,r.__scopeMenu),i=L_(kf,r.__scopeMenu),s=iv(kf,r.__scopeMenu),o=ie.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,a={__scopeMenu:r.__scopeMenu},u=ie.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return ie.useEffect(()=>u,[u]),ie.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),b.jsx(nv,{asChild:!0,...a,children:b.jsx(k_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":i.contentId,"data-state":V_(e.open),...r,ref:Cc(t,i.onTriggerChange),onClick:f=>{var h;(h=r.onClick)==null||h.call(r,f),!(r.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:Nr(r.onPointerMove,Zf(f=>{s.onItemEnter(f),!f.defaultPrevented&&!r.disabled&&!e.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),u()},100))})),onPointerLeave:Nr(r.onPointerLeave,Zf(f=>{var d,y;u();const h=(d=e.content)==null?void 0:d.getBoundingClientRect();if(h){const g=(y=e.content)==null?void 0:y.dataset.side,p=g==="right",w=p?-5:5,v=h[p?"left":"right"],_=h[p?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:v,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Nr(r.onKeyDown,f=>{var d;const h=s.searchRef.current!=="";r.disabled||h&&f.key===" "||rR[n.dir].includes(f.key)&&(e.onOpenChange(!0),(d=e.content)==null||d.focus(),f.preventDefault())})})})});D_.displayName=kf;var F_="MenuSubContent",B_=ie.forwardRef((r,t)=>{const e=__(Po,r.__scopeMenu),{forceMount:n=e.forceMount,...i}=r,s=gd(Po,r.__scopeMenu),o=pp(Po,r.__scopeMenu),l=L_(F_,r.__scopeMenu),c=ie.useRef(null),a=Vn(t,c);return b.jsx(Yf.Provider,{scope:r.__scopeMenu,children:b.jsx(kc,{present:n||s.open,children:b.jsx(Yf.Slot,{scope:r.__scopeMenu,children:b.jsx(av,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:a,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Nr(r.onFocusOutside,u=>{u.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Nr(r.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Nr(r.onKeyDown,u=>{var d;const f=u.currentTarget.contains(u.target),h=nR[o.dir].includes(u.key);f&&h&&(s.onOpenChange(!1),(d=l.trigger)==null||d.focus(),u.preventDefault())})})})})})});B_.displayName=F_;function V_(r){return r?"open":"closed"}function h0(r){return r==="indeterminate"}function cv(r){return h0(r)?"indeterminate":r?"checked":"unchecked"}function SR(r){const t=document.activeElement;for(const e of r)if(e===t||(e.focus(),document.activeElement!==t))return}function NR(r,t){return r.map((e,n)=>r[(t+n)%r.length])}function CR(r,t,e){const i=t.length>1&&Array.from(t).every(a=>a===t[0])?t[0]:t,s=e?r.indexOf(e):-1;let o=NR(r,Math.max(s,0));i.length===1&&(o=o.filter(a=>a!==e));const c=o.find(a=>a.toLowerCase().startsWith(i.toLowerCase()));return c!==e?c:void 0}function kR(r,t){const{x:e,y:n}=r;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],a=l.x,u=l.y,f=c.x,h=c.y;u>n!=h>n&&e<(f-a)*(n-u)/(h-u)+a&&(i=!i)}return i}function ER(r,t){if(!t)return!1;const e={x:r.clientX,y:r.clientY};return kR(e,t)}function Zf(r){return t=>t.pointerType==="mouse"?r(t):void 0}var AR=x_,TR=nv,jR=S_,IR=N_,PR=ov,RR=C_,MR=eg,OR=E_,LR=T_,DR=I_,FR=R_,BR=M_,VR=O_,zR=D_,UR=B_,tg="DropdownMenu",[$R]=zl(tg,[b_]),ja=b_(),[qR,z_]=$R(tg),U_=r=>{const{__scopeDropdownMenu:t,children:e,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=r,c=ja(t),a=ie.useRef(null),[u,f]=nd({prop:i,defaultProp:s??!1,onChange:o,caller:tg});return b.jsx(qR,{scope:t,triggerId:Ol(),triggerRef:a,contentId:Ol(),open:u,onOpenChange:f,onOpenToggle:ie.useCallback(()=>f(h=>!h),[f]),modal:l,children:b.jsx(AR,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:e})})};U_.displayName=tg;var $_="DropdownMenuTrigger",q_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,disabled:n=!1,...i}=r,s=z_($_,e),o=ja(e);return b.jsx(TR,{asChild:!0,...o,children:b.jsx(un.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Cc(t,s.triggerRef),onPointerDown:Nr(r.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Nr(r.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});q_.displayName=$_;var HR="DropdownMenuPortal",H_=r=>{const{__scopeDropdownMenu:t,...e}=r,n=ja(t);return b.jsx(jR,{...n,...e})};H_.displayName=HR;var W_="DropdownMenuContent",G_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=z_(W_,e),s=ja(e),o=ie.useRef(!1);return b.jsx(IR,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Nr(r.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Nr(r.onInteractOutside,l=>{const c=l.detail.originalEvent,a=c.button===0&&c.ctrlKey===!0,u=c.button===2||a;(!i.modal||u)&&(o.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=W_;var WR="DropdownMenuGroup",GR=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(PR,{...i,...n,ref:t})});GR.displayName=WR;var KR="DropdownMenuLabel",K_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(RR,{...i,...n,ref:t})});K_.displayName=KR;var XR="DropdownMenuItem",X_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(MR,{...i,...n,ref:t})});X_.displayName=XR;var YR="DropdownMenuCheckboxItem",Y_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(OR,{...i,...n,ref:t})});Y_.displayName=YR;var ZR="DropdownMenuRadioGroup",QR=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(LR,{...i,...n,ref:t})});QR.displayName=ZR;var JR="DropdownMenuRadioItem",Z_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(DR,{...i,...n,ref:t})});Z_.displayName=JR;var eM="DropdownMenuItemIndicator",Q_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(FR,{...i,...n,ref:t})});Q_.displayName=eM;var tM="DropdownMenuSeparator",J_=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(BR,{...i,...n,ref:t})});J_.displayName=tM;var rM="DropdownMenuArrow",nM=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(VR,{...i,...n,ref:t})});nM.displayName=rM;var sM="DropdownMenuSubTrigger",e8=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(zR,{...i,...n,ref:t})});e8.displayName=sM;var iM="DropdownMenuSubContent",t8=ie.forwardRef((r,t)=>{const{__scopeDropdownMenu:e,...n}=r,i=ja(e);return b.jsx(UR,{...i,...n,ref:t,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t8.displayName=iM;var aM=U_,oM=q_,lM=H_,r8=G_,n8=K_,s8=X_,i8=Y_,a8=Z_,o8=Q_,l8=J_,c8=e8,u8=t8;/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d8=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>ie.createElement("svg",{ref:c,...uM,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:d8("lucide",i),...l},[...o.map(([a,u])=>ie.createElement(a,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(r,t)=>{const e=ie.forwardRef(({className:n,...i},s)=>ie.createElement(dM,{ref:s,iconNode:t,className:d8(`lucide-${cM(r)}`,n),...i}));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=rr("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=rr("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=rr("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=rr("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=rr("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=rr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=rr("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=rr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=rr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=rr("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=rr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=rr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=rr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=rr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=rr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=rr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=rr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=rr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=rr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=rr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=rr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=rr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=rr("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=rr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=rr("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=rr("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=rr("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=rr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=rr("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=rr("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=rr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=rr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=rr("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=rr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=rr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=rr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=rr("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=rr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=rr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=rr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=rr("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=rr("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=rr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=rr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=rr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=rr("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=rr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=rr("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=rr("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=rr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=rr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=rr("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=rr("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=rr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=rr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=rr("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=rr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=rr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=rr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=rr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=rr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=rr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=rr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=rr("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=rr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=rr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=rr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=rr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bh=aM,Vh=oM,OM=ie.forwardRef(({className:r,inset:t,children:e,...n},i)=>b.jsxs(c8,{ref:i,className:_r("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",r),...n,children:[e,b.jsx(mM,{className:"ml-auto h-4 w-4"})]}));OM.displayName=c8.displayName;const LM=ie.forwardRef(({className:r,...t},e)=>b.jsx(u8,{ref:e,className:_r("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));LM.displayName=u8.displayName;const yd=ie.forwardRef(({className:r,sideOffset:t=4,...e},n)=>b.jsx(lM,{children:b.jsx(r8,{ref:n,sideOffset:t,className:_r("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...e})}));yd.displayName=r8.displayName;const vd=ie.forwardRef(({className:r,inset:t,...e},n)=>b.jsx(s8,{ref:n,className:_r("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",r),...e}));vd.displayName=s8.displayName;const DM=ie.forwardRef(({className:r,children:t,checked:e,...n},i)=>b.jsxs(i8,{ref:i,className:_r("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:e,...n,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(o8,{children:b.jsx(p8,{className:"h-4 w-4"})})}),t]}));DM.displayName=i8.displayName;const FM=ie.forwardRef(({className:r,children:t,...e},n)=>b.jsxs(a8,{ref:n,className:_r("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...e,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(o8,{children:b.jsx(gM,{className:"h-2 w-2 fill-current"})})}),t]}));FM.displayName=a8.displayName;const BM=ie.forwardRef(({className:r,inset:t,...e},n)=>b.jsx(n8,{ref:n,className:_r("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",r),...e}));BM.displayName=n8.displayName;const VM=ie.forwardRef(({className:r,...t},e)=>b.jsx(l8,{ref:e,className:_r("-mx-1 my-1 h-px bg-muted",r),...t}));VM.displayName=l8.displayName;const Dm=[{code:"en",name:"English",nativeName:"English",direction:"ltr",flag:""},{code:"ar",name:"Arabic",nativeName:"",direction:"rtl",flag:""},{code:"fr",name:"French",nativeName:"Franais",direction:"ltr",flag:""},{code:"el",name:"Greek",nativeName:"",direction:"ltr",flag:""}],L5={en:{"login.title":"Law Firm Management","login.subtitle":"Sign in to access your account","login.tab.login":"Login","login.tab.register":"Register","login.email":"Email","login.email.placeholder":"Enter your email","login.password":"Password","login.password.placeholder":"Enter your password","login.button":"Sign In","login.loading":"Signing in...","login.demo":"Demo accounts:","login.forgotPassword":"Forgot password?","register.name":"Full Name","register.name.placeholder":"Enter your full name","register.email":"Email","register.email.placeholder":"Enter your email","register.password":"Password","register.password.placeholder":"Create a password","register.confirmPassword":"Confirm Password","register.confirmPassword.placeholder":"Confirm your password","register.button":"Create Account","register.loading":"Creating account...",language:"Language","error.credentials":"Invalid email or password","error.required":"This field is required","error.email":"Please enter a valid email","error.passwordMatch":"Passwords do not match","error.passwordLength":"Password must be at least 6 characters","success.login":"Welcome back!","success.register":"Account created successfully!","nav.dashboard":"Dashboard","nav.clients":"Clients","nav.cases":"Cases","nav.asylum":"Asylum/Immigration","nav.courtLog":"Court Log","nav.tasks":"Tasks","nav.calendar":"Calendar","nav.messages":"Messages","nav.billing":"Time & Billing","nav.reports":"Reports","nav.users":"Users","nav.settings":"Settings","nav.logout":"Logout"},ar:{"login.title":"  ","login.subtitle":"    ","login.tab.login":" ","login.tab.register":" ","login.email":" ","login.email.placeholder":"  ","login.password":" ","login.password.placeholder":"  ","login.button":" ","login.loading":"  ...","login.demo":" :","login.forgotPassword":"  ","register.name":" ","register.name.placeholder":"  ","register.email":" ","register.email.placeholder":"  ","register.password":" ","register.password.placeholder":"  ","register.confirmPassword":"  ","register.confirmPassword.placeholder":"  ","register.button":" ","register.loading":"  ...",language:"","error.credentials":"      ","error.required":"  ","error.email":"    ","error.passwordMatch":"   ","error.passwordLength":"     6   ","success.login":" !","success.register":"   !","nav.dashboard":" ","nav.clients":"","nav.cases":"","nav.asylum":"/","nav.courtLog":" ","nav.tasks":"","nav.calendar":"","nav.messages":"","nav.billing":" ","nav.reports":"","nav.users":"","nav.settings":"","nav.logout":" "},fr:{"login.title":"Gestion de Cabinet d'Avocats","login.subtitle":"Connectez-vous pour accder  votre compte","login.tab.login":"Connexion","login.tab.register":"S'inscrire","login.email":"Email","login.email.placeholder":"Entrez votre email","login.password":"Mot de passe","login.password.placeholder":"Entrez votre mot de passe","login.button":"Se Connecter","login.loading":"Connexion en cours...","login.demo":"Comptes de dmonstration:","login.forgotPassword":"Mot de passe oubli?","register.name":"Nom Complet","register.name.placeholder":"Entrez votre nom complet","register.email":"Email","register.email.placeholder":"Entrez votre email","register.password":"Mot de passe","register.password.placeholder":"Crez un mot de passe","register.confirmPassword":"Confirmer le mot de passe","register.confirmPassword.placeholder":"Confirmez votre mot de passe","register.button":"Crer un Compte","register.loading":"Cration du compte...",language:"Langue","error.credentials":"Email ou mot de passe invalide","error.required":"Ce champ est requis","error.email":"Veuillez entrer un email valide","error.passwordMatch":"Les mots de passe ne correspondent pas","error.passwordLength":"Le mot de passe doit contenir au moins 6 caractres","success.login":"Bon retour!","success.register":"Compte cr avec succs!","nav.dashboard":"Tableau de Bord","nav.clients":"Clients","nav.cases":"Dossiers","nav.asylum":"Asile/Immigration","nav.courtLog":"Journal du Tribunal","nav.tasks":"Tches","nav.calendar":"Calendrier","nav.messages":"Messages","nav.billing":"Facturation","nav.reports":"Rapports","nav.users":"Utilisateurs","nav.settings":"Paramtres","nav.logout":"Dconnexion"},el:{"login.title":"  ","login.subtitle":"     ","login.tab.login":"","login.tab.register":"","login.email":"Email","login.email.placeholder":"  email ","login.password":"","login.password.placeholder":"   ","login.button":"","login.loading":"...","login.demo":" :","login.forgotPassword":"  ;","register.name":"","register.name.placeholder":"   ","register.email":"Email","register.email.placeholder":"  email ","register.password":"","register.password.placeholder":" ","register.confirmPassword":" ","register.confirmPassword.placeholder":"  ","register.button":" ","register.loading":" ...",language:"","error.credentials":" email  ","error.required":"    ","error.email":"   email","error.passwordMatch":"   ","error.passwordLength":"      6 ","success.login":" !","success.register":"   !","nav.dashboard":" ","nav.clients":"","nav.cases":"","nav.asylum":"/","nav.courtLog":" ","nav.tasks":"","nav.calendar":"","nav.messages":"","nav.billing":" & ","nav.reports":"","nav.users":"","nav.settings":"","nav.logout":""}};function b8(){const r=localStorage.getItem("language");return r&&["en","ar","fr","el"].includes(r)?r:"en"}function zM(r){localStorage.setItem("language",r);const t=Dm.find(e=>e.code===r);t&&(document.documentElement.dir=t.direction,document.documentElement.lang=r)}function Ms(r,t){var n;const e=t||b8();return((n=L5[e])==null?void 0:n[r])||L5.en[r]||r}function UM(){const{login:r,register:t}=pd(),[e,n]=ie.useState(!1),[i,s]=ie.useState(null),[o,l]=ie.useState(!1),[c,a]=ie.useState(b8()),[u,f]=ie.useState(""),[h,d]=ie.useState(""),[y,g]=ie.useState(""),[p,w]=ie.useState(""),[v,_]=ie.useState(""),[T,F]=ie.useState(""),[G,$]=ie.useState("Staff");ie.useEffect(()=>{const I=Dm.find(E=>E.code===c);I&&(document.documentElement.dir=I.direction,document.documentElement.lang=c)},[c]);const P=I=>{zM(I),a(I)},M=async I=>{I.preventDefault(),s(null),n(!0),(await r(u,h)).success||s(Ms("error.credentials",c)),n(!1)},U=async I=>{if(I.preventDefault(),s(null),v!==T){s(Ms("error.passwordMatch",c));return}if(v.length<6){s(Ms("error.passwordLength",c));return}n(!0);const E=await t(y,p,v,G);E.success||s(E.error||"Registration failed"),n(!1)},V=Dm.find(I=>I.code===c);return b.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:[b.jsx("div",{className:"absolute top-4 right-4",children:b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsxs(Mt,{variant:"outline",size:"sm",className:"gap-2 bg-white/10 border-white/20 text-white hover:bg-white/20",children:[b.jsx(ad,{className:"h-4 w-4"}),b.jsx("span",{className:"text-lg",children:V==null?void 0:V.flag}),b.jsx("span",{className:"hidden sm:inline",children:V==null?void 0:V.nativeName})]})}),b.jsx(yd,{align:"end",className:"w-48",children:Dm.map(I=>b.jsxs(vd,{onClick:()=>P(I.code),className:`gap-3 cursor-pointer ${c===I.code?"bg-primary/10":""}`,children:[b.jsx("span",{className:"text-xl",children:I.flag}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"font-medium",children:I.nativeName}),b.jsx("span",{className:"text-xs text-muted-foreground",children:I.name})]}),c===I.code&&b.jsx("span",{className:"ml-auto text-primary",children:""})]},I.code))})]})}),b.jsxs(Qt,{className:"w-full max-w-md",children:[b.jsxs(zr,{className:"text-center space-y-4",children:[b.jsx("div",{className:"mx-auto w-20 h-20 flex items-center justify-center",children:b.jsx("img",{src:"/LLAW.png",alt:"Law Firm",className:"w-full h-full object-contain"})}),b.jsxs("div",{children:[b.jsx(Ur,{className:"text-2xl font-bold",children:Ms("login.title",c)}),b.jsx(fa,{children:Ms("login.subtitle",c)})]})]}),b.jsxs(dp,{defaultValue:"login",className:"w-full",children:[b.jsxs(Mh,{className:"grid w-full grid-cols-2 mx-4",style:{width:"calc(100% - 2rem)"},children:[b.jsx(ai,{value:"login",children:Ms("login.tab.login",c)}),b.jsx(ai,{value:"register",children:Ms("login.tab.register",c)})]}),b.jsx(oi,{value:"login",children:b.jsxs("form",{onSubmit:M,children:[b.jsxs(Jt,{className:"space-y-4",children:[i&&b.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:[b.jsx(C2,{className:"h-4 w-4"}),i]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"email",children:Ms("login.email",c)}),b.jsx(Xt,{id:"email",type:"email",placeholder:Ms("login.email.placeholder",c),value:u,onChange:I=>f(I.target.value),required:!0,disabled:e,dir:"ltr"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"password",children:Ms("login.password",c)}),b.jsxs("div",{className:"relative",children:[b.jsx(Xt,{id:"password",type:o?"text":"password",placeholder:"",value:h,onChange:I=>d(I.target.value),required:!0,disabled:e,dir:"ltr"}),b.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?b.jsx(m8,{size:18}):b.jsx(uv,{size:18})})]})]}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.jsx("p",{children:Ms("login.demo",c)}),b.jsxs("ul",{className:"list-disc list-inside text-xs mt-1",dir:"ltr",children:[b.jsx("li",{children:"admin@lawfirm.com / admin123"}),b.jsx("li",{children:"john@lawfirm.com / admin123"})]})]})]}),b.jsx(g2,{children:b.jsxs(Mt,{type:"submit",className:"w-full",disabled:e,children:[e?b.jsx(I5,{className:"mr-2 h-4 w-4 animate-spin"}):null,Ms(e?"login.loading":"login.button",c)]})})]})}),b.jsx(oi,{value:"register",children:b.jsxs("form",{onSubmit:U,children:[b.jsxs(Jt,{className:"space-y-4",children:[i&&b.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:[b.jsx(C2,{className:"h-4 w-4"}),i]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"reg-name",children:Ms("register.name",c)}),b.jsx(Xt,{id:"reg-name",type:"text",placeholder:Ms("register.name.placeholder",c),value:y,onChange:I=>g(I.target.value),required:!0,disabled:e})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"reg-email",children:Ms("register.email",c)}),b.jsx(Xt,{id:"reg-email",type:"email",placeholder:Ms("register.email.placeholder",c),value:p,onChange:I=>w(I.target.value),required:!0,disabled:e,dir:"ltr"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"reg-role",children:"Role"}),b.jsxs("select",{id:"reg-role",value:G,onChange:I=>$(I.target.value),disabled:e,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[b.jsx("option",{value:"Staff",children:"Staff"}),b.jsx("option",{value:"Paralegal",children:"Paralegal"}),b.jsx("option",{value:"Lawyer",children:"Attorney"}),b.jsx("option",{value:"Admin",children:"Administrator"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"reg-password",children:Ms("register.password",c)}),b.jsx(Xt,{id:"reg-password",type:"password",placeholder:Ms("register.password.placeholder",c),value:v,onChange:I=>_(I.target.value),required:!0,disabled:e,dir:"ltr"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"reg-confirm",children:Ms("register.confirmPassword",c)}),b.jsx(Xt,{id:"reg-confirm",type:"password",placeholder:Ms("register.confirmPassword.placeholder",c),value:T,onChange:I=>F(I.target.value),required:!0,disabled:e,dir:"ltr"})]})]}),b.jsx(g2,{children:b.jsxs(Mt,{type:"submit",className:"w-full",disabled:e,children:[e?b.jsx(I5,{className:"mr-2 h-4 w-4 animate-spin"}):null,Ms(e?"register.loading":"register.button",c)]})})]})})]})]})]})}function D5({clientCount:r,caseCount:t,taskCount:e,pendingTasks:n}){const i=[{label:"Total Clients",value:r,icon:Ch,color:"text-blue-500"},{label:"Active Cases",value:t,icon:_c,color:"text-green-500"},{label:"Total Tasks",value:e,icon:Qf,color:"text-purple-500"},{label:"Pending Tasks",value:n,icon:Dh,color:"text-orange-500"}];return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),b.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's an overview of your firm."})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:i.map(s=>b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:s.label}),b.jsx(s.icon,{className:`h-5 w-5 ${s.color}`})]}),b.jsx(Jt,{children:b.jsx("div",{className:"text-3xl font-bold",children:s.value})})]},s.label))}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsx(Ur,{children:"Recent Activity"})}),b.jsx(Jt,{children:b.jsx("p",{className:"text-muted-foreground text-sm",children:"No recent activity to display."})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsx(Ur,{children:"Upcoming Deadlines"})}),b.jsx(Jt,{children:b.jsx("p",{className:"text-muted-foreground text-sm",children:"No upcoming deadlines."})})]})]})]})}function $M(r){const t=qM(r),e=ie.forwardRef((n,i)=>{const{children:s,...o}=n,l=ie.Children.toArray(s),c=l.find(WM);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}function qM(r){const t=ie.forwardRef((e,n)=>{const{children:i,...s}=e;if(ie.isValidElement(i)){const o=KM(i),l=GM(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var HM=Symbol("radix.slottable");function WM(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===HM}function GM(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function KM(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}var rg="Dialog",[w8,x8]=zl(rg),[XM,ol]=w8(rg),_8=r=>{const{__scopeDialog:t,children:e,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=r,l=ie.useRef(null),c=ie.useRef(null),[a,u]=nd({prop:n,defaultProp:i??!1,onChange:s,caller:rg});return b.jsx(XM,{scope:t,triggerRef:l,contentRef:c,contentId:Ol(),titleId:Ol(),descriptionId:Ol(),open:a,onOpenChange:u,onOpenToggle:ie.useCallback(()=>u(f=>!f),[u]),modal:o,children:e})};_8.displayName=rg;var S8="DialogTrigger",N8=ie.forwardRef((r,t)=>{const{__scopeDialog:e,...n}=r,i=ol(S8,e),s=Vn(t,i.triggerRef);return b.jsx(un.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pv(i.open),...n,ref:s,onClick:Nr(r.onClick,i.onOpenToggle)})});N8.displayName=S8;var hv="DialogPortal",[YM,C8]=w8(hv,{forceMount:void 0}),k8=r=>{const{__scopeDialog:t,forceMount:e,children:n,container:i}=r,s=ol(hv,t);return b.jsx(YM,{scope:t,forceMount:e,children:ie.Children.map(n,o=>b.jsx(kc,{present:e||s.open,children:b.jsx(Y0,{asChild:!0,container:i,children:o})}))})};k8.displayName=hv;var m0="DialogOverlay",E8=ie.forwardRef((r,t)=>{const e=C8(m0,r.__scopeDialog),{forceMount:n=e.forceMount,...i}=r,s=ol(m0,r.__scopeDialog);return s.modal?b.jsx(kc,{present:n||s.open,children:b.jsx(QM,{...i,ref:t})}):null});E8.displayName=m0;var ZM=$M("DialogOverlay.RemoveScroll"),QM=ie.forwardRef((r,t)=>{const{__scopeDialog:e,...n}=r,i=ol(m0,e);return b.jsx(Q0,{as:ZM,allowPinchZoom:!0,shards:[i.contentRef],children:b.jsx(un.div,{"data-state":pv(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),od="DialogContent",A8=ie.forwardRef((r,t)=>{const e=C8(od,r.__scopeDialog),{forceMount:n=e.forceMount,...i}=r,s=ol(od,r.__scopeDialog);return b.jsx(kc,{present:n||s.open,children:s.modal?b.jsx(JM,{...i,ref:t}):b.jsx(eO,{...i,ref:t})})});A8.displayName=od;var JM=ie.forwardRef((r,t)=>{const e=ol(od,r.__scopeDialog),n=ie.useRef(null),i=Vn(t,e.contentRef,n);return ie.useEffect(()=>{const s=n.current;if(s)return rv(s)},[]),b.jsx(T8,{...r,ref:i,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(r.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=e.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Nr(r.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Nr(r.onFocusOutside,s=>s.preventDefault())})}),eO=ie.forwardRef((r,t)=>{const e=ol(od,r.__scopeDialog),n=ie.useRef(!1),i=ie.useRef(!1);return b.jsx(T8,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=r.onCloseAutoFocus)==null||o.call(r,s),s.defaultPrevented||(n.current||(l=e.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,a;(c=r.onInteractOutside)==null||c.call(r,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((a=e.triggerRef.current)==null?void 0:a.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),T8=ie.forwardRef((r,t)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=r,l=ol(od,e),c=ie.useRef(null),a=Vn(t,c);return Gy(),b.jsxs(b.Fragment,{children:[b.jsx(q0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:b.jsx($0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pv(l.open),...o,ref:a,onDismiss:()=>l.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(rO,{titleId:l.titleId}),b.jsx(sO,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fv="DialogTitle",j8=ie.forwardRef((r,t)=>{const{__scopeDialog:e,...n}=r,i=ol(fv,e);return b.jsx(un.h2,{id:i.titleId,...n,ref:t})});j8.displayName=fv;var I8="DialogDescription",P8=ie.forwardRef((r,t)=>{const{__scopeDialog:e,...n}=r,i=ol(I8,e);return b.jsx(un.p,{id:i.descriptionId,...n,ref:t})});P8.displayName=I8;var R8="DialogClose",M8=ie.forwardRef((r,t)=>{const{__scopeDialog:e,...n}=r,i=ol(R8,e);return b.jsx(un.button,{type:"button",...n,ref:t,onClick:Nr(r.onClick,()=>i.onOpenChange(!1))})});M8.displayName=R8;function pv(r){return r?"open":"closed"}var O8="DialogTitleWarning",[tO,L8]=GT(O8,{contentName:od,titleName:fv,docsSlug:"dialog"}),rO=({titleId:r})=>{const t=L8(O8),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return ie.useEffect(()=>{r&&(document.getElementById(r)||console.error(e))},[e,r]),null},nO="DialogDescriptionWarning",sO=({contentRef:r,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L8(nO).contentName}}.`;return ie.useEffect(()=>{var s;const i=(s=r.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,r,t]),null},D8=_8,iO=N8,F8=k8,mv=E8,gv=A8,yv=j8,vv=P8,bv=M8;const Ga=D8,aO=F8,B8=ie.forwardRef(({className:r,...t},e)=>b.jsx(mv,{ref:e,className:_r("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t}));B8.displayName=mv.displayName;const ka=ie.forwardRef(({className:r,children:t,...e},n)=>b.jsxs(aO,{children:[b.jsx(B8,{}),b.jsxs(gv,{ref:n,className:_r("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...e,children:[t,b.jsxs(bv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(v8,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ka.displayName=gv.displayName;const Ea=({className:r,...t})=>b.jsx("div",{className:_r("flex flex-col space-y-1.5 text-center sm:text-left",r),...t});Ea.displayName="DialogHeader";const Aa=({className:r,...t})=>b.jsx("div",{className:_r("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t});Aa.displayName="DialogFooter";const Ta=ie.forwardRef(({className:r,...t},e)=>b.jsx(yv,{ref:e,className:_r("text-lg font-semibold leading-none tracking-tight",r),...t}));Ta.displayName=yv.displayName;const oO=ie.forwardRef(({className:r,...t},e)=>b.jsx(vv,{ref:e,className:_r("text-sm text-muted-foreground",r),...t}));oO.displayName=vv.displayName;function F5(r,[t,e]){return Math.min(e,Math.max(t,r))}function lO(r){const t=cO(r),e=ie.forwardRef((n,i)=>{const{children:s,...o}=n,l=ie.Children.toArray(s),c=l.find(dO);if(c){const a=c.props.children,u=l.map(f=>f===c?ie.Children.count(a)>1?ie.Children.only(null):ie.isValidElement(a)?a.props.children:null:f);return b.jsx(t,{...o,ref:i,children:ie.isValidElement(a)?ie.cloneElement(a,void 0,u):null})}return b.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${r}.Slot`,e}function cO(r){const t=ie.forwardRef((e,n)=>{const{children:i,...s}=e;if(ie.isValidElement(i)){const o=fO(i),l=hO(s,i.props);return i.type!==ie.Fragment&&(l.ref=n?Cc(n,o):o),ie.cloneElement(i,l)}return ie.Children.count(i)>1?ie.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var uO=Symbol("radix.slottable");function dO(r){return ie.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===uO}function hO(r,t){const e={...t};for(const n in t){const i=r[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?e[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(e[n]=i):n==="style"?e[n]={...i,...s}:n==="className"&&(e[n]=[i,s].filter(Boolean).join(" "))}return{...r,...e}}function fO(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?r.props.ref:r.props.ref||r.ref)}function V8(r){const t=ie.useRef({value:r,previous:r});return ie.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}var z8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pO="VisuallyHidden",mO=ie.forwardRef((r,t)=>b.jsx(un.span,{...r,ref:t,style:{...z8,...r.style}}));mO.displayName=pO;var gO=[" ","Enter","ArrowUp","ArrowDown"],yO=[" ","Enter"],ld="Select",[ng,sg,vO]=Hy(ld),[zh]=zl(ld,[vO,X0]),ig=X0(),[bO,Nu]=zh(ld),[wO,xO]=zh(ld),U8=r=>{const{__scopeSelect:t,children:e,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:a,name:u,autoComplete:f,disabled:h,required:d,form:y}=r,g=ig(t),[p,w]=ie.useState(null),[v,_]=ie.useState(null),[T,F]=ie.useState(!1),G=V0(a),[$,P]=nd({prop:n,defaultProp:i??!1,onChange:s,caller:ld}),[M,U]=nd({prop:o,defaultProp:l,onChange:c,caller:ld}),V=ie.useRef(null),I=p?y||!!p.closest("form"):!0,[E,L]=ie.useState(new Set),A=Array.from(E).map(S=>S.props.value).join(";");return b.jsx(a_,{...g,children:b.jsxs(bO,{required:d,scope:t,trigger:p,onTriggerChange:w,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:T,onValueNodeHasChildrenChange:F,contentId:Ol(),value:M,onValueChange:U,open:$,onOpenChange:P,dir:G,triggerPointerDownPosRef:V,disabled:h,children:[b.jsx(ng.Provider,{scope:t,children:b.jsx(wO,{scope:r.__scopeSelect,onNativeOptionAdd:ie.useCallback(S=>{L(k=>new Set(k).add(S))},[]),onNativeOptionRemove:ie.useCallback(S=>{L(k=>{const N=new Set(k);return N.delete(S),N})},[]),children:e})}),I?b.jsxs(hS,{"aria-hidden":!0,required:d,tabIndex:-1,name:u,autoComplete:f,value:M,onChange:S=>U(S.target.value),disabled:h,form:y,children:[M===void 0?b.jsx("option",{value:""}):null,Array.from(E)]},A):null]})})};U8.displayName=ld;var $8="SelectTrigger",q8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,disabled:n=!1,...i}=r,s=ig(e),o=Nu($8,e),l=o.disabled||n,c=Vn(t,o.onTriggerChange),a=sg(e),u=ie.useRef("touch"),[f,h,d]=pS(g=>{const p=a().filter(_=>!_.disabled),w=p.find(_=>_.value===o.value),v=mS(p,g,w);v!==void 0&&o.onValueChange(v.value)}),y=g=>{l||(o.onOpenChange(!0),d()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return b.jsx(o_,{asChild:!0,...s,children:b.jsx(un.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fS(o.value)?"":void 0,...i,ref:c,onClick:Nr(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Nr(i.onPointerDown,g=>{u.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Nr(i.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&gO.includes(g.key)&&(y(),g.preventDefault())})})})});q8.displayName=$8;var H8="SelectValue",W8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,className:n,style:i,children:s,placeholder:o="",...l}=r,c=Nu(H8,e),{onValueNodeHasChildrenChange:a}=c,u=s!==void 0,f=Vn(t,c.onValueNodeChange);return pa(()=>{a(u)},[a,u]),b.jsx(un.span,{...l,ref:f,style:{pointerEvents:"none"},children:fS(c.value)?b.jsx(b.Fragment,{children:o}):s})});W8.displayName=H8;var _O="SelectIcon",G8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,children:n,...i}=r;return b.jsx(un.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});G8.displayName=_O;var SO="SelectPortal",K8=r=>b.jsx(Y0,{asChild:!0,...r});K8.displayName=SO;var cd="SelectContent",X8=ie.forwardRef((r,t)=>{const e=Nu(cd,r.__scopeSelect),[n,i]=ie.useState();if(pa(()=>{i(new DocumentFragment)},[]),!e.open){const s=n;return s?cp.createPortal(b.jsx(Y8,{scope:r.__scopeSelect,children:b.jsx(ng.Slot,{scope:r.__scopeSelect,children:b.jsx("div",{children:r.children})})}),s):null}return b.jsx(Z8,{...r,ref:t})});X8.displayName=cd;var Jo=10,[Y8,Cu]=zh(cd),NO="SelectContentImpl",CO=lO("SelectContent.RemoveScroll"),Z8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:a,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:d,sticky:y,hideWhenDetached:g,avoidCollisions:p,...w}=r,v=Nu(cd,e),[_,T]=ie.useState(null),[F,G]=ie.useState(null),$=Vn(t,J=>T(J)),[P,M]=ie.useState(null),[U,V]=ie.useState(null),I=sg(e),[E,L]=ie.useState(!1),A=ie.useRef(!1);ie.useEffect(()=>{if(_)return rv(_)},[_]),Gy();const S=ie.useCallback(J=>{const[z,...B]=I().map(pe=>pe.ref.current),[Q]=B.slice(-1),oe=document.activeElement;for(const pe of J)if(pe===oe||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===z&&F&&(F.scrollTop=0),pe===Q&&F&&(F.scrollTop=F.scrollHeight),pe==null||pe.focus(),document.activeElement!==oe))return},[I,F]),k=ie.useCallback(()=>S([P,_]),[S,P,_]);ie.useEffect(()=>{E&&k()},[E,k]);const{onOpenChange:N,triggerPointerDownPosRef:C}=v;ie.useEffect(()=>{if(_){let J={x:0,y:0};const z=Q=>{var oe,pe;J={x:Math.abs(Math.round(Q.pageX)-(((oe=C.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((pe=C.current)==null?void 0:pe.y)??0))}},B=Q=>{J.x<=10&&J.y<=10?Q.preventDefault():_.contains(Q.target)||N(!1),document.removeEventListener("pointermove",z),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B,{capture:!0})}}},[_,N,C]),ie.useEffect(()=>{const J=()=>N(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[N]);const[O,D]=pS(J=>{const z=I().filter(oe=>!oe.disabled),B=z.find(oe=>oe.ref.current===document.activeElement),Q=mS(z,J,B);Q&&setTimeout(()=>Q.ref.current.focus())}),j=ie.useCallback((J,z,B)=>{const Q=!A.current&&!B;(v.value!==void 0&&v.value===z||Q)&&(M(J),Q&&(A.current=!0))},[v.value]),K=ie.useCallback(()=>_==null?void 0:_.focus(),[_]),Z=ie.useCallback((J,z,B)=>{const Q=!A.current&&!B;(v.value!==void 0&&v.value===z||Q)&&V(J)},[v.value]),ne=n==="popper"?R2:Q8,H=ne===R2?{side:l,sideOffset:c,align:a,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:d,sticky:y,hideWhenDetached:g,avoidCollisions:p}:{};return b.jsx(Y8,{scope:e,content:_,viewport:F,onViewportChange:G,itemRefCallback:j,selectedItem:P,onItemLeave:K,itemTextRefCallback:Z,focusSelectedItem:k,selectedItemText:U,position:n,isPositioned:E,searchRef:O,children:b.jsx(Q0,{as:CO,allowPinchZoom:!0,children:b.jsx(q0,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Nr(i,J=>{var z;(z=v.trigger)==null||z.focus({preventScroll:!0}),J.preventDefault()}),children:b.jsx($0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:b.jsx(ne,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...w,...H,onPlaced:()=>L(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Nr(w.onKeyDown,J=>{const z=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!z&&J.key.length===1&&D(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Q=I().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const oe=J.target,pe=Q.indexOf(oe);Q=Q.slice(pe+1)}setTimeout(()=>S(Q)),J.preventDefault()}})})})})})})});Z8.displayName=NO;var kO="SelectItemAlignedPosition",Q8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,onPlaced:n,...i}=r,s=Nu(cd,e),o=Cu(cd,e),[l,c]=ie.useState(null),[a,u]=ie.useState(null),f=Vn(t,$=>u($)),h=sg(e),d=ie.useRef(!1),y=ie.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:w,focusSelectedItem:v}=o,_=ie.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&a&&g&&p&&w){const $=s.trigger.getBoundingClientRect(),P=a.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),U=w.getBoundingClientRect();if(s.dir!=="rtl"){const oe=U.left-P.left,pe=M.left-oe,de=$.left-pe,ve=$.width+de,ce=Math.max(ve,P.width),he=window.innerWidth-Jo,fe=F5(pe,[Jo,Math.max(Jo,he-ce)]);l.style.minWidth=ve+"px",l.style.left=fe+"px"}else{const oe=P.right-U.right,pe=window.innerWidth-M.right-oe,de=window.innerWidth-$.right-pe,ve=$.width+de,ce=Math.max(ve,P.width),he=window.innerWidth-Jo,fe=F5(pe,[Jo,Math.max(Jo,he-ce)]);l.style.minWidth=ve+"px",l.style.right=fe+"px"}const V=h(),I=window.innerHeight-Jo*2,E=g.scrollHeight,L=window.getComputedStyle(a),A=parseInt(L.borderTopWidth,10),S=parseInt(L.paddingTop,10),k=parseInt(L.borderBottomWidth,10),N=parseInt(L.paddingBottom,10),C=A+S+E+N+k,O=Math.min(p.offsetHeight*5,C),D=window.getComputedStyle(g),j=parseInt(D.paddingTop,10),K=parseInt(D.paddingBottom,10),Z=$.top+$.height/2-Jo,ne=I-Z,H=p.offsetHeight/2,J=p.offsetTop+H,z=A+S+J,B=C-z;if(z<=Z){const oe=V.length>0&&p===V[V.length-1].ref.current;l.style.bottom="0px";const pe=a.clientHeight-g.offsetTop-g.offsetHeight,de=Math.max(ne,H+(oe?K:0)+pe+k),ve=z+de;l.style.height=ve+"px"}else{const oe=V.length>0&&p===V[0].ref.current;l.style.top="0px";const de=Math.max(Z,A+g.offsetTop+(oe?j:0)+H)+B;l.style.height=de+"px",g.scrollTop=z-Z+g.offsetTop}l.style.margin=`${Jo}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>d.current=!0)}},[h,s.trigger,s.valueNode,l,a,g,p,w,s.dir,n]);pa(()=>_(),[_]);const[T,F]=ie.useState();pa(()=>{a&&F(window.getComputedStyle(a).zIndex)},[a]);const G=ie.useCallback($=>{$&&y.current===!0&&(_(),v==null||v(),y.current=!1)},[_,v]);return b.jsx(AO,{scope:e,contentWrapper:l,shouldExpandOnScrollRef:d,onScrollButtonChange:G,children:b.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:b.jsx(un.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Q8.displayName=kO;var EO="SelectPopperPosition",R2=ie.forwardRef((r,t)=>{const{__scopeSelect:e,align:n="start",collisionPadding:i=Jo,...s}=r,o=ig(e);return b.jsx(l_,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=EO;var[AO,wv]=zh(cd,{}),M2="SelectViewport",J8=ie.forwardRef((r,t)=>{const{__scopeSelect:e,nonce:n,...i}=r,s=Cu(M2,e),o=wv(M2,e),l=Vn(t,s.onViewportChange),c=ie.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),b.jsx(ng.Slot,{scope:e,children:b.jsx(un.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nr(i.onScroll,a=>{const u=a.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const d=Math.abs(c.current-u.scrollTop);if(d>0){const y=window.innerHeight-Jo*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),w=Math.max(g,p);if(w<y){const v=w+d,_=Math.min(y,v),T=v-_;f.style.height=_+"px",f.style.bottom==="0px"&&(u.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});J8.displayName=M2;var eS="SelectGroup",[TO,jO]=zh(eS),IO=ie.forwardRef((r,t)=>{const{__scopeSelect:e,...n}=r,i=Ol();return b.jsx(TO,{scope:e,id:i,children:b.jsx(un.div,{role:"group","aria-labelledby":i,...n,ref:t})})});IO.displayName=eS;var tS="SelectLabel",rS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,...n}=r,i=jO(tS,e);return b.jsx(un.div,{id:i.id,...n,ref:t})});rS.displayName=tS;var g0="SelectItem",[PO,nS]=zh(g0),sS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,value:n,disabled:i=!1,textValue:s,...o}=r,l=Nu(g0,e),c=Cu(g0,e),a=l.value===n,[u,f]=ie.useState(s??""),[h,d]=ie.useState(!1),y=Vn(t,v=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,v,n,i)}),g=Ol(),p=ie.useRef("touch"),w=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(PO,{scope:e,value:n,disabled:i,textId:g,isSelected:a,onItemTextChange:ie.useCallback(v=>{f(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:b.jsx(ng.ItemSlot,{scope:e,value:n,disabled:i,textValue:u,children:b.jsx(un.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":a&&h,"data-state":a?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Nr(o.onFocus,()=>d(!0)),onBlur:Nr(o.onBlur,()=>d(!1)),onClick:Nr(o.onClick,()=>{p.current!=="mouse"&&w()}),onPointerUp:Nr(o.onPointerUp,()=>{p.current==="mouse"&&w()}),onPointerDown:Nr(o.onPointerDown,v=>{p.current=v.pointerType}),onPointerMove:Nr(o.onPointerMove,v=>{var _;p.current=v.pointerType,i?(_=c.onItemLeave)==null||_.call(c):p.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nr(o.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Nr(o.onKeyDown,v=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&v.key===" "||(yO.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});sS.displayName=g0;var Ef="SelectItemText",iS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,className:n,style:i,...s}=r,o=Nu(Ef,e),l=Cu(Ef,e),c=nS(Ef,e),a=xO(Ef,e),[u,f]=ie.useState(null),h=Vn(t,w=>f(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),d=u==null?void 0:u.textContent,y=ie.useMemo(()=>b.jsx("option",{value:c.value,disabled:c.disabled,children:d},c.value),[c.disabled,c.value,d]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=a;return pa(()=>(g(y),()=>p(y)),[g,p,y]),b.jsxs(b.Fragment,{children:[b.jsx(un.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cp.createPortal(s.children,o.valueNode):null]})});iS.displayName=Ef;var aS="SelectItemIndicator",oS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,...n}=r;return nS(aS,e).isSelected?b.jsx(un.span,{"aria-hidden":!0,...n,ref:t}):null});oS.displayName=aS;var O2="SelectScrollUpButton",lS=ie.forwardRef((r,t)=>{const e=Cu(O2,r.__scopeSelect),n=wv(O2,r.__scopeSelect),[i,s]=ie.useState(!1),o=Vn(t,n.onScrollButtonChange);return pa(()=>{if(e.viewport&&e.isPositioned){let l=function(){const a=c.scrollTop>0;s(a)};const c=e.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[e.viewport,e.isPositioned]),i?b.jsx(uS,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=e;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lS.displayName=O2;var L2="SelectScrollDownButton",cS=ie.forwardRef((r,t)=>{const e=Cu(L2,r.__scopeSelect),n=wv(L2,r.__scopeSelect),[i,s]=ie.useState(!1),o=Vn(t,n.onScrollButtonChange);return pa(()=>{if(e.viewport&&e.isPositioned){let l=function(){const a=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<a;s(u)};const c=e.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[e.viewport,e.isPositioned]),i?b.jsx(uS,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=e;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});cS.displayName=L2;var uS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,onAutoScroll:n,...i}=r,s=Cu("SelectScrollButton",e),o=ie.useRef(null),l=sg(e),c=ie.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return ie.useEffect(()=>()=>c(),[c]),pa(()=>{var u;const a=l().find(f=>f.ref.current===document.activeElement);(u=a==null?void 0:a.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),b.jsx(un.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Nr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Nr(i.onPointerMove,()=>{var a;(a=s.onItemLeave)==null||a.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Nr(i.onPointerLeave,()=>{c()})})}),RO="SelectSeparator",dS=ie.forwardRef((r,t)=>{const{__scopeSelect:e,...n}=r;return b.jsx(un.div,{"aria-hidden":!0,...n,ref:t})});dS.displayName=RO;var D2="SelectArrow",MO=ie.forwardRef((r,t)=>{const{__scopeSelect:e,...n}=r,i=ig(e),s=Nu(D2,e),o=Cu(D2,e);return s.open&&o.position==="popper"?b.jsx(c_,{...i,...n,ref:t}):null});MO.displayName=D2;var OO="SelectBubbleInput",hS=ie.forwardRef(({__scopeSelect:r,value:t,...e},n)=>{const i=ie.useRef(null),s=Vn(n,i),o=V8(t);return ie.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),b.jsx(un.select,{...e,style:{...z8,...e.style},ref:s,defaultValue:t})});hS.displayName=OO;function fS(r){return r===""||r===void 0}function pS(r){const t=Bl(r),e=ie.useRef(""),n=ie.useRef(0),i=ie.useCallback(o=>{const l=e.current+o;t(l),(function c(a){e.current=a,window.clearTimeout(n.current),a!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),s=ie.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return ie.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,i,s]}function mS(r,t,e){const i=t.length>1&&Array.from(t).every(a=>a===t[0])?t[0]:t,s=e?r.indexOf(e):-1;let o=LO(r,Math.max(s,0));i.length===1&&(o=o.filter(a=>a!==e));const c=o.find(a=>a.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==e?c:void 0}function LO(r,t){return r.map((e,n)=>r[(t+n)%r.length])}var DO=U8,gS=q8,FO=W8,BO=G8,VO=K8,yS=X8,zO=J8,vS=rS,bS=sS,UO=iS,$O=oS,wS=lS,xS=cS,_S=dS;const bn=DO,wn=FO,hn=ie.forwardRef(({className:r,children:t,...e},n)=>b.jsxs(gS,{ref:n,className:_r("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...e,children:[t,b.jsx(BO,{asChild:!0,children:b.jsx(f0,{className:"h-4 w-4 opacity-50"})})]}));hn.displayName=gS.displayName;const SS=ie.forwardRef(({className:r,...t},e)=>b.jsx(wS,{ref:e,className:_r("flex cursor-default items-center justify-center py-1",r),...t,children:b.jsx(N2,{className:"h-4 w-4"})}));SS.displayName=wS.displayName;const NS=ie.forwardRef(({className:r,...t},e)=>b.jsx(xS,{ref:e,className:_r("flex cursor-default items-center justify-center py-1",r),...t,children:b.jsx(f0,{className:"h-4 w-4"})}));NS.displayName=xS.displayName;const fn=ie.forwardRef(({className:r,children:t,position:e="popper",...n},i)=>b.jsx(VO,{children:b.jsxs(yS,{ref:i,className:_r("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:e,...n,children:[b.jsx(SS,{}),b.jsx(zO,{className:_r("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),b.jsx(NS,{})]})}));fn.displayName=yS.displayName;const qO=ie.forwardRef(({className:r,...t},e)=>b.jsx(vS,{ref:e,className:_r("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t}));qO.displayName=vS.displayName;const Bt=ie.forwardRef(({className:r,children:t,...e},n)=>b.jsxs(bS,{ref:n,className:_r("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...e,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx($O,{children:b.jsx(p8,{className:"h-4 w-4"})})}),b.jsx(UO,{children:t})]}));Bt.displayName=bS.displayName;const HO=ie.forwardRef(({className:r,...t},e)=>b.jsx(_S,{ref:e,className:_r("-mx-1 my-1 h-px bg-muted",r),...t}));HO.displayName=_S.displayName;var WO=r=>{switch(r){case"success":return XO;case"info":return ZO;case"warning":return YO;case"error":return QO;default:return null}},GO=Array(12).fill(0),KO=({visible:r,className:t})=>qt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":r},qt.createElement("div",{className:"sonner-spinner"},GO.map((e,n)=>qt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),XO=qt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YO=qt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZO=qt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QO=qt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JO=qt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eL=()=>{let[r,t]=qt.useState(document.hidden);return qt.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),r},F2=1,tL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:F2++,o=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),s=n!==void 0,o,l=i.then(async a=>{if(o=["resolve",a],qt.isValidElement(a))s=!1,this.create({id:n,type:"default",message:a});else if(nL(a)&&!a.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:u,description:f})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(a):e.success,f=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async a=>{if(o=["reject",a],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(a):e.error,f=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),c=()=>new Promise((a,u)=>l.then(()=>o[0]==="reject"?u(o[1]):a(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||F2++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qa=new tL,rL=(r,t)=>{let e=(t==null?void 0:t.id)||F2++;return qa.addToast({title:r,...t,id:e}),e},nL=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",sL=rL,iL=()=>qa.toasts,aL=()=>qa.getActiveToasts(),wt=Object.assign(sL,{success:qa.success,info:qa.info,warning:qa.warning,error:qa.error,custom:qa.custom,message:qa.message,promise:qa.promise,dismiss:qa.dismiss,loading:qa.loading},{getHistory:iL,getToasts:aL});function oL(r,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}oL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ym(r){return r.label!==void 0}var lL=3,cL="32px",uL="16px",B5=4e3,dL=356,hL=14,fL=20,pL=200;function Zo(...r){return r.filter(Boolean).join(" ")}function mL(r){let[t,e]=r.split("-"),n=[];return t&&n.push(t),e&&n.push(e),n}var gL=r=>{var t,e,n,i,s,o,l,c,a,u,f;let{invert:h,toast:d,unstyled:y,interacting:g,setHeights:p,visibleToasts:w,heights:v,index:_,toasts:T,expanded:F,removeToast:G,defaultRichColors:$,closeButton:P,style:M,cancelButtonStyle:U,actionButtonStyle:V,className:I="",descriptionClassName:E="",duration:L,position:A,gap:S,loadingIcon:k,expandByDefault:N,classNames:C,icons:O,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:j}=r,[K,Z]=qt.useState(null),[ne,H]=qt.useState(null),[J,z]=qt.useState(!1),[B,Q]=qt.useState(!1),[oe,pe]=qt.useState(!1),[de,ve]=qt.useState(!1),[ce,he]=qt.useState(!1),[fe,ke]=qt.useState(0),[ye,Re]=qt.useState(0),Ie=qt.useRef(d.duration||L||B5),Oe=qt.useRef(null),Fe=qt.useRef(null),Se=_===0,Pe=_+1<=w,He=d.type,Ze=d.dismissible!==!1,at=d.className||"",Je=d.descriptionClassName||"",lt=qt.useMemo(()=>v.findIndex(Dt=>Dt.toastId===d.id)||0,[v,d.id]),ut=qt.useMemo(()=>{var Dt;return(Dt=d.closeButton)!=null?Dt:P},[d.closeButton,P]),Ut=qt.useMemo(()=>d.duration||L||B5,[d.duration,L]),ft=qt.useRef(0),st=qt.useRef(0),mt=qt.useRef(0),At=qt.useRef(null),[dt,Yt]=A.split("-"),zt=qt.useMemo(()=>v.reduce((Dt,jt,Zt)=>Zt>=lt?Dt:Dt+jt.height,0),[v,lt]),St=eL(),nr=d.invert||h,Tt=He==="loading";st.current=qt.useMemo(()=>lt*S+zt,[lt,zt]),qt.useEffect(()=>{Ie.current=Ut},[Ut]),qt.useEffect(()=>{z(!0)},[]),qt.useEffect(()=>{let Dt=Fe.current;if(Dt){let jt=Dt.getBoundingClientRect().height;return Re(jt),p(Zt=>[{toastId:d.id,height:jt,position:d.position},...Zt]),()=>p(Zt=>Zt.filter(br=>br.toastId!==d.id))}},[p,d.id]),qt.useLayoutEffect(()=>{if(!J)return;let Dt=Fe.current,jt=Dt.style.height;Dt.style.height="auto";let Zt=Dt.getBoundingClientRect().height;Dt.style.height=jt,Re(Zt),p(br=>br.find(bt=>bt.toastId===d.id)?br.map(bt=>bt.toastId===d.id?{...bt,height:Zt}:bt):[{toastId:d.id,height:Zt,position:d.position},...br])},[J,d.title,d.description,p,d.id]);let _t=qt.useCallback(()=>{Q(!0),ke(st.current),p(Dt=>Dt.filter(jt=>jt.toastId!==d.id)),setTimeout(()=>{G(d)},pL)},[d,G,p,st]);qt.useEffect(()=>{if(d.promise&&He==="loading"||d.duration===1/0||d.type==="loading")return;let Dt;return F||g||j&&St?(()=>{if(mt.current<ft.current){let jt=new Date().getTime()-ft.current;Ie.current=Ie.current-jt}mt.current=new Date().getTime()})():Ie.current!==1/0&&(ft.current=new Date().getTime(),Dt=setTimeout(()=>{var jt;(jt=d.onAutoClose)==null||jt.call(d,d),_t()},Ie.current)),()=>clearTimeout(Dt)},[F,g,d,He,j,St,_t]),qt.useEffect(()=>{d.delete&&_t()},[_t,d.delete]);function sr(){var Dt,jt,Zt;return O!=null&&O.loading?qt.createElement("div",{className:Zo(C==null?void 0:C.loader,(Dt=d==null?void 0:d.classNames)==null?void 0:Dt.loader,"sonner-loader"),"data-visible":He==="loading"},O.loading):k?qt.createElement("div",{className:Zo(C==null?void 0:C.loader,(jt=d==null?void 0:d.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":He==="loading"},k):qt.createElement(KO,{className:Zo(C==null?void 0:C.loader,(Zt=d==null?void 0:d.classNames)==null?void 0:Zt.loader),visible:He==="loading"})}return qt.createElement("li",{tabIndex:0,ref:Fe,className:Zo(I,at,C==null?void 0:C.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[He],(e=d==null?void 0:d.classNames)==null?void 0:e[He]),"data-sonner-toast":"","data-rich-colors":(n=d.richColors)!=null?n:$,"data-styled":!(d.jsx||d.unstyled||y),"data-mounted":J,"data-promise":!!d.promise,"data-swiped":ce,"data-removed":B,"data-visible":Pe,"data-y-position":dt,"data-x-position":Yt,"data-index":_,"data-front":Se,"data-swiping":oe,"data-dismissible":Ze,"data-type":He,"data-invert":nr,"data-swipe-out":de,"data-swipe-direction":ne,"data-expanded":!!(F||N&&J),style:{"--index":_,"--toasts-before":_,"--z-index":T.length-_,"--offset":`${B?fe:st.current}px`,"--initial-height":N?"auto":`${ye}px`,...M,...d.style},onDragEnd:()=>{pe(!1),Z(null),At.current=null},onPointerDown:Dt=>{Tt||!Ze||(Oe.current=new Date,ke(st.current),Dt.target.setPointerCapture(Dt.pointerId),Dt.target.tagName!=="BUTTON"&&(pe(!0),At.current={x:Dt.clientX,y:Dt.clientY}))},onPointerUp:()=>{var Dt,jt,Zt,br;if(de||!Ze)return;At.current=null;let bt=Number(((Dt=Fe.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((jt=Fe.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((Zt=Oe.current)==null?void 0:Zt.getTime()),Kt=K==="x"?bt:Ar,Le=Math.abs(Kt)/Ir;if(Math.abs(Kt)>=fL||Le>.11){ke(st.current),(br=d.onDismiss)==null||br.call(d,d),H(K==="x"?bt>0?"right":"left":Ar>0?"down":"up"),_t(),ve(!0),he(!1);return}pe(!1),Z(null)},onPointerMove:Dt=>{var jt,Zt,br,bt;if(!At.current||!Ze||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let Ar=Dt.clientY-At.current.y,Ir=Dt.clientX-At.current.x,Kt=(Zt=r.swipeDirections)!=null?Zt:mL(A);!K&&(Math.abs(Ir)>1||Math.abs(Ar)>1)&&Z(Math.abs(Ir)>Math.abs(Ar)?"x":"y");let Le={x:0,y:0};K==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&Ar<0||Kt.includes("bottom")&&Ar>0)&&(Le.y=Ar):K==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&Ir<0||Kt.includes("right")&&Ir>0)&&(Le.x=Ir),(Math.abs(Le.x)>0||Math.abs(Le.y)>0)&&he(!0),(br=Fe.current)==null||br.style.setProperty("--swipe-amount-x",`${Le.x}px`),(bt=Fe.current)==null||bt.style.setProperty("--swipe-amount-y",`${Le.y}px`)}},ut&&!d.jsx?qt.createElement("button",{"aria-label":D,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!Ze?()=>{}:()=>{var Dt;_t(),(Dt=d.onDismiss)==null||Dt.call(d,d)},className:Zo(C==null?void 0:C.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},(s=O==null?void 0:O.close)!=null?s:JO):null,d.jsx||ie.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:qt.createElement(qt.Fragment,null,He||d.icon||d.promise?qt.createElement("div",{"data-icon":"",className:Zo(C==null?void 0:C.icon,(o=d==null?void 0:d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||sr():null,d.type!=="loading"?d.icon||(O==null?void 0:O[He])||WO(He):null):null,qt.createElement("div",{"data-content":"",className:Zo(C==null?void 0:C.content,(l=d==null?void 0:d.classNames)==null?void 0:l.content)},qt.createElement("div",{"data-title":"",className:Zo(C==null?void 0:C.title,(c=d==null?void 0:d.classNames)==null?void 0:c.title)},typeof d.title=="function"?d.title():d.title),d.description?qt.createElement("div",{"data-description":"",className:Zo(E,Je,C==null?void 0:C.description,(a=d==null?void 0:d.classNames)==null?void 0:a.description)},typeof d.description=="function"?d.description():d.description):null),ie.isValidElement(d.cancel)?d.cancel:d.cancel&&ym(d.cancel)?qt.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||U,onClick:Dt=>{var jt,Zt;ym(d.cancel)&&Ze&&((Zt=(jt=d.cancel).onClick)==null||Zt.call(jt,Dt),_t())},className:Zo(C==null?void 0:C.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,ie.isValidElement(d.action)?d.action:d.action&&ym(d.action)?qt.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||V,onClick:Dt=>{var jt,Zt;ym(d.action)&&((Zt=(jt=d.action).onClick)==null||Zt.call(jt,Dt),!Dt.defaultPrevented&&_t())},className:Zo(C==null?void 0:C.actionButton,(f=d==null?void 0:d.classNames)==null?void 0:f.actionButton)},d.action.label):null))};function V5(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function yL(r,t){let e={};return[r,t].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?uL:cL;function c(a){["top","right","bottom","left"].forEach(u=>{e[`${o}-${u}`]=typeof a=="number"?`${a}px`:a})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(a=>{n[a]===void 0?e[`${o}-${a}`]=l:e[`${o}-${a}`]=typeof n[a]=="number"?`${n[a]}px`:n[a]}):c(l)}),e}var vL=ie.forwardRef(function(r,t){let{invert:e,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:a,theme:u="light",richColors:f,duration:h,style:d,visibleToasts:y=lL,toastOptions:g,dir:p=V5(),gap:w=hL,loadingIcon:v,icons:_,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:F}=r,[G,$]=qt.useState([]),P=qt.useMemo(()=>Array.from(new Set([n].concat(G.filter(j=>j.position).map(j=>j.position)))),[G,n]),[M,U]=qt.useState([]),[V,I]=qt.useState(!1),[E,L]=qt.useState(!1),[A,S]=qt.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=qt.useRef(null),N=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=qt.useRef(null),O=qt.useRef(!1),D=qt.useCallback(j=>{$(K=>{var Z;return(Z=K.find(ne=>ne.id===j.id))!=null&&Z.delete||qa.dismiss(j.id),K.filter(({id:ne})=>ne!==j.id)})},[]);return qt.useEffect(()=>qa.subscribe(j=>{if(j.dismiss){$(K=>K.map(Z=>Z.id===j.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{d6.flushSync(()=>{$(K=>{let Z=K.findIndex(ne=>ne.id===j.id);return Z!==-1?[...K.slice(0,Z),{...K[Z],...j},...K.slice(Z+1)]:[j,...K]})})})}),[]),qt.useEffect(()=>{if(u!=="system"){S(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?S("dark"):S("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:K})=>{S(K?"dark":"light")})}catch{j.addListener(({matches:Z})=>{try{S(Z?"dark":"light")}catch(ne){console.error(ne)}})}},[u]),qt.useEffect(()=>{G.length<=1&&I(!1)},[G]),qt.useEffect(()=>{let j=K=>{var Z,ne;i.every(H=>K[H]||K.code===H)&&(I(!0),(Z=k.current)==null||Z.focus()),K.code==="Escape"&&(document.activeElement===k.current||(ne=k.current)!=null&&ne.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[i]),qt.useEffect(()=>{if(k.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,O.current=!1)}},[k.current]),qt.createElement("section",{ref:t,"aria-label":`${T} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((j,K)=>{var Z;let[ne,H]=j.split("-");return G.length?qt.createElement("ol",{key:j,dir:p==="auto"?V5():p,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":ne,"data-lifted":V&&G.length>1&&!s,"data-x-position":H,style:{"--front-toast-height":`${((Z=M[0])==null?void 0:Z.height)||0}px`,"--width":`${dL}px`,"--gap":`${w}px`,...d,...yL(c,a)},onBlur:J=>{O.current&&!J.currentTarget.contains(J.relatedTarget)&&(O.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||O.current||(O.current=!0,C.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{E||I(!1)},onDragEnd:()=>I(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},G.filter(J=>!J.position&&K===0||J.position===j).map((J,z)=>{var B,Q;return qt.createElement(gL,{key:J.id,icons:_,index:z,toast:J,defaultRichColors:f,duration:(B=g==null?void 0:g.duration)!=null?B:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:y,closeButton:(Q=g==null?void 0:g.closeButton)!=null?Q:o,interacting:E,position:j,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:D,toasts:G.filter(oe=>oe.position==J.position),heights:M.filter(oe=>oe.position==J.position),setHeights:U,expandByDefault:s,gap:w,loadingIcon:v,expanded:V,pauseWhenPageIsHidden:F,swipeDirections:r.swipeDirections})})):null}))});const CS=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Democratic Republic)","Congo (Republic)","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];function vm(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _1={exports:{}};/*! ExcelJS 19-10-2023 */var z5;function bL(){return z5||(z5=1,(function(r,t){(function(e){r.exports=e()})((function(){return(function e(n,i,s){function o(a,u){if(!i[a]){if(!n[a]){var f=typeof vm=="function"&&vm;if(!u&&f)return f(a,!0);if(l)return l(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[a]={exports:{}};n[a][0].call(d.exports,(function(y){return o(n[a][1][y]||y)}),d,d.exports,e,n,i,s)}return i[a].exports}for(var l=typeof vm=="function"&&vm,c=0;c<s.length;c++)o(s[c]);return o})({1:[function(e,n,i){const s=e("fs"),o=e("fast-csv"),l=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),a=e("dayjs").extend(l).extend(c),u=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,y){if(y=y||{},!await f(d))throw new Error("File not found: "+d);const g=s.createReadStream(d),p=await this.read(g,y);return g.close(),p}read(d,y){return y=y||{},new Promise((g,p)=>{const w=this.workbook.addWorksheet(y.sheetName),v=y.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],_=y.map||function(F){if(F==="")return null;const G=Number(F);if(!Number.isNaN(G)&&G!==1/0)return G;const $=v.reduce((M,U)=>{if(M)return M;const V=a(F,U,!0);return V.isValid()?V:null},null);if($)return new Date($.valueOf());const P=h[F];return P!==void 0?P:F},T=o.parse(y.parserOptions).on("data",F=>{w.addRow(F.map(_))}).on("end",()=>{T.emit("worksheet",w)});T.on("worksheet",g).on("error",p),d.pipe(T)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,y){return new Promise((g,p)=>{y=y||{};const w=this.workbook.getWorksheet(y.sheetName||y.sheetId),v=o.format(y.formatterOptions);d.on("finish",()=>{g()}),v.on("error",p),v.pipe(d);const{dateFormat:_,dateUTC:T}=y,F=y.map||(P=>{if(P){if(P.text||P.hyperlink)return P.hyperlink||P.text||"";if(P.formula||P.result)return P.result||"";if(P instanceof Date)return _?T?a.utc(P).format(_):a(P).format(_):T?a.utc(P).format():a(P).format();if(P.error)return P.error;if(typeof P=="object")return JSON.stringify(P)}return P}),G=y.includeEmptyRows===void 0||y.includeEmptyRows;let $=1;w&&w.eachRow((P,M)=>{if(G)for(;$++<M-1;)v.write([]);const{values:U}=P;U.shift(),v.write(U.map(F)),$=M}),v.end()})}writeFile(d,y){const g={encoding:(y=y||{}).encoding||"utf8"},p=s.createWriteStream(d,g);return this.write(p,y)}async writeBuffer(d){const y=new u;return await this.write(y,d),y.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(c,a){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,a)if(typeof a=="string"){const f=s.decodeAddress(a);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+u,this.row=a.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof o||c==null?c:new o(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(e,n,i){const s=e("../utils/col-cache"),o=e("../utils/under-dash"),l=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),a=e("./note");class u{constructor(d,y,g){if(!d||!y)throw new Error("A Cell needs a Row");this._row=d,this._column=y,s.validateAddress(g),this._address=g,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,y.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,y,g){const p=d&&d.numFmt||y&&y.numFmt;p&&(g.numFmt=p);const w=d&&d.font||y&&y.font;w&&(g.font=w);const v=d&&d.alignment||y&&y.alignment;v&&(g.alignment=v);const _=d&&d.border||y&&y.border;_&&(g.border=_);const T=d&&d.fill||y&&y.fill;T&&(g.fill=T);const F=d&&d.protection||y&&y.protection;return F&&(g.protection=F),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,y){this._value.release(),this._value=f.create(u.Types.Merge,this,d),y||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:y}=this.workbook;y.removeAllNames(this.fullAddress),d.forEach(g=>{y.addEx(this.fullAddress,g)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=l.ValueType;const f={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},y=g=>{const p=h[g];p&&(d[g]=p)};return y("formula"),y("result"),y("ref"),y("shareType"),y("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?l.ValueType.Null:h instanceof String||typeof h=="string"?l.ValueType.String:typeof h=="number"?l.ValueType.Number:h instanceof Date?l.ValueType.Date:h.text&&h.hyperlink?l.ValueType.Hyperlink:h.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&c(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,y){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(d,y)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const s=e("../utils/under-dash"),o=e("./enums"),l=e("../utils/col-cache");class c{constructor(u,f,h){this._worksheet=u,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const h=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(d,y)=>{f(d.getCell(h),y)})}get values(){const u=[];return this.eachCell((f,h)=>{f&&f.type!==o.ValueType.Null&&(u[h]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((d,y)=>{this._worksheet.getCell(y+h,f).value=d})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(h=>{h[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let h=null;return u&&u.forEach((d,y)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=y+1:(h={min:y+1,max:y+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(u,f){const h=[];let d=1,y=0;for(f=(f=f||[]).sort((function(g,p){return g.min-p.min}));y<f.length;){const g=f[y++];for(;d<g.min;)h.push(new c(u,d++));for(;d<=g.max;)h.push(new c(u,d++,g))}return h.length?h:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(e,n,i){const s=e("../utils/under-dash"),o=e("../utils/col-cache"),l=e("../utils/cell-matrix"),c=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,f){const h=o.decodeEx(u);this.addEx(h,f)}addEx(u,f){const h=this.getMatrix(f);if(u.top)for(let d=u.left;d<=u.right;d++)for(let y=u.top;y<=u.bottom;y++){const g={sheetName:u.sheetName,address:o.n2l(d)+y,row:y,col:d};h.addCellEx(g)}else h.addCellEx(u)}remove(u,f){const h=o.decodeEx(u);this.removeEx(h,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(f,h)=>{f.forEach(d=>{u(h,d)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(f,h)=>f.findCellEx(u)&&h).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:h}=f,d=new c(f.row,f.col,f.row,f.col,h);let y,g;function p(v,_){const T=u.findCellAt(h,v,f.col);return!(!T||!T.mark)&&(d[_]=v,T.mark=!1,!0)}for(g=f.row-1;p(g,"top");g--);for(g=f.row+1;p(g,"bottom");g++);function w(v,_){const T=[];for(g=d.top;g<=d.bottom;g++){const F=u.findCellAt(h,g,v);if(!F||!F.mark)return!1;T.push(F)}d[_]=v;for(let F=0;F<T.length;F++)T[F].mark=!1;return!0}for(y=f.col-1;w(y,"left");y--);for(y=f.col+1;w(y,"right");y++);return d}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(h=>{h.mark=!0}),{name:u,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(h,d,y)=>{h&&(h.row===d&&h.col===y||(h.row=d,h.col=y,h.address=o.n2l(y)+d))})}spliceRows(u,f,h,d){s.each(this.matrixMap,y=>{y.spliceRows(u,f,h,d),this.normaliseMatrix(y,u)})}spliceColumns(u,f,h,d){s.each(this.matrixMap,y=>{y.spliceColumns(u,f,h,d),this.normaliseMatrix(y,u)})}get model(){return s.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(h=>{const d=f[h.name]=new l;h.ranges.forEach(y=>{a.test(y.split("!").pop()||"")&&d.addCell(y)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const s=e("../utils/col-cache"),o=e("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:a,range:u,hyperlinks:f}=l;if(this.type=c,this.imageId=a,c==="image")if(typeof u=="string"){const h=s.decode(u);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const s=e("../utils/under-dash");class o{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,c)}set model(c){const{note:a}=c,{texts:u}=a;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=a}static fromModel(c){const a=new o;return a.model=c,a}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(c,a,u,f,h){if(arguments.length<4){const d=s.decodeAddress(c),y=s.decodeAddress(a);this.model={top:Math.min(d.row,y.row),left:Math.min(d.col,y.col),bottom:Math.max(d.row,y.row),right:Math.max(d.col,y.col),sheetName:u},this.setTLBR(d.row,d.col,y.row,y.col,h)}else this.model={top:Math.min(c,u),left:Math.min(a,f),bottom:Math.max(c,u),right:Math.max(a,f),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const a=c[0];if(a instanceof o)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{const u=s.decodeEx(a);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,a,u,f){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(c){if(c){const{dimensions:a,number:u}=c;a&&this.expand(u,a.min,u,a.max)}}expandToAddress(c){const a=s.decodeEx(c);this.expand(a.row,a.col,a.row,a.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const a=s.decodeEx(c);return this.containsEx(a)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let a=this.left;a<=this.right;a++)for(let u=this.top;u<=this.bottom;u++)c(s.encodeAddress(u,a),u,a)}}n.exports=o},{"../utils/col-cache":19}],11:[function(e,n,i){const s=e("../utils/under-dash"),o=e("./enums"),l=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(a,u){this._worksheet=a,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let u=this._cells[a.col-1];if(!u){const f=this._worksheet.getColumn(a.col);u=new c(this,f,a.address),this._cells[a.col-1]=u}return u}getCell(a){if(typeof a=="string"){const u=this._worksheet.getColumnKey(a);a=u?u.number:l.l2n(a)}return this._cells[a-1]||this.getCellEx({address:l.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,u){const f=a+u;for(var h=arguments.length,d=new Array(h>2?h-2:0),y=2;y<h;y++)d[y-2]=arguments[y];const g=d.length-u,p=this._cells.length;let w,v,_;if(g<0)for(w=a+d.length;w<=p;w++)_=this._cells[w-1],v=this._cells[w-g-1],v?(_=this.getCell(w),_.value=v.value,_.style=v.style,_._comment=v._comment):_&&(_.value=null,_.style={},_._comment=void 0);else if(g>0)for(w=p;w>=f;w--)v=this._cells[w-1],v?(_=this.getCell(w+g),_.value=v.value,_.style=v.style,_._comment=v._comment):this._cells[w+g-1]=void 0;for(w=0;w<d.length;w++)_=this.getCell(a+w),_.value=d[w],_.style={},_._comment=void 0}eachCell(a,u){if(u||(u=a,a=null),a&&a.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)u(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==o.ValueType.Null&&u(f,h+1)})}addPageBreak(a,u){const f=this._worksheet,h=Math.max(0,a-1)||0,d=Math.max(0,u-1)||16838,y={id:this._number,max:d,man:1};h&&(y.min=h),f.rowBreaks.push(y)}get values(){const a=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(a[u.col]=u.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let u=0;a.hasOwnProperty("0")&&(u=1),a.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{a[f]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=a[f])})}get hasValues(){return s.some(this._cells,a=>a&&a.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,u=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!a||a>f.col)&&(a=f.col),u<f.col&&(u=f.col))}),a>0?{min:a,max:u}:null}_applyStyle(a,u){return this.style[a]=u,this._cells.forEach(f=>{f&&(f[a]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const a=[];let u=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!u||u>h.col)&&(u=h.col),f<h.col&&(f=h.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],a.cells.forEach(f=>{switch(f.type){case c.Types.Merge:break;default:{let h;if(f.address)h=l.decodeAddress(f.address);else if(u){const{row:d}=u,y=u.col+1;h={row:d,col:y,address:l.encodeAddress(d,y),$col$row:`$${l.n2l(y)}$${d}`}}u=h,this.getCellEx(h).model=f;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const s=e("../utils/col-cache");class o{constructor(c,a,u){this.table=c,this.column=a,this.index=u}_set(c,a){this.table.cacheState(),this.column[c]=a}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(g,p,w)=>{g[p]===void 0&&(g[p]=w)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const a=(g,p)=>{if(!g)throw new Error(p)};a(l.ref,"Table must have ref"),a(l.columns,"Table must have column definitions"),a(l.rows,"Table must have row definitions"),l.tl=s.decodeAddress(l.ref);const{row:u,col:f}=l.tl;a(u>0,"Table must be on valid row"),a(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:y}=this;l.autoFilterRef=s.encode(u,f,u+d-1,f+h-1),l.tableRef=s.encode(u,f,u+y-1,f+h-1),l.columns.forEach((g,p)=>{a(g.name,`Column ${p} must have a name`),p===0?c(g,"totalsRowLabel","Total"):(c(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const l=(d,y)=>{y&&Object.keys(y).forEach(g=>{d[g]=y[g]})},{worksheet:c,table:a}=this,{row:u,col:f}=a.tl;let h=0;if(a.headerRow){const d=c.getRow(u+h++);a.columns.forEach((y,g)=>{const{style:p,name:w}=y,v=d.getCell(f+g);v.value=w,l(v,p)})}if(a.rows.forEach(d=>{const y=c.getRow(u+h++);d.forEach((g,p)=>{const w=y.getCell(f+p);w.value=g,l(w,a.columns[p].style)})}),a.totalsRow){const d=c.getRow(u+h++);a.columns.forEach((y,g)=>{const p=d.getCell(f+g);if(g===0)p.value=y.totalsRowLabel;else{const w=this.getFormula(y);p.value=w?{formula:y.totalsRowFormula,result:y.totalsRowResult}:null}l(p,y.style)})}}load(l){const{table:c}=this,{row:a,col:u}=c.tl;let f=0;if(c.headerRow){const h=l.getRow(a+f++);c.columns.forEach((d,y)=>{h.getCell(u+y).value=d.name})}if(c.rows.forEach(h=>{const d=l.getRow(a+f++);h.forEach((y,g)=>{d.getCell(u+g).value=y})}),c.totalsRow){const h=l.getRow(a+f++);c.columns.forEach((d,y)=>{const g=h.getCell(u+y);y===0?g.value=d.totalsRowLabel:this.getFormula(d)&&(g.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const a=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)a.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new o(this,c,l)}addColumn(l,c,a){this.cacheState(),a===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,f)=>{u.push(c[f])})):(this.table.columns.splice(a,0,l),this.table.rows.forEach((u,f)=>{u.splice(a,0,c[f])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(a=>{a.splice(l,c)})}_assign(l,c,a){this.cacheState(),l[c]=a}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(e,n,i){const s=e("./worksheet"),o=e("./defined-names"),l=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),d=Object.assign({},u,{id:f,name:a,orderNo:h+1,workbook:this}),y=new s(d);return this._worksheets[f]=y,y}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){const u=this.getWorksheet(a);u&&u.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(u=>u&&u.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,u)=>a.orderNo-u.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(u=>{a(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){const u=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),u}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(u=>{const{id:f,name:h,state:d}=u,y=a.sheets&&a.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new s({id:f,name:h,orderNo:y,state:d,workbook:this})).model=u}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const s=e("../utils/under-dash"),o=e("../utils/col-cache"),l=e("./range"),c=e("./row"),a=e("./column"),u=e("./enums"),f=e("./image"),h=e("./table"),d=e("./data-validations"),y=e("../utils/encryptor"),{copyStyle:g}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new d,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new l;return this._rows.forEach(w=>{if(w){const v=w.dimensions;v&&p.expand(w.number,v.min,w.number,v.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((_,T)=>{const F=(T.header?1:T.headers&&T.headers.length)||0;return Math.max(_,F)},0);let w=1;const v=this._columns=[];p.forEach(_=>{const T=new a(this,w++,!1);v.push(T),T.defn=_})}getColumnKey(p){return this._keys[p]}setColumnKey(p,w){this._keys[p]=w}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){s.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const w=this._keys[p];if(w)return w;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let w=this._columns.length+1;for(;w<=p;)this._columns.push(new a(this,w++))}return this._columns[p-1]}spliceColumns(p,w){const v=this._rows.length;for(var _=arguments.length,T=new Array(_>2?_-2:0),F=2;F<_;F++)T[F-2]=arguments[F];if(T.length>0)for(let M=0;M<v;M++){const U=[p,w];T.forEach(I=>{U.push(I[M]||null)});const V=this.getRow(M+1);V.splice.apply(V,U)}else this._rows.forEach(M=>{M&&M.splice(p,w)});const G=T.length-w,$=p+w,P=this._columns.length;if(G<0)for(let M=p+T.length;M<=P;M++)this.getColumn(M).defn=this.getColumn(M-G).defn;else if(G>0)for(let M=P;M>=$;M--)this.getColumn(M+G).defn=this.getColumn(M).defn;for(let M=p;M<p+T.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,w,T.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(w=>{p=Math.max(p,w.cellCount)}),p}get actualColumnCount(){const p=[];let w=0;return this.eachRow(v=>{v.eachCell(_=>{let{col:T}=_;p[T]||(p[T]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const p=this._rows;let w=p.length;for(;w>0&&p[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,w){return this._rows.slice(p-1,p-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let w=this._rows[p-1];return w||(w=this._rows[p-1]=new c(this,p)),w}getRows(p,w){if(w<1)return;const v=[];for(let _=p;_<p+w;_++)v.push(this.getRow(_));return v}addRow(p){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,_=this.getRow(v);return _.values=p,this._setStyleOption(v,w[0]==="i"?w:"n"),_}addRows(p){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return p.forEach(_=>{v.push(this.addRow(_,w))}),v}insertRow(p,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,w),this._setStyleOption(p,v),this.getRow(p)}insertRows(p,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...w),v!=="n")for(let _=0;_<w.length;_++)v[0]==="o"&&this.findRow(w.length+p+_)!==void 0?this._copyStyle(w.length+p+_,p+_,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+_,v[1]==="+");return this.getRows(p,w.length)}_setStyleOption(p){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,w[1]==="+"):w[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,w[1]==="+")}_copyStyle(p,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const _=this.getRow(p),T=this.getRow(w);T.style=g(_.style),_.eachCell({includeEmpty:v},(F,G)=>{T.getCell(G).style=g(F.style)}),T.height=_.height}duplicateRow(p,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const _=this._rows[p-1],T=new Array(w).fill(_.values);this.spliceRows(p+1,v?0:w,...T);for(let F=0;F<w;F++){const G=this._rows[p+F];G.style=_.style,G.height=_.height,_.eachCell({includeEmpty:!0},($,P)=>{G.getCell(P).style=$.style})}}spliceRows(p,w){const v=p+w;for(var _=arguments.length,T=new Array(_>2?_-2:0),F=2;F<_;F++)T[F-2]=arguments[F];const G=T.length,$=G-w,P=this._rows.length;let M,U;if($<0)for(p===P&&(this._rows[P-1]=void 0),M=v;M<=P;M++)if(U=this._rows[M-1],U){const V=this.getRow(M+$);V.values=U.values,V.style=U.style,V.height=U.height,U.eachCell({includeEmpty:!0},(I,E)=>{V.getCell(E).style=I.style}),this._rows[M-1]=void 0}else this._rows[M+$-1]=void 0;else if($>0)for(M=P;M>=v;M--)if(U=this._rows[M-1],U){const V=this.getRow(M+$);V.values=U.values,V.style=U.style,V.height=U.height,U.eachCell({includeEmpty:!0},(I,E)=>{if(V.getCell(E).style=I.style,I._value.constructor.name==="MergeValue"){const L=this.getRow(I._row._number+G).getCell(E),A=I._value._master,S=this.getRow(A._row._number+G).getCell(A._column._number);L.merge(S)}})}else this._rows[M+$-1]=void 0;for(M=0;M<G;M++){const V=this.getRow(p+M);V.style={},V.values=T[M]}this.workbook.definedNames.spliceRows(this.name,p,w,G)}eachRow(p,w){if(w||(w=p,p=void 0),p&&p.includeEmpty){const v=this._rows.length;for(let _=1;_<=v;_++)w(this.getRow(_),_)}else this._rows.forEach(v=>{v&&v.hasValues&&w(v,v.number)})}getSheetValues(){const p=[];return this._rows.forEach(w=>{w&&(p[w.number]=w.values)}),p}findCell(p,w){const v=o.getAddress(p,w),_=this._rows[v.row-1];return _?_.findCell(v.col):void 0}getCell(p,w){const v=o.getAddress(p,w);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var p=arguments.length,w=new Array(p),v=0;v<p;v++)w[v]=arguments[v];const _=new l(w);this._mergeCellsInternal(_)}mergeCellsWithoutStyle(){for(var p=arguments.length,w=new Array(p),v=0;v<p;v++)w[v]=arguments[v];const _=new l(w);this._mergeCellsInternal(_,!0)}_mergeCellsInternal(p,w){s.each(this._merges,_=>{if(_.intersects(p))throw new Error("Cannot merge already merged cells")});const v=this.getCell(p.top,p.left);for(let _=p.top;_<=p.bottom;_++)for(let T=p.left;T<=p.right;T++)(_>p.top||T>p.left)&&this.getCell(_,T).merge(v,w);this._merges[v.address]=p}_unMergeMaster(p){const w=this._merges[p.address];if(w){for(let v=w.top;v<=w.bottom;v++)for(let _=w.left;_<=w.right;_++)this.getCell(v,_).unmerge();delete this._merges[p.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,w=new Array(p),v=0;v<p;v++)w[v]=arguments[v];const _=new l(w);for(let T=_.top;T<=_.bottom;T++)for(let F=_.left;F<=_.right;F++){const G=this.findCell(T,F);G&&(G.type===u.ValueType.Merge?this._unMergeMaster(G.master):this._merges[G.address]&&this._unMergeMaster(G))}}fillFormula(p,w,v){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const T=o.decode(p),{top:F,left:G,bottom:$,right:P}=T,M=P-G+1,U=o.encodeAddress(F,G),V=_==="shared";let I;I=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(L,A)=>v[L-F][A-G]:(L,A)=>v[(L-F)*M+(A-G)]:()=>{};let E=!0;for(let L=F;L<=$;L++)for(let A=G;A<=P;A++)E?(this.getCell(L,A).value={shareType:_,formula:w,ref:p,result:I(L,A)},E=!1):this.getCell(L,A).value=V?{sharedFormula:U,result:I(L,A)}:I(L,A)}addImage(p,w){const v={type:"image",imageId:p,range:w};this._media.push(new f(this,v))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const w={type:"background",imageId:p};this._media.push(new f(this,w))}getBackgroundImageId(){const p=this._media.find(w=>w.type==="background");return p&&p.imageId}protect(p,w){return new Promise(v=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=y.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=y.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!p&&"spinCount"in w&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(p){const w=new h(this,p);return this.tables[p.name]=w,w}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(_=>_.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(_=>_.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);const w=p.rows=[],v=p.dimensions=new l;return this._rows.forEach(_=>{const T=_&&_.model;T&&(v.expand(T.number,T.min,T.number,T.max),w.push(T))}),p.merges=[],s.each(this._merges,_=>{p.merges.push(_.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(w=>{const v=new c(this,w.number);this._rows[v.number-1]=v,v.model=w})}_parseMergeCells(p){s.each(p.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new d(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(w=>new f(this,w)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((w,v)=>{const _=new h;return _.model=v,w[v.name]=_,w},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const s={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(l=>{s[l]=o[l]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(e,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");i.stringToBuffer=function(l){return typeof l!="string"?l:s?o.from(s.encode(l).buffer):o.from(l)}},{buffer:220}],18:[function(e,n,i){const s=e("./under-dash"),o=e("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(o.decodeEx(l))}getCell(l){return this.findCellEx(o.decodeEx(l),!0)}findCell(l){return this.findCellEx(o.decodeEx(l),!1)}findCellAt(l,c,a){const u=this.sheets[l],f=u&&u[c];return f&&f[a]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let a=l.left;a<=l.right;a++)this.getCellAt(l.sheetName,c,a);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const a=this.findSheet(l,c),u=this.findSheetRow(a,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,a){const u=this.sheets[l]||(this.sheets[l]=[]),f=u[c]||(u[c]=[]);return f[a]||(f[a]={sheetName:l,address:o.n2l(a)+c,row:c,col:a})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const a=this.findSheetRow(c,l);a&&delete a[l.col]}forEachInSheet(l,c){const a=this.sheets[l];a&&a.forEach((u,f)=>{u&&u.forEach((h,d)=>{h&&c(h,f,d)})})}forEach(l){s.each(this.sheets,(c,a)=>{this.forEachInSheet(a,l)})}map(l){const c=[];return this.forEach(a=>{c.push(l(a))}),c}findSheet(l,c){const a=l.sheetName;return this.sheets[a]?this.sheets[a]:c?this.sheets[a]=[]:void 0}findSheetRow(l,c,a){const{row:u}=c;return l&&l[u]?l[u]:a?l[u]=[]:void 0}findRowCell(l,c,a){const{col:u}=c;return l&&l[u]?l[u]:a?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,a,u){const f=this.sheets[l];if(f){const h=[];for(let d=0;d<u;d++)h.push([]);f.splice(c,a,...h)}}spliceColumns(l,c,a,u){const f=this.sheets[l];if(f){const h=[];for(let d=0;d<u;d++)h.push(null);s.each(f,d=>{d.splice(c,a,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,a,u,f,h,d=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;d<=26;)c=this._dictionary[d-1],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(d=27;d<=702;)a=d-27,u=a%26,f=Math.floor(a/26),c=this._dictionary[f]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(d=703;d<=16384;)a=d-703,u=a%26,f=Math.floor(a/26)%26,h=Math.floor(a/676),c=this._dictionary[h]+this._dictionary[f]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!s.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let a=!1,u="",f=0,h=!1,d="",y=0;for(let p,w=0;w<l.length;w++)if(p=l.charCodeAt(w),!h&&p>=65&&p<=90)a=!0,u+=l[w],f=26*f+p-64;else if(p>=48&&p<=57)h=!0,d+=l[w],y=10*y+p-48;else if(h&&a&&p!==36)break;if(a){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;h||(y=void 0);const g={address:l=u+d,col:f,row:y,$col$row:`$${u}$${d}`};return f<=100&&y<=100&&(this._hash[l]=g,this._hash[g.$col$row]=g),g},getAddress(l,c){if(c){const a=this.n2l(c)+l;return this.decodeAddress(a)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const a=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),f={top:Math.min(a.row,u.row),left:Math.min(a.col,u.col),bottom:Math.max(a.row,u.row),right:Math.max(a.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=c[1]||c[2],u=c[3],f=u.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),y=this.decodeAddress(f[1]);const g=Math.min(d.row,y.row),p=Math.min(d.col,y.col),w=Math.max(d.row,y.row),v=Math.max(d.col,y.col);return d=this.n2l(p)+g,y=this.n2l(v)+w,{top:g,left:p,bottom:w,right:v,sheetName:a,tl:{address:d,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:a},br:{address:y,col:v,row:w,$col$row:`$${this.n2l(v)}$${w}`,sheetName:a},dimensions:`${d}:${y}`}}if(u.startsWith("#"))return a?{sheetName:a,error:u}:{error:u};const h=this.decodeAddress(u);return a?{sheetName:a,...h}:h},encodeAddress:(l,c)=>o.n2l(c)+l,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[a,u,,f,h]=l,[d,y]=c;return d>=a&&d<=f&&y>=u&&y<=h}};n.exports=o},{}],20:[function(e,n,i){const s=(l,c)=>({...l,...c.reduce((a,u)=>(l[u]&&(a[u]={...l[u]}),a),{})}),o=function(l,c,a){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[a]&&(c[a]=s(l[a],u))};i.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const a={...l};return o(l,a,"font",["color"]),o(l,a,"alignment"),o(l,a,"protection"),l.border&&(o(l,a,"border"),o(l.border,a.border,"top",["color"]),o(l.border,a.border,"left",["color"]),o(l.border,a.border,"bottom",["color"]),o(l.border,a.border,"right",["color"]),o(l.border,a.border,"diagonal",["color"])),l.fill&&(o(l,a,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(a.fill.stops=l.fill.stops.map(u=>s(u,["color"])))),a}},{}],21:[function(e,n,i){(function(s){(function(){const o=e("crypto"),l={hash(c){const a=o.createHash(c);for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return a.update(s.concat(f)),a.digest()},convertPasswordToHash(c,a,u,f){if(a=a.toLowerCase(),o.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);const h=s.from(c,"utf16le");let d=this.hash(a,s.from(u,"base64"),h);for(let y=0;y<f;y++){const g=s.alloc(4);g.writeUInt32LE(y,0),d=this.hash(a,d,g)}return d.toString("base64")},randomBytes:c=>o.randomBytes(c)};n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:s}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:l}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new o));const a=new s;let u;a.on("error",h=>{u=h});let f=[];a.on("opentag",h=>f.push({eventType:"opentag",value:h})),a.on("text",h=>f.push({eventType:"text",value:h})),a.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of c){if(a.write(l(h)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const s=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,a,u){const f=s.decode(a),h=s.decode(u);return c.replace(o,(d,y,g,p,w)=>{if(w)return d;const v=l.exec(p);if(v){const _=v[1],T=v[2].toUpperCase(),F=v[3],G=v[4];if(T.length>3||T.length===3&&T>"XFD")return d;let $=s.l2n(T),P=parseInt(G,10);return _||($+=h.col-f.col),F||(P+=h.row-f.row),(y||"")+(_||"")+s.n2l($)+(F||"")+P}return d})}}},{"./col-cache":19}],24:[function(e,n,i){(function(s,o){(function(){const l=e("readable-stream"),c=e("./utils"),a=e("./string-buf");class u{constructor(p,w){this._data=p,this._encoding=w}get length(){return this.toBuffer().length}copy(p,w,v,_){return this.toBuffer().copy(p,w,v,_)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,w,v,_){return this._data._buf.copy(p,w,v,_)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,w,v,_){this._data.copy(p,w,v,_)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let w;return p===0?null:p===void 0||p>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=o.alloc(p),this.buffer.copy(w,0,this.iRead,p),this.iRead+=p,w)}write(p,w,v){const _=Math.min(v,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,w,w+_),this.iWrite+=_,_}}const y=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(y,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new d(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map((function(p){return new Promise(w=>{p.write(g.toBuffer(),()=>{w()})})})))},_writeToBuffers(g){let p=0;const w=g.length;for(;p<w;)p+=this._getWritableBuffer().write(g,p,w-p)},async write(g,p,w){let v;if(p instanceof Function&&(w=p,p="utf8"),w=w||c.nop,g instanceof a)v=new f(g);else if(g instanceof o)v=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),s.nextTick(w)):(await this._pipe(v),w());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,w){const v=_=>{_?w(_):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};g?this.write(g,p,v):v()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],v=w.read(g);g-=v.length,p.push(v),w.eod&&w.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=y}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let l=2*this._buf.length;for(;l<o;)l*=2;const c=s.alloc(l);this._buf.copy(c,0),this._buf=c}addText(o){this._buffer=void 0;let l=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+o.length),l=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=l}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,l={each:function(c,a){c&&(Array.isArray(c)?c.forEach(a):Object.keys(c).forEach(u=>{a(c[u],u)}))},some:function(c,a){return!!c&&(Array.isArray(c)?c.some(a):Object.keys(c).some(u=>a(c[u],u)))},every:function(c,a){return!c||(Array.isArray(c)?c.every(a):Object.keys(c).every(u=>a(c[u],u)))},map:function(c,a){return c?Array.isArray(c)?c.map(a):Object.keys(c).map(u=>a(c[u],u)):[]},keyBy:(c,a)=>c.reduce((u,f)=>(u[f[a]]=f,u),{}),isEqual:function(c,a){const u=typeof c,f=typeof a,h=Array.isArray(c),d=Array.isArray(a);let y;if(u!==f)return!1;switch(typeof c){case"object":if(h||d)return!(!h||!d)&&c.length===a.length&&c.every((g,p)=>{const w=a[p];return l.isEqual(g,w)});if(c===null||a===null)return c===a;if(y=Object.keys(c),Object.keys(a).length!==y.length)return!1;for(const g of y)if(!a.hasOwnProperty(g))return!1;return l.every(c,(g,p)=>{const w=a[p];return l.isEqual(g,w)});default:return c===a}},escapeHtml(c){const a=o.exec(c);if(!a)return c;let u="",f="",h=0,d=a.index;for(;d<c.length;d++){switch(c.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(u+=c.substring(h,d)),h=d+1,u+=f}return h!==d?u+c.substring(h,d):u},strcmp:(c,a)=>c<a?-1:c>a?1:0,isUndefined:c=>s.call(c)==="[object Undefined]",isObject:c=>s.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:a}=arguments;let u,f,h;function d(y,g){u=c[g],h=Array.isArray(y),l.isObject(y)||h?(h?(h=!1,f=u&&Array.isArray(u)?u:[]):f=u&&l.isObject(u)?u:{},c[g]=l.deepMerge(f,y)):l.isUndefined(y)||(c[g]=y)}for(let y=0;y<a;y++)l.each(arguments[y],d);return c}};n.exports=l},{}],27:[function(e,n,i){(function(s,o){(function(){const l=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:u=>new Promise(f=>{s.setImmediate?o(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,h,d){u.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(h,g))});const y={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{y[g]=Object.getOwnPropertyDescriptor(d,g)}),u.prototype=Object.create(f.prototype,y)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const h=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=a.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=c.exec(u);if(!f)return u;let h="",d="",y=0,g=f.index;for(;g<u.length;g++){const p=u.charCodeAt(g);switch(p){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){d="";break}continue}y!==g&&(h+=u.substring(y,g)),y=g+1,d&&(h+=d)}return y!==g?h+u.substring(y,g):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{l.access(u,l.constants.F_OK,h=>{f(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=a}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const s=e("./under-dash"),o=e("./utils");function l(u,f,h){u.push(` ${f}="${o.xmlEncode(h.toString())}"`)}function c(u,f){if(f){const h=[];s.each(f,(d,y)=>{d!==void 0&&l(h,y,d)}),u.push(h.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),c(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,y=this._xml;d&&this.open&&y.push(">"),this._stack.push(f),y.push("<"),y.push(f),c(y,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&l(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(s){(function(){const o=e("events"),l=e("jszip"),c=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class u extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new l,this.stream=new c}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(s.browser&&typeof h=="string"&&(h=a(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const s=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof l?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(const u of a)for(const{eventType:f,value:h}of u)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(a){return this.parse(s(a))}get xml(){return this.toXml(this.model)}toXml(a){const u=new o;return this.render(u,a),u.xml}static toAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(f)return u}else if(f||a!==u)return a.toString()}static toStringAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,u,f)}static toStringValue(a,u){return a===void 0?u:a}static toBoolAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(f)return u}else if(f||a!==u)return a?"1":"0"}static toBoolValue(a,u){return a===void 0?u:a==="1"}static toIntAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,u,f)}static toIntValue(a,u){return a===void 0?u:parseInt(a,10)}static toFloatAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,u,f)}static toFloatValue(a,u){return a===void 0?u:parseFloat(a)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/col-cache");function l(a){try{return o.decodeEx(a),!0}catch{return!1}}function c(a){const u=[];let f=!1,h="";return a.split(",").forEach(d=>{if(!d)return;const y=(d.match(/'/g)||[]).length;if(!y)return void(f?h+=d+",":l(d)&&u.push(d));const g=y%2==0;!f&&g&&l(d)?u.push(d):f&&!g?(f=!1,l(h+d)&&u.push(h+d),h=""):(f=!0,h+=d+",")}),u}n.exports=class extends s{render(a,u){a.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),a.writeText(u.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:s.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){o.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),o.leafNode("workbookView",c)}parseOpen(o){if(o.name==="workbookView"){const l=this.model={},c=function(u,f,h){const d=f!==void 0?l[u]=f:h;d!==void 0&&(l[u]=d)},a=function(u,f,h){const d=f!==void 0?l[u]=parseInt(f,10):h;d!==void 0&&(l[u]=d)};return a("x",o.attributes.xWindow,0),a("y",o.attributes.yWindow,0),a("width",o.attributes.windowWidth,25e3),a("height",o.attributes.windowHeight,1e4),c("visibility",o.attributes.visibility,"visible"),a("activeTab",o.attributes.activeTab,void 0),a("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../base-xform"),a=e("../static-xform"),u=e("../list-xform"),f=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),y=e("./workbook-properties-xform"),g=e("./workbook-calc-properties-xform");class p extends c{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new y,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(v){v.sheets=v.worksheets;const _=[];let T=0;v.sheets.forEach(F=>{if(F.pageSetup&&F.pageSetup.printArea&&F.pageSetup.printArea.split("&&").forEach(G=>{const $=G.split(":"),P={name:"_xlnm.Print_Area",ranges:[`'${F.name}'!$${$[0]}:$${$[1]}`],localSheetId:T};_.push(P)}),F.pageSetup&&(F.pageSetup.printTitlesRow||F.pageSetup.printTitlesColumn)){const G=[];if(F.pageSetup.printTitlesColumn){const P=F.pageSetup.printTitlesColumn.split(":");G.push(`'${F.name}'!$${P[0]}:$${P[1]}`)}if(F.pageSetup.printTitlesRow){const P=F.pageSetup.printTitlesRow.split(":");G.push(`'${F.name}'!$${P[0]}:$${P[1]}`)}const $={name:"_xlnm.Print_Titles",ranges:G,localSheetId:T};_.push($)}T++}),_.length&&(v.definedNames=v.definedNames.concat(_)),(v.media||[]).forEach((F,G)=>{F.name=F.type+(G+1)})}render(v,_){v.openXml(l.StdDocAttributes),v.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,_.properties),this.map.bookViews.render(v,_.views),this.map.sheets.render(v,_.sheets),this.map.definedNames.render(v,_.definedNames),this.map.calcPr.render(v,_.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const _=(v.workbookRels||[]).reduce((P,M)=>(P[M.Id]=M,P),{}),T=[];let F,G=0;(v.sheets||[]).forEach(P=>{const M=_[P.rId];M&&(F=v.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],F&&(F.name=P.name,F.id=P.id,F.state=P.state,T[G++]=F))});const $=[];s.each(v.definedNames,P=>{if(P.name==="_xlnm.Print_Area"){if(F=T[P.localSheetId],F){F.pageSetup||(F.pageSetup={});const M=o.decodeEx(P.ranges[0]);F.pageSetup.printArea=F.pageSetup.printArea?`${F.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(P.name==="_xlnm.Print_Titles"){if(F=T[P.localSheetId],F){F.pageSetup||(F.pageSetup={});const M=P.ranges.join(","),U=/\$/g,V=/\$\d+:\$\d+/,I=M.match(V);if(I&&I.length){const A=I[0];F.pageSetup.printTitlesRow=A.replace(U,"")}const E=/\$[A-Z]+:\$[A-Z]+/,L=M.match(E);if(L&&L.length){const A=L[0];F.pageSetup.printTitlesColumn=A.replace(U,"")}}}else $.push(P)}),v.definedNames=$,v.media.forEach((P,M)=>{P.index=M})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const s=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),l=e("../base-xform"),c=n.exports=function(a){this.model=a};o.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(a,u){u=u||this.model,a.openNode("comment",{ref:u.ref,authorId:0}),a.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(a,f)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model={type:"note",note:{texts:[]},...a.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),l=e("../base-xform"),c=e("./comment-xform"),a=n.exports=function(){this.map={comment:new c}};o.inherits(a,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",a.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const l=Math.floor(o.left),c=Math.floor(68*(o.left-l)),a=Math.floor(o.top),u=Math.floor(18*(o.top-a)),f=Math.floor(o.right),h=Math.floor(68*(o.right-f)),d=Math.floor(o.bottom);return[l,c,a,u,f,h,d,Math.floor(18*(o.bottom-d))]}getDefaultRect(o){const l=o.col,c=Math.max(o.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(o,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);o.leafNode("x:Anchor",null,c.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const s=e("../base-xform"),o=e("./vml-anchor-xform"),l=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:h,editAs:d}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,a),this.map["x:SizeWithCells"].render(u,d,a),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=a[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("./vml-shape-xform");class c extends o{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,f){u.openXml(s.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const s=e("../base-xform"),o=e("./vml-textbox-xform"),l=e("./vml-client-data-xform");class c extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,f,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(f,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(a,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,l,c){return`${parseFloat(o)*l.toFixed(2)}${c}`}reverseConversionUnit(o){return(o||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(o,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:a}=l.note&&l.note.margins;Array.isArray(a)&&(a=a.map(u=>this.conversionUnit(u,10,"mm")).join(",")),a&&(c.inset=a)}o.openNode("v:textbox",c),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,l){this.model[o]=l.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,l.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{o.leafNode("vt:lpstr",void 0,c.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new a}}render(h,d){h.openXml(s.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform");class l extends o{render(a,u){a.openXml(s.StdDocAttributes),a.openNode("Types",l.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{a.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{a.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:d}=h;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("../simple/date-xform"),c=e("../simple/string-xform"),a=e("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,d){h.openXml(s.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(o,l){o.leafNode("Relationship",l)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("./relationship-xform");class c extends o{constructor(){super(),this.map={Relationship:new l}}render(u,f){f=f||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,l){if(o&&o.rId){const c=l.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const a=c[1],u=l.mediaIndex[a];return l.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,i){const s=e("../base-xform"),o=e("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,l){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const s=e("../base-xform"),o=e("./hlink-click-xform"),l=e("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,a){c.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(c,a),this.map["a:extLst"].render(c,a),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const s=e("../base-xform"),o=e("../simple/integer-xform");n.exports=class extends s{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new a}}prepare(h){h.anchors.forEach((d,y)=>{d.anchorType=(function(g){return(typeof g.range=="string"?s.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:y})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(o.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(y=>{this.map[y.anchorType].render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(y=>{y.br?this.map["xdr:twoCellAnchor"].reconcile(y,d):this.map["xdr:oneCellAnchor"].reconcile(y,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,l){o.openNode(this.tag);const c=Math.floor(9525*l.width),a=Math.floor(9525*l.height);o.addAttribute("cx",c),o.addAttribute("cy",a),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,l){l.hyperlinks&&l.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const s=e("../base-xform"),o=e("./c-nv-pr-xform"),l=e("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,a){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,a),this.map["xdr:cNvPicPr"].render(c,a),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const s=e("./base-cell-anchor-xform"),o=e("../static-xform"),l=e("./cell-position-xform"),c=e("./ext-xform"),a=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const s=e("../base-xform"),o=e("../static-xform"),l=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),a=e("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new o(a)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const s=e("./base-cell-anchor-xform"),o=e("../static-xform"),l=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,u){this.map["xdr:pic"].prepare(a.picture,u)}render(a,u){a.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,u.range.tl),this.map["xdr:to"].render(a,u.range.br),this.map["xdr:pic"].render(a,u.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,u){a.medium=this.reconcilePicture(a.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,l){const{childXform:c}=this;o&&o.forEach((a,u)=>{l.index=u,c.prepare(a,l)})}render(o,l){if(this.always||l&&l.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((a,u)=>{c.render(o,a,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,l){if(o){const{childXform:c}=this;o.forEach(a=>{c.reconcile(a,l)})}}}},{"./base-xform":32}],72:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const a=function(h){return typeof h=="string"?h:s.getAddress(h.row,h.column).address},u=a(c.from),f=a(c.to);u&&f&&l.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform"),l=e("../../../doc/range"),c=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function u(f){if(f==null)return c.ValueType.Null;if(f instanceof String||typeof f=="string")return c.ValueType.String;if(typeof f=="number")return c.ValueType.Number;if(typeof f=="boolean")return c.ValueType.Boolean;if(f instanceof Date)return c.ValueType.Date;if(f.text&&f.hyperlink)return c.ValueType.Hyperlink;if(f.formula)return c.ValueType.Formula;if(f.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},(function(y){switch(y.type){case c.ValueType.Formula:return u(y.result);default:return y.type}})(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case c.ValueType.Date:h.date1904&&(f.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case c.ValueType.Merge:h.merges.add(f);break;case c.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const y=h.formulae[f.sharedFormula];if(!y)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);y.si===void 0?(y.shareType="shared",y.si=h.siFormulae++,y.range=new l(y.address,f.address)):y.range&&y.range.expandToAddress(f.address),f.si=y.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:f.leafNode("f",d,h.formula);break;case c.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case c.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case c.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,s.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==c.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:f.leafNode("v",null,h.value);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case c.ValueType.Date:f.leafNode("v",null,s.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(f,h);break;case c.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=s.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=s.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case c.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=c.ValueType.RichText);break;case c.ValueType.Number:d&&s.isDateFmt(d.numFmt)&&(f.type=c.ValueType.Date,f.value=s.excelToDate(f.value,h.date1904));break;case c.ValueType.Formula:f.result!==void 0&&d&&s.isDateFmt(d.numFmt)&&(f.result=s.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const y=h.hyperlinkMap[f.address];y&&(f.type===c.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=c.ValueType.Hyperlink,f.hyperlink=y);const g=h.commentsMap&&h.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,l){o.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(o){let{attributes:l}=o;this.model={iconSet:l.iconSet,iconId:s.toIntValue(l.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:s}=e("uuid"),o=e("../../base-xform"),l=e("../../composite-xform"),c=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?c.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${s()}}`.toUpperCase())}render(d,y){if(f.isExt(y))switch(y.type){case"dataBar":this.renderDataBar(d,y);break;case"iconSet":this.renderIconSet(d,y)}}renderDataBar(d,y){d.openNode(this.tag,{type:"dataBar",id:y.x14Id}),this.databarXform.render(d,y),d.closeNode()}renderIconSet(d,y){d.openNode(this.tag,{type:"iconSet",priority:y.priority,id:y.x14Id||`{${s()}}`}),this.iconSetXform.render(d,y),d.closeNode()}createNewModel(d){let{attributes:y}=d;return{type:y.type,x14Id:y.id,priority:o.toIntValue(y.priority)}}onParserClose(d,y){Object.assign(this.model,y.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const s=e("../../composite-xform"),o=e("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const s=e("../../composite-xform"),o=e("./sqref-ext-xform"),l=e("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,a){c.rules.forEach(u=>{this.cfRule.prepare(u,a)})}render(c,a){a.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,a.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,a){switch(c){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const s=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),l=e("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(a=>a.rules.some(o.isExt))),c.hasExtContent}prepare(c,a){c.forEach(u=>{this.cfXform.prepare(u,a)})}render(c,a){this.hasContent(a)&&(c.openNode(this.tag),a.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),l=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,u){a.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(a,f)}),this.borderColorXform.render(a,u.borderColor),this.negativeBorderColorXform.render(a,u.negativeBorderColor),this.negativeFillColorXform.render(a,u.negativeFillColor),this.axisColorXform.render(a,u.axisColor),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(a,u){const[,f]=a.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),l=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(a,u){a.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(a,f)}),u.icons&&u.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(a,f)}),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(a,u){const[,f]=a.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),l=e("../../../../doc/range"),c=e("./databar-xform"),a=e("./ext-lst-ref-xform"),u=e("./formula-xform"),f=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},y=p=>{const{type:w,operator:v}=p;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:v}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!d[w.iconSet]}render(w,v){switch(v.type){case"expression":this.renderExpression(w,v);break;case"cellIs":this.renderCellIs(w,v);break;case"top10":this.renderTop10(w,v);break;case"aboveAverage":this.renderAboveAverage(w,v);break;case"dataBar":this.renderDataBar(w,v);break;case"colorScale":this.renderColorScale(w,v);break;case"iconSet":this.renderIconSet(w,v);break;case"containsText":this.renderText(w,v);break;case"timePeriod":this.renderTimePeriod(w,v)}}renderExpression(w,v){w.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(w,v.formulae[0]),w.closeNode()}renderCellIs(w,v){w.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(_=>{this.formulaXform.render(w,_)}),w.closeNode()}renderTop10(w,v){w.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:s.toBoolAttribute(v.percent,!1),bottom:s.toBoolAttribute(v.bottom,!1),rank:s.toIntValue(v.rank,10,!0)})}renderAboveAverage(w,v){w.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:s.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(w,v){w.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(w,v),this.extLstRefXform.render(w,v),w.closeNode()}renderColorScale(w,v){w.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(w,v),w.closeNode()}renderIconSet(w,v){g.isPrimitive(v)&&(w.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(w,v),w.closeNode())}renderText(w,v){w.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:s.toStringAttribute(v.operator,"containsText")});const _=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const F=new l(T.ref),{tl:G}=F;switch(T.operator){case"containsText":return`NOT(ISERROR(SEARCH("${T.text}",${G})))`;case"containsBlanks":return`LEN(TRIM(${G}))=0`;case"notContainsBlanks":return`LEN(TRIM(${G}))>0`;case"containsErrors":return`ISERROR(${G})`;case"notContainsErrors":return`NOT(ISERROR(${G}))`;default:return}})(v);_&&this.formulaXform.render(w,_),w.closeNode()}renderTimePeriod(w,v){w.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const _=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const F=new l(T.ref),{tl:G}=F;switch(T.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${G},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${G},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${G},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${G},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${G},1)=TODAY()-1`;case"today":return`FLOOR(${G},1)=TODAY()`;case"tomorrow":return`FLOOR(${G},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${G},1)<=6,FLOOR(${G},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0-1)),YEAR(${G})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${G})=MONTH(TODAY()),YEAR(${G})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0+1)),YEAR(${G})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);_&&this.formulaXform.render(w,_),w.closeNode()}createNewModel(w){let{attributes:v}=w;return{...y(v),dxfId:s.toIntValue(v.dxfId),priority:s.toIntValue(v.priority),timePeriod:v.timePeriod,percent:s.toBoolValue(v.percent),bottom:s.toBoolValue(v.bottom),rank:s.toIntValue(v.rank),aboveAverage:s.toBoolValue(v.aboveAverage)}}onParserClose(w,v){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,l){o.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const s=e("../../composite-xform"),o=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"colorScale"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),a.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const s=e("../../composite-xform"),o=e("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(o.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(a=>{o.isPrimitive(a)&&(a.ref=c.ref,this.map.cfRule.render(l,a))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const s=e("../../base-xform"),o=e("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let a=l.reduce((u,f)=>Math.max(u,...f.rules.map(h=>h.priority||0)),1);l.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=a++),f.style&&(f.dxfId=c.styles.addDxfStyle(f.style))})})}render(l,c){c.forEach(a=>{this.cfXform.render(l,a)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(a=>{a.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const s=e("../../composite-xform"),o=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"dataBar"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,a.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,a){switch(c){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform");class l extends s{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends o{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(a,u){a.openNode(this.tag),this.map.ext.render(a,u),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const s=e("../../base-xform"),o=e("../../composite-xform"),l=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,a){c.openNode(this.tag,{iconSet:s.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(a.reverse,!1),showValue:s.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:a}=c;return{iconSet:s.toStringValue(a.iconSet,"3TrafficLights"),reverse:s.toBoolValue(a.reverse),showValue:s.toBoolValue(a.showValue),cfvo:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const s=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(l,c){const a=c.styles.addStyleModel(l.style||{});a&&(l.styleId=a)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),s.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/utils"),l=e("../../../utils/col-cache"),c=e("../base-xform"),a=e("../../../doc/range");function u(h,d,y,g){const p=d[y];p!==void 0?h[y]=p:g!==void 0&&(h[y]=g)}function f(h,d,y,g){const p=d[y];p!==void 0&&(h[y]=o.parseBoolean(p))}n.exports=class extends c{get tag(){return"dataValidations"}render(h,d){const y=(function(g){const p=s.map(g,(_,T)=>({address:T,dataValidation:_,marked:!1})).sort((_,T)=>s.strcmp(_.address,T.address)),w=s.keyBy(p,"address"),v=(_,T,F)=>{for(let G=0;G<T;G++){const $=l.encodeAddress(_.row+G,F);if(!g[$]||!s.isEqual(g[_.address],g[$]))return!1}return!0};return p.map(_=>{if(!_.marked){const T=l.decodeEx(_.address);if(T.dimensions)return w[T.dimensions].marked=!0,{..._.dataValidation,sqref:_.address};let F=1,G=l.encodeAddress(T.row+F,T.col);for(;g[G]&&s.isEqual(_.dataValidation,g[G]);)F++,G=l.encodeAddress(T.row+F,T.col);let $=1;for(;v(T,F,T.col+$);)$++;for(let P=0;P<F;P++)for(let M=0;M<$;M++)G=l.encodeAddress(T.row+P,T.col+M),w[G].marked=!0;if(F>1||$>1){const P=T.row+(F-1),M=T.col+($-1);return{..._.dataValidation,sqref:`${_.address}:${l.encodeAddress(P,M)}`}}return{..._.dataValidation,sqref:_.address}}return null}).filter(Boolean)})(d);y.length&&(h.openNode("dataValidations",{count:y.length}),y.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,w)=>{h.openNode("formula"+(w+1)),g.type==="date"?h.writeText(o.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,h.attributes,"operator","between")}return u(d,h.attributes,"promptTitle"),u(d,h.attributes,"prompt"),u(d,h.attributes,"errorStyle"),u(d,h.attributes,"errorTitle"),u(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(y=>{this.model[y]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=o.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,l){l&&o.leafNode("dimension",{ref:l})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const s=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class l extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,u){this.conditionalFormattings.prepare(a.conditionalFormattings,u)}render(a,u){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,u.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){this.model[a]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,a){this.ext.prepare(c,a)}hasContent(c){return this.ext.hasContent(c)}render(c,a){this.hasContent(a)&&(c.openNode("extLst"),this.ext.render(c,a),c.closeNode())}createNewModel(){return{}}onParserClose(c,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,l){if(l){o.addRollback();let c=!1;o.openNode("headerFooter"),l.differentFirst&&(o.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(o.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(o.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(o.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(o.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(o.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(o.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(o.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,l){this.isInternalLink(l)?o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,l){o.leafNode("mergeCell",{ref:l})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../doc/range"),l=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{const u=`${a.master}:${a.address}`;this.merges[a.master]=new o(u)}}get mergeCells(){return s.map(this.merges,a=>a.range)}reconcile(a,u){s.each(a,f=>{const h=l.decode(f);for(let d=h.top;d<=h.bottom;d++){const y=u[d-1];for(let g=h.left;g<=h.right;g++){const p=y.cells[g-1];p?p.type===c.ValueType.Merge&&(p.master=h.tl):y.cells[g]={type:c.ValueType.Null,address:l.encodeAddress(d,g)}}}})}getMasterAddress(a){const u=this.hash[a];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const s=e("../base-xform"),o=l=>l!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(l,c){return!(!c||!o(c.summaryBelow)&&!o(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:o(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:o(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:o(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:o(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,l){o.leafNode("brk",l)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(l,c){if(c){const a={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};s.some(a,u=>u!==void 0)&&l.leafNode(this.tag,a)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,l){return!(!l||!l.fitToPage)&&(o.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function l(f){return f?"1":void 0}function c(f){switch(f){case"overThenDown":return f;default:return}}function a(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:l(h.blackAndWhite),draft:l(h.draft),cellComments:a(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:l(h.firstPageNumber),usePrinterDefaults:l(h.usePrinterDefaults),copies:h.copies};s.some(d,y=>y!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(c,a){if(a){const u={headings:l(a.showRowColHeaders),gridLines:l(a.showGridLines),horizontalCentered:l(a.horizontalCentered),verticalCentered:l(a.verticalCentered)};s.some(u,f=>f!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const s=e("./page-breaks-xform"),o=e("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:a}=this;c.forEach(u=>{a.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/utils"),l=e("./cell-xform");n.exports=class extends s{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,a){const u=a.styles.addStyleModel(c.style);u&&(c.styleId=u);const f=this.map.c;c.cells.forEach(h=>{f.prepare(h,a)})}render(c,a,u){c.openNode("row"),c.addAttribute("r",a.number),a.height&&(c.addAttribute("ht",a.height),c.addAttribute("customHeight","1")),a.hidden&&c.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&c.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(c.addAttribute("s",a.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&c.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&c.addAttribute("collapsed","1");const f=this.map.c;a.cells.forEach(h=>{f.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const a=c.attributes.spans?c.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:a[0],max:a[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),o.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),o.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,a){c.style=c.styleId?a.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(f=>{u.reconcile(f,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(l,c){if(c){const a={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(a.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(a.customHeight="1"),s.some(a,u=>u!==void 0)&&l.leafNode("sheetFormatPr",a)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const s=e("../base-xform"),o=e("../style/color-xform"),l=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(a,u){if(u){a.addRollback(),a.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(a,u.tabColor)||f,f=this.map.pageSetUpPr.render(a,u.pageSetup)||f,f=this.map.outlinePr.render(a,u.outlineProperties)||f,f?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../base-xform");function l(a,u){return a?u:void 0}function c(a,u){return a===u||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(a,u){if(u){const f={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=l(u.objects===!1,"1"),f.scenarios=l(u.scenarios===!1,"1")),s.some(f,h=>h!==void 0)&&a.leafNode(this.tag,f)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:c(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(a.attributes.formatCells,"0"),formatColumns:c(a.attributes.formatColumns,"0"),formatRows:c(a.attributes.formatRows,"0"),insertColumns:c(a.attributes.insertColumns,"0"),insertRows:c(a.attributes.insertRows,"0"),insertHyperlinks:c(a.attributes.insertHyperlinks,"0"),deleteColumns:c(a.attributes.deleteColumns,"0"),deleteRows:c(a.attributes.deleteRows,"0"),sort:c(a.attributes.sort,"0"),autoFilter:c(a.attributes.autoFilter,"0"),pivotTables:c(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const s=e("../../../utils/col-cache"),o=e("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,a){c.openNode("sheetView",{workbookViewId:a.workbookViewId||0});const u=function(g,p,w){w&&c.addAttribute(g,p)};let f,h,d,y;switch(u("rightToLeft","1",a.rightToLeft===!0),u("tabSelected","1",a.tabSelected),u("showRuler","0",a.showRuler===!1),u("showRowColHeaders","0",a.showRowColHeaders===!1),u("showGridLines","0",a.showGridLines===!1),u("zoomScale",a.zoomScale,a.zoomScale),u("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),u("view",a.style,a.style),a.state){case"frozen":h=a.xSplit||0,d=a.ySplit||0,f=a.topLeftCell||s.getAddress(d+1,h+1).address,y=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:f,activePane:y,state:"frozen"}),c.leafNode("selection",{pane:y,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),c.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&c.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const a=c.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let a,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../../rel-type"),a=e("./merges"),u=e("../base-xform"),f=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),y=e("./dimension-xform"),g=e("./hyperlink-xform"),p=e("./merge-cell-xform"),w=e("./data-validations-xform"),v=e("./sheet-properties-xform"),_=e("./sheet-format-properties-xform"),T=e("./sheet-view-xform"),F=e("./sheet-protection-xform"),G=e("./page-margins-xform"),$=e("./page-setup-xform"),P=e("./print-options-xform"),M=e("./auto-filter-xform"),U=e("./picture-xform"),V=e("./drawing-xform"),I=e("./table-part-xform"),E=e("./row-breaks-xform"),L=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),S=e("./ext-lst-xform"),k=(C,O)=>{if(!O||!O.length)return C;if(!C||!C.length)return O;const D={},j={};return C.forEach(K=>{D[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:ne}=Z;ne&&(j[ne]=Z)})}),O.forEach(K=>{K.rules.forEach(Z=>{const ne=j[Z.x14Id];ne?((H,J)=>{Object.keys(J).forEach(z=>{const B=H[z],Q=J[z];B===void 0&&Q!==void 0&&(H[z]=Q)})})(ne,Z):D[K.ref]?D[K.ref].rules.push(Z):C.push({ref:K.ref,rules:[Z]})})}),C};class N extends u{constructor(O){super();const{maxRows:D,maxCols:j,ignoreNodes:K}=O||{};this.ignoreNodes=K||[],this.map={sheetPr:new v,dimension:new y,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new _,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:j}),maxItems:D}),autoFilter:new M,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new G,dataValidations:new w,pageSetup:new $,headerFooter:new L,printOptions:new P,picture:new U,drawing:new V,sheetProtection:new F,tableParts:new f({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new A,extLst:new S}}prepare(O,D){D.merges=new a,O.hyperlinks=D.hyperlinks=[],O.comments=D.comments=[],D.formulae={},D.siFormulae=0,this.map.cols.prepare(O.cols,D),this.map.sheetData.prepare(O.rows,D),this.map.conditionalFormatting.prepare(O.conditionalFormattings,D),O.mergeCells=D.merges.mergeCells;const j=O.rels=[];function K(H){return"rId"+(H.length+1)}if(O.hyperlinks.forEach(H=>{const J=K(j);H.rId=J,j.push({Id:J,Type:c.Hyperlink,Target:H.target,TargetMode:"External"})}),O.comments.length>0){const H={Id:K(j),Type:c.Comments,Target:`../comments${O.id}.xml`};j.push(H);const J={Id:K(j),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${O.id}.vml`};j.push(J),O.comments.forEach(z=>{z.refAddress=o.decodeAddress(z.ref)}),D.commentRefs.push({commentName:"comments"+O.id,vmlDrawing:"vmlDrawing"+O.id})}const Z=[];let ne;O.media.forEach(H=>{if(H.type==="background"){const J=K(j);ne=D.media[H.imageId],j.push({Id:J,Type:c.Image,Target:`../media/${ne.name}.${ne.extension}`}),O.background={rId:J},O.image=D.media[H.imageId]}else if(H.type==="image"){let{drawing:J}=O;ne=D.media[H.imageId],J||(J=O.drawing={rId:K(j),name:"drawing"+ ++D.drawingsCount,anchors:[],rels:[]},D.drawings.push(J),j.push({Id:J.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${J.name}.xml`}));let z=this.preImageId===H.imageId?Z[H.imageId]:Z[J.rels.length];z||(z=K(J.rels),Z[J.rels.length]=z,J.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ne.name}.${ne.extension}`}));const B={picture:{rId:z},range:H.range};if(H.hyperlinks&&H.hyperlinks.hyperlink){const Q=K(J.rels);Z[J.rels.length]=Q,B.picture.hyperlinks={tooltip:H.hyperlinks.tooltip,rId:Q},J.rels.push({Id:Q,Type:c.Hyperlink,Target:H.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=H.imageId,J.anchors.push(B)}}),O.tables.forEach(H=>{const J=K(j);H.rId=J,j.push({Id:J,Type:c.Table,Target:"../tables/"+H.target}),H.columns.forEach(z=>{const{style:B}=z;B&&(z.dxfId=D.styles.addDxfStyle(B))})}),this.map.extLst.prepare(O,D)}render(O,D){O.openXml(l.StdDocAttributes),O.openNode("worksheet",N.WORKSHEET_ATTRIBUTES);const j=D.properties?{defaultRowHeight:D.properties.defaultRowHeight,dyDescent:D.properties.dyDescent,outlineLevelCol:D.properties.outlineLevelCol,outlineLevelRow:D.properties.outlineLevelRow}:void 0;D.properties&&D.properties.defaultColWidth&&(j.defaultColWidth=D.properties.defaultColWidth);const K={outlineProperties:D.properties&&D.properties.outlineProperties,tabColor:D.properties&&D.properties.tabColor,pageSetup:D.pageSetup&&D.pageSetup.fitToPage?{fitToPage:D.pageSetup.fitToPage}:void 0},Z=D.pageSetup&&D.pageSetup.margins,ne={showRowColHeaders:D.pageSetup&&D.pageSetup.showRowColHeaders,showGridLines:D.pageSetup&&D.pageSetup.showGridLines,horizontalCentered:D.pageSetup&&D.pageSetup.horizontalCentered,verticalCentered:D.pageSetup&&D.pageSetup.verticalCentered},H=D.sheetProtection;this.map.sheetPr.render(O,K),this.map.dimension.render(O,D.dimensions),this.map.sheetViews.render(O,D.views),this.map.sheetFormatPr.render(O,j),this.map.cols.render(O,D.cols),this.map.sheetData.render(O,D.rows),this.map.sheetProtection.render(O,H),this.map.autoFilter.render(O,D.autoFilter),this.map.mergeCells.render(O,D.mergeCells),this.map.conditionalFormatting.render(O,D.conditionalFormattings),this.map.dataValidations.render(O,D.dataValidations),this.map.hyperlinks.render(O,D.hyperlinks),this.map.printOptions.render(O,ne),this.map.pageMargins.render(O,Z),this.map.pageSetup.render(O,D.pageSetup),this.map.headerFooter.render(O,D.headerFooter),this.map.rowBreaks.render(O,D.rowBreaks),this.map.drawing.render(O,D.drawing),this.map.picture.render(O,D.background),this.map.tableParts.render(O,D.tables),this.map.extLst.render(O,D),D.rels&&D.rels.forEach(J=>{J.Type===c.VmlDrawing&&O.leafNode("legacyDrawing",{"r:id":J.Id})}),O.closeNode()}parseOpen(O){return this.parser?(this.parser.parseOpen(O),!0):O.name==="worksheet"?(s.each(this.map,D=>{D.reset()}),!0):(this.map[O.name]&&!this.ignoreNodes.includes(O.name)&&(this.parser=this.map[O.name],this.parser.parseOpen(O)),!0)}parseText(O){this.parser&&this.parser.parseText(O)}parseClose(O){if(this.parser)return this.parser.parseClose(O)||(this.parser=void 0),!0;switch(O){case"worksheet":{const D=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(D.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(D.outlineProperties=this.map.sheetPr.model.outlineProperties);const j={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(j,this.map.pageSetup.model,this.map.printOptions.model),Z=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:D,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(O,D){const j=(O.relationships||[]).reduce((Z,ne)=>{if(Z[ne.Id]=ne,ne.Type===c.Comments&&(O.comments=D.comments[ne.Target].comments),ne.Type===c.VmlDrawing&&O.comments&&O.comments.length){const H=D.vmlDrawings[ne.Target].comments;O.comments.forEach((J,z)=>{J.note=Object.assign({},J.note,H[z])})}return Z},{});if(D.commentsMap=(O.comments||[]).reduce((Z,ne)=>(ne.ref&&(Z[ne.ref]=ne),Z),{}),D.hyperlinkMap=(O.hyperlinks||[]).reduce((Z,ne)=>(ne.rId&&(Z[ne.address]=j[ne.rId].Target),Z),{}),D.formulae={},O.rows=O.rows&&O.rows.filter(Boolean)||[],O.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(O.cols,D),this.map.sheetData.reconcile(O.rows,D),this.map.conditionalFormatting.reconcile(O.conditionalFormattings,D),O.media=[],O.drawing){const Z=j[O.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const ne=Z[1];D.drawings[ne].anchors.forEach(H=>{if(H.medium){const J={type:"image",imageId:H.medium.index,range:H.range,hyperlinks:H.picture.hyperlinks};O.media.push(J)}})}}const K=O.background&&j[O.background.rId];if(K){const Z=K.Target.split("/media/")[1],ne=D.mediaIndex&&D.mediaIndex[Z];ne!==void 0&&O.media.push({type:"background",imageId:ne})}O.tables=(O.tables||[]).map(Z=>{const ne=j[Z.rId];return D.tables[ne.Target]}),delete O.relationships,delete O.hyperlinks,delete O.comments}}N.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=N},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,l){l&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=o.parse||function(l){return new Date(l)}}render(o,l){l&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(l)):o.writeText(this._format(l)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,l){(l||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,l){l!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const s=e("./base-xform"),o=e("../../utils/xml-stream");n.exports=class extends s{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new o;(function a(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{a(u,h)}),f.t&&u.writeText(f.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const s=e("./text-xform"),o=e("./rich-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(c,a){if(c.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){const{r:u}=this.map;a.richText.forEach(f=>{u.render(c,f)})}else a&&this.map.t.render(c,a.text);c.closeNode()}parseOpen(c){const{name:a}=c;return this.parser?(this.parser.parseOpen(c),!0):a===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const s=e("./text-xform"),o=e("../style/font-xform"),l=e("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(c.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const s=e("./text-xform"),o=e("./rich-text-xform"),l=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(a){super(),this.model=a,this.map={r:new o,t:new s,rPh:new l}}get tag(){return"si"}render(a,u){a.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(a,f)}):this.map.t.render(a,""):u!=null&&this.map.t.render(a,u),a.closeNode()}parseOpen(a){const{name:u}=a;return this.parser?(this.parser.parseOpen(a),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("./shared-string-xform");n.exports=class extends o{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let a=this.hash[c];return a===void 0&&(a=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,a}addRichText(c){const a=this.sharedStringXform.toXml(c);let u=this.rich[a];return u===void 0&&(u=this.rich[a]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,a){a=a||this._values,c.openXml(s.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});const u=this.sharedStringXform;a.values.forEach(f=>{u.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,l){o.openNode("t"),/^\s|\n|\s$/.test(l)&&o.addAttribute("xml:space","preserve"),o.writeText(l),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const s=e("../../../doc/enums"),o=e("../../../utils/utils"),l=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},a={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=o.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends l{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let h=!1;function d(y,g){g&&(u.addAttribute(y,g),h=!0)}d("horizontal",c.horizontal(f.horizontal)),d("vertical",c.vertical(f.vertical)),d("wrapText",!!c.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!c.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",c.indent(f.indent)),d("textRotation",a.toXml(f.textRotation)),d("readingOrder",c.readingOrder(f.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const f={};let h=!1;function d(y,g,p){y&&(f[g]=p,h=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",a.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const s=e("../base-xform"),o=e("../../../utils/utils"),l=e("./color-xform");class c extends s{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,f,h){const d=f&&f.color||h||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,u)=>(a[u]=!0,a),{}),n.exports=class extends s{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(a,u){const{color:f}=u;function h(d,y){d&&!d.color&&u.color&&(d={...d,color:u.color}),y.render(a,d,f)}a.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&a.addAttribute("diagonalUp","1"),u.diagonal.down&&a.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){const u=this.model={},f=function(h,d,y){d&&(y&&Object.assign(d,y),u[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,l){return!!l&&(o.openNode(this.name),l.argb?o.addAttribute("rgb",l.argb):l.theme!==void 0?(o.addAttribute("theme",l.theme),l.tint!==void 0&&o.addAttribute("tint",l.tint)):l.indexed!==void 0?o.addAttribute("indexed",l.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const s=e("../base-xform"),o=e("./alignment-xform"),l=e("./border-xform"),c=e("./fill-xform"),a=e("./font-xform"),u=e("./numfmt-xform"),f=e("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new l,fill:new c,font:new a,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const y={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,y)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const s=e("../base-xform"),o=e("./color-xform");class l extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class a extends s{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const y=this.map.stop;d.stops.forEach(g=>{y.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new c,gradientFill:new a}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=a,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const s=e("./color-xform"),o=e("../simple/boolean-xform"),l=e("../simple/integer-xform"),c=e("../simple/string-xform"),a=e("./underline-xform"),u=e("../../../utils/under-dash"),f=e("../base-xform");class h extends f{constructor(y){super(),this.options=y||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(y,g){const{map:p}=this;y.openNode(this.options.tagName),u.each(this.map,(w,v)=>{p[v].xform.render(y,g[w.prop])}),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;if(this.map[y.name])return this.parser=this.map[y.name].xform,this.parser.parseOpen(y);switch(y.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser&&!this.parser.parseClose(y)){const g=this.map[y];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(y){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const s=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),l=e("../base-xform"),c=(function(){const u={};return s.each(o,(f,h)=>{f.f&&(u[f.f]=parseInt(h,10))}),u})();class a extends l{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(u){return c[u]},a.getDefaultFmtCode=function(u){return o[u]&&o[u].f},n.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const s=e("../base-xform"),o={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends s{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let a=!1;function u(f,h){h!==void 0&&(l.addAttribute(f,h),a=!0)}u("locked",o.boolean(c.locked,!0)?void 0:"0"),u("hidden",o.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),a?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},a=!c.locked||c.hidden;this.model=a?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const s=e("../base-xform"),o=e("./alignment-xform"),l=e("./protection-xform");n.exports=class extends s{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new o,protection:new l}}get tag(){return"xf"}render(c,a){c.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&c.addAttribute("xfId",a.xfId||0),a.numFmtId&&c.addAttribute("applyNumberFormat","1"),a.fontId&&c.addAttribute("applyFont","1"),a.fillId&&c.addAttribute("applyFill","1"),a.borderId&&c.addAttribute("applyBorder","1"),a.alignment&&c.addAttribute("applyAlignment","1"),a.protection&&c.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(c,a.alignment),a.protection&&this.map.protection.render(c,a.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const s=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("../static-xform"),a=e("../list-xform"),u=e("./font-xform"),f=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),y=e("./style-xform"),g=e("./dxf-xform");class p extends l{constructor(v){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new f}),borders:new a({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new y}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new y({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new d,font:new u,fill:new f,border:new h,style:new y({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,_){_=_||this.model,v.openXml(o.StdDocAttributes),v.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(_.numFmts&&_.numFmts.length&&(v.openNode("numFmts",{count:_.numFmts.length}),_.numFmts.forEach(T=>{v.writeXml(T)}),v.closeNode()),_.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:_.fonts.length,"x14ac:knownFonts":1}),_.fonts.forEach(T=>{v.writeXml(T)}),v.closeNode(),v.openNode("fills",{count:_.fills.length}),_.fills.forEach(T=>{v.writeXml(T)}),v.closeNode(),v.openNode("borders",{count:_.borders.length}),_.borders.forEach(T=>{v.writeXml(T)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:_.styles.length}),_.styles.forEach(T=>{v.writeXml(T)}),v.closeNode()):(this.map.numFmts.render(v,_.numFmts),this.map.fonts.render(v,_.fonts),this.map.fills.render(v,_.fills),this.map.borders.render(v,_.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,_.styles)),p.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,_.dxfs),p.STATIC_XFORMS.tableStyles.render(v),p.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const _=(T,F)=>{F.model&&F.model.length&&(this.model[T]=F.model)};if(_("numFmts",this.map.numFmts),_("fonts",this.map.fonts),_("fills",this.map.fills),_("borders",this.map.borders),_("styles",this.map.cellXfs),_("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const T=this.index.numFmt;this.model.numFmts.forEach(F=>{T[F.id]=F.formatCode})}return!1}default:return!0}}addStyleModel(v,_){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const T={};if(_=_||s.ValueType.Number,v.numFmt)T.numFmtId=this._addNumFmtStr(v.numFmt);else switch(_){case s.ValueType.Number:T.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:T.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(T.fontId=this._addFont(v.font)),v.border&&(T.borderId=this._addBorder(v.border)),v.fill&&(T.fillId=this._addFill(v.fill)),v.alignment&&(T.alignment=v.alignment),v.protection&&(T.protection=v.protection);const F=this._addStyle(T);return this.weakMap&&this.weakMap.set(v,F),F}getStyleModel(v){const _=this.model.styles[v];if(!_)return null;let T=this.index.model[v];if(T)return T;if(T=this.index.model[v]={},_.numFmtId){const G=this.index.numFmt[_.numFmtId]||d.getDefaultFmtCode(_.numFmtId);G&&(T.numFmt=G)}function F(G,$,P){if(P||P===0){const M=$[P];M&&(T[G]=M)}}return F("font",this.model.fonts,_.fontId),F("border",this.model.borders,_.borderId),F("fill",this.model.fills,_.fillId),_.alignment&&(T.alignment=_.alignment),_.protection&&(T.protection=_.protection),T}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const _=this.map.style.toXml(v);let T=this.index.style[_];return T===void 0&&(T=this.index.style[_]=this.model.styles.length,this.model.styles.push(_)),T}_addNumFmtStr(v){let _=d.getDefaultFmtId(v);if(_!==void 0||(_=this.index.numFmt[v],_!==void 0))return _;_=this.index.numFmt[v]=164+this.model.numFmts.length;const T=this.map.numFmt.toXml({id:_,formatCode:v});return this.model.numFmts.push(T),_}_addFont(v){const _=this.map.font.toXml(v);let T=this.index.font[_];return T===void 0&&(T=this.index.font[_]=this.model.fonts.length,this.model.fonts.push(_)),T}_addBorder(v){const _=this.map.border.toXml(v);let T=this.index.border[_];return T===void 0&&(T=this.index.border[_]=this.model.borders.length,this.model.borders.push(_)),T}_addFill(v){const _=this.map.fill.toXml(v);let T=this.index.fill[_];return T===void 0&&(T=this.index.fill[_]=this.model.fills.length,this.model.fills.push(_)),T}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,v){switch(v){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const s=e("../base-xform");class o extends s{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,a){if((a=a||this.model)===!0)c.leafNode("u");else{const u=o.Attributes[a];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(e,n,i){const s=e("../base-xform"),o=e("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,a)=>{this.map.filterColumn.prepare(c,{index:a})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(a=>{this.map.filterColumn.render(l,a)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,l){o.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const s=e("../base-xform"),o=e("../list-xform"),l=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(a,u){a.colId=u.index.toString()}render(a,u){return u.customFilters?(a.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(a,u.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{attributes:u}=a;switch(a.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,l){o.leafNode(this.tag,{val:l.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,l){o.id=l.index+1}render(o,l){return o.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,l){return o.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const s=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("../list-xform"),c=e("./auto-filter-xform"),a=e("./table-column-xform"),u=e("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new u}}prepare(d,y){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,y)}get tag(){return"table"}render(d,y){d.openXml(s.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:y.id,name:y.name,displayName:y.displayName||y.name,ref:y.tableRef,totalsRowCount:y.totalsRow?"1":void 0,totalsRowShown:y.totalsRow?void 0:"1",headerRowCount:y.headerRow?"1":"0"}),this.map.autoFilter.render(d,y),this.map.tableColumns.render(d,y.columns),this.map.tableStyleInfo.render(d,y.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:y,attributes:g}=d;switch(y){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((y,g)=>{this.model.columns[g].filterButton=y.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,y){d.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=y.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(s,o){(function(){const l=e("fs"),c=e("jszip"),{PassThrough:a}=e("readable-stream"),u=e("../utils/zip-stream"),f=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:y}=e("../utils/browser-buffer-decode"),g=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),w=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),_=e("./xform/core/content-types-xform"),T=e("./xform/core/app-xform"),F=e("./xform/book/workbook-xform"),G=e("./xform/sheet/worksheet-xform"),$=e("./xform/drawing/drawing-xform"),P=e("./xform/table/table-xform"),M=e("./xform/comment/comments-xform"),U=e("./xform/comment/vml-notes-xform"),V=e("./xml/theme1");class I{constructor(L){this.workbook=L}async readFile(L,A){if(!await h.fs.exists(L))throw new Error("File not found: "+L);const S=l.createReadStream(L);try{const k=await this.read(S,A);return S.close(),k}catch(k){throw S.close(),k}}parseRels(L){return new v().parseStream(L)}parseWorkbook(L){return new F().parseStream(L)}parseSharedStrings(L){return new w().parseStream(L)}reconcile(L,A){const S=new F,k=new G(A),N=new $,C=new P;S.reconcile(L);const O={media:L.media,mediaIndex:L.mediaIndex};Object.keys(L.drawings).forEach(K=>{const Z=L.drawings[K],ne=L.drawingRels[K];ne&&(O.rels=ne.reduce((H,J)=>(H[J.Id]=J,H),{}),(Z.anchors||[]).forEach(H=>{const J=H.picture&&H.picture.hyperlinks;J&&O.rels[J.rId]&&(J.hyperlink=O.rels[J.rId].Target,delete J.rId)}),N.reconcile(Z,O))});const D={styles:L.styles};Object.values(L.tables).forEach(K=>{C.reconcile(K,D)});const j={styles:L.styles,sharedStrings:L.sharedStrings,media:L.media,mediaIndex:L.mediaIndex,date1904:L.properties&&L.properties.date1904,drawings:L.drawings,comments:L.comments,tables:L.tables,vmlDrawings:L.vmlDrawings};L.worksheets.forEach(K=>{K.relationships=L.worksheetRels[K.sheetNo],k.reconcile(K,j)}),delete L.worksheetHash,delete L.worksheetRels,delete L.globalRels,delete L.sharedStrings,delete L.workbookRels,delete L.sheetDefs,delete L.styles,delete L.mediaIndex,delete L.drawings,delete L.drawingRels,delete L.vmlDrawings}async _processWorksheetEntry(L,A,S,k,N){const C=new G(k),O=await C.parseStream(L);O.sheetNo=S,A.worksheetHash[N]=O,A.worksheets.push(O)}async _processCommentEntry(L,A,S){const k=new M,N=await k.parseStream(L);A.comments[`../${S}.xml`]=N}async _processTableEntry(L,A,S){const k=new P,N=await k.parseStream(L);A.tables[`../tables/${S}.xml`]=N}async _processWorksheetRelsEntry(L,A,S){const k=new v,N=await k.parseStream(L);A.worksheetRels[S]=N}async _processMediaEntry(L,A,S){const k=S.lastIndexOf(".");if(k>=1){const N=S.substr(k+1),C=S.substr(0,k);await new Promise((O,D)=>{const j=new f;j.on("finish",()=>{A.mediaIndex[S]=A.media.length,A.mediaIndex[C]=A.media.length;const K={type:"image",name:C,extension:N,buffer:j.toBuffer()};A.media.push(K),O()}),L.on("error",K=>{D(K)}),L.pipe(j)})}}async _processDrawingEntry(L,A,S){const k=new $,N=await k.parseStream(L);A.drawings[S]=N}async _processDrawingRelsEntry(L,A,S){const k=new v,N=await k.parseStream(L);A.drawingRels[S]=N}async _processVmlDrawingEntry(L,A,S){const k=new U,N=await k.parseStream(L);A.vmlDrawings[`../drawings/${S}.vml`]=N}async _processThemeEntry(L,A,S){await new Promise((k,N)=>{const C=new f;L.on("error",N),C.on("error",N),C.on("finish",()=>{A.themes[S]=C.read().toString(),k()}),L.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(L,A){!L[Symbol.asyncIterator]&&L.pipe&&(L=L.pipe(new a));const S=[];for await(const k of L)S.push(k);return this.load(o.concat(S),A)}async load(L,A){let S;S=A&&A.base64?o.from(L.toString(),"base64"):L;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},N=await c.loadAsync(S);for(const C of Object.values(N.files))if(!C.dir){let O,D=C.name;if(D[0]==="/"&&(D=D.substr(1)),D.match(/xl\/media\//)||D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))O=new a,O.write(await C.async("nodebuffer"));else{let j;O=new a({writableObjectMode:!0,readableObjectMode:!0}),j=s.browser?y(await C.async("nodebuffer")):await C.async("string");const K=16384;for(let Z=0;Z<j.length;Z+=K)O.write(j.substring(Z,Z+K))}switch(O.end(),D){case"_rels/.rels":k.globalRels=await this.parseRels(O);break;case"xl/workbook.xml":{const j=await this.parseWorkbook(O);k.sheets=j.sheets,k.definedNames=j.definedNames,k.views=j.views,k.properties=j.properties,k.calcProperties=j.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(O);break;case"xl/sharedStrings.xml":k.sharedStrings=new w,await k.sharedStrings.parseStream(O);break;case"xl/styles.xml":k.styles=new g,await k.styles.parseStream(O);break;case"docProps/app.xml":{const j=new T,K=await j.parseStream(O);k.company=K.company,k.manager=K.manager;break}case"docProps/core.xml":{const j=new p,K=await j.parseStream(O);Object.assign(k,K);break}default:{let j=D.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(j){await this._processWorksheetEntry(O,k,j[1],A,D);break}if(j=D.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),j){await this._processWorksheetRelsEntry(O,k,j[1]);break}if(j=D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),j){await this._processThemeEntry(O,k,j[1]);break}if(j=D.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),j){await this._processMediaEntry(O,k,j[1]);break}if(j=D.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),j){await this._processDrawingEntry(O,k,j[1]);break}if(j=D.match(/xl\/(comments\d+)[.]xml/),j){await this._processCommentEntry(O,k,j[1]);break}if(j=D.match(/xl\/tables\/(table\d+)[.]xml/),j){await this._processTableEntry(O,k,j[1]);break}if(j=D.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),j){await this._processDrawingRelsEntry(O,k,j[1]);break}if(j=D.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),j){await this._processVmlDrawingEntry(O,k,j[1]);break}}}}return this.reconcile(k,A),this.workbook.model=k,this.workbook}async addMedia(L,A){await Promise.all(A.media.map(async S=>{if(S.type==="image"){const k=`xl/media/${S.name}.${S.extension}`;if(S.filename){const N=await(function(C,O){return new Promise((D,j)=>{l.readFile(C,O,(K,Z)=>{K?j(K):D(Z)})})})(S.filename);return L.append(N,{name:k})}if(S.buffer)return L.append(S.buffer,{name:k});if(S.base64){const N=S.base64,C=N.substring(N.indexOf(",")+1);return L.append(C,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(L,A){const S=new $,k=new v;A.worksheets.forEach(N=>{const{drawing:C}=N;if(C){S.prepare(C,{});let O=S.toXml(C);L.append(O,{name:`xl/drawings/${C.name}.xml`}),O=k.toXml(C.rels),L.append(O,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(L,A){const S=new P;A.worksheets.forEach(k=>{const{tables:N}=k;N.forEach(C=>{S.prepare(C,{});const O=S.toXml(C);L.append(O,{name:"xl/tables/"+C.target})})})}async addContentTypes(L,A){const S=new _().toXml(A);L.append(S,{name:"[Content_Types].xml"})}async addApp(L,A){const S=new T().toXml(A);L.append(S,{name:"docProps/app.xml"})}async addCore(L,A){const S=new p;L.append(S.toXml(A),{name:"docProps/core.xml"})}async addThemes(L,A){const S=A.themes||{theme1:V};Object.keys(S).forEach(k=>{const N=S[k],C=`xl/theme/${k}.xml`;L.append(N,{name:C})})}async addOfficeRels(L){const A=new v().toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);L.append(A,{name:"_rels/.rels"})}async addWorkbookRels(L,A){let S=1;const k=[{Id:"rId"+S++,Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:I.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&k.push({Id:"rId"+S++,Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(C=>{C.rId="rId"+S++,k.push({Id:C.rId,Type:I.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const N=new v().toXml(k);L.append(N,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(L,A){A.sharedStrings&&A.sharedStrings.count&&L.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(L,A){const{xml:S}=A.styles;S&&L.append(S,{name:"xl/styles.xml"})}async addWorkbook(L,A){const S=new F;L.append(S.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(L,A){const S=new G,k=new v,N=new M,C=new U;A.worksheets.forEach(O=>{let D=new d;S.render(D,O),L.append(D.xml,{name:`xl/worksheets/sheet${O.id}.xml`}),O.rels&&O.rels.length&&(D=new d,k.render(D,O.rels),L.append(D.xml,{name:`xl/worksheets/_rels/sheet${O.id}.xml.rels`})),O.comments.length>0&&(D=new d,N.render(D,O),L.append(D.xml,{name:`xl/comments${O.id}.xml`}),D=new d,C.render(D,O),L.append(D.xml,{name:`xl/drawings/vmlDrawing${O.id}.vml`}))})}_finalize(L){return new Promise((A,S)=>{L.on("finish",()=>{A(this)}),L.on("error",S),L.finalize()})}prepareModel(L,A){L.creator=L.creator||"ExcelJS",L.lastModifiedBy=L.lastModifiedBy||"ExcelJS",L.created=L.created||new Date,L.modified=L.modified||new Date,L.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,L.useStyles=A.useStyles===void 0||A.useStyles,L.sharedStrings=new w,L.styles=L.useStyles?new g(!0):new g.Mock;const S=new F,k=new G;S.prepare(L);const N={sharedStrings:L.sharedStrings,styles:L.styles,date1904:L.properties.date1904,drawingsCount:0,media:L.media};N.drawings=L.drawings=[],N.commentRefs=L.commentRefs=[];let C=0;L.tables=[],L.worksheets.forEach(O=>{O.tables.forEach(D=>{C++,D.target=`table${C}.xml`,D.id=C,L.tables.push(D)}),k.prepare(O,N)})}async write(L,A){A=A||{};const{model:S}=this.workbook,k=new u.ZipWriter(A.zip);return k.pipe(L),this.prepareModel(S,A),await this.addContentTypes(k,S),await this.addOfficeRels(k,S),await this.addWorkbookRels(k,S),await this.addWorksheets(k,S),await this.addSharedStrings(k,S),await this.addDrawings(k,S),await this.addTables(k,S),await Promise.all([this.addThemes(k,S),this.addStyles(k,S)]),await this.addMedia(k,S),await Promise.all([this.addApp(k,S),this.addCore(k,S)]),await this.addWorkbook(k,S),this._finalize(k)}writeFile(L,A){const S=l.createWriteStream(L);return new Promise((k,N)=>{S.on("finish",()=>{k()}),S.on("error",C=>{N(C)}),this.write(S,A).then(()=>{S.end()}).catch(C=>{N(C)})})}async writeBuffer(L){const A=new f;return await this.write(A,L),A.read()}}I.RelType=e("./rel-type"),n.exports=I}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=e("stream"),l=e("./formatter");class c extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(y,g)=>y?(d=!0,h(y)):(g&&g.forEach(p=>{this.push(s.from(p,"utf8"))}),d=!0,h()))}catch(y){if(d)throw y;h(y)}}_flush(u){this.rowFormatter.finish((f,h)=>f?u(f):(h&&h.forEach(d=>{this.push(s.from(d,"utf8"))}),u()))}}i.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var s=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(e("lodash.isboolean")),l=s(e("lodash.isnil")),c=s(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");const u=`[${a.delimiter}${c.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(a){this._headers=a}shouldQuote(a,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[a]:this._headers!==null&&f[this._headers[a]]}format(a,u,f){const h=(""+(l.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(h):h}quoteField(a){const{quote:u}=this.formatterOptions;return`${u}${a}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var s=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(e("lodash.isfunction")),l=s(e("lodash.isequal")),c=e("./FieldFormatter"),a=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return a.isSyncTransform(h)?(d,y)=>{let g=null;try{g=h(d)}catch(p){return y(p)}return y(null,g)}:(d,y)=>{h(d,y)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,d){this.callTransformer(h,(y,g)=>{if(y)return d(y);if(!h)return d(null);const p=[];if(g){const{shouldFormatColumns:w,headers:v}=this.checkHeaders(g);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),w){const _=this.gatherColumns(g);p.push(this.formatColumns(_,!1))}}return d(null,p)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((d,y)=>{const g=h[y];return g?g[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,y)=>h[y]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const y=h.map((p,w)=>this.fieldFormatter.format(p,w,d)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,y].join(""):y}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(s){(function(){var o=Object.create?function(w,v,_,T){T===void 0&&(T=_),Object.defineProperty(w,T,{enumerable:!0,get:function(){return v[_]}})}:function(w,v,_,T){T===void 0&&(T=_),w[T]=v[_]},l=Object.create?function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}:function(w,v){w.default=v},c=function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var _ in w)_!=="default"&&Object.prototype.hasOwnProperty.call(w,_)&&o(v,w,_);return l(v,w),v},a=function(w,v){for(var _ in w)_==="default"||Object.prototype.hasOwnProperty.call(v,_)||o(v,w,_)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=e("util"),f=e("stream"),h=c(e("fs")),d=e("./FormatterOptions"),y=e("./CsvFormatterStream");a(e("./types"),i);var g=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=w=>new y.CsvFormatterStream(new d.FormatterOptions(w)),i.write=(w,v)=>{const _=i.format(v),T=u.promisify((F,G)=>{_.write(F,void 0,G)});return w.reduce((F,G)=>F.then(()=>T(G)),Promise.resolve()).then(()=>_.end()).catch(F=>{_.emit("error",F)}),_},i.writeToStream=(w,v,_)=>i.write(v,_).pipe(w),i.writeToBuffer=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _=[],T=new f.Writable({write(F,G,$){_.push(F),$()}});return new Promise((F,G)=>{T.on("error",G).on("finish",()=>F(s.concat(_))),i.write(w,v).pipe(T)})},i.writeToString=(w,v)=>i.writeToBuffer(w,v).then(_=>_.toString()),i.writeToPath=(w,v,_)=>{const T=h.createWriteStream(w,{encoding:"utf8"});return i.write(v,_).pipe(T)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=e("string_decoder"),l=e("stream"),c=e("./transforms"),a=e("./parser");class u extends l.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new a.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,y=new Array(d>1?d-1:0),g=1;g<d;g++)y[g-1]=arguments[g];return super.emit(h,...y)}_transform(h,d,y){if(this.hasHitRowLimit)return y();const g=u.wrapDoneCallback(y);try{const{lines:p}=this,w=p+this.decoder.write(h),v=this.parse(w,!0);return this.processRows(v,g)}catch(p){return g(p)}}_flush(h){const d=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const y=this.lines+this.decoder.end(),g=this.parse(y,!1);return this.processRows(g,d)}catch(y){return d(y)}}parse(h,d){if(!h)return[];const{line:y,rows:g}=this.parser.parse(h,d);return this.lines=y,g}processRows(h,d){const y=h.length,g=p=>{const w=T=>T?d(T):p%100!=0?g(p+1):void s(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=y||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const v=h[p];this.rowCount+=1,this.parsedRowCount+=1;const _=this.rowCount;return this.transformRow(v,(T,F)=>{if(T)return this.rowCount-=1,w(T);if(!F)return w(new Error("expected transform result"));if(F.isValid){if(F.row)return this.pushRow(F.row,w)}else this.emit("data-invalid",F.row,_,F.reason);return w()})};g(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(y,g)=>y?d(y):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(y){d(y)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(y){d(y)}}static wrapDoneCallback(h){let d=!1;return function(y){if(y){if(d)throw y;return d=!0,void h(y)}for(var g=arguments.length,p=new Array(g>1?g-1:0),w=1;w<g;w++)p[w-1]=arguments[w];h(...p)}}}i.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(e("lodash.escaperegexp")),l=s(e("lodash.isnil"));i.ParserOptions=class{constructor(c){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var s=Object.create?function(g,p,w,v){v===void 0&&(v=w),Object.defineProperty(g,v,{enumerable:!0,get:function(){return p[w]}})}:function(g,p,w,v){v===void 0&&(v=w),g[v]=p[w]},o=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},l=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var w in g)w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)&&s(p,g,w);return o(p,g),p},c=function(g,p){for(var w in g)w==="default"||Object.prototype.hasOwnProperty.call(p,w)||s(p,g,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const a=l(e("fs")),u=e("stream"),f=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),i);var d=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var y=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),i.parse=g=>new h.CsvParserStream(new f.ParserOptions(g)),i.parseStream=(g,p)=>g.pipe(new h.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(g).pipe(new h.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(g,p)=>{const w=new u.Readable;return w.push(g),w.push(null),w.pipe(new h.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=e("./Scanner"),o=e("./RowParser"),l=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const h=new s.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const f=[];let h=!0;for(;h;)h=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,h=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(l.Token.isTokenComment(d,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=e("./column"),o=e("./Token");i.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new s.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:a}=l,u=l,f=[];let h=this.getStartToken(u,f);for(;h;){if(o.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,c)&&a?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,h,f)){const d=this.columnParser.parse(u);if(d===null)return null;f.push(d)}h=u.nextNonSpaceToken}return a?null:(u.truncateToCursor(),f)}getStartToken(l,c){const a=l.nextNonSpaceToken;return a!==null&&o.Token.isTokenDelimiter(a,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):a}shouldSkipColumnParse(l,c,a){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const f=l.nextCharacterToken;if(!l.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,u))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=e("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const a=c.exec(l);if(a==null)return null;const u=a[1],f=this.cursor+(a.index||0);return new s.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new s.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=o.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),l=e("../Token");i.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new o.QuotedColumnParser(c),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:a}=c;return a!==null&&l.Token.isTokenQuote(a,this.parserOptions)?(c.advanceToToken(a),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=e("./ColumnFormatter"),o=e("../Token");i.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new s.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,a=[];let u=l.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,c)&&!o.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)a.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=e("./ColumnFormatter"),o=e("../Token");i.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new s.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:a,col:u}=this.gatherDataBetweenQuotes(l);if(!a){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let a=!1,u=!1;const f=[];let h=l.nextCharacterToken;for(;!u&&h!==null;h=l.nextCharacterToken){const d=o.Token.isTokenQuote(h,c);if(!a&&d)a=!0;else if(a)if(o.Token.isTokenEscapeCharacter(h,c)){l.advancePastToken(h);const y=l.nextCharacterToken;y!==null&&(o.Token.isTokenQuote(y,c)||o.Token.isTokenEscapeCharacter(y,c))?(f.push(y.token),h=y):d?u=!0:f.push(h.token)}else d?u=!0:f.push(h.token);l.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:a}=l;if(a){const u=o.Token.isTokenDelimiter(a,c),f=o.Token.isTokenRowDelimiter(a);if(!u&&!f){const h=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${a.token}'. at '${h}`)}l.advanceToToken(a)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var l=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var l=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return c.Token}});var a=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(e("lodash.isundefined")),l=s(e("lodash.isfunction")),c=s(e("lodash.uniq")),a=s(e("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:h,headersLength:d}=this;for(let y=0;y<d;y+=1){const g=h[y];if(!o.default(g)){const p=u[y];o.default(p)?f[g]="":f[g]=p}}return f}setHeaders(u){var f;const h=u.filter(d=>!!d);if(c.default(h).length!==h.length){const d=a.default(h),y=Object.keys(d).filter(g=>d[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(y))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var s=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(e("lodash.isfunction")),l=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(f,h)=>{let d=null;try{d=u(f)}catch(y){return h(y)}return h(null,d)}:u}static createValidator(u){return l.isSyncValidate(u)?(f,h)=>{h(null,{row:f,isValid:u(f)})}:(f,h)=>{u(f,(d,y,g)=>d?h(d):h(null,y?{row:f,isValid:y,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(h,d)=>h?f(h):d?this.callValidator(d,(y,g)=>y?f(y):g&&!g.isValid?f(null,{row:d,isValid:!1,reason:g.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}i.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(e,n,i){const s=i;s.bignum=e("bn.js"),s.define=e("./asn1/api").define,s.base=e("./asn1/base"),s.constants=e("./asn1/constants"),s.decoders=e("./asn1/decoders"),s.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const s=e("./encoders"),o=e("./decoders"),l=e("inherits");function c(a,u){this.name=a,this.body=u,this.decoders={},this.encoders={}}i.define=function(a,u){return new c(a,u)},c.prototype._createNamed=function(a){const u=this.name;function f(h){this._initNamed(h,u)}return l(f,a),f.prototype._initNamed=function(h,d){a.call(this,h,d)},new f(this)},c.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(o[a])),this.decoders[a]},c.prototype.decode=function(a,u,f){return this._getDecoder(u).decode(a,f)},c.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(s[a])),this.encoders[a]},c.prototype.encode=function(a,u,f){return this._getEncoder(u).encode(a,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const s=e("inherits"),o=e("../base/reporter").Reporter,l=e("safer-buffer").Buffer;function c(u,f){o.call(this,f),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function a(u,f){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return a.isEncoderBuffer(h)||(h=new a(h,f)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(c,o),i.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},c.prototype.restore=function(u){const f=new c(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),f},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=a,a.isEncoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},a.prototype.join=function(u,f){return u||(u=l.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,f),f+=h.length})):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):l.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const s=i;s.Reporter=e("./reporter").Reporter,s.DecoderBuffer=e("./buffer").DecoderBuffer,s.EncoderBuffer=e("./buffer").EncoderBuffer,s.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const s=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,l=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function f(d,y,g){const p={};this._baseState=p,p.name=g,p.enc=d,p.parent=y||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,y={};h.forEach((function(p){y[p]=d[p]}));const g=new this.constructor(y.parent);return g._baseState=y,g},f.prototype._wrap=function(){const d=this._baseState;u.forEach((function(y){this[y]=function(){const g=new this.constructor(this);return d.children.push(g),g[y].apply(g,arguments)}}),this)},f.prototype._init=function(d){const y=this._baseState;c(y.parent===null),d.call(this),y.children=y.children.filter((function(g){return g._baseState.parent===this}),this),c.equal(y.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const y=this._baseState,g=d.filter((function(p){return p instanceof this.constructor}),this);d=d.filter((function(p){return!(p instanceof this.constructor)}),this),g.length!==0&&(c(y.children===null),y.children=g,g.forEach((function(p){p._baseState.parent=this}),this)),d.length!==0&&(c(y.args===null),y.args=d,y.reverseArgs=d.map((function(p){if(typeof p!="object"||p.constructor!==Object)return p;const w={};return Object.keys(p).forEach((function(v){v==(0|v)&&(v|=0);const _=p[v];w[_]=v})),w})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){f.prototype[d]=function(){const y=this._baseState;throw new Error(d+" not implemented for encoding: "+y.enc)}})),a.forEach((function(d){f.prototype[d]=function(){const y=this._baseState,g=Array.prototype.slice.call(arguments);return c(y.tag===null),y.tag=d,this._useArgs(g),this}})),f.prototype.use=function(d){c(d);const y=this._baseState;return c(y.use===null),y.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const y=this._baseState;return c(y.default===null),y.default=d,y.optional=!0,this},f.prototype.explicit=function(d){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.explicit=d,this},f.prototype.implicit=function(d){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,y=Array.prototype.slice.call(arguments);return d.obj=!0,y.length!==0&&this._useArgs(y),this},f.prototype.key=function(d){const y=this._baseState;return c(y.key===null),y.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const y=this._baseState;return c(y.choice===null),y.choice=d,this._useArgs(Object.keys(d).map((function(g){return d[g]}))),this},f.prototype.contains=function(d){const y=this._baseState;return c(y.use===null),y.contains=d,this},f.prototype._decode=function(d,y){const g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,y));let p,w=g.default,v=!0,_=null;if(g.key!==null&&(_=d.enterKey(g.key)),g.optional){let T=null;if(g.explicit!==null?T=g.explicit:g.implicit!==null?T=g.implicit:g.tag!==null&&(T=g.tag),T!==null||g.any){if(v=this._peekTag(d,T,g.any),d.isError(v))return v}else{const F=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,y):this._decodeChoice(d,y),v=!0}catch{v=!1}d.restore(F)}}if(g.obj&&v&&(p=d.enterObject()),v){if(g.explicit!==null){const F=this._decodeTag(d,g.explicit);if(d.isError(F))return F;d=F}const T=d.offset;if(g.use===null&&g.choice===null){let F;g.any&&(F=d.save());const G=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(G))return G;g.any?w=d.raw(F):d=G}if(y&&y.track&&g.tag!==null&&y.track(d.path(),T,d.length,"tagged"),y&&y.track&&g.tag!==null&&y.track(d.path(),d.offset,d.length,"content"),g.any||(w=g.choice===null?this._decodeGeneric(g.tag,d,y):this._decodeChoice(d,y)),d.isError(w))return w;if(g.any||g.choice!==null||g.children===null||g.children.forEach((function(F){F._decode(d,y)})),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const F=new l(w);w=this._getUse(g.contains,d._reporterState.obj)._decode(F,y)}}return g.obj&&v&&(w=d.leaveObject(p)),g.key===null||w===null&&v!==!0?_!==null&&d.exitKey(_):d.leaveKey(_,g.key,w),w},f.prototype._decodeGeneric=function(d,y,g){const p=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(y,d,p.args[0],g):/str$/.test(d)?this._decodeStr(y,d,g):d==="objid"&&p.args?this._decodeObjid(y,p.args[0],p.args[1],g):d==="objid"?this._decodeObjid(y,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(y,d,g):d==="null_"?this._decodeNull(y,g):d==="bool"?this._decodeBool(y,g):d==="objDesc"?this._decodeStr(y,d,g):d==="int"||d==="enum"?this._decodeInt(y,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,y._reporterState.obj)._decode(y,g):y.error("unknown tag: "+d)},f.prototype._getUse=function(d,y){const g=this._baseState;return g.useDecoder=this._use(d,y),c(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(d,y){const g=this._baseState;let p=null,w=!1;return Object.keys(g.choice).some((function(v){const _=d.save(),T=g.choice[v];try{const F=T._decode(d,y);if(d.isError(F))return!1;p={type:v,value:F},w=!0}catch{return d.restore(_),!1}return!0}),this),w?p:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new o(d,this.reporter)},f.prototype._encode=function(d,y,g){const p=this._baseState;if(p.default!==null&&p.default===d)return;const w=this._encodeValue(d,y,g);return w===void 0||this._skipDefault(w,y,g)?void 0:w},f.prototype._encodeValue=function(d,y,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(d,y||new s);let w=null;if(this.reporter=y,p.optional&&d===void 0){if(p.default===null)return;d=p.default}let v=null,_=!1;if(p.any)w=this._createEncoderBuffer(d);else if(p.choice)w=this._encodeChoice(d,y);else if(p.contains)v=this._getUse(p.contains,g)._encode(d,y),_=!0;else if(p.children)v=p.children.map((function(T){if(T._baseState.tag==="null_")return T._encode(null,y,d);if(T._baseState.key===null)return y.error("Child should have a key");const F=y.enterKey(T._baseState.key);if(typeof d!="object")return y.error("Child expected, but input is not object");const G=T._encode(d[T._baseState.key],y,d);return y.leaveKey(F),G}),this).filter((function(T){return T})),v=this._createEncoderBuffer(v);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return y.error("Too many args for : "+p.tag);if(!Array.isArray(d))return y.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,v=this._createEncoderBuffer(d.map((function(F){const G=this._baseState;return this._getUse(G.args[0],d)._encode(F,y)}),T))}else p.use!==null?w=this._getUse(p.use,g)._encode(d,y):(v=this._encodePrimitive(p.tag,d),_=!0);if(!p.any&&p.choice===null){const T=p.implicit!==null?p.implicit:p.tag,F=p.implicit===null?"universal":"context";T===null?p.use===null&&y.error("Tag could be omitted only for .use()"):p.use===null&&(w=this._encodeComposite(T,_,F,v))}return p.explicit!==null&&(w=this._encodeComposite(p.explicit,!1,"context",w)),w},f.prototype._encodeChoice=function(d,y){const g=this._baseState,p=g.choice[d.type];return p||c(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(d.value,y)},f.prototype._encodePrimitive=function(d,y){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(y,d);if(d==="objid"&&g.args)return this._encodeObjid(y,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(y,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(y,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(y,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(y);if(d==="objDesc")return this._encodeStr(y,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const s=e("inherits");function o(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,a){this.path=c,this.rethrow(a)}i.Reporter=o,o.prototype.isError=function(c){return c instanceof l},o.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},o.prototype.restore=function(c){const a=this._reporterState;a.obj=c.obj,a.path=a.path.slice(0,c.pathLen)},o.prototype.enterKey=function(c){return this._reporterState.path.push(c)},o.prototype.exitKey=function(c){const a=this._reporterState;a.path=a.path.slice(0,c-1)},o.prototype.leaveKey=function(c,a,u){const f=this._reporterState;this.exitKey(c),f.obj!==null&&(f.obj[a]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const c=this._reporterState,a=c.obj;return c.obj={},a},o.prototype.leaveObject=function(c){const a=this._reporterState,u=a.obj;return a.obj=c,u},o.prototype.error=function(c){let a;const u=this._reporterState,f=c instanceof l;if(a=f?c:new l(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw a;return f||u.errors.push(a),a},o.prototype.wrapResult=function(c){const a=this._reporterState;return a.options.partial?{result:this.isError(c)?null:c,errors:a.errors}:c},s(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,n,i){function s(o){const l={};return Object.keys(o).forEach((function(c){(0|c)==c&&(c|=0);const a=o[c];l[a]=c})),l}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(e,n,i){const s=i;s._reverse=function(o){const l={};return Object.keys(o).forEach((function(c){(0|c)==c&&(c|=0);const a=o[c];l[a]=c})),l},s.der=e("./der")},{"./der":176}],178:[function(e,n,i){const s=e("inherits"),o=e("bn.js"),l=e("../base/buffer").DecoderBuffer,c=e("../base/node"),a=e("../constants/der");function u(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new f,this.tree._init(y.body)}function f(y){c.call(this,"der",y)}function h(y,g){let p=y.readUInt8(g);if(y.isError(p))return p;const w=a.tagClass[p>>6],v=(32&p)==0;if((31&p)==31){let _=p;for(p=0;(128&_)==128;){if(_=y.readUInt8(g),y.isError(_))return _;p<<=7,p|=127&_}}else p&=31;return{cls:w,primitive:v,tag:p,tagStr:a.tag[p]}}function d(y,g,p){let w=y.readUInt8(p);if(y.isError(w))return w;if(!g&&w===128)return null;if((128&w)==0)return w;const v=127&w;if(v>4)return y.error("length octect is too long");w=0;for(let _=0;_<v;_++){w<<=8;const T=y.readUInt8(p);if(y.isError(T))return T;w|=T}return w}n.exports=u,u.prototype.decode=function(y,g){return l.isDecoderBuffer(y)||(y=new l(y,g)),this.tree._decode(y,g)},s(f,c),f.prototype._peekTag=function(y,g,p){if(y.isEmpty())return!1;const w=y.save(),v=h(y,'Failed to peek tag: "'+g+'"');return y.isError(v)?v:(y.restore(w),v.tag===g||v.tagStr===g||v.tagStr+"of"===g||p)},f.prototype._decodeTag=function(y,g,p){const w=h(y,'Failed to decode tag of "'+g+'"');if(y.isError(w))return w;let v=d(y,w.primitive,'Failed to get length of "'+g+'"');if(y.isError(v))return v;if(!p&&w.tag!==g&&w.tagStr!==g&&w.tagStr+"of"!==g)return y.error('Failed to match tag: "'+g+'"');if(w.primitive||v!==null)return y.skip(v,'Failed to match body of: "'+g+'"');const _=y.save(),T=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(T)?T:(v=y.offset-_.offset,y.restore(_),y.skip(v,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(y,g){for(;;){const p=h(y,g);if(y.isError(p))return p;const w=d(y,p.primitive,g);if(y.isError(w))return w;let v;if(v=p.primitive||w!==null?y.skip(w):this._skipUntilEnd(y,g),y.isError(v))return v;if(p.tagStr==="end")break}},f.prototype._decodeList=function(y,g,p,w){const v=[];for(;!y.isEmpty();){const _=this._peekTag(y,"end");if(y.isError(_))return _;const T=p.decode(y,"der",w);if(y.isError(T)&&_)break;v.push(T)}return v},f.prototype._decodeStr=function(y,g){if(g==="bitstr"){const p=y.readUInt8();return y.isError(p)?p:{unused:p,data:y.raw()}}if(g==="bmpstr"){const p=y.raw();if(p.length%2==1)return y.error("Decoding of string type: bmpstr length mismatch");let w="";for(let v=0;v<p.length/2;v++)w+=String.fromCharCode(p.readUInt16BE(2*v));return w}if(g==="numstr"){const p=y.raw().toString("ascii");return this._isNumstr(p)?p:y.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return y.raw();if(g==="printstr"){const p=y.raw().toString("ascii");return this._isPrintstr(p)?p:y.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?y.raw().toString():y.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(y,g,p){let w;const v=[];let _=0,T=0;for(;!y.isEmpty();)T=y.readUInt8(),_<<=7,_|=127&T,(128&T)==0&&(v.push(_),_=0);128&T&&v.push(_);const F=v[0]/40|0,G=v[0]%40;if(w=p?v:[F,G].concat(v.slice(1)),g){let $=g[w.join(" ")];$===void 0&&($=g[w.join(".")]),$!==void 0&&(w=$)}return w},f.prototype._decodeTime=function(y,g){const p=y.raw().toString();let w,v,_,T,F,G;if(g==="gentime")w=0|p.slice(0,4),v=0|p.slice(4,6),_=0|p.slice(6,8),T=0|p.slice(8,10),F=0|p.slice(10,12),G=0|p.slice(12,14);else{if(g!=="utctime")return y.error("Decoding "+g+" time is not supported yet");w=0|p.slice(0,2),v=0|p.slice(2,4),_=0|p.slice(4,6),T=0|p.slice(6,8),F=0|p.slice(8,10),G=0|p.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,v-1,_,T,F,G,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(y){const g=y.readUInt8();return y.isError(g)?g:g!==0},f.prototype._decodeInt=function(y,g){const p=y.raw();let w=new o(p);return g&&(w=g[w.toString(10)]||w),w},f.prototype._use=function(y,g){return typeof y=="function"&&(y=y(g)),y._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const s=e("inherits"),o=e("safer-buffer").Buffer,l=e("./der");function c(a){l.call(this,a),this.enc="pem"}s(c,l),n.exports=c,c.prototype.decode=function(a,u){const f=a.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,g=-1;for(let v=0;v<f.length;v++){const _=f[v].match(d);if(_!==null&&_[2]===h){if(y!==-1){if(_[1]!=="END")break;g=v;break}if(_[1]!=="BEGIN")break;y=v}}if(y===-1||g===-1)throw new Error("PEM section not found for: "+h);const p=f.slice(y+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const w=o.from(p,"base64");return l.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const s=e("inherits"),o=e("safer-buffer").Buffer,l=e("../base/node"),c=e("../constants/der");function a(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){l.call(this,"der",h)}function f(h){return h<10?"0"+h:h}n.exports=a,a.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},s(u,l),u.prototype._encodeComposite=function(h,d,y,g){const p=(function(_,T,F,G){let $;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),c.tagByName.hasOwnProperty(_))$=c.tagByName[_];else{if(typeof _!="number"||(0|_)!==_)return G.error("Unknown tag: "+_);$=_}return $>=31?G.error("Multi-octet tag encoding unsupported"):(T||($|=32),$|=c.tagClassByName[F||"universal"]<<6,$)})(h,d,y,this.reporter);if(g.length<128){const _=o.alloc(2);return _[0]=p,_[1]=g.length,this._createEncoderBuffer([_,g])}let w=1;for(let _=g.length;_>=256;_>>=8)w++;const v=o.alloc(2+w);v[0]=p,v[1]=128|w;for(let _=1+w,T=g.length;T>0;_--,T>>=8)v[_]=255&T;return this._createEncoderBuffer([v,g])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const y=o.alloc(2*h.length);for(let g=0;g<h.length;g++)y.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(y)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,y){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!y){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let v=0;v<h.length;v++){let _=h[v];for(g++;_>=128;_>>=7)g++}const p=o.alloc(g);let w=p.length-1;for(let v=h.length-1;v>=0;v--){let _=h[v];for(p[w--]=127&_;(_>>=7)>0;)p[w--]=128|127&_}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(h,d){let y;const g=new Date(h);return d==="gentime"?y=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?y=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(y,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!o.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=o.from(p)}if(o.isBuffer(h)){let p=h.length;h.length===0&&p++;const w=o.alloc(p);return h.copy(w),h.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let y=1;for(let p=h;p>=256;p>>=8)y++;const g=new Array(y);for(let p=g.length-1;p>=0;p--)g[p]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,y){const g=this._baseState;let p;if(g.default===null)return!1;const w=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,d,y).join()),w.length!==g.defaultBuffer.length)return!1;for(p=0;p<w.length;p++)if(w[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const s=e("inherits"),o=e("./der");function l(c){o.call(this,c),this.enc="pem"}s(l,o),n.exports=l,l.prototype.encode=function(c,a){const u=o.prototype.encode.call(this,c).toString("base64"),f=["-----BEGIN "+a.label+"-----"];for(let h=0;h<u.length;h+=64)f.push(u.slice(h,h+64));return f.push("-----END "+a.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(s,o){function l(E,L){if(!E)throw new Error(L||"Assertion failed")}function c(E,L){E.super_=L;var A=function(){};A.prototype=L.prototype,E.prototype=new A,E.prototype.constructor=E}function a(E,L,A){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(L!=="le"&&L!=="be"||(A=L,L=10),this._init(E||0,L||10,A||"be"))}var u;typeof s=="object"?s.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(E,L){var A=E.charCodeAt(L);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(E,L,A){var S=f(E,A);return A-1>=L&&(S|=f(E,A-1)<<4),S}function d(E,L,A,S){for(var k=0,N=Math.min(E.length,A),C=L;C<N;C++){var O=E.charCodeAt(C)-48;k*=S,k+=O>=49?O-49+10:O>=17?O-17+10:O}return k}a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,L){return E.cmp(L)>0?E:L},a.min=function(E,L){return E.cmp(L)<0?E:L},a.prototype._init=function(E,L,A){if(typeof E=="number")return this._initNumber(E,L,A);if(typeof E=="object")return this._initArray(E,L,A);L==="hex"&&(L=16),l(L===(0|L)&&L>=2&&L<=36);var S=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<E.length&&(L===16?this._parseHex(E,S,A):(this._parseBase(E,L,S),A==="le"&&this._initArray(this.toArray(),L,A)))},a.prototype._initNumber=function(E,L,A){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(l(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),L,A)},a.prototype._initArray=function(E,L,A){if(l(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,N,C=0;if(A==="be")for(S=E.length-1,k=0;S>=0;S-=3)N=E[S]|E[S-1]<<8|E[S-2]<<16,this.words[k]|=N<<C&67108863,this.words[k+1]=N>>>26-C&67108863,(C+=24)>=26&&(C-=26,k++);else if(A==="le")for(S=0,k=0;S<E.length;S+=3)N=E[S]|E[S+1]<<8|E[S+2]<<16,this.words[k]|=N<<C&67108863,this.words[k+1]=N>>>26-C&67108863,(C+=24)>=26&&(C-=26,k++);return this.strip()},a.prototype._parseHex=function(E,L,A){this.length=Math.ceil((E.length-L)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,N=0,C=0;if(A==="be")for(S=E.length-1;S>=L;S-=2)k=h(E,L,S)<<N,this.words[C]|=67108863&k,N>=18?(N-=18,C+=1,this.words[C]|=k>>>26):N+=8;else for(S=(E.length-L)%2==0?L+1:L;S<E.length;S+=2)k=h(E,L,S)<<N,this.words[C]|=67108863&k,N>=18?(N-=18,C+=1,this.words[C]|=k>>>26):N+=8;this.strip()},a.prototype._parseBase=function(E,L,A){this.words=[0],this.length=1;for(var S=0,k=1;k<=67108863;k*=L)S++;S--,k=k/L|0;for(var N=E.length-A,C=N%S,O=Math.min(N,N-C)+A,D=0,j=A;j<O;j+=S)D=d(E,j,j+S,L),this.imuln(k),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D);if(C!==0){var K=1;for(D=d(E,j,E.length,L),j=0;j<C;j++)K*=L;this.imuln(K),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D)}this.strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var L=0;L<this.length;L++)E.words[L]=this.words[L];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(E,L,A){A.negative=L.negative^E.negative;var S=E.length+L.length|0;A.length=S,S=S-1|0;var k=0|E.words[0],N=0|L.words[0],C=k*N,O=67108863&C,D=C/67108864|0;A.words[0]=O;for(var j=1;j<S;j++){for(var K=D>>>26,Z=67108863&D,ne=Math.min(j,L.length-1),H=Math.max(0,j-E.length+1);H<=ne;H++){var J=j-H|0;K+=(C=(k=0|E.words[J])*(N=0|L.words[H])+Z)/67108864|0,Z=67108863&C}A.words[j]=0|Z,D=0|K}return D!==0?A.words[j]=0|D:A.length--,A.strip()}a.prototype.toString=function(E,L){var A;if(L=0|L||1,(E=E||10)===16||E==="hex"){A="";for(var S=0,k=0,N=0;N<this.length;N++){var C=this.words[N],O=(16777215&(C<<S|k)).toString(16);A=(k=C>>>24-S&16777215)!==0||N!==this.length-1?y[6-O.length]+O+A:O+A,(S+=2)>=26&&(S-=26,N--)}for(k!==0&&(A=k.toString(16)+A);A.length%L!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(E===(0|E)&&E>=2&&E<=36){var D=g[E],j=p[E];A="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(j).toString(E);A=(K=K.idivn(j)).isZero()?Z+A:y[D-Z.length]+Z+A}for(this.isZero()&&(A="0"+A);A.length%L!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}l(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(E,L){return l(u!==void 0),this.toArrayLike(u,E,L)},a.prototype.toArray=function(E,L){return this.toArrayLike(Array,E,L)},a.prototype.toArrayLike=function(E,L,A){var S=this.byteLength(),k=A||Math.max(1,S);l(S<=k,"byte array longer than desired length"),l(k>0,"Requested array length <= 0"),this.strip();var N,C,O=L==="le",D=new E(k),j=this.clone();if(O){for(C=0;!j.isZero();C++)N=j.andln(255),j.iushrn(8),D[C]=N;for(;C<k;C++)D[C]=0}else{for(C=0;C<k-S;C++)D[C]=0;for(C=0;!j.isZero();C++)N=j.andln(255),j.iushrn(8),D[k-C-1]=N}return D},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var L=E,A=0;return L>=4096&&(A+=13,L>>>=13),L>=64&&(A+=7,L>>>=7),L>=8&&(A+=4,L>>>=4),L>=2&&(A+=2,L>>>=2),A+L},a.prototype._zeroBits=function(E){if(E===0)return 26;var L=E,A=0;return(8191&L)==0&&(A+=13,L>>>=13),(127&L)==0&&(A+=7,L>>>=7),(15&L)==0&&(A+=4,L>>>=4),(3&L)==0&&(A+=2,L>>>=2),(1&L)==0&&A++,A},a.prototype.bitLength=function(){var E=this.words[this.length-1],L=this._countBits(E);return 26*(this.length-1)+L},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,L=0;L<this.length;L++){var A=this._zeroBits(this.words[L]);if(E+=A,A!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var L=0;L<E.length;L++)this.words[L]=this.words[L]|E.words[L];return this.strip()},a.prototype.ior=function(E){return l((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var L;L=this.length>E.length?E:this;for(var A=0;A<L.length;A++)this.words[A]=this.words[A]&E.words[A];return this.length=L.length,this.strip()},a.prototype.iand=function(E){return l((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var L,A;this.length>E.length?(L=this,A=E):(L=E,A=this);for(var S=0;S<A.length;S++)this.words[S]=L.words[S]^A.words[S];if(this!==L)for(;S<L.length;S++)this.words[S]=L.words[S];return this.length=L.length,this.strip()},a.prototype.ixor=function(E){return l((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){l(typeof E=="number"&&E>=0);var L=0|Math.ceil(E/26),A=E%26;this._expand(L),A>0&&L--;for(var S=0;S<L;S++)this.words[S]=67108863&~this.words[S];return A>0&&(this.words[S]=~this.words[S]&67108863>>26-A),this.strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,L){l(typeof E=="number"&&E>=0);var A=E/26|0,S=E%26;return this._expand(A+1),this.words[A]=L?this.words[A]|1<<S:this.words[A]&~(1<<S),this.strip()},a.prototype.iadd=function(E){var L,A,S;if(this.negative!==0&&E.negative===0)return this.negative=0,L=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,L=this.isub(E),E.negative=1,L._normSign();this.length>E.length?(A=this,S=E):(A=E,S=this);for(var k=0,N=0;N<S.length;N++)L=(0|A.words[N])+(0|S.words[N])+k,this.words[N]=67108863&L,k=L>>>26;for(;k!==0&&N<A.length;N++)L=(0|A.words[N])+k,this.words[N]=67108863&L,k=L>>>26;if(this.length=A.length,k!==0)this.words[this.length]=k,this.length++;else if(A!==this)for(;N<A.length;N++)this.words[N]=A.words[N];return this},a.prototype.add=function(E){var L;return E.negative!==0&&this.negative===0?(E.negative=0,L=this.sub(E),E.negative^=1,L):E.negative===0&&this.negative!==0?(this.negative=0,L=E.sub(this),this.negative=1,L):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var L=this.iadd(E);return E.negative=1,L._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var A,S,k=this.cmp(E);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(A=this,S=E):(A=E,S=this);for(var N=0,C=0;C<S.length;C++)N=(L=(0|A.words[C])-(0|S.words[C])+N)>>26,this.words[C]=67108863&L;for(;N!==0&&C<A.length;C++)N=(L=(0|A.words[C])+N)>>26,this.words[C]=67108863&L;if(N===0&&C<A.length&&A!==this)for(;C<A.length;C++)this.words[C]=A.words[C];return this.length=Math.max(this.length,C),A!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var v=function(E,L,A){var S,k,N,C=E.words,O=L.words,D=A.words,j=0,K=0|C[0],Z=8191&K,ne=K>>>13,H=0|C[1],J=8191&H,z=H>>>13,B=0|C[2],Q=8191&B,oe=B>>>13,pe=0|C[3],de=8191&pe,ve=pe>>>13,ce=0|C[4],he=8191&ce,fe=ce>>>13,ke=0|C[5],ye=8191&ke,Re=ke>>>13,Ie=0|C[6],Oe=8191&Ie,Fe=Ie>>>13,Se=0|C[7],Pe=8191&Se,He=Se>>>13,Ze=0|C[8],at=8191&Ze,Je=Ze>>>13,lt=0|C[9],ut=8191&lt,Ut=lt>>>13,ft=0|O[0],st=8191&ft,mt=ft>>>13,At=0|O[1],dt=8191&At,Yt=At>>>13,zt=0|O[2],St=8191&zt,nr=zt>>>13,Tt=0|O[3],_t=8191&Tt,sr=Tt>>>13,Dt=0|O[4],jt=8191&Dt,Zt=Dt>>>13,br=0|O[5],bt=8191&br,Ar=br>>>13,Ir=0|O[6],Kt=8191&Ir,Le=Ir>>>13,ze=0|O[7],et=8191&ze,Et=ze>>>13,er=0|O[8],Lt=8191&er,dr=er>>>13,ir=0|O[9],Wt=8191&ir,mr=ir>>>13;A.negative=E.negative^L.negative,A.length=19;var hr=(j+(S=Math.imul(Z,st))|0)+((8191&(k=(k=Math.imul(Z,mt))+Math.imul(ne,st)|0))<<13)|0;j=((N=Math.imul(ne,mt))+(k>>>13)|0)+(hr>>>26)|0,hr&=67108863,S=Math.imul(J,st),k=(k=Math.imul(J,mt))+Math.imul(z,st)|0,N=Math.imul(z,mt);var Lr=(j+(S=S+Math.imul(Z,dt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Yt)|0)+Math.imul(ne,dt)|0))<<13)|0;j=((N=N+Math.imul(ne,Yt)|0)+(k>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,S=Math.imul(Q,st),k=(k=Math.imul(Q,mt))+Math.imul(oe,st)|0,N=Math.imul(oe,mt),S=S+Math.imul(J,dt)|0,k=(k=k+Math.imul(J,Yt)|0)+Math.imul(z,dt)|0,N=N+Math.imul(z,Yt)|0;var pn=(j+(S=S+Math.imul(Z,St)|0)|0)+((8191&(k=(k=k+Math.imul(Z,nr)|0)+Math.imul(ne,St)|0))<<13)|0;j=((N=N+Math.imul(ne,nr)|0)+(k>>>13)|0)+(pn>>>26)|0,pn&=67108863,S=Math.imul(de,st),k=(k=Math.imul(de,mt))+Math.imul(ve,st)|0,N=Math.imul(ve,mt),S=S+Math.imul(Q,dt)|0,k=(k=k+Math.imul(Q,Yt)|0)+Math.imul(oe,dt)|0,N=N+Math.imul(oe,Yt)|0,S=S+Math.imul(J,St)|0,k=(k=k+Math.imul(J,nr)|0)+Math.imul(z,St)|0,N=N+Math.imul(z,nr)|0;var on=(j+(S=S+Math.imul(Z,_t)|0)|0)+((8191&(k=(k=k+Math.imul(Z,sr)|0)+Math.imul(ne,_t)|0))<<13)|0;j=((N=N+Math.imul(ne,sr)|0)+(k>>>13)|0)+(on>>>26)|0,on&=67108863,S=Math.imul(he,st),k=(k=Math.imul(he,mt))+Math.imul(fe,st)|0,N=Math.imul(fe,mt),S=S+Math.imul(de,dt)|0,k=(k=k+Math.imul(de,Yt)|0)+Math.imul(ve,dt)|0,N=N+Math.imul(ve,Yt)|0,S=S+Math.imul(Q,St)|0,k=(k=k+Math.imul(Q,nr)|0)+Math.imul(oe,St)|0,N=N+Math.imul(oe,nr)|0,S=S+Math.imul(J,_t)|0,k=(k=k+Math.imul(J,sr)|0)+Math.imul(z,_t)|0,N=N+Math.imul(z,sr)|0;var Ln=(j+(S=S+Math.imul(Z,jt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Zt)|0)+Math.imul(ne,jt)|0))<<13)|0;j=((N=N+Math.imul(ne,Zt)|0)+(k>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,S=Math.imul(ye,st),k=(k=Math.imul(ye,mt))+Math.imul(Re,st)|0,N=Math.imul(Re,mt),S=S+Math.imul(he,dt)|0,k=(k=k+Math.imul(he,Yt)|0)+Math.imul(fe,dt)|0,N=N+Math.imul(fe,Yt)|0,S=S+Math.imul(de,St)|0,k=(k=k+Math.imul(de,nr)|0)+Math.imul(ve,St)|0,N=N+Math.imul(ve,nr)|0,S=S+Math.imul(Q,_t)|0,k=(k=k+Math.imul(Q,sr)|0)+Math.imul(oe,_t)|0,N=N+Math.imul(oe,sr)|0,S=S+Math.imul(J,jt)|0,k=(k=k+Math.imul(J,Zt)|0)+Math.imul(z,jt)|0,N=N+Math.imul(z,Zt)|0;var In=(j+(S=S+Math.imul(Z,bt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Ar)|0)+Math.imul(ne,bt)|0))<<13)|0;j=((N=N+Math.imul(ne,Ar)|0)+(k>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(Oe,st),k=(k=Math.imul(Oe,mt))+Math.imul(Fe,st)|0,N=Math.imul(Fe,mt),S=S+Math.imul(ye,dt)|0,k=(k=k+Math.imul(ye,Yt)|0)+Math.imul(Re,dt)|0,N=N+Math.imul(Re,Yt)|0,S=S+Math.imul(he,St)|0,k=(k=k+Math.imul(he,nr)|0)+Math.imul(fe,St)|0,N=N+Math.imul(fe,nr)|0,S=S+Math.imul(de,_t)|0,k=(k=k+Math.imul(de,sr)|0)+Math.imul(ve,_t)|0,N=N+Math.imul(ve,sr)|0,S=S+Math.imul(Q,jt)|0,k=(k=k+Math.imul(Q,Zt)|0)+Math.imul(oe,jt)|0,N=N+Math.imul(oe,Zt)|0,S=S+Math.imul(J,bt)|0,k=(k=k+Math.imul(J,Ar)|0)+Math.imul(z,bt)|0,N=N+Math.imul(z,Ar)|0;var Wn=(j+(S=S+Math.imul(Z,Kt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Le)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((N=N+Math.imul(ne,Le)|0)+(k>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,S=Math.imul(Pe,st),k=(k=Math.imul(Pe,mt))+Math.imul(He,st)|0,N=Math.imul(He,mt),S=S+Math.imul(Oe,dt)|0,k=(k=k+Math.imul(Oe,Yt)|0)+Math.imul(Fe,dt)|0,N=N+Math.imul(Fe,Yt)|0,S=S+Math.imul(ye,St)|0,k=(k=k+Math.imul(ye,nr)|0)+Math.imul(Re,St)|0,N=N+Math.imul(Re,nr)|0,S=S+Math.imul(he,_t)|0,k=(k=k+Math.imul(he,sr)|0)+Math.imul(fe,_t)|0,N=N+Math.imul(fe,sr)|0,S=S+Math.imul(de,jt)|0,k=(k=k+Math.imul(de,Zt)|0)+Math.imul(ve,jt)|0,N=N+Math.imul(ve,Zt)|0,S=S+Math.imul(Q,bt)|0,k=(k=k+Math.imul(Q,Ar)|0)+Math.imul(oe,bt)|0,N=N+Math.imul(oe,Ar)|0,S=S+Math.imul(J,Kt)|0,k=(k=k+Math.imul(J,Le)|0)+Math.imul(z,Kt)|0,N=N+Math.imul(z,Le)|0;var Ae=(j+(S=S+Math.imul(Z,et)|0)|0)+((8191&(k=(k=k+Math.imul(Z,Et)|0)+Math.imul(ne,et)|0))<<13)|0;j=((N=N+Math.imul(ne,Et)|0)+(k>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,S=Math.imul(at,st),k=(k=Math.imul(at,mt))+Math.imul(Je,st)|0,N=Math.imul(Je,mt),S=S+Math.imul(Pe,dt)|0,k=(k=k+Math.imul(Pe,Yt)|0)+Math.imul(He,dt)|0,N=N+Math.imul(He,Yt)|0,S=S+Math.imul(Oe,St)|0,k=(k=k+Math.imul(Oe,nr)|0)+Math.imul(Fe,St)|0,N=N+Math.imul(Fe,nr)|0,S=S+Math.imul(ye,_t)|0,k=(k=k+Math.imul(ye,sr)|0)+Math.imul(Re,_t)|0,N=N+Math.imul(Re,sr)|0,S=S+Math.imul(he,jt)|0,k=(k=k+Math.imul(he,Zt)|0)+Math.imul(fe,jt)|0,N=N+Math.imul(fe,Zt)|0,S=S+Math.imul(de,bt)|0,k=(k=k+Math.imul(de,Ar)|0)+Math.imul(ve,bt)|0,N=N+Math.imul(ve,Ar)|0,S=S+Math.imul(Q,Kt)|0,k=(k=k+Math.imul(Q,Le)|0)+Math.imul(oe,Kt)|0,N=N+Math.imul(oe,Le)|0,S=S+Math.imul(J,et)|0,k=(k=k+Math.imul(J,Et)|0)+Math.imul(z,et)|0,N=N+Math.imul(z,Et)|0;var $e=(j+(S=S+Math.imul(Z,Lt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,dr)|0)+Math.imul(ne,Lt)|0))<<13)|0;j=((N=N+Math.imul(ne,dr)|0)+(k>>>13)|0)+($e>>>26)|0,$e&=67108863,S=Math.imul(ut,st),k=(k=Math.imul(ut,mt))+Math.imul(Ut,st)|0,N=Math.imul(Ut,mt),S=S+Math.imul(at,dt)|0,k=(k=k+Math.imul(at,Yt)|0)+Math.imul(Je,dt)|0,N=N+Math.imul(Je,Yt)|0,S=S+Math.imul(Pe,St)|0,k=(k=k+Math.imul(Pe,nr)|0)+Math.imul(He,St)|0,N=N+Math.imul(He,nr)|0,S=S+Math.imul(Oe,_t)|0,k=(k=k+Math.imul(Oe,sr)|0)+Math.imul(Fe,_t)|0,N=N+Math.imul(Fe,sr)|0,S=S+Math.imul(ye,jt)|0,k=(k=k+Math.imul(ye,Zt)|0)+Math.imul(Re,jt)|0,N=N+Math.imul(Re,Zt)|0,S=S+Math.imul(he,bt)|0,k=(k=k+Math.imul(he,Ar)|0)+Math.imul(fe,bt)|0,N=N+Math.imul(fe,Ar)|0,S=S+Math.imul(de,Kt)|0,k=(k=k+Math.imul(de,Le)|0)+Math.imul(ve,Kt)|0,N=N+Math.imul(ve,Le)|0,S=S+Math.imul(Q,et)|0,k=(k=k+Math.imul(Q,Et)|0)+Math.imul(oe,et)|0,N=N+Math.imul(oe,Et)|0,S=S+Math.imul(J,Lt)|0,k=(k=k+Math.imul(J,dr)|0)+Math.imul(z,Lt)|0,N=N+Math.imul(z,dr)|0;var pt=(j+(S=S+Math.imul(Z,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(Z,mr)|0)+Math.imul(ne,Wt)|0))<<13)|0;j=((N=N+Math.imul(ne,mr)|0)+(k>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ut,dt),k=(k=Math.imul(ut,Yt))+Math.imul(Ut,dt)|0,N=Math.imul(Ut,Yt),S=S+Math.imul(at,St)|0,k=(k=k+Math.imul(at,nr)|0)+Math.imul(Je,St)|0,N=N+Math.imul(Je,nr)|0,S=S+Math.imul(Pe,_t)|0,k=(k=k+Math.imul(Pe,sr)|0)+Math.imul(He,_t)|0,N=N+Math.imul(He,sr)|0,S=S+Math.imul(Oe,jt)|0,k=(k=k+Math.imul(Oe,Zt)|0)+Math.imul(Fe,jt)|0,N=N+Math.imul(Fe,Zt)|0,S=S+Math.imul(ye,bt)|0,k=(k=k+Math.imul(ye,Ar)|0)+Math.imul(Re,bt)|0,N=N+Math.imul(Re,Ar)|0,S=S+Math.imul(he,Kt)|0,k=(k=k+Math.imul(he,Le)|0)+Math.imul(fe,Kt)|0,N=N+Math.imul(fe,Le)|0,S=S+Math.imul(de,et)|0,k=(k=k+Math.imul(de,Et)|0)+Math.imul(ve,et)|0,N=N+Math.imul(ve,Et)|0,S=S+Math.imul(Q,Lt)|0,k=(k=k+Math.imul(Q,dr)|0)+Math.imul(oe,Lt)|0,N=N+Math.imul(oe,dr)|0;var Nt=(j+(S=S+Math.imul(J,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(J,mr)|0)+Math.imul(z,Wt)|0))<<13)|0;j=((N=N+Math.imul(z,mr)|0)+(k>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(ut,St),k=(k=Math.imul(ut,nr))+Math.imul(Ut,St)|0,N=Math.imul(Ut,nr),S=S+Math.imul(at,_t)|0,k=(k=k+Math.imul(at,sr)|0)+Math.imul(Je,_t)|0,N=N+Math.imul(Je,sr)|0,S=S+Math.imul(Pe,jt)|0,k=(k=k+Math.imul(Pe,Zt)|0)+Math.imul(He,jt)|0,N=N+Math.imul(He,Zt)|0,S=S+Math.imul(Oe,bt)|0,k=(k=k+Math.imul(Oe,Ar)|0)+Math.imul(Fe,bt)|0,N=N+Math.imul(Fe,Ar)|0,S=S+Math.imul(ye,Kt)|0,k=(k=k+Math.imul(ye,Le)|0)+Math.imul(Re,Kt)|0,N=N+Math.imul(Re,Le)|0,S=S+Math.imul(he,et)|0,k=(k=k+Math.imul(he,Et)|0)+Math.imul(fe,et)|0,N=N+Math.imul(fe,Et)|0,S=S+Math.imul(de,Lt)|0,k=(k=k+Math.imul(de,dr)|0)+Math.imul(ve,Lt)|0,N=N+Math.imul(ve,dr)|0;var Gt=(j+(S=S+Math.imul(Q,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(Q,mr)|0)+Math.imul(oe,Wt)|0))<<13)|0;j=((N=N+Math.imul(oe,mr)|0)+(k>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(ut,_t),k=(k=Math.imul(ut,sr))+Math.imul(Ut,_t)|0,N=Math.imul(Ut,sr),S=S+Math.imul(at,jt)|0,k=(k=k+Math.imul(at,Zt)|0)+Math.imul(Je,jt)|0,N=N+Math.imul(Je,Zt)|0,S=S+Math.imul(Pe,bt)|0,k=(k=k+Math.imul(Pe,Ar)|0)+Math.imul(He,bt)|0,N=N+Math.imul(He,Ar)|0,S=S+Math.imul(Oe,Kt)|0,k=(k=k+Math.imul(Oe,Le)|0)+Math.imul(Fe,Kt)|0,N=N+Math.imul(Fe,Le)|0,S=S+Math.imul(ye,et)|0,k=(k=k+Math.imul(ye,Et)|0)+Math.imul(Re,et)|0,N=N+Math.imul(Re,Et)|0,S=S+Math.imul(he,Lt)|0,k=(k=k+Math.imul(he,dr)|0)+Math.imul(fe,Lt)|0,N=N+Math.imul(fe,dr)|0;var Pt=(j+(S=S+Math.imul(de,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(de,mr)|0)+Math.imul(ve,Wt)|0))<<13)|0;j=((N=N+Math.imul(ve,mr)|0)+(k>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(ut,jt),k=(k=Math.imul(ut,Zt))+Math.imul(Ut,jt)|0,N=Math.imul(Ut,Zt),S=S+Math.imul(at,bt)|0,k=(k=k+Math.imul(at,Ar)|0)+Math.imul(Je,bt)|0,N=N+Math.imul(Je,Ar)|0,S=S+Math.imul(Pe,Kt)|0,k=(k=k+Math.imul(Pe,Le)|0)+Math.imul(He,Kt)|0,N=N+Math.imul(He,Le)|0,S=S+Math.imul(Oe,et)|0,k=(k=k+Math.imul(Oe,Et)|0)+Math.imul(Fe,et)|0,N=N+Math.imul(Fe,Et)|0,S=S+Math.imul(ye,Lt)|0,k=(k=k+Math.imul(ye,dr)|0)+Math.imul(Re,Lt)|0,N=N+Math.imul(Re,dr)|0;var Ft=(j+(S=S+Math.imul(he,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(he,mr)|0)+Math.imul(fe,Wt)|0))<<13)|0;j=((N=N+Math.imul(fe,mr)|0)+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(ut,bt),k=(k=Math.imul(ut,Ar))+Math.imul(Ut,bt)|0,N=Math.imul(Ut,Ar),S=S+Math.imul(at,Kt)|0,k=(k=k+Math.imul(at,Le)|0)+Math.imul(Je,Kt)|0,N=N+Math.imul(Je,Le)|0,S=S+Math.imul(Pe,et)|0,k=(k=k+Math.imul(Pe,Et)|0)+Math.imul(He,et)|0,N=N+Math.imul(He,Et)|0,S=S+Math.imul(Oe,Lt)|0,k=(k=k+Math.imul(Oe,dr)|0)+Math.imul(Fe,Lt)|0,N=N+Math.imul(Fe,dr)|0;var Gr=(j+(S=S+Math.imul(ye,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(ye,mr)|0)+Math.imul(Re,Wt)|0))<<13)|0;j=((N=N+Math.imul(Re,mr)|0)+(k>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,S=Math.imul(ut,Kt),k=(k=Math.imul(ut,Le))+Math.imul(Ut,Kt)|0,N=Math.imul(Ut,Le),S=S+Math.imul(at,et)|0,k=(k=k+Math.imul(at,Et)|0)+Math.imul(Je,et)|0,N=N+Math.imul(Je,Et)|0,S=S+Math.imul(Pe,Lt)|0,k=(k=k+Math.imul(Pe,dr)|0)+Math.imul(He,Lt)|0,N=N+Math.imul(He,dr)|0;var Pr=(j+(S=S+Math.imul(Oe,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(Oe,mr)|0)+Math.imul(Fe,Wt)|0))<<13)|0;j=((N=N+Math.imul(Fe,mr)|0)+(k>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,S=Math.imul(ut,et),k=(k=Math.imul(ut,Et))+Math.imul(Ut,et)|0,N=Math.imul(Ut,Et),S=S+Math.imul(at,Lt)|0,k=(k=k+Math.imul(at,dr)|0)+Math.imul(Je,Lt)|0,N=N+Math.imul(Je,dr)|0;var Tr=(j+(S=S+Math.imul(Pe,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(Pe,mr)|0)+Math.imul(He,Wt)|0))<<13)|0;j=((N=N+Math.imul(He,mr)|0)+(k>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(ut,Lt),k=(k=Math.imul(ut,dr))+Math.imul(Ut,Lt)|0,N=Math.imul(Ut,dr);var wr=(j+(S=S+Math.imul(at,Wt)|0)|0)+((8191&(k=(k=k+Math.imul(at,mr)|0)+Math.imul(Je,Wt)|0))<<13)|0;j=((N=N+Math.imul(Je,mr)|0)+(k>>>13)|0)+(wr>>>26)|0,wr&=67108863;var Rr=(j+(S=Math.imul(ut,Wt))|0)+((8191&(k=(k=Math.imul(ut,mr))+Math.imul(Ut,Wt)|0))<<13)|0;return j=((N=Math.imul(Ut,mr))+(k>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,D[0]=hr,D[1]=Lr,D[2]=pn,D[3]=on,D[4]=Ln,D[5]=In,D[6]=Wn,D[7]=Ae,D[8]=$e,D[9]=pt,D[10]=Nt,D[11]=Gt,D[12]=Pt,D[13]=Ft,D[14]=Gr,D[15]=Pr,D[16]=Tr,D[17]=wr,D[18]=Rr,j!==0&&(D[19]=j,A.length++),A};function _(E,L,A){return new T().mulp(E,L,A)}function T(E,L){this.x=E,this.y=L}Math.imul||(v=w),a.prototype.mulTo=function(E,L){var A=this.length+E.length;return this.length===10&&E.length===10?v(this,E,L):A<63?w(this,E,L):A<1024?(function(S,k,N){N.negative=k.negative^S.negative,N.length=S.length+k.length;for(var C=0,O=0,D=0;D<N.length-1;D++){var j=O;O=0;for(var K=67108863&C,Z=Math.min(D,k.length-1),ne=Math.max(0,D-S.length+1);ne<=Z;ne++){var H=D-ne,J=(0|S.words[H])*(0|k.words[ne]),z=67108863&J;K=67108863&(z=z+K|0),O+=(j=(j=j+(J/67108864|0)|0)+(z>>>26)|0)>>>26,j&=67108863}N.words[D]=K,C=j,j=O}return C!==0?N.words[D]=C:N.length--,N.strip()})(this,E,L):_(this,E,L)},T.prototype.makeRBT=function(E){for(var L=new Array(E),A=a.prototype._countBits(E)-1,S=0;S<E;S++)L[S]=this.revBin(S,A,E);return L},T.prototype.revBin=function(E,L,A){if(E===0||E===A-1)return E;for(var S=0,k=0;k<L;k++)S|=(1&E)<<L-k-1,E>>=1;return S},T.prototype.permute=function(E,L,A,S,k,N){for(var C=0;C<N;C++)S[C]=L[E[C]],k[C]=A[E[C]]},T.prototype.transform=function(E,L,A,S,k,N){this.permute(N,E,L,A,S,k);for(var C=1;C<k;C<<=1)for(var O=C<<1,D=Math.cos(2*Math.PI/O),j=Math.sin(2*Math.PI/O),K=0;K<k;K+=O)for(var Z=D,ne=j,H=0;H<C;H++){var J=A[K+H],z=S[K+H],B=A[K+H+C],Q=S[K+H+C],oe=Z*B-ne*Q;Q=Z*Q+ne*B,B=oe,A[K+H]=J+B,S[K+H]=z+Q,A[K+H+C]=J-B,S[K+H+C]=z-Q,H!==O&&(oe=D*Z-j*ne,ne=D*ne+j*Z,Z=oe)}},T.prototype.guessLen13b=function(E,L){var A=1|Math.max(L,E),S=1&A,k=0;for(A=A/2|0;A;A>>>=1)k++;return 1<<k+1+S},T.prototype.conjugate=function(E,L,A){if(!(A<=1))for(var S=0;S<A/2;S++){var k=E[S];E[S]=E[A-S-1],E[A-S-1]=k,k=L[S],L[S]=-L[A-S-1],L[A-S-1]=-k}},T.prototype.normalize13b=function(E,L){for(var A=0,S=0;S<L/2;S++){var k=8192*Math.round(E[2*S+1]/L)+Math.round(E[2*S]/L)+A;E[S]=67108863&k,A=k<67108864?0:k/67108864|0}return E},T.prototype.convert13b=function(E,L,A,S){for(var k=0,N=0;N<L;N++)k+=0|E[N],A[2*N]=8191&k,k>>>=13,A[2*N+1]=8191&k,k>>>=13;for(N=2*L;N<S;++N)A[N]=0;l(k===0),l((-8192&k)==0)},T.prototype.stub=function(E){for(var L=new Array(E),A=0;A<E;A++)L[A]=0;return L},T.prototype.mulp=function(E,L,A){var S=2*this.guessLen13b(E.length,L.length),k=this.makeRBT(S),N=this.stub(S),C=new Array(S),O=new Array(S),D=new Array(S),j=new Array(S),K=new Array(S),Z=new Array(S),ne=A.words;ne.length=S,this.convert13b(E.words,E.length,C,S),this.convert13b(L.words,L.length,j,S),this.transform(C,N,O,D,S,k),this.transform(j,N,K,Z,S,k);for(var H=0;H<S;H++){var J=O[H]*K[H]-D[H]*Z[H];D[H]=O[H]*Z[H]+D[H]*K[H],O[H]=J}return this.conjugate(O,D,S),this.transform(O,D,ne,N,S,k),this.conjugate(ne,N,S),this.normalize13b(ne,S),A.negative=E.negative^L.negative,A.length=E.length+L.length,A.strip()},a.prototype.mul=function(E){var L=new a(null);return L.words=new Array(this.length+E.length),this.mulTo(E,L)},a.prototype.mulf=function(E){var L=new a(null);return L.words=new Array(this.length+E.length),_(this,E,L)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){l(typeof E=="number"),l(E<67108864);for(var L=0,A=0;A<this.length;A++){var S=(0|this.words[A])*E,k=(67108863&S)+(67108863&L);L>>=26,L+=S/67108864|0,L+=k>>>26,this.words[A]=67108863&k}return L!==0&&(this.words[A]=L,this.length++),this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var L=(function(N){for(var C=new Array(N.bitLength()),O=0;O<C.length;O++){var D=O/26|0,j=O%26;C[O]=(N.words[D]&1<<j)>>>j}return C})(E);if(L.length===0)return new a(1);for(var A=this,S=0;S<L.length&&L[S]===0;S++,A=A.sqr());if(++S<L.length)for(var k=A.sqr();S<L.length;S++,k=k.sqr())L[S]!==0&&(A=A.mul(k));return A},a.prototype.iushln=function(E){l(typeof E=="number"&&E>=0);var L,A=E%26,S=(E-A)/26,k=67108863>>>26-A<<26-A;if(A!==0){var N=0;for(L=0;L<this.length;L++){var C=this.words[L]&k,O=(0|this.words[L])-C<<A;this.words[L]=O|N,N=C>>>26-A}N&&(this.words[L]=N,this.length++)}if(S!==0){for(L=this.length-1;L>=0;L--)this.words[L+S]=this.words[L];for(L=0;L<S;L++)this.words[L]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(E){return l(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,L,A){var S;l(typeof E=="number"&&E>=0),S=L?(L-L%26)/26:0;var k=E%26,N=Math.min((E-k)/26,this.length),C=67108863^67108863>>>k<<k,O=A;if(S-=N,S=Math.max(0,S),O){for(var D=0;D<N;D++)O.words[D]=this.words[D];O.length=N}if(N!==0)if(this.length>N)for(this.length-=N,D=0;D<this.length;D++)this.words[D]=this.words[D+N];else this.words[0]=0,this.length=1;var j=0;for(D=this.length-1;D>=0&&(j!==0||D>=S);D--){var K=0|this.words[D];this.words[D]=j<<26-k|K>>>k,j=K&C}return O&&j!==0&&(O.words[O.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(E,L,A){return l(this.negative===0),this.iushrn(E,L,A)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){l(typeof E=="number"&&E>=0);var L=E%26,A=(E-L)/26,S=1<<L;return!(this.length<=A)&&!!(this.words[A]&S)},a.prototype.imaskn=function(E){l(typeof E=="number"&&E>=0);var L=E%26,A=(E-L)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(L!==0&&A++,this.length=Math.min(A,this.length),L!==0){var S=67108863^67108863>>>L<<L;this.words[this.length-1]&=S}return this.strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return l(typeof E=="number"),l(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},a.prototype.isubn=function(E){if(l(typeof E=="number"),l(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,L,A){var S,k,N=E.length+A;this._expand(N);var C=0;for(S=0;S<E.length;S++){k=(0|this.words[S+A])+C;var O=(0|E.words[S])*L;C=((k-=67108863&O)>>26)-(O/67108864|0),this.words[S+A]=67108863&k}for(;S<this.length-A;S++)C=(k=(0|this.words[S+A])+C)>>26,this.words[S+A]=67108863&k;if(C===0)return this.strip();for(l(C===-1),C=0,S=0;S<this.length;S++)C=(k=-(0|this.words[S])+C)>>26,this.words[S]=67108863&k;return this.negative=1,this.strip()},a.prototype._wordDiv=function(E,L){var A=(this.length,E.length),S=this.clone(),k=E,N=0|k.words[k.length-1];(A=26-this._countBits(N))!==0&&(k=k.ushln(A),S.iushln(A),N=0|k.words[k.length-1]);var C,O=S.length-k.length;if(L!=="mod"){(C=new a(null)).length=O+1,C.words=new Array(C.length);for(var D=0;D<C.length;D++)C.words[D]=0}var j=S.clone()._ishlnsubmul(k,1,O);j.negative===0&&(S=j,C&&(C.words[O]=1));for(var K=O-1;K>=0;K--){var Z=67108864*(0|S.words[k.length+K])+(0|S.words[k.length+K-1]);for(Z=Math.min(Z/N|0,67108863),S._ishlnsubmul(k,Z,K);S.negative!==0;)Z--,S.negative=0,S._ishlnsubmul(k,1,K),S.isZero()||(S.negative^=1);C&&(C.words[K]=Z)}return C&&C.strip(),S.strip(),L!=="div"&&A!==0&&S.iushrn(A),{div:C||null,mod:S}},a.prototype.divmod=function(E,L,A){return l(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(N=this.neg().divmod(E,L),L!=="mod"&&(S=N.div.neg()),L!=="div"&&(k=N.mod.neg(),A&&k.negative!==0&&k.iadd(E)),{div:S,mod:k}):this.negative===0&&E.negative!==0?(N=this.divmod(E.neg(),L),L!=="mod"&&(S=N.div.neg()),{div:S,mod:N.mod}):(this.negative&E.negative)!=0?(N=this.neg().divmod(E.neg(),L),L!=="div"&&(k=N.mod.neg(),A&&k.negative!==0&&k.isub(E)),{div:N.div,mod:k}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?L==="div"?{div:this.divn(E.words[0]),mod:null}:L==="mod"?{div:null,mod:new a(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modn(E.words[0]))}:this._wordDiv(E,L);var S,k,N},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var L=this.divmod(E);if(L.mod.isZero())return L.div;var A=L.div.negative!==0?L.mod.isub(E):L.mod,S=E.ushrn(1),k=E.andln(1),N=A.cmp(S);return N<0||k===1&&N===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},a.prototype.modn=function(E){l(E<=67108863);for(var L=(1<<26)%E,A=0,S=this.length-1;S>=0;S--)A=(L*A+(0|this.words[S]))%E;return A},a.prototype.idivn=function(E){l(E<=67108863);for(var L=0,A=this.length-1;A>=0;A--){var S=(0|this.words[A])+67108864*L;this.words[A]=S/E|0,L=S%E}return this.strip()},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){l(E.negative===0),l(!E.isZero());var L=this,A=E.clone();L=L.negative!==0?L.umod(E):L.clone();for(var S=new a(1),k=new a(0),N=new a(0),C=new a(1),O=0;L.isEven()&&A.isEven();)L.iushrn(1),A.iushrn(1),++O;for(var D=A.clone(),j=L.clone();!L.isZero();){for(var K=0,Z=1;(L.words[0]&Z)==0&&K<26;++K,Z<<=1);if(K>0)for(L.iushrn(K);K-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(D),k.isub(j)),S.iushrn(1),k.iushrn(1);for(var ne=0,H=1;(A.words[0]&H)==0&&ne<26;++ne,H<<=1);if(ne>0)for(A.iushrn(ne);ne-- >0;)(N.isOdd()||C.isOdd())&&(N.iadd(D),C.isub(j)),N.iushrn(1),C.iushrn(1);L.cmp(A)>=0?(L.isub(A),S.isub(N),k.isub(C)):(A.isub(L),N.isub(S),C.isub(k))}return{a:N,b:C,gcd:A.iushln(O)}},a.prototype._invmp=function(E){l(E.negative===0),l(!E.isZero());var L=this,A=E.clone();L=L.negative!==0?L.umod(E):L.clone();for(var S,k=new a(1),N=new a(0),C=A.clone();L.cmpn(1)>0&&A.cmpn(1)>0;){for(var O=0,D=1;(L.words[0]&D)==0&&O<26;++O,D<<=1);if(O>0)for(L.iushrn(O);O-- >0;)k.isOdd()&&k.iadd(C),k.iushrn(1);for(var j=0,K=1;(A.words[0]&K)==0&&j<26;++j,K<<=1);if(j>0)for(A.iushrn(j);j-- >0;)N.isOdd()&&N.iadd(C),N.iushrn(1);L.cmp(A)>=0?(L.isub(A),k.isub(N)):(A.isub(L),N.isub(k))}return(S=L.cmpn(1)===0?k:N).cmpn(0)<0&&S.iadd(E),S},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var L=this.clone(),A=E.clone();L.negative=0,A.negative=0;for(var S=0;L.isEven()&&A.isEven();S++)L.iushrn(1),A.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;A.isEven();)A.iushrn(1);var k=L.cmp(A);if(k<0){var N=L;L=A,A=N}else if(k===0||A.cmpn(1)===0)break;L.isub(A)}return A.iushln(S)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){l(typeof E=="number");var L=E%26,A=(E-L)/26,S=1<<L;if(this.length<=A)return this._expand(A+1),this.words[A]|=S,this;for(var k=S,N=A;k!==0&&N<this.length;N++){var C=0|this.words[N];k=(C+=k)>>>26,C&=67108863,this.words[N]=C}return k!==0&&(this.words[N]=k,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var L,A=E<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)L=1;else{A&&(E=-E),l(E<=67108863,"Number is too big");var S=0|this.words[0];L=S===E?0:S<E?-1:1}return this.negative!==0?0|-L:L},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var L=this.ucmp(E);return this.negative!==0?0|-L:L},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var L=0,A=this.length-1;A>=0;A--){var S=0|this.words[A],k=0|E.words[A];if(S!==k){S<k?L=-1:S>k&&(L=1);break}}return L},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new V(E)},a.prototype.toRed=function(E){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return l(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return l(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var F={k256:null,p224:null,p192:null,p25519:null};function G(E,L){this.name=E,this.p=new a(L,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function V(E){if(typeof E=="string"){var L=a._prime(E);this.m=L.p,this.prime=L}else l(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function I(E){V.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}G.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},G.prototype.ireduce=function(E){var L,A=E;do this.split(A,this.tmp),L=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(L>this.n);var S=L<this.n?-1:A.ucmp(this.p);return S===0?(A.words[0]=0,A.length=1):S>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},G.prototype.split=function(E,L){E.iushrn(this.n,0,L)},G.prototype.imulK=function(E){return E.imul(this.k)},c($,G),$.prototype.split=function(E,L){for(var A=Math.min(E.length,9),S=0;S<A;S++)L.words[S]=E.words[S];if(L.length=A,E.length<=9)return E.words[0]=0,void(E.length=1);var k=E.words[9];for(L.words[L.length++]=4194303&k,S=10;S<E.length;S++){var N=0|E.words[S];E.words[S-10]=(4194303&N)<<4|k>>>22,k=N}k>>>=22,E.words[S-10]=k,k===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var L=0,A=0;A<E.length;A++){var S=0|E.words[A];L+=977*S,E.words[A]=67108863&L,L=64*S+(L/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},c(P,G),c(M,G),c(U,G),U.prototype.imulK=function(E){for(var L=0,A=0;A<E.length;A++){var S=19*(0|E.words[A])+L,k=67108863&S;S>>>=26,E.words[A]=k,L=S}return L!==0&&(E.words[E.length++]=L),E},a._prime=function(E){if(F[E])return F[E];var L;if(E==="k256")L=new $;else if(E==="p224")L=new P;else if(E==="p192")L=new M;else{if(E!=="p25519")throw new Error("Unknown prime "+E);L=new U}return F[E]=L,L},V.prototype._verify1=function(E){l(E.negative===0,"red works only with positives"),l(E.red,"red works only with red numbers")},V.prototype._verify2=function(E,L){l((E.negative|L.negative)==0,"red works only with positives"),l(E.red&&E.red===L.red,"red works only with red numbers")},V.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},V.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},V.prototype.add=function(E,L){this._verify2(E,L);var A=E.add(L);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},V.prototype.iadd=function(E,L){this._verify2(E,L);var A=E.iadd(L);return A.cmp(this.m)>=0&&A.isub(this.m),A},V.prototype.sub=function(E,L){this._verify2(E,L);var A=E.sub(L);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},V.prototype.isub=function(E,L){this._verify2(E,L);var A=E.isub(L);return A.cmpn(0)<0&&A.iadd(this.m),A},V.prototype.shl=function(E,L){return this._verify1(E),this.imod(E.ushln(L))},V.prototype.imul=function(E,L){return this._verify2(E,L),this.imod(E.imul(L))},V.prototype.mul=function(E,L){return this._verify2(E,L),this.imod(E.mul(L))},V.prototype.isqr=function(E){return this.imul(E,E.clone())},V.prototype.sqr=function(E){return this.mul(E,E)},V.prototype.sqrt=function(E){if(E.isZero())return E.clone();var L=this.m.andln(3);if(l(L%2==1),L===3){var A=this.m.add(new a(1)).iushrn(2);return this.pow(E,A)}for(var S=this.m.subn(1),k=0;!S.isZero()&&S.andln(1)===0;)k++,S.iushrn(1);l(!S.isZero());var N=new a(1).toRed(this),C=N.redNeg(),O=this.m.subn(1).iushrn(1),D=this.m.bitLength();for(D=new a(2*D*D).toRed(this);this.pow(D,O).cmp(C)!==0;)D.redIAdd(C);for(var j=this.pow(D,S),K=this.pow(E,S.addn(1).iushrn(1)),Z=this.pow(E,S),ne=k;Z.cmp(N)!==0;){for(var H=Z,J=0;H.cmp(N)!==0;J++)H=H.redSqr();l(J<ne);var z=this.pow(j,new a(1).iushln(ne-J-1));K=K.redMul(z),j=z.redSqr(),Z=Z.redMul(j),ne=J}return K},V.prototype.invm=function(E){var L=E._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},V.prototype.pow=function(E,L){if(L.isZero())return new a(1).toRed(this);if(L.cmpn(1)===0)return E.clone();var A=new Array(16);A[0]=new a(1).toRed(this),A[1]=E;for(var S=2;S<A.length;S++)A[S]=this.mul(A[S-1],E);var k=A[0],N=0,C=0,O=L.bitLength()%26;for(O===0&&(O=26),S=L.length-1;S>=0;S--){for(var D=L.words[S],j=O-1;j>=0;j--){var K=D>>j&1;k!==A[0]&&(k=this.sqr(k)),K!==0||N!==0?(N<<=1,N|=K,(++C===4||S===0&&j===0)&&(k=this.mul(k,A[N]),C=0,N=0)):C=0}O=26}return k},V.prototype.convertTo=function(E){var L=E.umod(this.m);return L===E?L.clone():L},V.prototype.convertFrom=function(E){var L=E.clone();return L.red=null,L},a.mont=function(E){return new I(E)},c(I,V),I.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},I.prototype.convertFrom=function(E){var L=this.imod(E.mul(this.rinv));return L.red=null,L},I.prototype.imul=function(E,L){if(E.isZero()||L.isZero())return E.words[0]=0,E.length=1,E;var A=E.imul(L),S=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=A.isub(S).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},I.prototype.mul=function(E,L){if(E.isZero()||L.isZero())return new a(0)._forceRed(this);var A=E.mul(L),S=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=A.isub(S).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},I.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(d){var y=f(d),g=y[0],p=y[1];return 3*(g+p)/4-p},i.toByteArray=function(d){var y,g,p=f(d),w=p[0],v=p[1],_=new l((function(G,$,P){return 3*($+P)/4-P})(0,w,v)),T=0,F=v>0?w-4:w;for(g=0;g<F;g+=4)y=o[d.charCodeAt(g)]<<18|o[d.charCodeAt(g+1)]<<12|o[d.charCodeAt(g+2)]<<6|o[d.charCodeAt(g+3)],_[T++]=y>>16&255,_[T++]=y>>8&255,_[T++]=255&y;return v===2&&(y=o[d.charCodeAt(g)]<<2|o[d.charCodeAt(g+1)]>>4,_[T++]=255&y),v===1&&(y=o[d.charCodeAt(g)]<<10|o[d.charCodeAt(g+1)]<<4|o[d.charCodeAt(g+2)]>>2,_[T++]=y>>8&255,_[T++]=255&y),_},i.fromByteArray=function(d){for(var y,g=d.length,p=g%3,w=[],v=0,_=g-p;v<_;v+=16383)w.push(h(d,v,v+16383>_?_:v+16383));return p===1?(y=d[g-1],w.push(s[y>>2]+s[y<<4&63]+"==")):p===2&&(y=(d[g-2]<<8)+d[g-1],w.push(s[y>>10]+s[y>>4&63]+s[y<<2&63]+"=")),w.join("")};for(var s=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=c.length;a<u;++a)s[a]=c[a],o[c.charCodeAt(a)]=a;function f(d){var y=d.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");return g===-1&&(g=y),[g,g===y?0:4-g%4]}function h(d,y,g){for(var p,w,v=[],_=y;_<g;_+=3)p=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(255&d[_+2]),v.push(s[(w=p)>>18&63]+s[w>>12&63]+s[w>>6&63]+s[63&w]);return v.join("")}o[45]=62,o[95]=63},{}],186:[function(e,n,i){(function(s,o){function l(A,S){if(!A)throw new Error(S||"Assertion failed")}function c(A,S){A.super_=S;var k=function(){};k.prototype=S.prototype,A.prototype=new k,A.prototype.constructor=A}function a(A,S,k){if(a.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(S!=="le"&&S!=="be"||(k=S,S=10),this._init(A||0,S||10,k||"be"))}var u;typeof s=="object"?s.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(A,S){var k=A.charCodeAt(S);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void l(!1,"Invalid character in "+A)}function h(A,S,k){var N=f(A,k);return k-1>=S&&(N|=f(A,k-1)<<4),N}function d(A,S,k,N){for(var C=0,O=0,D=Math.min(A.length,k),j=S;j<D;j++){var K=A.charCodeAt(j)-48;C*=N,O=K>=49?K-49+10:K>=17?K-17+10:K,l(K>=0&&O<N,"Invalid character"),C+=O}return C}function y(A,S){A.words=S.words,A.length=S.length,A.negative=S.negative,A.red=S.red}if(a.isBN=function(A){return A instanceof a||A!==null&&typeof A=="object"&&A.constructor.wordSize===a.wordSize&&Array.isArray(A.words)},a.max=function(A,S){return A.cmp(S)>0?A:S},a.min=function(A,S){return A.cmp(S)<0?A:S},a.prototype._init=function(A,S,k){if(typeof A=="number")return this._initNumber(A,S,k);if(typeof A=="object")return this._initArray(A,S,k);S==="hex"&&(S=16),l(S===(0|S)&&S>=2&&S<=36);var N=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(N++,this.negative=1),N<A.length&&(S===16?this._parseHex(A,N,k):(this._parseBase(A,S,N),k==="le"&&this._initArray(this.toArray(),S,k)))},a.prototype._initNumber=function(A,S,k){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(l(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),S,k)},a.prototype._initArray=function(A,S,k){if(l(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var C,O,D=0;if(k==="be")for(N=A.length-1,C=0;N>=0;N-=3)O=A[N]|A[N-1]<<8|A[N-2]<<16,this.words[C]|=O<<D&67108863,this.words[C+1]=O>>>26-D&67108863,(D+=24)>=26&&(D-=26,C++);else if(k==="le")for(N=0,C=0;N<A.length;N+=3)O=A[N]|A[N+1]<<8|A[N+2]<<16,this.words[C]|=O<<D&67108863,this.words[C+1]=O>>>26-D&67108863,(D+=24)>=26&&(D-=26,C++);return this._strip()},a.prototype._parseHex=function(A,S,k){this.length=Math.ceil((A.length-S)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var C,O=0,D=0;if(k==="be")for(N=A.length-1;N>=S;N-=2)C=h(A,S,N)<<O,this.words[D]|=67108863&C,O>=18?(O-=18,D+=1,this.words[D]|=C>>>26):O+=8;else for(N=(A.length-S)%2==0?S+1:S;N<A.length;N+=2)C=h(A,S,N)<<O,this.words[D]|=67108863&C,O>=18?(O-=18,D+=1,this.words[D]|=C>>>26):O+=8;this._strip()},a.prototype._parseBase=function(A,S,k){this.words=[0],this.length=1;for(var N=0,C=1;C<=67108863;C*=S)N++;N--,C=C/S|0;for(var O=A.length-k,D=O%N,j=Math.min(O,O-D)+k,K=0,Z=k;Z<j;Z+=N)K=d(A,Z,Z+N,S),this.imuln(C),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(D!==0){var ne=1;for(K=d(A,Z,A.length,S),Z=0;Z<D;Z++)ne*=S;this.imuln(ne),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},a.prototype.copy=function(A){A.words=new Array(this.length);for(var S=0;S<this.length;S++)A.words[S]=this.words[S];A.length=this.length,A.negative=this.negative,A.red=this.red},a.prototype._move=function(A){y(A,this)},a.prototype.clone=function(){var A=new a(null);return this.copy(A),A},a.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{a.prototype.inspect=g}else a.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(A,S){var k;if(S=0|S||1,(A=A||10)===16||A==="hex"){k="";for(var N=0,C=0,O=0;O<this.length;O++){var D=this.words[O],j=(16777215&(D<<N|C)).toString(16);C=D>>>24-N&16777215,(N+=2)>=26&&(N-=26,O--),k=C!==0||O!==this.length-1?p[6-j.length]+j+k:j+k}for(C!==0&&(k=C.toString(16)+k);k.length%S!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(A===(0|A)&&A>=2&&A<=36){var K=w[A],Z=v[A];k="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var H=ne.modrn(Z).toString(A);k=(ne=ne.idivn(Z)).isZero()?H+k:p[K-H.length]+H+k}for(this.isZero()&&(k="0"+k);k.length%S!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}l(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(A,S){return this.toArrayLike(u,A,S)}),a.prototype.toArray=function(A,S){return this.toArrayLike(Array,A,S)};function _(A,S,k){k.negative=S.negative^A.negative;var N=A.length+S.length|0;k.length=N,N=N-1|0;var C=0|A.words[0],O=0|S.words[0],D=C*O,j=67108863&D,K=D/67108864|0;k.words[0]=j;for(var Z=1;Z<N;Z++){for(var ne=K>>>26,H=67108863&K,J=Math.min(Z,S.length-1),z=Math.max(0,Z-A.length+1);z<=J;z++){var B=Z-z|0;ne+=(D=(C=0|A.words[B])*(O=0|S.words[z])+H)/67108864|0,H=67108863&D}k.words[Z]=0|H,K=0|ne}return K!==0?k.words[Z]=0|K:k.length--,k._strip()}a.prototype.toArrayLike=function(A,S,k){this._strip();var N=this.byteLength(),C=k||Math.max(1,N);l(N<=C,"byte array longer than desired length"),l(C>0,"Requested array length <= 0");var O=(function(D,j){return D.allocUnsafe?D.allocUnsafe(j):new D(j)})(A,C);return this["_toArrayLike"+(S==="le"?"LE":"BE")](O,N),O},a.prototype._toArrayLikeLE=function(A,S){for(var k=0,N=0,C=0,O=0;C<this.length;C++){var D=this.words[C]<<O|N;A[k++]=255&D,k<A.length&&(A[k++]=D>>8&255),k<A.length&&(A[k++]=D>>16&255),O===6?(k<A.length&&(A[k++]=D>>24&255),N=0,O=0):(N=D>>>24,O+=2)}if(k<A.length)for(A[k++]=N;k<A.length;)A[k++]=0},a.prototype._toArrayLikeBE=function(A,S){for(var k=A.length-1,N=0,C=0,O=0;C<this.length;C++){var D=this.words[C]<<O|N;A[k--]=255&D,k>=0&&(A[k--]=D>>8&255),k>=0&&(A[k--]=D>>16&255),O===6?(k>=0&&(A[k--]=D>>24&255),N=0,O=0):(N=D>>>24,O+=2)}if(k>=0)for(A[k--]=N;k>=0;)A[k--]=0},Math.clz32?a.prototype._countBits=function(A){return 32-Math.clz32(A)}:a.prototype._countBits=function(A){var S=A,k=0;return S>=4096&&(k+=13,S>>>=13),S>=64&&(k+=7,S>>>=7),S>=8&&(k+=4,S>>>=4),S>=2&&(k+=2,S>>>=2),k+S},a.prototype._zeroBits=function(A){if(A===0)return 26;var S=A,k=0;return(8191&S)==0&&(k+=13,S>>>=13),(127&S)==0&&(k+=7,S>>>=7),(15&S)==0&&(k+=4,S>>>=4),(3&S)==0&&(k+=2,S>>>=2),(1&S)==0&&k++,k},a.prototype.bitLength=function(){var A=this.words[this.length-1],S=this._countBits(A);return 26*(this.length-1)+S},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,S=0;S<this.length;S++){var k=this._zeroBits(this.words[S]);if(A+=k,k!==26)break}return A},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},a.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var S=0;S<A.length;S++)this.words[S]=this.words[S]|A.words[S];return this._strip()},a.prototype.ior=function(A){return l((this.negative|A.negative)==0),this.iuor(A)},a.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},a.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},a.prototype.iuand=function(A){var S;S=this.length>A.length?A:this;for(var k=0;k<S.length;k++)this.words[k]=this.words[k]&A.words[k];return this.length=S.length,this._strip()},a.prototype.iand=function(A){return l((this.negative|A.negative)==0),this.iuand(A)},a.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},a.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},a.prototype.iuxor=function(A){var S,k;this.length>A.length?(S=this,k=A):(S=A,k=this);for(var N=0;N<k.length;N++)this.words[N]=S.words[N]^k.words[N];if(this!==S)for(;N<S.length;N++)this.words[N]=S.words[N];return this.length=S.length,this._strip()},a.prototype.ixor=function(A){return l((this.negative|A.negative)==0),this.iuxor(A)},a.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},a.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},a.prototype.inotn=function(A){l(typeof A=="number"&&A>=0);var S=0|Math.ceil(A/26),k=A%26;this._expand(S),k>0&&S--;for(var N=0;N<S;N++)this.words[N]=67108863&~this.words[N];return k>0&&(this.words[N]=~this.words[N]&67108863>>26-k),this._strip()},a.prototype.notn=function(A){return this.clone().inotn(A)},a.prototype.setn=function(A,S){l(typeof A=="number"&&A>=0);var k=A/26|0,N=A%26;return this._expand(k+1),this.words[k]=S?this.words[k]|1<<N:this.words[k]&~(1<<N),this._strip()},a.prototype.iadd=function(A){var S,k,N;if(this.negative!==0&&A.negative===0)return this.negative=0,S=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,S=this.isub(A),A.negative=1,S._normSign();this.length>A.length?(k=this,N=A):(k=A,N=this);for(var C=0,O=0;O<N.length;O++)S=(0|k.words[O])+(0|N.words[O])+C,this.words[O]=67108863&S,C=S>>>26;for(;C!==0&&O<k.length;O++)S=(0|k.words[O])+C,this.words[O]=67108863&S,C=S>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;O<k.length;O++)this.words[O]=k.words[O];return this},a.prototype.add=function(A){var S;return A.negative!==0&&this.negative===0?(A.negative=0,S=this.sub(A),A.negative^=1,S):A.negative===0&&this.negative!==0?(this.negative=0,S=A.sub(this),this.negative=1,S):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},a.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var S=this.iadd(A);return A.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var k,N,C=this.cmp(A);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(k=this,N=A):(k=A,N=this);for(var O=0,D=0;D<N.length;D++)O=(S=(0|k.words[D])-(0|N.words[D])+O)>>26,this.words[D]=67108863&S;for(;O!==0&&D<k.length;D++)O=(S=(0|k.words[D])+O)>>26,this.words[D]=67108863&S;if(O===0&&D<k.length&&k!==this)for(;D<k.length;D++)this.words[D]=k.words[D];return this.length=Math.max(this.length,D),k!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(A){return this.clone().isub(A)};var T=function(A,S,k){var N,C,O,D=A.words,j=S.words,K=k.words,Z=0,ne=0|D[0],H=8191&ne,J=ne>>>13,z=0|D[1],B=8191&z,Q=z>>>13,oe=0|D[2],pe=8191&oe,de=oe>>>13,ve=0|D[3],ce=8191&ve,he=ve>>>13,fe=0|D[4],ke=8191&fe,ye=fe>>>13,Re=0|D[5],Ie=8191&Re,Oe=Re>>>13,Fe=0|D[6],Se=8191&Fe,Pe=Fe>>>13,He=0|D[7],Ze=8191&He,at=He>>>13,Je=0|D[8],lt=8191&Je,ut=Je>>>13,Ut=0|D[9],ft=8191&Ut,st=Ut>>>13,mt=0|j[0],At=8191&mt,dt=mt>>>13,Yt=0|j[1],zt=8191&Yt,St=Yt>>>13,nr=0|j[2],Tt=8191&nr,_t=nr>>>13,sr=0|j[3],Dt=8191&sr,jt=sr>>>13,Zt=0|j[4],br=8191&Zt,bt=Zt>>>13,Ar=0|j[5],Ir=8191&Ar,Kt=Ar>>>13,Le=0|j[6],ze=8191&Le,et=Le>>>13,Et=0|j[7],er=8191&Et,Lt=Et>>>13,dr=0|j[8],ir=8191&dr,Wt=dr>>>13,mr=0|j[9],hr=8191&mr,Lr=mr>>>13;k.negative=A.negative^S.negative,k.length=19;var pn=(Z+(N=Math.imul(H,At))|0)+((8191&(C=(C=Math.imul(H,dt))+Math.imul(J,At)|0))<<13)|0;Z=((O=Math.imul(J,dt))+(C>>>13)|0)+(pn>>>26)|0,pn&=67108863,N=Math.imul(B,At),C=(C=Math.imul(B,dt))+Math.imul(Q,At)|0,O=Math.imul(Q,dt);var on=(Z+(N=N+Math.imul(H,zt)|0)|0)+((8191&(C=(C=C+Math.imul(H,St)|0)+Math.imul(J,zt)|0))<<13)|0;Z=((O=O+Math.imul(J,St)|0)+(C>>>13)|0)+(on>>>26)|0,on&=67108863,N=Math.imul(pe,At),C=(C=Math.imul(pe,dt))+Math.imul(de,At)|0,O=Math.imul(de,dt),N=N+Math.imul(B,zt)|0,C=(C=C+Math.imul(B,St)|0)+Math.imul(Q,zt)|0,O=O+Math.imul(Q,St)|0;var Ln=(Z+(N=N+Math.imul(H,Tt)|0)|0)+((8191&(C=(C=C+Math.imul(H,_t)|0)+Math.imul(J,Tt)|0))<<13)|0;Z=((O=O+Math.imul(J,_t)|0)+(C>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,N=Math.imul(ce,At),C=(C=Math.imul(ce,dt))+Math.imul(he,At)|0,O=Math.imul(he,dt),N=N+Math.imul(pe,zt)|0,C=(C=C+Math.imul(pe,St)|0)+Math.imul(de,zt)|0,O=O+Math.imul(de,St)|0,N=N+Math.imul(B,Tt)|0,C=(C=C+Math.imul(B,_t)|0)+Math.imul(Q,Tt)|0,O=O+Math.imul(Q,_t)|0;var In=(Z+(N=N+Math.imul(H,Dt)|0)|0)+((8191&(C=(C=C+Math.imul(H,jt)|0)+Math.imul(J,Dt)|0))<<13)|0;Z=((O=O+Math.imul(J,jt)|0)+(C>>>13)|0)+(In>>>26)|0,In&=67108863,N=Math.imul(ke,At),C=(C=Math.imul(ke,dt))+Math.imul(ye,At)|0,O=Math.imul(ye,dt),N=N+Math.imul(ce,zt)|0,C=(C=C+Math.imul(ce,St)|0)+Math.imul(he,zt)|0,O=O+Math.imul(he,St)|0,N=N+Math.imul(pe,Tt)|0,C=(C=C+Math.imul(pe,_t)|0)+Math.imul(de,Tt)|0,O=O+Math.imul(de,_t)|0,N=N+Math.imul(B,Dt)|0,C=(C=C+Math.imul(B,jt)|0)+Math.imul(Q,Dt)|0,O=O+Math.imul(Q,jt)|0;var Wn=(Z+(N=N+Math.imul(H,br)|0)|0)+((8191&(C=(C=C+Math.imul(H,bt)|0)+Math.imul(J,br)|0))<<13)|0;Z=((O=O+Math.imul(J,bt)|0)+(C>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,N=Math.imul(Ie,At),C=(C=Math.imul(Ie,dt))+Math.imul(Oe,At)|0,O=Math.imul(Oe,dt),N=N+Math.imul(ke,zt)|0,C=(C=C+Math.imul(ke,St)|0)+Math.imul(ye,zt)|0,O=O+Math.imul(ye,St)|0,N=N+Math.imul(ce,Tt)|0,C=(C=C+Math.imul(ce,_t)|0)+Math.imul(he,Tt)|0,O=O+Math.imul(he,_t)|0,N=N+Math.imul(pe,Dt)|0,C=(C=C+Math.imul(pe,jt)|0)+Math.imul(de,Dt)|0,O=O+Math.imul(de,jt)|0,N=N+Math.imul(B,br)|0,C=(C=C+Math.imul(B,bt)|0)+Math.imul(Q,br)|0,O=O+Math.imul(Q,bt)|0;var Ae=(Z+(N=N+Math.imul(H,Ir)|0)|0)+((8191&(C=(C=C+Math.imul(H,Kt)|0)+Math.imul(J,Ir)|0))<<13)|0;Z=((O=O+Math.imul(J,Kt)|0)+(C>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,N=Math.imul(Se,At),C=(C=Math.imul(Se,dt))+Math.imul(Pe,At)|0,O=Math.imul(Pe,dt),N=N+Math.imul(Ie,zt)|0,C=(C=C+Math.imul(Ie,St)|0)+Math.imul(Oe,zt)|0,O=O+Math.imul(Oe,St)|0,N=N+Math.imul(ke,Tt)|0,C=(C=C+Math.imul(ke,_t)|0)+Math.imul(ye,Tt)|0,O=O+Math.imul(ye,_t)|0,N=N+Math.imul(ce,Dt)|0,C=(C=C+Math.imul(ce,jt)|0)+Math.imul(he,Dt)|0,O=O+Math.imul(he,jt)|0,N=N+Math.imul(pe,br)|0,C=(C=C+Math.imul(pe,bt)|0)+Math.imul(de,br)|0,O=O+Math.imul(de,bt)|0,N=N+Math.imul(B,Ir)|0,C=(C=C+Math.imul(B,Kt)|0)+Math.imul(Q,Ir)|0,O=O+Math.imul(Q,Kt)|0;var $e=(Z+(N=N+Math.imul(H,ze)|0)|0)+((8191&(C=(C=C+Math.imul(H,et)|0)+Math.imul(J,ze)|0))<<13)|0;Z=((O=O+Math.imul(J,et)|0)+(C>>>13)|0)+($e>>>26)|0,$e&=67108863,N=Math.imul(Ze,At),C=(C=Math.imul(Ze,dt))+Math.imul(at,At)|0,O=Math.imul(at,dt),N=N+Math.imul(Se,zt)|0,C=(C=C+Math.imul(Se,St)|0)+Math.imul(Pe,zt)|0,O=O+Math.imul(Pe,St)|0,N=N+Math.imul(Ie,Tt)|0,C=(C=C+Math.imul(Ie,_t)|0)+Math.imul(Oe,Tt)|0,O=O+Math.imul(Oe,_t)|0,N=N+Math.imul(ke,Dt)|0,C=(C=C+Math.imul(ke,jt)|0)+Math.imul(ye,Dt)|0,O=O+Math.imul(ye,jt)|0,N=N+Math.imul(ce,br)|0,C=(C=C+Math.imul(ce,bt)|0)+Math.imul(he,br)|0,O=O+Math.imul(he,bt)|0,N=N+Math.imul(pe,Ir)|0,C=(C=C+Math.imul(pe,Kt)|0)+Math.imul(de,Ir)|0,O=O+Math.imul(de,Kt)|0,N=N+Math.imul(B,ze)|0,C=(C=C+Math.imul(B,et)|0)+Math.imul(Q,ze)|0,O=O+Math.imul(Q,et)|0;var pt=(Z+(N=N+Math.imul(H,er)|0)|0)+((8191&(C=(C=C+Math.imul(H,Lt)|0)+Math.imul(J,er)|0))<<13)|0;Z=((O=O+Math.imul(J,Lt)|0)+(C>>>13)|0)+(pt>>>26)|0,pt&=67108863,N=Math.imul(lt,At),C=(C=Math.imul(lt,dt))+Math.imul(ut,At)|0,O=Math.imul(ut,dt),N=N+Math.imul(Ze,zt)|0,C=(C=C+Math.imul(Ze,St)|0)+Math.imul(at,zt)|0,O=O+Math.imul(at,St)|0,N=N+Math.imul(Se,Tt)|0,C=(C=C+Math.imul(Se,_t)|0)+Math.imul(Pe,Tt)|0,O=O+Math.imul(Pe,_t)|0,N=N+Math.imul(Ie,Dt)|0,C=(C=C+Math.imul(Ie,jt)|0)+Math.imul(Oe,Dt)|0,O=O+Math.imul(Oe,jt)|0,N=N+Math.imul(ke,br)|0,C=(C=C+Math.imul(ke,bt)|0)+Math.imul(ye,br)|0,O=O+Math.imul(ye,bt)|0,N=N+Math.imul(ce,Ir)|0,C=(C=C+Math.imul(ce,Kt)|0)+Math.imul(he,Ir)|0,O=O+Math.imul(he,Kt)|0,N=N+Math.imul(pe,ze)|0,C=(C=C+Math.imul(pe,et)|0)+Math.imul(de,ze)|0,O=O+Math.imul(de,et)|0,N=N+Math.imul(B,er)|0,C=(C=C+Math.imul(B,Lt)|0)+Math.imul(Q,er)|0,O=O+Math.imul(Q,Lt)|0;var Nt=(Z+(N=N+Math.imul(H,ir)|0)|0)+((8191&(C=(C=C+Math.imul(H,Wt)|0)+Math.imul(J,ir)|0))<<13)|0;Z=((O=O+Math.imul(J,Wt)|0)+(C>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,N=Math.imul(ft,At),C=(C=Math.imul(ft,dt))+Math.imul(st,At)|0,O=Math.imul(st,dt),N=N+Math.imul(lt,zt)|0,C=(C=C+Math.imul(lt,St)|0)+Math.imul(ut,zt)|0,O=O+Math.imul(ut,St)|0,N=N+Math.imul(Ze,Tt)|0,C=(C=C+Math.imul(Ze,_t)|0)+Math.imul(at,Tt)|0,O=O+Math.imul(at,_t)|0,N=N+Math.imul(Se,Dt)|0,C=(C=C+Math.imul(Se,jt)|0)+Math.imul(Pe,Dt)|0,O=O+Math.imul(Pe,jt)|0,N=N+Math.imul(Ie,br)|0,C=(C=C+Math.imul(Ie,bt)|0)+Math.imul(Oe,br)|0,O=O+Math.imul(Oe,bt)|0,N=N+Math.imul(ke,Ir)|0,C=(C=C+Math.imul(ke,Kt)|0)+Math.imul(ye,Ir)|0,O=O+Math.imul(ye,Kt)|0,N=N+Math.imul(ce,ze)|0,C=(C=C+Math.imul(ce,et)|0)+Math.imul(he,ze)|0,O=O+Math.imul(he,et)|0,N=N+Math.imul(pe,er)|0,C=(C=C+Math.imul(pe,Lt)|0)+Math.imul(de,er)|0,O=O+Math.imul(de,Lt)|0,N=N+Math.imul(B,ir)|0,C=(C=C+Math.imul(B,Wt)|0)+Math.imul(Q,ir)|0,O=O+Math.imul(Q,Wt)|0;var Gt=(Z+(N=N+Math.imul(H,hr)|0)|0)+((8191&(C=(C=C+Math.imul(H,Lr)|0)+Math.imul(J,hr)|0))<<13)|0;Z=((O=O+Math.imul(J,Lr)|0)+(C>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,N=Math.imul(ft,zt),C=(C=Math.imul(ft,St))+Math.imul(st,zt)|0,O=Math.imul(st,St),N=N+Math.imul(lt,Tt)|0,C=(C=C+Math.imul(lt,_t)|0)+Math.imul(ut,Tt)|0,O=O+Math.imul(ut,_t)|0,N=N+Math.imul(Ze,Dt)|0,C=(C=C+Math.imul(Ze,jt)|0)+Math.imul(at,Dt)|0,O=O+Math.imul(at,jt)|0,N=N+Math.imul(Se,br)|0,C=(C=C+Math.imul(Se,bt)|0)+Math.imul(Pe,br)|0,O=O+Math.imul(Pe,bt)|0,N=N+Math.imul(Ie,Ir)|0,C=(C=C+Math.imul(Ie,Kt)|0)+Math.imul(Oe,Ir)|0,O=O+Math.imul(Oe,Kt)|0,N=N+Math.imul(ke,ze)|0,C=(C=C+Math.imul(ke,et)|0)+Math.imul(ye,ze)|0,O=O+Math.imul(ye,et)|0,N=N+Math.imul(ce,er)|0,C=(C=C+Math.imul(ce,Lt)|0)+Math.imul(he,er)|0,O=O+Math.imul(he,Lt)|0,N=N+Math.imul(pe,ir)|0,C=(C=C+Math.imul(pe,Wt)|0)+Math.imul(de,ir)|0,O=O+Math.imul(de,Wt)|0;var Pt=(Z+(N=N+Math.imul(B,hr)|0)|0)+((8191&(C=(C=C+Math.imul(B,Lr)|0)+Math.imul(Q,hr)|0))<<13)|0;Z=((O=O+Math.imul(Q,Lr)|0)+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,N=Math.imul(ft,Tt),C=(C=Math.imul(ft,_t))+Math.imul(st,Tt)|0,O=Math.imul(st,_t),N=N+Math.imul(lt,Dt)|0,C=(C=C+Math.imul(lt,jt)|0)+Math.imul(ut,Dt)|0,O=O+Math.imul(ut,jt)|0,N=N+Math.imul(Ze,br)|0,C=(C=C+Math.imul(Ze,bt)|0)+Math.imul(at,br)|0,O=O+Math.imul(at,bt)|0,N=N+Math.imul(Se,Ir)|0,C=(C=C+Math.imul(Se,Kt)|0)+Math.imul(Pe,Ir)|0,O=O+Math.imul(Pe,Kt)|0,N=N+Math.imul(Ie,ze)|0,C=(C=C+Math.imul(Ie,et)|0)+Math.imul(Oe,ze)|0,O=O+Math.imul(Oe,et)|0,N=N+Math.imul(ke,er)|0,C=(C=C+Math.imul(ke,Lt)|0)+Math.imul(ye,er)|0,O=O+Math.imul(ye,Lt)|0,N=N+Math.imul(ce,ir)|0,C=(C=C+Math.imul(ce,Wt)|0)+Math.imul(he,ir)|0,O=O+Math.imul(he,Wt)|0;var Ft=(Z+(N=N+Math.imul(pe,hr)|0)|0)+((8191&(C=(C=C+Math.imul(pe,Lr)|0)+Math.imul(de,hr)|0))<<13)|0;Z=((O=O+Math.imul(de,Lr)|0)+(C>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,N=Math.imul(ft,Dt),C=(C=Math.imul(ft,jt))+Math.imul(st,Dt)|0,O=Math.imul(st,jt),N=N+Math.imul(lt,br)|0,C=(C=C+Math.imul(lt,bt)|0)+Math.imul(ut,br)|0,O=O+Math.imul(ut,bt)|0,N=N+Math.imul(Ze,Ir)|0,C=(C=C+Math.imul(Ze,Kt)|0)+Math.imul(at,Ir)|0,O=O+Math.imul(at,Kt)|0,N=N+Math.imul(Se,ze)|0,C=(C=C+Math.imul(Se,et)|0)+Math.imul(Pe,ze)|0,O=O+Math.imul(Pe,et)|0,N=N+Math.imul(Ie,er)|0,C=(C=C+Math.imul(Ie,Lt)|0)+Math.imul(Oe,er)|0,O=O+Math.imul(Oe,Lt)|0,N=N+Math.imul(ke,ir)|0,C=(C=C+Math.imul(ke,Wt)|0)+Math.imul(ye,ir)|0,O=O+Math.imul(ye,Wt)|0;var Gr=(Z+(N=N+Math.imul(ce,hr)|0)|0)+((8191&(C=(C=C+Math.imul(ce,Lr)|0)+Math.imul(he,hr)|0))<<13)|0;Z=((O=O+Math.imul(he,Lr)|0)+(C>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,N=Math.imul(ft,br),C=(C=Math.imul(ft,bt))+Math.imul(st,br)|0,O=Math.imul(st,bt),N=N+Math.imul(lt,Ir)|0,C=(C=C+Math.imul(lt,Kt)|0)+Math.imul(ut,Ir)|0,O=O+Math.imul(ut,Kt)|0,N=N+Math.imul(Ze,ze)|0,C=(C=C+Math.imul(Ze,et)|0)+Math.imul(at,ze)|0,O=O+Math.imul(at,et)|0,N=N+Math.imul(Se,er)|0,C=(C=C+Math.imul(Se,Lt)|0)+Math.imul(Pe,er)|0,O=O+Math.imul(Pe,Lt)|0,N=N+Math.imul(Ie,ir)|0,C=(C=C+Math.imul(Ie,Wt)|0)+Math.imul(Oe,ir)|0,O=O+Math.imul(Oe,Wt)|0;var Pr=(Z+(N=N+Math.imul(ke,hr)|0)|0)+((8191&(C=(C=C+Math.imul(ke,Lr)|0)+Math.imul(ye,hr)|0))<<13)|0;Z=((O=O+Math.imul(ye,Lr)|0)+(C>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,N=Math.imul(ft,Ir),C=(C=Math.imul(ft,Kt))+Math.imul(st,Ir)|0,O=Math.imul(st,Kt),N=N+Math.imul(lt,ze)|0,C=(C=C+Math.imul(lt,et)|0)+Math.imul(ut,ze)|0,O=O+Math.imul(ut,et)|0,N=N+Math.imul(Ze,er)|0,C=(C=C+Math.imul(Ze,Lt)|0)+Math.imul(at,er)|0,O=O+Math.imul(at,Lt)|0,N=N+Math.imul(Se,ir)|0,C=(C=C+Math.imul(Se,Wt)|0)+Math.imul(Pe,ir)|0,O=O+Math.imul(Pe,Wt)|0;var Tr=(Z+(N=N+Math.imul(Ie,hr)|0)|0)+((8191&(C=(C=C+Math.imul(Ie,Lr)|0)+Math.imul(Oe,hr)|0))<<13)|0;Z=((O=O+Math.imul(Oe,Lr)|0)+(C>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,N=Math.imul(ft,ze),C=(C=Math.imul(ft,et))+Math.imul(st,ze)|0,O=Math.imul(st,et),N=N+Math.imul(lt,er)|0,C=(C=C+Math.imul(lt,Lt)|0)+Math.imul(ut,er)|0,O=O+Math.imul(ut,Lt)|0,N=N+Math.imul(Ze,ir)|0,C=(C=C+Math.imul(Ze,Wt)|0)+Math.imul(at,ir)|0,O=O+Math.imul(at,Wt)|0;var wr=(Z+(N=N+Math.imul(Se,hr)|0)|0)+((8191&(C=(C=C+Math.imul(Se,Lr)|0)+Math.imul(Pe,hr)|0))<<13)|0;Z=((O=O+Math.imul(Pe,Lr)|0)+(C>>>13)|0)+(wr>>>26)|0,wr&=67108863,N=Math.imul(ft,er),C=(C=Math.imul(ft,Lt))+Math.imul(st,er)|0,O=Math.imul(st,Lt),N=N+Math.imul(lt,ir)|0,C=(C=C+Math.imul(lt,Wt)|0)+Math.imul(ut,ir)|0,O=O+Math.imul(ut,Wt)|0;var Rr=(Z+(N=N+Math.imul(Ze,hr)|0)|0)+((8191&(C=(C=C+Math.imul(Ze,Lr)|0)+Math.imul(at,hr)|0))<<13)|0;Z=((O=O+Math.imul(at,Lr)|0)+(C>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,N=Math.imul(ft,ir),C=(C=Math.imul(ft,Wt))+Math.imul(st,ir)|0,O=Math.imul(st,Wt);var Yr=(Z+(N=N+Math.imul(lt,hr)|0)|0)+((8191&(C=(C=C+Math.imul(lt,Lr)|0)+Math.imul(ut,hr)|0))<<13)|0;Z=((O=O+Math.imul(ut,Lr)|0)+(C>>>13)|0)+(Yr>>>26)|0,Yr&=67108863;var Jr=(Z+(N=Math.imul(ft,hr))|0)+((8191&(C=(C=Math.imul(ft,Lr))+Math.imul(st,hr)|0))<<13)|0;return Z=((O=Math.imul(st,Lr))+(C>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,K[0]=pn,K[1]=on,K[2]=Ln,K[3]=In,K[4]=Wn,K[5]=Ae,K[6]=$e,K[7]=pt,K[8]=Nt,K[9]=Gt,K[10]=Pt,K[11]=Ft,K[12]=Gr,K[13]=Pr,K[14]=Tr,K[15]=wr,K[16]=Rr,K[17]=Yr,K[18]=Jr,Z!==0&&(K[19]=Z,k.length++),k};function F(A,S,k){k.negative=S.negative^A.negative,k.length=A.length+S.length;for(var N=0,C=0,O=0;O<k.length-1;O++){var D=C;C=0;for(var j=67108863&N,K=Math.min(O,S.length-1),Z=Math.max(0,O-A.length+1);Z<=K;Z++){var ne=O-Z,H=(0|A.words[ne])*(0|S.words[Z]),J=67108863&H;j=67108863&(J=J+j|0),C+=(D=(D=D+(H/67108864|0)|0)+(J>>>26)|0)>>>26,D&=67108863}k.words[O]=j,N=D,D=C}return N!==0?k.words[O]=N:k.length--,k._strip()}function G(A,S,k){return F(A,S,k)}Math.imul||(T=_),a.prototype.mulTo=function(A,S){var k=this.length+A.length;return this.length===10&&A.length===10?T(this,A,S):k<63?_(this,A,S):k<1024?F(this,A,S):G(this,A,S)},a.prototype.mul=function(A){var S=new a(null);return S.words=new Array(this.length+A.length),this.mulTo(A,S)},a.prototype.mulf=function(A){var S=new a(null);return S.words=new Array(this.length+A.length),G(this,A,S)},a.prototype.imul=function(A){return this.clone().mulTo(A,this)},a.prototype.imuln=function(A){var S=A<0;S&&(A=-A),l(typeof A=="number"),l(A<67108864);for(var k=0,N=0;N<this.length;N++){var C=(0|this.words[N])*A,O=(67108863&C)+(67108863&k);k>>=26,k+=C/67108864|0,k+=O>>>26,this.words[N]=67108863&O}return k!==0&&(this.words[N]=k,this.length++),S?this.ineg():this},a.prototype.muln=function(A){return this.clone().imuln(A)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(A){var S=(function(O){for(var D=new Array(O.bitLength()),j=0;j<D.length;j++){var K=j/26|0,Z=j%26;D[j]=O.words[K]>>>Z&1}return D})(A);if(S.length===0)return new a(1);for(var k=this,N=0;N<S.length&&S[N]===0;N++,k=k.sqr());if(++N<S.length)for(var C=k.sqr();N<S.length;N++,C=C.sqr())S[N]!==0&&(k=k.mul(C));return k},a.prototype.iushln=function(A){l(typeof A=="number"&&A>=0);var S,k=A%26,N=(A-k)/26,C=67108863>>>26-k<<26-k;if(k!==0){var O=0;for(S=0;S<this.length;S++){var D=this.words[S]&C,j=(0|this.words[S])-D<<k;this.words[S]=j|O,O=D>>>26-k}O&&(this.words[S]=O,this.length++)}if(N!==0){for(S=this.length-1;S>=0;S--)this.words[S+N]=this.words[S];for(S=0;S<N;S++)this.words[S]=0;this.length+=N}return this._strip()},a.prototype.ishln=function(A){return l(this.negative===0),this.iushln(A)},a.prototype.iushrn=function(A,S,k){var N;l(typeof A=="number"&&A>=0),N=S?(S-S%26)/26:0;var C=A%26,O=Math.min((A-C)/26,this.length),D=67108863^67108863>>>C<<C,j=k;if(N-=O,N=Math.max(0,N),j){for(var K=0;K<O;K++)j.words[K]=this.words[K];j.length=O}if(O!==0)if(this.length>O)for(this.length-=O,K=0;K<this.length;K++)this.words[K]=this.words[K+O];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=N);K--){var ne=0|this.words[K];this.words[K]=Z<<26-C|ne>>>C,Z=ne&D}return j&&Z!==0&&(j.words[j.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(A,S,k){return l(this.negative===0),this.iushrn(A,S,k)},a.prototype.shln=function(A){return this.clone().ishln(A)},a.prototype.ushln=function(A){return this.clone().iushln(A)},a.prototype.shrn=function(A){return this.clone().ishrn(A)},a.prototype.ushrn=function(A){return this.clone().iushrn(A)},a.prototype.testn=function(A){l(typeof A=="number"&&A>=0);var S=A%26,k=(A-S)/26,N=1<<S;return!(this.length<=k)&&!!(this.words[k]&N)},a.prototype.imaskn=function(A){l(typeof A=="number"&&A>=0);var S=A%26,k=(A-S)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(S!==0&&k++,this.length=Math.min(k,this.length),S!==0){var N=67108863^67108863>>>S<<S;this.words[this.length-1]&=N}return this._strip()},a.prototype.maskn=function(A){return this.clone().imaskn(A)},a.prototype.iaddn=function(A){return l(typeof A=="number"),l(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},a.prototype._iaddn=function(A){this.words[0]+=A;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},a.prototype.isubn=function(A){if(l(typeof A=="number"),l(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},a.prototype.addn=function(A){return this.clone().iaddn(A)},a.prototype.subn=function(A){return this.clone().isubn(A)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(A,S,k){var N,C,O=A.length+k;this._expand(O);var D=0;for(N=0;N<A.length;N++){C=(0|this.words[N+k])+D;var j=(0|A.words[N])*S;D=((C-=67108863&j)>>26)-(j/67108864|0),this.words[N+k]=67108863&C}for(;N<this.length-k;N++)D=(C=(0|this.words[N+k])+D)>>26,this.words[N+k]=67108863&C;if(D===0)return this._strip();for(l(D===-1),D=0,N=0;N<this.length;N++)D=(C=-(0|this.words[N])+D)>>26,this.words[N]=67108863&C;return this.negative=1,this._strip()},a.prototype._wordDiv=function(A,S){var k=(this.length,A.length),N=this.clone(),C=A,O=0|C.words[C.length-1];(k=26-this._countBits(O))!==0&&(C=C.ushln(k),N.iushln(k),O=0|C.words[C.length-1]);var D,j=N.length-C.length;if(S!=="mod"){(D=new a(null)).length=j+1,D.words=new Array(D.length);for(var K=0;K<D.length;K++)D.words[K]=0}var Z=N.clone()._ishlnsubmul(C,1,j);Z.negative===0&&(N=Z,D&&(D.words[j]=1));for(var ne=j-1;ne>=0;ne--){var H=67108864*(0|N.words[C.length+ne])+(0|N.words[C.length+ne-1]);for(H=Math.min(H/O|0,67108863),N._ishlnsubmul(C,H,ne);N.negative!==0;)H--,N.negative=0,N._ishlnsubmul(C,1,ne),N.isZero()||(N.negative^=1);D&&(D.words[ne]=H)}return D&&D._strip(),N._strip(),S!=="div"&&k!==0&&N.iushrn(k),{div:D||null,mod:N}},a.prototype.divmod=function(A,S,k){return l(!A.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&A.negative===0?(O=this.neg().divmod(A,S),S!=="mod"&&(N=O.div.neg()),S!=="div"&&(C=O.mod.neg(),k&&C.negative!==0&&C.iadd(A)),{div:N,mod:C}):this.negative===0&&A.negative!==0?(O=this.divmod(A.neg(),S),S!=="mod"&&(N=O.div.neg()),{div:N,mod:O.mod}):(this.negative&A.negative)!=0?(O=this.neg().divmod(A.neg(),S),S!=="div"&&(C=O.mod.neg(),k&&C.negative!==0&&C.isub(A)),{div:O.div,mod:C}):A.length>this.length||this.cmp(A)<0?{div:new a(0),mod:this}:A.length===1?S==="div"?{div:this.divn(A.words[0]),mod:null}:S==="mod"?{div:null,mod:new a(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new a(this.modrn(A.words[0]))}:this._wordDiv(A,S);var N,C,O},a.prototype.div=function(A){return this.divmod(A,"div",!1).div},a.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},a.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},a.prototype.divRound=function(A){var S=this.divmod(A);if(S.mod.isZero())return S.div;var k=S.div.negative!==0?S.mod.isub(A):S.mod,N=A.ushrn(1),C=A.andln(1),O=k.cmp(N);return O<0||C===1&&O===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},a.prototype.modrn=function(A){var S=A<0;S&&(A=-A),l(A<=67108863);for(var k=(1<<26)%A,N=0,C=this.length-1;C>=0;C--)N=(k*N+(0|this.words[C]))%A;return S?-N:N},a.prototype.modn=function(A){return this.modrn(A)},a.prototype.idivn=function(A){var S=A<0;S&&(A=-A),l(A<=67108863);for(var k=0,N=this.length-1;N>=0;N--){var C=(0|this.words[N])+67108864*k;this.words[N]=C/A|0,k=C%A}return this._strip(),S?this.ineg():this},a.prototype.divn=function(A){return this.clone().idivn(A)},a.prototype.egcd=function(A){l(A.negative===0),l(!A.isZero());var S=this,k=A.clone();S=S.negative!==0?S.umod(A):S.clone();for(var N=new a(1),C=new a(0),O=new a(0),D=new a(1),j=0;S.isEven()&&k.isEven();)S.iushrn(1),k.iushrn(1),++j;for(var K=k.clone(),Z=S.clone();!S.isZero();){for(var ne=0,H=1;(S.words[0]&H)==0&&ne<26;++ne,H<<=1);if(ne>0)for(S.iushrn(ne);ne-- >0;)(N.isOdd()||C.isOdd())&&(N.iadd(K),C.isub(Z)),N.iushrn(1),C.iushrn(1);for(var J=0,z=1;(k.words[0]&z)==0&&J<26;++J,z<<=1);if(J>0)for(k.iushrn(J);J-- >0;)(O.isOdd()||D.isOdd())&&(O.iadd(K),D.isub(Z)),O.iushrn(1),D.iushrn(1);S.cmp(k)>=0?(S.isub(k),N.isub(O),C.isub(D)):(k.isub(S),O.isub(N),D.isub(C))}return{a:O,b:D,gcd:k.iushln(j)}},a.prototype._invmp=function(A){l(A.negative===0),l(!A.isZero());var S=this,k=A.clone();S=S.negative!==0?S.umod(A):S.clone();for(var N,C=new a(1),O=new a(0),D=k.clone();S.cmpn(1)>0&&k.cmpn(1)>0;){for(var j=0,K=1;(S.words[0]&K)==0&&j<26;++j,K<<=1);if(j>0)for(S.iushrn(j);j-- >0;)C.isOdd()&&C.iadd(D),C.iushrn(1);for(var Z=0,ne=1;(k.words[0]&ne)==0&&Z<26;++Z,ne<<=1);if(Z>0)for(k.iushrn(Z);Z-- >0;)O.isOdd()&&O.iadd(D),O.iushrn(1);S.cmp(k)>=0?(S.isub(k),C.isub(O)):(k.isub(S),O.isub(C))}return(N=S.cmpn(1)===0?C:O).cmpn(0)<0&&N.iadd(A),N},a.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var S=this.clone(),k=A.clone();S.negative=0,k.negative=0;for(var N=0;S.isEven()&&k.isEven();N++)S.iushrn(1),k.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=S.cmp(k);if(C<0){var O=S;S=k,k=O}else if(C===0||k.cmpn(1)===0)break;S.isub(k)}return k.iushln(N)},a.prototype.invm=function(A){return this.egcd(A).a.umod(A)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(A){return this.words[0]&A},a.prototype.bincn=function(A){l(typeof A=="number");var S=A%26,k=(A-S)/26,N=1<<S;if(this.length<=k)return this._expand(k+1),this.words[k]|=N,this;for(var C=N,O=k;C!==0&&O<this.length;O++){var D=0|this.words[O];C=(D+=C)>>>26,D&=67108863,this.words[O]=D}return C!==0&&(this.words[O]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(A){var S,k=A<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)S=1;else{k&&(A=-A),l(A<=67108863,"Number is too big");var N=0|this.words[0];S=N===A?0:N<A?-1:1}return this.negative!==0?0|-S:S},a.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var S=this.ucmp(A);return this.negative!==0?0|-S:S},a.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var S=0,k=this.length-1;k>=0;k--){var N=0|this.words[k],C=0|A.words[k];if(N!==C){N<C?S=-1:N>C&&(S=1);break}}return S},a.prototype.gtn=function(A){return this.cmpn(A)===1},a.prototype.gt=function(A){return this.cmp(A)===1},a.prototype.gten=function(A){return this.cmpn(A)>=0},a.prototype.gte=function(A){return this.cmp(A)>=0},a.prototype.ltn=function(A){return this.cmpn(A)===-1},a.prototype.lt=function(A){return this.cmp(A)===-1},a.prototype.lten=function(A){return this.cmpn(A)<=0},a.prototype.lte=function(A){return this.cmp(A)<=0},a.prototype.eqn=function(A){return this.cmpn(A)===0},a.prototype.eq=function(A){return this.cmp(A)===0},a.red=function(A){return new E(A)},a.prototype.toRed=function(A){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},a.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(A){return this.red=A,this},a.prototype.forceRed=function(A){return l(!this.red,"Already a number in reduction context"),this._forceRed(A)},a.prototype.redAdd=function(A){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},a.prototype.redIAdd=function(A){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},a.prototype.redSub=function(A){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},a.prototype.redISub=function(A){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},a.prototype.redShl=function(A){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},a.prototype.redMul=function(A){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},a.prototype.redIMul=function(A){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},a.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(A){return l(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var $={k256:null,p224:null,p192:null,p25519:null};function P(A,S){this.name=A,this.p=new a(S,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(A){if(typeof A=="string"){var S=a._prime(A);this.m=S.p,this.prime=S}else l(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function L(A){E.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var A=new a(null);return A.words=new Array(Math.ceil(this.n/13)),A},P.prototype.ireduce=function(A){var S,k=A;do this.split(k,this.tmp),S=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(S>this.n);var N=S<this.n?-1:k.ucmp(this.p);return N===0?(k.words[0]=0,k.length=1):N>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},P.prototype.split=function(A,S){A.iushrn(this.n,0,S)},P.prototype.imulK=function(A){return A.imul(this.k)},c(M,P),M.prototype.split=function(A,S){for(var k=Math.min(A.length,9),N=0;N<k;N++)S.words[N]=A.words[N];if(S.length=k,A.length<=9)return A.words[0]=0,void(A.length=1);var C=A.words[9];for(S.words[S.length++]=4194303&C,N=10;N<A.length;N++){var O=0|A.words[N];A.words[N-10]=(4194303&O)<<4|C>>>22,C=O}C>>>=22,A.words[N-10]=C,C===0&&A.length>10?A.length-=10:A.length-=9},M.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var S=0,k=0;k<A.length;k++){var N=0|A.words[k];S+=977*N,A.words[k]=67108863&S,S=64*N+(S/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},c(U,P),c(V,P),c(I,P),I.prototype.imulK=function(A){for(var S=0,k=0;k<A.length;k++){var N=19*(0|A.words[k])+S,C=67108863&N;N>>>=26,A.words[k]=C,S=N}return S!==0&&(A.words[A.length++]=S),A},a._prime=function(A){if($[A])return $[A];var S;if(A==="k256")S=new M;else if(A==="p224")S=new U;else if(A==="p192")S=new V;else{if(A!=="p25519")throw new Error("Unknown prime "+A);S=new I}return $[A]=S,S},E.prototype._verify1=function(A){l(A.negative===0,"red works only with positives"),l(A.red,"red works only with red numbers")},E.prototype._verify2=function(A,S){l((A.negative|S.negative)==0,"red works only with positives"),l(A.red&&A.red===S.red,"red works only with red numbers")},E.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(y(A,A.umod(this.m)._forceRed(this)),A)},E.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},E.prototype.add=function(A,S){this._verify2(A,S);var k=A.add(S);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},E.prototype.iadd=function(A,S){this._verify2(A,S);var k=A.iadd(S);return k.cmp(this.m)>=0&&k.isub(this.m),k},E.prototype.sub=function(A,S){this._verify2(A,S);var k=A.sub(S);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},E.prototype.isub=function(A,S){this._verify2(A,S);var k=A.isub(S);return k.cmpn(0)<0&&k.iadd(this.m),k},E.prototype.shl=function(A,S){return this._verify1(A),this.imod(A.ushln(S))},E.prototype.imul=function(A,S){return this._verify2(A,S),this.imod(A.imul(S))},E.prototype.mul=function(A,S){return this._verify2(A,S),this.imod(A.mul(S))},E.prototype.isqr=function(A){return this.imul(A,A.clone())},E.prototype.sqr=function(A){return this.mul(A,A)},E.prototype.sqrt=function(A){if(A.isZero())return A.clone();var S=this.m.andln(3);if(l(S%2==1),S===3){var k=this.m.add(new a(1)).iushrn(2);return this.pow(A,k)}for(var N=this.m.subn(1),C=0;!N.isZero()&&N.andln(1)===0;)C++,N.iushrn(1);l(!N.isZero());var O=new a(1).toRed(this),D=O.redNeg(),j=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new a(2*K*K).toRed(this);this.pow(K,j).cmp(D)!==0;)K.redIAdd(D);for(var Z=this.pow(K,N),ne=this.pow(A,N.addn(1).iushrn(1)),H=this.pow(A,N),J=C;H.cmp(O)!==0;){for(var z=H,B=0;z.cmp(O)!==0;B++)z=z.redSqr();l(B<J);var Q=this.pow(Z,new a(1).iushln(J-B-1));ne=ne.redMul(Q),Z=Q.redSqr(),H=H.redMul(Z),J=B}return ne},E.prototype.invm=function(A){var S=A._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},E.prototype.pow=function(A,S){if(S.isZero())return new a(1).toRed(this);if(S.cmpn(1)===0)return A.clone();var k=new Array(16);k[0]=new a(1).toRed(this),k[1]=A;for(var N=2;N<k.length;N++)k[N]=this.mul(k[N-1],A);var C=k[0],O=0,D=0,j=S.bitLength()%26;for(j===0&&(j=26),N=S.length-1;N>=0;N--){for(var K=S.words[N],Z=j-1;Z>=0;Z--){var ne=K>>Z&1;C!==k[0]&&(C=this.sqr(C)),ne!==0||O!==0?(O<<=1,O|=ne,(++D===4||N===0&&Z===0)&&(C=this.mul(C,k[O]),D=0,O=0)):D=0}j=26}return C},E.prototype.convertTo=function(A){var S=A.umod(this.m);return S===A?S.clone():S},E.prototype.convertFrom=function(A){var S=A.clone();return S.red=null,S},a.mont=function(A){return new L(A)},c(L,E),L.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},L.prototype.convertFrom=function(A){var S=this.imod(A.mul(this.rinv));return S.red=null,S},L.prototype.imul=function(A,S){if(A.isZero()||S.isZero())return A.words[0]=0,A.length=1,A;var k=A.imul(S),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(N).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},L.prototype.mul=function(A,S){if(A.isZero()||S.isZero())return new a(0)._forceRed(this);var k=A.mul(S),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(N).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},L.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var s;function o(c){this.rand=c}if(n.exports=function(c){return s||(s=new o(null)),s.generate(c)},n.exports.Rand=o,o.prototype.generate=function(c){return this._rand(c)},o.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var a=new Uint8Array(c),u=0;u<a.length;u++)a[u]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(c){var a=new Uint8Array(c);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(c){var a=new Uint8Array(c);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=e("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(h){s.isBuffer(h)||(h=s.from(h));for(var d=h.length/4|0,y=new Array(d),g=0;g<d;g++)y[g]=h.readUInt32BE(4*g);return y}function l(h){for(;0<h.length;h++)h[0]=0}function c(h,d,y,g,p){for(var w,v,_,T,F=y[0],G=y[1],$=y[2],P=y[3],M=h[0]^d[0],U=h[1]^d[1],V=h[2]^d[2],I=h[3]^d[3],E=4,L=1;L<p;L++)w=F[M>>>24]^G[U>>>16&255]^$[V>>>8&255]^P[255&I]^d[E++],v=F[U>>>24]^G[V>>>16&255]^$[I>>>8&255]^P[255&M]^d[E++],_=F[V>>>24]^G[I>>>16&255]^$[M>>>8&255]^P[255&U]^d[E++],T=F[I>>>24]^G[M>>>16&255]^$[U>>>8&255]^P[255&V]^d[E++],M=w,U=v,V=_,I=T;return w=(g[M>>>24]<<24|g[U>>>16&255]<<16|g[V>>>8&255]<<8|g[255&I])^d[E++],v=(g[U>>>24]<<24|g[V>>>16&255]<<16|g[I>>>8&255]<<8|g[255&M])^d[E++],_=(g[V>>>24]<<24|g[I>>>16&255]<<16|g[M>>>8&255]<<8|g[255&U])^d[E++],T=(g[I>>>24]<<24|g[M>>>16&255]<<16|g[U>>>8&255]<<8|g[255&V])^d[E++],[w>>>=0,v>>>=0,_>>>=0,T>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var y=[],g=[],p=[[],[],[],[]],w=[[],[],[],[]],v=0,_=0,T=0;T<256;++T){var F=_^_<<1^_<<2^_<<3^_<<4;F=F>>>8^255&F^99,y[v]=F,g[F]=v;var G=h[v],$=h[G],P=h[$],M=257*h[F]^16843008*F;p[0][v]=M<<24|M>>>8,p[1][v]=M<<16|M>>>16,p[2][v]=M<<8|M>>>24,p[3][v]=M,M=16843009*P^65537*$^257*G^16843008*v,w[0][F]=M<<24|M>>>8,w[1][F]=M<<16|M>>>16,w[2][F]=M<<8|M>>>24,w[3][F]=M,v===0?v=_=1:(v=G^h[h[h[P^G]]],_^=h[h[_]])}return{SBOX:y,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:w}})();function f(h){this._key=o(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,y=d+6,g=4*(y+1),p=[],w=0;w<d;w++)p[w]=h[w];for(w=d;w<g;w++){var v=p[w-1];w%d==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=a[w/d|0]<<24):d>6&&w%d==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),p[w]=p[w-d]^v}for(var _=[],T=0;T<g;T++){var F=g-T,G=p[F-(T%4?0:4)];_[T]=T<4||F<=4?G:u.INV_SUB_MIX[0][u.SBOX[G>>>24]]^u.INV_SUB_MIX[1][u.SBOX[G>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[G>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&G]]}this._nRounds=y,this._keySchedule=p,this._invKeySchedule=_},f.prototype.encryptBlockRaw=function(h){return c(h=o(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),y=s.allocUnsafe(16);return y.writeUInt32BE(d[0],0),y.writeUInt32BE(d[1],4),y.writeUInt32BE(d[2],8),y.writeUInt32BE(d[3],12),y},f.prototype.decryptBlock=function(h){var d=(h=o(h))[1];h[1]=h[3],h[3]=d;var y=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=s.allocUnsafe(16);return g.writeUInt32BE(y[0],0),g.writeUInt32BE(y[3],4),g.writeUInt32BE(y[2],8),g.writeUInt32BE(y[1],12),g},f.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(e,n,i){var s=e("./aes"),o=e("safe-buffer").Buffer,l=e("cipher-base"),c=e("inherits"),a=e("./ghash"),u=e("buffer-xor"),f=e("./incr32");function h(d,y,g,p){l.call(this);var w=o.alloc(4,0);this._cipher=new s.AES(y);var v=this._cipher.encryptBlock(w);this._ghash=new a(v),g=(function(_,T,F){if(T.length===12)return _._finID=o.concat([T,o.from([0,0,0,1])]),o.concat([T,o.from([0,0,0,2])]);var G=new a(F),$=T.length,P=$%16;G.update(T),P&&(P=16-P,G.update(o.alloc(P,0))),G.update(o.alloc(8,0));var M=8*$,U=o.alloc(8);U.writeUIntBE(M,0,8),G.update(U),_._finID=G.state;var V=o.from(_._finID);return f(V),V})(this,g,v),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}c(h,l),h.prototype._update=function(d){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=o.alloc(y,0),this._ghash.update(y))}this._called=!0;var g=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(g),this._len+=d.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(y,g){var p=0;y.length!==g.length&&p++;for(var w=Math.min(y.length,g.length),v=0;v<w;++v)p+=y[v]^g[v];return p})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var s=e("./encrypter"),o=e("./decrypter"),l=e("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var s=e("./authCipher"),o=e("safe-buffer").Buffer,l=e("./modes"),c=e("./streamCipher"),a=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function h(g,p,w){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(p),this._prev=o.from(w),this._mode=g,this._autopadding=!0}function d(){this.cache=o.allocUnsafe(0)}function y(g,p,w){var v=l[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=o.from(w)),v.mode!=="GCM"&&w.length!==v.iv)throw new TypeError("invalid iv length "+w.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==v.key/8)throw new TypeError("invalid key length "+p.length);return v.type==="stream"?new c(v.module,p,w,!0):v.type==="auth"?new s(v.module,p,w,!0):new h(v.module,p,w)}e("inherits")(h,a),h.prototype._update=function(g){var p,w;this._cache.add(g);for(var v=[];p=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,p),v.push(w);return o.concat(v)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return(function(p){var w=p[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var v=-1;++v<w;)if(p[v+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return p.slice(0,16-w)})(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=o.concat([this.cache,g])},d.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,p){var w=l[g.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var v=f(p,!1,w.key,w.iv);return y(g,v.key,v.iv)},i.createDecipheriv=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var s=e("./modes"),o=e("./authCipher"),l=e("safe-buffer").Buffer,c=e("./streamCipher"),a=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function h(p,w,v){a.call(this),this._cache=new y,this._cipher=new u.AES(w),this._prev=l.from(v),this._mode=p,this._autopadding=!0}e("inherits")(h,a),h.prototype._update=function(p){var w,v;this._cache.add(p);for(var _=[];w=this._cache.get();)v=this._mode.encrypt(this,w),_.push(v);return l.concat(_)};var d=l.alloc(16,16);function y(){this.cache=l.allocUnsafe(0)}function g(p,w,v){var _=s[p.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=l.from(w)),w.length!==_.key/8)throw new TypeError("invalid key length "+w.length);if(typeof v=="string"&&(v=l.from(v)),_.mode!=="GCM"&&v.length!==_.iv)throw new TypeError("invalid iv length "+v.length);return _.type==="stream"?new c(_.module,w,v):_.type==="auth"?new o(_.module,w,v):new h(_.module,w,v)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},y.prototype.add=function(p){this.cache=l.concat([this.cache,p])},y.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},y.prototype.flush=function(){for(var p=16-this.cache.length,w=l.allocUnsafe(p),v=-1;++v<p;)w.writeUInt8(p,v);return l.concat([this.cache,w])},i.createCipheriv=g,i.createCipher=function(p,w){var v=s[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var _=f(w,!1,v.key,v.iv);return g(p,_.key,_.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var s=e("safe-buffer").Buffer,o=s.alloc(16,0);function l(a){var u=s.allocUnsafe(16);return u.writeUInt32BE(a[0]>>>0,0),u.writeUInt32BE(a[1]>>>0,4),u.writeUInt32BE(a[2]>>>0,8),u.writeUInt32BE(a[3]>>>0,12),u}function c(a){this.h=a,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}c.prototype.ghash=function(a){for(var u=-1;++u<a.length;)this.state[u]^=a[u];this._multiply()},c.prototype._multiply=function(){for(var a,u,f,h=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],y=-1;++y<128;){for((this.state[~~(y/8)]&1<<7-y%8)!=0&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=l(d)},c.prototype.update=function(a){var u;for(this.cache=s.concat([this.cache,a]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(a,u){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(l([0,a,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(s){for(var o,l=s.length;l--;){if((o=s.readUInt8(l))!==255){o++,s.writeUInt8(o,l);break}s.writeUInt8(0,l)}}},{}],196:[function(e,n,i){var s=e("buffer-xor");i.encrypt=function(o,l){var c=s(l,o._prev);return o._prev=o._cipher.encryptBlock(c),o._prev},i.decrypt=function(o,l){var c=o._prev;o._prev=l;var a=o._cipher.decryptBlock(l);return s(a,c)}},{"buffer-xor":219}],197:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("buffer-xor");function l(c,a,u){var f=a.length,h=o(a,c._cache);return c._cache=c._cache.slice(f),c._prev=s.concat([c._prev,u?a:h]),h}i.encrypt=function(c,a,u){for(var f,h=s.allocUnsafe(0);a.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=s.allocUnsafe(0)),!(c._cache.length<=a.length)){h=s.concat([h,l(c,a,u)]);break}f=c._cache.length,h=s.concat([h,l(c,a.slice(0,f),u)]),a=a.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(c,a,u){for(var f,h,d=-1,y=0;++d<8;)f=a&1<<7-d?128:0,y+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^f))>>d%8,c._prev=l(c._prev,u?f:h);return y}function l(c,a){var u=c.length,f=-1,h=s.allocUnsafe(c.length);for(c=s.concat([c,s.from([a])]);++f<u;)h[f]=c[f]<<1|c[f+1]>>7;return h}i.encrypt=function(c,a,u){for(var f=a.length,h=s.allocUnsafe(f),d=-1;++d<f;)h[d]=o(c,a[d],u);return h}},{"safe-buffer":494}],199:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(l,c,a){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=s.concat([l._prev.slice(1),s.from([a?c:u])]),u}i.encrypt=function(l,c,a){for(var u=c.length,f=s.allocUnsafe(u),h=-1;++h<u;)f[h]=o(l,c[h],a);return f}},{"safe-buffer":494}],200:[function(e,n,i){var s=e("buffer-xor"),o=e("safe-buffer").Buffer,l=e("../incr32");function c(a){var u=a._cipher.encryptBlockRaw(a._prev);return l(a._prev),u}i.encrypt=function(a,u){var f=Math.ceil(u.length/16),h=a._cache.length;a._cache=o.concat([a._cache,o.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var y=c(a),g=h+16*d;a._cache.writeUInt32BE(y[0],g+0),a._cache.writeUInt32BE(y[1],g+4),a._cache.writeUInt32BE(y[2],g+8),a._cache.writeUInt32BE(y[3],g+12)}var p=a._cache.slice(0,u.length);return a._cache=a._cache.slice(u.length),s(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(e,n,i){var s={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var l in o)o[l].module=s[o[l].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(s){(function(){var o=e("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}i.encrypt=function(c,a){for(;c._cache.length<a.length;)c._cache=s.concat([c._cache,l(c)]);var u=c._cache.slice(0,a.length);return c._cache=c._cache.slice(a.length),o(a,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var s=e("./aes"),o=e("safe-buffer").Buffer,l=e("cipher-base");function c(a,u,f,h){l.call(this),this._cipher=new s.AES(u),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=a}e("inherits")(c,l),c.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var s=e("browserify-des"),o=e("browserify-aes/browser"),l=e("browserify-aes/modes"),c=e("browserify-des/modes"),a=e("evp_bytestokey");function u(h,d,y){if(h=h.toLowerCase(),l[h])return o.createCipheriv(h,d,y);if(c[h])return new s({key:d,iv:y,mode:h});throw new TypeError("invalid suite type")}function f(h,d,y){if(h=h.toLowerCase(),l[h])return o.createDecipheriv(h,d,y);if(c[h])return new s({key:d,iv:y,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,d){var y,g;if(h=h.toLowerCase(),l[h])y=l[h].key,g=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");y=8*c[h].key,g=c[h].iv}var p=a(d,!1,y,g);return u(h,p.key,p.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(h,d){var y,g;if(h=h.toLowerCase(),l[h])y=l[h].key,g=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");y=8*c[h].key,g=c[h].iv}var p=a(d,!1,y,g);return f(h,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(c).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var s=e("cipher-base"),o=e("des.js"),l=e("inherits"),c=e("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(f){s.call(this);var h,d=f.mode.toLowerCase(),y=a[d];h=f.decrypt?"decrypt":"encrypt";var g=f.key;c.isBuffer(g)||(g=c.from(g)),d!=="des-ede"&&d!=="des-ede-cbc"||(g=c.concat([g,g.slice(0,8)]));var p=f.iv;c.isBuffer(p)||(p=c.from(p)),this._des=y.create({key:g,iv:p,type:h})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],n.exports=u,l(u,s),u.prototype._update=function(f){return c.from(this._des.update(f))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(s){(function(){var o=e("bn.js"),l=e("randombytes");function c(u){var f,h=u.modulus.byteLength();do f=new o(l(h));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function a(u,f){var h=(function($){var P=c($);return{blinder:P.toRed(o.mont($.modulus)).redPow(new o($.publicExponent)).fromRed(),unblinder:P.invm($.modulus)}})(f),d=f.modulus.byteLength(),y=new o(u).mul(h.blinder).umod(f.modulus),g=y.toRed(o.mont(f.prime1)),p=y.toRed(o.mont(f.prime2)),w=f.coefficient,v=f.prime1,_=f.prime2,T=g.redPow(f.exponent1).fromRed(),F=p.redPow(f.exponent2).fromRed(),G=T.isub(F).imul(w).umod(v).imul(_);return F.iadd(G).imul(h.unblinder).umod(f.modulus).toArrayLike(s,"be",d)}a.getr=c,n.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("create-hash"),l=e("readable-stream"),c=e("inherits"),a=e("./sign"),u=e("./verify"),f=e("./algorithms.json");function h(p){l.Writable.call(this);var w=f[p];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=o(w.hash),this._tag=w.id,this._signType=w.sign}function d(p){l.Writable.call(this);var w=f[p];if(!w)throw new Error("Unknown message digest");this._hash=o(w.hash),this._tag=w.id,this._signType=w.sign}function y(p){return new h(p)}function g(p){return new d(p)}Object.keys(f).forEach((function(p){f[p].id=s.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]})),c(h,l.Writable),h.prototype._write=function(p,w,v){this._hash.update(p),v()},h.prototype.update=function(p,w){return typeof p=="string"&&(p=s.from(p,w)),this._hash.update(p),this},h.prototype.sign=function(p,w){this.end();var v=this._hash.digest(),_=a(v,p,this._hashType,this._signType,this._tag);return w?_.toString(w):_},c(d,l.Writable),d.prototype._write=function(p,w,v){this._hash.update(p),v()},d.prototype.update=function(p,w){return typeof p=="string"&&(p=s.from(p,w)),this._hash.update(p),this},d.prototype.verify=function(p,w,v){typeof w=="string"&&(w=s.from(w,v)),this.end();var _=this._hash.digest();return u(w,_,p,this._signType,this._tag)},n.exports={Sign:y,Verify:g,createSign:y,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("create-hmac"),l=e("browserify-rsa"),c=e("elliptic").ec,a=e("bn.js"),u=e("parse-asn1"),f=e("./curves.json");function h(p,w,v,_){if((p=s.from(p.toArray())).length<w.byteLength()){var T=s.alloc(w.byteLength()-p.length);p=s.concat([T,p])}var F=v.length,G=(function(M,U){M=(M=d(M,U)).mod(U);var V=s.from(M.toArray());if(V.length<U.byteLength()){var I=s.alloc(U.byteLength()-V.length);V=s.concat([I,V])}return V})(v,w),$=s.alloc(F);$.fill(1);var P=s.alloc(F);return P=o(_,P).update($).update(s.from([0])).update(p).update(G).digest(),$=o(_,P).update($).digest(),{k:P=o(_,P).update($).update(s.from([1])).update(p).update(G).digest(),v:$=o(_,P).update($).digest()}}function d(p,w){var v=new a(p),_=(p.length<<3)-w.bitLength();return _>0&&v.ishrn(_),v}function y(p,w,v){var _,T;do{for(_=s.alloc(0);8*_.length<p.bitLength();)w.v=o(v,w.k).update(w.v).digest(),_=s.concat([_,w.v]);T=d(_,p),w.k=o(v,w.k).update(w.v).update(s.from([0])).digest(),w.v=o(v,w.k).update(w.v).digest()}while(T.cmp(p)!==-1);return T}function g(p,w,v,_){return p.toRed(a.mont(v)).redPow(w).fromRed().mod(_)}n.exports=function(p,w,v,_,T){var F=u(w);if(F.curve){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(M,U){var V=f[U.curve.join(".")];if(!V)throw new Error("unknown curve "+U.curve.join("."));var I=new c(V).keyFromPrivate(U.privateKey).sign(M);return s.from(I.toDER())})(p,F)}if(F.type==="dsa"){if(_!=="dsa")throw new Error("wrong private key type");return(function(M,U,V){for(var I,E=U.params.priv_key,L=U.params.p,A=U.params.q,S=U.params.g,k=new a(0),N=d(M,A).mod(A),C=!1,O=h(E,A,M,V);C===!1;)I=y(A,O,V),k=g(S,I,L,A),(C=I.invm(A).imul(N.add(E.mul(k))).mod(A)).cmpn(0)===0&&(C=!1,k=new a(0));return(function(D,j){D=D.toArray(),j=j.toArray(),128&D[0]&&(D=[0].concat(D)),128&j[0]&&(j=[0].concat(j));var K=[48,D.length+j.length+4,2,D.length];return K=K.concat(D,[2,j.length],j),s.from(K)})(k,C)})(p,F,v)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");p=s.concat([T,p]);for(var G=F.modulus.byteLength(),$=[0,1];p.length+$.length+1<G;)$.push(255);$.push(0);for(var P=-1;++P<p.length;)$.push(p[P]);return l($,F)},n.exports.getKey=h,n.exports.makeKey=y},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("bn.js"),l=e("elliptic").ec,c=e("parse-asn1"),a=e("./curves.json");function u(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(f,h,d,y,g){var p=c(d);if(p.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return(function($,P,M){var U=a[M.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var V=new l(U),I=M.data.subjectPrivateKey.data;return V.verify(P,$,I)})(f,h,p)}if(p.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return(function($,P,M){var U=M.data.p,V=M.data.q,I=M.data.g,E=M.data.pub_key,L=c.signature.decode($,"der"),A=L.s,S=L.r;u(A,V),u(S,V);var k=o.mont(U),N=A.invm(V);return I.toRed(k).redPow(new o(P).mul(N).mod(V)).fromRed().mul(E.toRed(k).redPow(S.mul(N).mod(V)).fromRed()).mod(U).mod(V).cmp(S)===0})(f,h,p)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");h=s.concat([g,h]);for(var w=p.modulus.byteLength(),v=[1],_=0;h.length+v.length+2<w;)v.push(255),_++;v.push(0);for(var T=-1;++T<h.length;)v.push(h[T]);v=s.from(v);var F=o.mont(p.modulus);f=(f=new o(f).toRed(F)).redPow(new o(p.publicExponent)),f=s.from(f.fromRed().toArray());var G=_<8?1:0;for(w=Math.min(f.length,v.length),f.length!==v.length&&(G=1),T=-1;++T<w;)G|=f[T]^v[T];return G===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var s=e("buffer"),o=s.Buffer;function l(a,u){for(var f in a)u[f]=a[f]}function c(a,u,f){return o(a,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(l(s,i),i.Buffer=c),l(o,c),c.from=function(a,u,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,u,f)},c.alloc=function(a,u,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(a)}},{buffer:220}],218:[function(e,n,i){var s=e("safe-buffer").Buffer,o=s.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(p){var w;switch(this.encoding=(function(v){var _=(function(T){if(!T)return"utf8";for(var F;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(F)return;T=(""+T).toLowerCase(),F=!0}})(v);if(typeof _!="string"&&(s.isEncoding===o||!o(v)))throw new Error("Unknown encoding: "+v);return _||v})(p),this.encoding){case"utf16le":this.text=u,this.end=f,w=4;break;case"utf8":this.fillLast=a,w=4;break;case"base64":this.text=h,this.end=d,w=3;break;default:return this.write=y,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(w)}function c(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var w=this.lastTotal-this.lastNeed,v=(function(_,T,F){if((192&T[0])!=128)return _.lastNeed=0,"";if(_.lastNeed>1&&T.length>1){if((192&T[1])!=128)return _.lastNeed=1,"";if(_.lastNeed>2&&T.length>2&&(192&T[2])!=128)return _.lastNeed=2,""}})(this,p);return v!==void 0?v:this.lastNeed<=p.length?(p.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,w,0,p.length),void(this.lastNeed-=p.length))}function u(p,w){if((p.length-w)%2==0){var v=p.toString("utf16le",w);if(v){var _=v.charCodeAt(v.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",w,p.length-1)}function f(p){var w=p&&p.length?this.write(p):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,v)}return w}function h(p,w){var v=(p.length-w)%3;return v===0?p.toString("base64",w):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",w,p.length-v))}function d(p){var w=p&&p.length?this.write(p):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function y(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}i.StringDecoder=l,l.prototype.write=function(p){if(p.length===0)return"";var w,v;if(this.lastNeed){if((w=this.fillLast(p))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?w?w+this.text(p,v):this.text(p,v):w||""},l.prototype.end=function(p){var w=p&&p.length?this.write(p):"";return this.lastNeed?w+"":w},l.prototype.text=function(p,w){var v=(function(T,F,G){var $=F.length-1;if($<G)return 0;var P=c(F[$]);return P>=0?(P>0&&(T.lastNeed=P-1),P):--$<G||P===-2?0:(P=c(F[$]))>=0?(P>0&&(T.lastNeed=P-2),P):--$<G||P===-2?0:(P=c(F[$]))>=0?(P>0&&(P===2?P=0:T.lastNeed=P-3),P):0})(this,p,w);if(!this.lastNeed)return p.toString("utf8",w);this.lastTotal=v;var _=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,_),p.toString("utf8",w,_)},l.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(s){(function(){n.exports=function(o,l){for(var c=Math.min(o.length,l.length),a=new s(c),u=0;u<c;++u)a[u]=o[u]^l[u];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(s){(function(){var o=e("base64-js"),l=e("ieee754");i.Buffer=a,i.SlowBuffer=function(z){return+z!=z&&(z=0),a.alloc(+z)},i.INSPECT_MAX_BYTES=50;function c(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var B=new Uint8Array(z);return B.__proto__=a.prototype,B}function a(z,B,Q){if(typeof z=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return u(z,B,Q)}function u(z,B,Q){if(typeof z=="string")return(function(de,ve){if(typeof ve=="string"&&ve!==""||(ve="utf8"),!a.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);var ce=0|g(de,ve),he=c(ce),fe=he.write(de,ve);return fe!==ce&&(he=he.slice(0,fe)),he})(z,B);if(ArrayBuffer.isView(z))return d(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(H(z,ArrayBuffer)||z&&H(z.buffer,ArrayBuffer))return(function(de,ve,ce){if(ve<0||de.byteLength<ve)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<ve+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var he;return he=ve===void 0&&ce===void 0?new Uint8Array(de):ce===void 0?new Uint8Array(de,ve):new Uint8Array(de,ve,ce),he.__proto__=a.prototype,he})(z,B,Q);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var oe=z.valueOf&&z.valueOf();if(oe!=null&&oe!==z)return a.from(oe,B,Q);var pe=(function(de){if(a.isBuffer(de)){var ve=0|y(de.length),ce=c(ve);return ce.length===0||de.copy(ce,0,0,ve),ce}if(de.length!==void 0)return typeof de.length!="number"||J(de.length)?c(0):d(de);if(de.type==="Buffer"&&Array.isArray(de.data))return d(de.data)})(z);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return a.from(z[Symbol.toPrimitive]("string"),B,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function h(z){return f(z),c(z<0?0:0|y(z))}function d(z){for(var B=z.length<0?0:0|y(z.length),Q=c(B),oe=0;oe<B;oe+=1)Q[oe]=255&z[oe];return Q}function y(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function g(z,B){if(a.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||H(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var Q=z.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&Q===0)return 0;for(var pe=!1;;)switch(B){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return K(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Z(z).length;default:if(pe)return oe?-1:K(z).length;B=(""+B).toLowerCase(),pe=!0}}function p(z,B,Q){var oe=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(B>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return L(this,B,Q);case"utf8":case"utf-8":return V(this,B,Q);case"ascii":return I(this,B,Q);case"latin1":case"binary":return E(this,B,Q);case"base64":return U(this,B,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,B,Q);default:if(oe)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),oe=!0}}function w(z,B,Q){var oe=z[B];z[B]=z[Q],z[Q]=oe}function v(z,B,Q,oe,pe){if(z.length===0)return-1;if(typeof Q=="string"?(oe=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),J(Q=+Q)&&(Q=pe?0:z.length-1),Q<0&&(Q=z.length+Q),Q>=z.length){if(pe)return-1;Q=z.length-1}else if(Q<0){if(!pe)return-1;Q=0}if(typeof B=="string"&&(B=a.from(B,oe)),a.isBuffer(B))return B.length===0?-1:_(z,B,Q,oe,pe);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(z,B,Q):Uint8Array.prototype.lastIndexOf.call(z,B,Q):_(z,[B],Q,oe,pe);throw new TypeError("val must be string, number or Buffer")}function _(z,B,Q,oe,pe){var de,ve=1,ce=z.length,he=B.length;if(oe!==void 0&&((oe=String(oe).toLowerCase())==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(z.length<2||B.length<2)return-1;ve=2,ce/=2,he/=2,Q/=2}function fe(Ie,Oe){return ve===1?Ie[Oe]:Ie.readUInt16BE(Oe*ve)}if(pe){var ke=-1;for(de=Q;de<ce;de++)if(fe(z,de)===fe(B,ke===-1?0:de-ke)){if(ke===-1&&(ke=de),de-ke+1===he)return ke*ve}else ke!==-1&&(de-=de-ke),ke=-1}else for(Q+he>ce&&(Q=ce-he),de=Q;de>=0;de--){for(var ye=!0,Re=0;Re<he;Re++)if(fe(z,de+Re)!==fe(B,Re)){ye=!1;break}if(ye)return de}return-1}function T(z,B,Q,oe){Q=Number(Q)||0;var pe=z.length-Q;oe?(oe=Number(oe))>pe&&(oe=pe):oe=pe;var de=B.length;oe>de/2&&(oe=de/2);for(var ve=0;ve<oe;++ve){var ce=parseInt(B.substr(2*ve,2),16);if(J(ce))return ve;z[Q+ve]=ce}return ve}function F(z,B,Q,oe){return ne(K(B,z.length-Q),z,Q,oe)}function G(z,B,Q,oe){return ne((function(pe){for(var de=[],ve=0;ve<pe.length;++ve)de.push(255&pe.charCodeAt(ve));return de})(B),z,Q,oe)}function $(z,B,Q,oe){return G(z,B,Q,oe)}function P(z,B,Q,oe){return ne(Z(B),z,Q,oe)}function M(z,B,Q,oe){return ne((function(pe,de){for(var ve,ce,he,fe=[],ke=0;ke<pe.length&&!((de-=2)<0);++ke)ve=pe.charCodeAt(ke),ce=ve>>8,he=ve%256,fe.push(he),fe.push(ce);return fe})(B,z.length-Q),z,Q,oe)}function U(z,B,Q){return B===0&&Q===z.length?o.fromByteArray(z):o.fromByteArray(z.slice(B,Q))}function V(z,B,Q){Q=Math.min(z.length,Q);for(var oe=[],pe=B;pe<Q;){var de,ve,ce,he,fe=z[pe],ke=null,ye=fe>239?4:fe>223?3:fe>191?2:1;if(pe+ye<=Q)switch(ye){case 1:fe<128&&(ke=fe);break;case 2:(192&(de=z[pe+1]))==128&&(he=(31&fe)<<6|63&de)>127&&(ke=he);break;case 3:de=z[pe+1],ve=z[pe+2],(192&de)==128&&(192&ve)==128&&(he=(15&fe)<<12|(63&de)<<6|63&ve)>2047&&(he<55296||he>57343)&&(ke=he);break;case 4:de=z[pe+1],ve=z[pe+2],ce=z[pe+3],(192&de)==128&&(192&ve)==128&&(192&ce)==128&&(he=(15&fe)<<18|(63&de)<<12|(63&ve)<<6|63&ce)>65535&&he<1114112&&(ke=he)}ke===null?(ke=65533,ye=1):ke>65535&&(ke-=65536,oe.push(ke>>>10&1023|55296),ke=56320|1023&ke),oe.push(ke),pe+=ye}return(function(Re){var Ie=Re.length;if(Ie<=4096)return String.fromCharCode.apply(String,Re);for(var Oe="",Fe=0;Fe<Ie;)Oe+=String.fromCharCode.apply(String,Re.slice(Fe,Fe+=4096));return Oe})(oe)}i.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(z,B,Q){return u(z,B,Q)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(z,B,Q){return(function(oe,pe,de){return f(oe),oe<=0?c(oe):pe!==void 0?typeof de=="string"?c(oe).fill(pe,de):c(oe).fill(pe):c(oe)})(z,B,Q)},a.allocUnsafe=function(z){return h(z)},a.allocUnsafeSlow=function(z){return h(z)},a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,B){if(H(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),H(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),!a.isBuffer(z)||!a.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===B)return 0;for(var Q=z.length,oe=B.length,pe=0,de=Math.min(Q,oe);pe<de;++pe)if(z[pe]!==B[pe]){Q=z[pe],oe=B[pe];break}return Q<oe?-1:oe<Q?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,B){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);var Q;if(B===void 0)for(B=0,Q=0;Q<z.length;++Q)B+=z[Q].length;var oe=a.allocUnsafe(B),pe=0;for(Q=0;Q<z.length;++Q){var de=z[Q];if(H(de,Uint8Array)&&(de=a.from(de)),!a.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(oe,pe),pe+=de.length}return oe},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<z;B+=2)w(this,B,B+1);return this},a.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<z;B+=4)w(this,B,B+3),w(this,B+1,B+2);return this},a.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<z;B+=8)w(this,B,B+7),w(this,B+1,B+6),w(this,B+2,B+5),w(this,B+3,B+4);return this},a.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?V(this,0,z):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||a.compare(this,z)===0},a.prototype.inspect=function(){var z="",B=i.INSPECT_MAX_BYTES;return z=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(z+=" ... "),"<Buffer "+z+">"},a.prototype.compare=function(z,B,Q,oe,pe){if(H(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(B===void 0&&(B=0),Q===void 0&&(Q=z?z.length:0),oe===void 0&&(oe=0),pe===void 0&&(pe=this.length),B<0||Q>z.length||oe<0||pe>this.length)throw new RangeError("out of range index");if(oe>=pe&&B>=Q)return 0;if(oe>=pe)return-1;if(B>=Q)return 1;if(this===z)return 0;for(var de=(pe>>>=0)-(oe>>>=0),ve=(Q>>>=0)-(B>>>=0),ce=Math.min(de,ve),he=this.slice(oe,pe),fe=z.slice(B,Q),ke=0;ke<ce;++ke)if(he[ke]!==fe[ke]){de=he[ke],ve=fe[ke];break}return de<ve?-1:ve<de?1:0},a.prototype.includes=function(z,B,Q){return this.indexOf(z,B,Q)!==-1},a.prototype.indexOf=function(z,B,Q){return v(this,z,B,Q,!0)},a.prototype.lastIndexOf=function(z,B,Q){return v(this,z,B,Q,!1)},a.prototype.write=function(z,B,Q,oe){if(B===void 0)oe="utf8",Q=this.length,B=0;else if(Q===void 0&&typeof B=="string")oe=B,Q=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(Q)?(Q>>>=0,oe===void 0&&(oe="utf8")):(oe=Q,Q=void 0)}var pe=this.length-B;if((Q===void 0||Q>pe)&&(Q=pe),z.length>0&&(Q<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var de=!1;;)switch(oe){case"hex":return T(this,z,B,Q);case"utf8":case"utf-8":return F(this,z,B,Q);case"ascii":return G(this,z,B,Q);case"latin1":case"binary":return $(this,z,B,Q);case"base64":return P(this,z,B,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,z,B,Q);default:if(de)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),de=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(z,B,Q){var oe="";Q=Math.min(z.length,Q);for(var pe=B;pe<Q;++pe)oe+=String.fromCharCode(127&z[pe]);return oe}function E(z,B,Q){var oe="";Q=Math.min(z.length,Q);for(var pe=B;pe<Q;++pe)oe+=String.fromCharCode(z[pe]);return oe}function L(z,B,Q){var oe=z.length;(!B||B<0)&&(B=0),(!Q||Q<0||Q>oe)&&(Q=oe);for(var pe="",de=B;de<Q;++de)pe+=j(z[de]);return pe}function A(z,B,Q){for(var oe=z.slice(B,Q),pe="",de=0;de<oe.length;de+=2)pe+=String.fromCharCode(oe[de]+256*oe[de+1]);return pe}function S(z,B,Q){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+B>Q)throw new RangeError("Trying to access beyond buffer length")}function k(z,B,Q,oe,pe,de){if(!a.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>pe||B<de)throw new RangeError('"value" argument is out of bounds');if(Q+oe>z.length)throw new RangeError("Index out of range")}function N(z,B,Q,oe,pe,de){if(Q+oe>z.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function C(z,B,Q,oe,pe){return B=+B,Q>>>=0,pe||N(z,0,Q,4),l.write(z,B,Q,oe,23,4),Q+4}function O(z,B,Q,oe,pe){return B=+B,Q>>>=0,pe||N(z,0,Q,8),l.write(z,B,Q,oe,52,8),Q+8}a.prototype.slice=function(z,B){var Q=this.length;(z=~~z)<0?(z+=Q)<0&&(z=0):z>Q&&(z=Q),(B=B===void 0?Q:~~B)<0?(B+=Q)<0&&(B=0):B>Q&&(B=Q),B<z&&(B=z);var oe=this.subarray(z,B);return oe.__proto__=a.prototype,oe},a.prototype.readUIntLE=function(z,B,Q){z>>>=0,B>>>=0,Q||S(z,B,this.length);for(var oe=this[z],pe=1,de=0;++de<B&&(pe*=256);)oe+=this[z+de]*pe;return oe},a.prototype.readUIntBE=function(z,B,Q){z>>>=0,B>>>=0,Q||S(z,B,this.length);for(var oe=this[z+--B],pe=1;B>0&&(pe*=256);)oe+=this[z+--B]*pe;return oe},a.prototype.readUInt8=function(z,B){return z>>>=0,B||S(z,1,this.length),this[z]},a.prototype.readUInt16LE=function(z,B){return z>>>=0,B||S(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUInt16BE=function(z,B){return z>>>=0,B||S(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUInt32LE=function(z,B){return z>>>=0,B||S(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},a.prototype.readUInt32BE=function(z,B){return z>>>=0,B||S(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readIntLE=function(z,B,Q){z>>>=0,B>>>=0,Q||S(z,B,this.length);for(var oe=this[z],pe=1,de=0;++de<B&&(pe*=256);)oe+=this[z+de]*pe;return oe>=(pe*=128)&&(oe-=Math.pow(2,8*B)),oe},a.prototype.readIntBE=function(z,B,Q){z>>>=0,B>>>=0,Q||S(z,B,this.length);for(var oe=B,pe=1,de=this[z+--oe];oe>0&&(pe*=256);)de+=this[z+--oe]*pe;return de>=(pe*=128)&&(de-=Math.pow(2,8*B)),de},a.prototype.readInt8=function(z,B){return z>>>=0,B||S(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},a.prototype.readInt16LE=function(z,B){z>>>=0,B||S(z,2,this.length);var Q=this[z]|this[z+1]<<8;return 32768&Q?4294901760|Q:Q},a.prototype.readInt16BE=function(z,B){z>>>=0,B||S(z,2,this.length);var Q=this[z+1]|this[z]<<8;return 32768&Q?4294901760|Q:Q},a.prototype.readInt32LE=function(z,B){return z>>>=0,B||S(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,B){return z>>>=0,B||S(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readFloatLE=function(z,B){return z>>>=0,B||S(z,4,this.length),l.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,B){return z>>>=0,B||S(z,4,this.length),l.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,B){return z>>>=0,B||S(z,8,this.length),l.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,B){return z>>>=0,B||S(z,8,this.length),l.read(this,z,!1,52,8)},a.prototype.writeUIntLE=function(z,B,Q,oe){z=+z,B>>>=0,Q>>>=0,oe||k(this,z,B,Q,Math.pow(2,8*Q)-1,0);var pe=1,de=0;for(this[B]=255&z;++de<Q&&(pe*=256);)this[B+de]=z/pe&255;return B+Q},a.prototype.writeUIntBE=function(z,B,Q,oe){z=+z,B>>>=0,Q>>>=0,oe||k(this,z,B,Q,Math.pow(2,8*Q)-1,0);var pe=Q-1,de=1;for(this[B+pe]=255&z;--pe>=0&&(de*=256);)this[B+pe]=z/de&255;return B+Q},a.prototype.writeUInt8=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,1,255,0),this[B]=255&z,B+1},a.prototype.writeUInt16LE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,2,65535,0),this[B]=255&z,this[B+1]=z>>>8,B+2},a.prototype.writeUInt16BE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,2,65535,0),this[B]=z>>>8,this[B+1]=255&z,B+2},a.prototype.writeUInt32LE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,4,4294967295,0),this[B+3]=z>>>24,this[B+2]=z>>>16,this[B+1]=z>>>8,this[B]=255&z,B+4},a.prototype.writeUInt32BE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,4,4294967295,0),this[B]=z>>>24,this[B+1]=z>>>16,this[B+2]=z>>>8,this[B+3]=255&z,B+4},a.prototype.writeIntLE=function(z,B,Q,oe){if(z=+z,B>>>=0,!oe){var pe=Math.pow(2,8*Q-1);k(this,z,B,Q,pe-1,-pe)}var de=0,ve=1,ce=0;for(this[B]=255&z;++de<Q&&(ve*=256);)z<0&&ce===0&&this[B+de-1]!==0&&(ce=1),this[B+de]=(z/ve>>0)-ce&255;return B+Q},a.prototype.writeIntBE=function(z,B,Q,oe){if(z=+z,B>>>=0,!oe){var pe=Math.pow(2,8*Q-1);k(this,z,B,Q,pe-1,-pe)}var de=Q-1,ve=1,ce=0;for(this[B+de]=255&z;--de>=0&&(ve*=256);)z<0&&ce===0&&this[B+de+1]!==0&&(ce=1),this[B+de]=(z/ve>>0)-ce&255;return B+Q},a.prototype.writeInt8=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,1,127,-128),z<0&&(z=255+z+1),this[B]=255&z,B+1},a.prototype.writeInt16LE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,2,32767,-32768),this[B]=255&z,this[B+1]=z>>>8,B+2},a.prototype.writeInt16BE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,2,32767,-32768),this[B]=z>>>8,this[B+1]=255&z,B+2},a.prototype.writeInt32LE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,4,2147483647,-2147483648),this[B]=255&z,this[B+1]=z>>>8,this[B+2]=z>>>16,this[B+3]=z>>>24,B+4},a.prototype.writeInt32BE=function(z,B,Q){return z=+z,B>>>=0,Q||k(this,z,B,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[B]=z>>>24,this[B+1]=z>>>16,this[B+2]=z>>>8,this[B+3]=255&z,B+4},a.prototype.writeFloatLE=function(z,B,Q){return C(this,z,B,!0,Q)},a.prototype.writeFloatBE=function(z,B,Q){return C(this,z,B,!1,Q)},a.prototype.writeDoubleLE=function(z,B,Q){return O(this,z,B,!0,Q)},a.prototype.writeDoubleBE=function(z,B,Q){return O(this,z,B,!1,Q)},a.prototype.copy=function(z,B,Q,oe){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),oe||oe===0||(oe=this.length),B>=z.length&&(B=z.length),B||(B=0),oe>0&&oe<Q&&(oe=Q),oe===Q||z.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),z.length-B<oe-Q&&(oe=z.length-B+Q);var pe=oe-Q;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,Q,oe);else if(this===z&&Q<B&&B<oe)for(var de=pe-1;de>=0;--de)z[de+B]=this[de+Q];else Uint8Array.prototype.set.call(z,this.subarray(Q,oe),B);return pe},a.prototype.fill=function(z,B,Q,oe){if(typeof z=="string"){if(typeof B=="string"?(oe=B,B=0,Q=this.length):typeof Q=="string"&&(oe=Q,Q=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!a.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(z.length===1){var pe=z.charCodeAt(0);(oe==="utf8"&&pe<128||oe==="latin1")&&(z=pe)}}else typeof z=="number"&&(z&=255);if(B<0||this.length<B||this.length<Q)throw new RangeError("Out of range index");if(Q<=B)return this;var de;if(B>>>=0,Q=Q===void 0?this.length:Q>>>0,z||(z=0),typeof z=="number")for(de=B;de<Q;++de)this[de]=z;else{var ve=a.isBuffer(z)?z:a.from(z,oe),ce=ve.length;if(ce===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(de=0;de<Q-B;++de)this[de+B]=ve[de%ce]}return this};var D=/[^+/0-9A-Za-z-_]/g;function j(z){return z<16?"0"+z.toString(16):z.toString(16)}function K(z,B){var Q;B=B||1/0;for(var oe=z.length,pe=null,de=[],ve=0;ve<oe;++ve){if((Q=z.charCodeAt(ve))>55295&&Q<57344){if(!pe){if(Q>56319){(B-=3)>-1&&de.push(239,191,189);continue}if(ve+1===oe){(B-=3)>-1&&de.push(239,191,189);continue}pe=Q;continue}if(Q<56320){(B-=3)>-1&&de.push(239,191,189),pe=Q;continue}Q=65536+(pe-55296<<10|Q-56320)}else pe&&(B-=3)>-1&&de.push(239,191,189);if(pe=null,Q<128){if((B-=1)<0)break;de.push(Q)}else if(Q<2048){if((B-=2)<0)break;de.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((B-=3)<0)break;de.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;de.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return de}function Z(z){return o.toByteArray((function(B){if((B=(B=B.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B})(z))}function ne(z,B,Q,oe){for(var pe=0;pe<oe&&!(pe+Q>=B.length||pe>=z.length);++pe)B[pe+Q]=z[pe];return pe}function H(z,B){return z instanceof B||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===B.name}function J(z){return z!=z}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("stream").Transform,l=e("string_decoder").StringDecoder;function c(a){o.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,o),c.prototype.update=function(a,u,f){typeof a=="string"&&(a=s.from(a,u));var h=this._update(a);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(a,u,f){var h;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){h=d}finally{f(h)}},c.prototype._flush=function(a){var u;try{this.push(this.__final())}catch(f){u=f}a(u)},c.prototype._finalOrDigest=function(a){var u=this.__final()||s.alloc(0);return a&&(u=this._toString(u,a,!0)),u},c.prototype._toString=function(a,u,f){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(a);return f&&(h+=this._decoder.end()),h},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(s(c))return c;throw new l(o(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var s=e("../internals/is-constructor"),o=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(s(c))return c;throw new l(o(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var s=e("../internals/is-callable"),o=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||s(c))return c;throw new l("Can't set "+o(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var s=e("../internals/well-known-symbol"),o=e("../internals/object-create"),l=e("../internals/object-define-property").f,c=s("unscopables"),a=Array.prototype;a[c]===void 0&&l(a,c,{configurable:!0,value:o(null)}),n.exports=function(u){a[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var s=e("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(l,c){if(s(c,l))return l;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var s=e("../internals/is-object"),o=String,l=TypeError;n.exports=function(c){if(s(c))return c;throw new l(o(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var s=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),c=function(a){return function(u,f,h){var d,y=s(u),g=l(y),p=o(h,g);if(a&&f!=f){for(;g>p;)if((d=y[p++])!=d)return!0}else for(;g>p;p++)if((a||p in y)&&y[p]===f)return a||p||0;return!a&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var s=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),l=e("../internals/indexed-object"),c=e("../internals/to-object"),a=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),f=o([].push),h=function(d){var y=d===1,g=d===2,p=d===3,w=d===4,v=d===6,_=d===7,T=d===5||v;return function(F,G,$,P){for(var M,U,V=c(F),I=l(V),E=s(G,$),L=a(I),A=0,S=P||u,k=y?S(F,L):g||_?S(F,0):void 0;L>A;A++)if((T||A in I)&&(U=E(M=I[A],A,V),d))if(y)k[A]=U;else if(U)switch(d){case 3:return!0;case 5:return M;case 6:return A;case 2:f(k,M)}else switch(d){case 4:return!1;case 7:f(k,M)}return v?-1:p||w?w:k}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var s=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=Array,a=Math.max;n.exports=function(u,f,h){for(var d=o(u),y=s(f,d),g=s(h===void 0?d:h,d),p=c(a(g-y,0)),w=0;y<g;y++,w++)l(p,w,u[y]);return p.length=w,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var s=e("../internals/is-array"),o=e("../internals/is-constructor"),l=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),a=Array;n.exports=function(u){var f;return s(u)&&(f=u.constructor,(o(f)&&(f===a||s(f.prototype))||l(f)&&(f=f[c])===null)&&(f=void 0)),f===void 0?a:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var s=e("../internals/array-species-constructor");n.exports=function(o,l){return new(s(o))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var s=e("../internals/well-known-symbol")("iterator"),o=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){o=!0}};c[s]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}n.exports=function(a,u){try{if(!u&&!o)return!1}catch{return!1}var f=!1;try{var h={};h[s]=function(){return{next:function(){return{done:f=!0}}}},a(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=s({}.toString),l=s("".slice);n.exports=function(c){return l(o(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var s=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),l=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),a=Object,u=l((function(){return arguments})())==="Arguments";n.exports=s?l:function(f){var h,d,y;return f===void 0?"Undefined":f===null?"Null":typeof(d=(function(g,p){try{return g[p]}catch{}})(h=a(f),c))=="string"?d:u?l(h):(y=l(h))==="Object"&&o(h.callee)?"Arguments":y}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var s=e("../internals/has-own-property"),o=e("../internals/own-keys"),l=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(a,u,f){for(var h=o(u),d=c.f,y=l.f,g=0;g<h.length;g++){var p=h[g];s(a,p)||f&&s(f,p)||d(a,p,y(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var s=e("../internals/well-known-symbol")("match");n.exports=function(o){var l=/./;try{"/./"[o](l)}catch{try{return l[s]=!1,"/./"[o](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var s=e("../internals/fails");n.exports=!s((function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}))},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=s?function(c,a,u){return o.f(c,a,l(1,u))}:function(c,a,u){return c[a]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(e,n,i){var s=e("../internals/to-property-key"),o=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=function(c,a,u){var f=s(a);f in c?o.f(c,f,l(0,u)):c[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var s=e("../internals/make-built-in"),o=e("../internals/object-define-property");n.exports=function(l,c,a){return a.get&&s(a.get,c,{getter:!0}),a.set&&s(a.set,c,{setter:!0}),o.f(l,c,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/object-define-property"),l=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(a,u,f,h){h||(h={});var d=h.enumerable,y=h.name!==void 0?h.name:u;if(s(f)&&l(f,y,h),h.global)d?a[u]=f:c(u,f);else{try{h.unsafe?a[u]&&(d=!0):delete a[u]}catch{}d?a[u]=f:o.f(a,u,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var s=e("../internals/global"),o=Object.defineProperty;n.exports=function(l,c){try{o(s,l,{value:c,configurable:!0,writable:!0})}catch{s[l]=c}return c}},{"../internals/global":274}],247:[function(e,n,i){var s=e("../internals/fails");n.exports=!s((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-object"),l=s.document,c=o(l)&&o(l.createElement);n.exports=function(a){return c?l.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var s=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var s,o,l=e("../internals/global"),c=e("../internals/engine-user-agent"),a=l.process,u=l.Deno,f=a&&a.versions||u&&u.version,h=f&&f.v8;h&&(o=(s=h.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&c&&(!(s=c.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=c.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),a=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");n.exports=function(h,d){var y,g,p,w,v,_=h.target,T=h.global,F=h.stat;if(y=T?s:F?s[_]||a(_,{}):(s[_]||{}).prototype)for(g in d){if(w=d[g],p=h.dontCallGetSet?(v=o(y,g))&&v.value:y[g],!f(T?g:_+(F?".":"#")+g,h.forced)&&p!==void 0){if(typeof w==typeof p)continue;u(w,p)}(h.sham||p&&p.sham)&&l(w,"sham",!0),c(y,g,w,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype,l=o.apply,c=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var s=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),l=e("../internals/function-bind-native"),c=s(s.bind);n.exports=function(a,u){return o(a),u===void 0?a:l?c(a,u):function(){return a.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var s=e("../internals/fails");n.exports=!s((function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/has-own-property"),l=Function.prototype,c=s&&Object.getOwnPropertyDescriptor,a=o(l,"name"),u=a&&(function(){}).name==="something",f=a&&(!s||s&&c(l,"name").configurable);n.exports={EXISTS:a,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");n.exports=function(l,c,a){try{return s(o(Object.getOwnPropertyDescriptor(l,c)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var s=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");n.exports=function(l){if(s(l)==="Function")return o(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var s=e("../internals/function-bind-native"),o=Function.prototype,l=o.call,c=s&&o.bind.bind(l,l);n.exports=s?c:function(a){return function(){return l.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-callable"),l=function(c){return o(c)?c:void 0};n.exports=function(c,a){return arguments.length<2?l(s[c]):s[c]&&s[c][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var s=e("../internals/classof"),o=e("../internals/get-method"),l=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return o(u,a)||o(u,"@@iterator")||c[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/a-callable"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,h){var d=arguments.length<2?a(f):h;if(o(d))return l(s(d,f));throw new u(c(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),l=e("../internals/is-callable"),c=e("../internals/classof-raw"),a=e("../internals/to-string"),u=s([].push);n.exports=function(f){if(l(f))return f;if(o(f)){for(var h=f.length,d=[],y=0;y<h;y++){var g=f[y];typeof g=="string"?u(d,g):typeof g!="number"&&c(g)!=="Number"&&c(g)!=="String"||u(d,a(g))}var p=d.length,w=!0;return function(v,_){if(w)return w=!1,_;if(o(this))return _;for(var T=0;T<p;T++)if(d[T]===v)return _}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var s=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");n.exports=function(l,c){var a=l[c];return o(a)?void 0:s(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(s){(function(){var o=function(l){return l&&l.Math===Math&&l};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),l=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,a){return l(o(c),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(e,n,i){var s=e("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails"),l=e("../internals/document-create-element");n.exports=!s&&!o((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),l=e("../internals/classof-raw"),c=Object,a=s("".split);n.exports=o((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return l(u)==="String"?a(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),l=e("../internals/shared-store"),c=s(Function.toString);o(l.inspectSource)||(l.inspectSource=function(a){return c(a)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var s,o,l,c=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),u=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),y=e("../internals/shared-key"),g=e("../internals/hidden-keys"),p=a.TypeError,w=a.WeakMap;if(c||d.state){var v=d.state||(d.state=new w);v.get=v.get,v.has=v.has,v.set=v.set,s=function(T,F){if(v.has(T))throw new p("Object already initialized");return F.facade=T,v.set(T,F),F},o=function(T){return v.get(T)||{}},l=function(T){return v.has(T)}}else{var _=y("state");g[_]=!0,s=function(T,F){if(h(T,_))throw new p("Object already initialized");return F.facade=T,f(T,_,F),F},o=function(T){return h(T,_)?T[_]:{}},l=function(T){return h(T,_)}}n.exports={set:s,get:o,has:l,enforce:function(T){return l(T)?o(T):s(T,{})},getterFor:function(T){return function(F){var G;if(!u(F)||(G=o(F)).type!==T)throw new p("Incompatible receiver, "+T+" required");return G}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var s=e("../internals/well-known-symbol"),o=e("../internals/iterators"),l=s("iterator"),c=Array.prototype;n.exports=function(a){return a!==void 0&&(o.Array===a||c[l]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var s=e("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var s=e("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(l){return typeof l=="function"||l===o}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/classof"),a=e("../internals/get-built-in"),u=e("../internals/inspect-source"),f=function(){},h=[],d=a("Reflect","construct"),y=/^\s*(?:class|function)\b/,g=s(y.exec),p=!y.test(f),w=function(_){if(!l(_))return!1;try{return d(f,h,_),!0}catch{return!1}},v=function(_){if(!l(_))return!1;switch(c(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(y,u(_))}catch{return!0}};v.sham=!0,n.exports=!d||o((function(){var _;return w(w.call)||!w(Object)||!w((function(){_=!0}))||_}))?v:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var s=e("../internals/fails"),o=e("../internals/is-callable"),l=/#|\.prototype\./,c=function(d,y){var g=u[a(d)];return g===h||g!==f&&(o(y)?s(y):!!y)},a=c.normalize=function(d){return String(d).replace(l,".").toLowerCase()},u=c.data={},f=c.NATIVE="N",h=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(s){return s==null}},{}],289:[function(e,n,i){var s=e("../internals/is-callable"),o=e("../internals/document-all"),l=o.all;n.exports=o.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:s(c)||c===l}:function(c){return typeof c=="object"?c!==null:s(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var s=e("../internals/is-object"),o=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("match");n.exports=function(c){var a;return s(c)&&((a=c[l])!==void 0?!!a:o(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/is-callable"),l=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),a=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var f=s("Symbol");return o(f)&&l(f.prototype,a(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var s=e("../internals/function-bind-context"),o=e("../internals/function-call"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),y=e("../internals/iterator-close"),g=TypeError,p=function(v,_){this.stopped=v,this.result=_},w=p.prototype;n.exports=function(v,_,T){var F,G,$,P,M,U,V,I=T&&T.that,E=!(!T||!T.AS_ENTRIES),L=!(!T||!T.IS_RECORD),A=!(!T||!T.IS_ITERATOR),S=!(!T||!T.INTERRUPTED),k=s(_,I),N=function(O){return F&&y(F,"normal",O),new p(!0,O)},C=function(O){return E?(l(O),S?k(O[0],O[1],N):k(O[0],O[1])):S?k(O,N):k(O)};if(L)F=v.iterator;else if(A)F=v;else{if(!(G=d(v)))throw new g(c(v)+" is not iterable");if(a(G)){for($=0,P=u(v);P>$;$++)if((M=C(v[$]))&&f(w,M))return M;return new p(!1)}F=h(v,G)}for(U=L?v.next:F.next;!(V=o(U,F)).done;){try{M=C(V.value)}catch(O){y(F,"throw",O)}if(typeof M=="object"&&M&&f(w,M))return M}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/an-object"),l=e("../internals/get-method");n.exports=function(c,a,u){var f,h;o(c);try{if(!(f=l(c,"return"))){if(a==="throw")throw u;return u}f=s(f,c)}catch(d){h=!0,f=d}if(a==="throw")throw u;if(h)throw f;return o(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var s=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),u=function(){return this};n.exports=function(f,h,d,y){var g=h+" Iterator";return f.prototype=o(s,{next:l(+!y,d)}),c(f,g,!1,!0),a[g]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),l=e("../internals/is-pure"),c=e("../internals/function-name"),a=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),y=e("../internals/create-non-enumerable-property"),g=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),w=e("../internals/iterators"),v=e("../internals/iterators-core"),_=c.PROPER,T=c.CONFIGURABLE,F=v.IteratorPrototype,G=v.BUGGY_SAFARI_ITERATORS,$=p("iterator"),P=function(){return this};n.exports=function(M,U,V,I,E,L,A){u(V,U,I);var S,k,N,C=function(H){if(H===E&&Z)return Z;if(!G&&H&&H in j)return j[H];switch(H){case"keys":case"values":case"entries":return function(){return new V(this,H)}}return function(){return new V(this)}},O=U+" Iterator",D=!1,j=M.prototype,K=j[$]||j["@@iterator"]||E&&j[E],Z=!G&&K||C(E),ne=U==="Array"&&j.entries||K;if(ne&&(S=f(ne.call(new M)))!==Object.prototype&&S.next&&(l||f(S)===F||(h?h(S,F):a(S[$])||g(S,$,P)),d(S,O,!0,!0),l&&(w[O]=P)),_&&E==="values"&&K&&K.name!=="values"&&(!l&&T?y(j,"name","values"):(D=!0,Z=function(){return o(K,this)})),E)if(k={values:C("values"),keys:L?Z:C("keys"),entries:C("entries")},A)for(N in k)(G||D||!(N in j))&&g(j,N,k[N]);else s({target:U,proto:!0,forced:G||D},k);return l&&!A||j[$]===Z||g(j,$,Z,{name:E}),w[U]=Z,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var s,o,l,c=e("../internals/fails"),a=e("../internals/is-callable"),u=e("../internals/is-object"),f=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),y=e("../internals/well-known-symbol"),g=e("../internals/is-pure"),p=y("iterator"),w=!1;[].keys&&("next"in(l=[].keys())?(o=h(h(l)))!==Object.prototype&&(s=o):w=!0),!u(s)||c((function(){var v={};return s[p].call(v)!==v}))?s={}:g&&(s=f(s)),a(s[p])||d(s,p,(function(){return this})),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var s=e("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/has-own-property"),a=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,y=h.get,g=String,p=Object.defineProperty,w=s("".slice),v=s("".replace),_=s([].join),T=a&&!o((function(){return p((function(){}),"length",{value:8}).length!==8})),F=String(String).split("String"),G=n.exports=function($,P,M){w(g(P),0,7)==="Symbol("&&(P="["+v(g(P),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(P="get "+P),M&&M.setter&&(P="set "+P),(!c($,"name")||u&&$.name!==P)&&(a?p($,"name",{value:P,configurable:!0}):$.name=P),T&&M&&c(M,"arity")&&$.length!==M.arity&&p($,"length",{value:M.arity});try{M&&c(M,"constructor")&&M.constructor?a&&p($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var U=d($);return c(U,"source")||(U.source=_(F,typeof P=="string"?P:"")),$};Function.prototype.toString=G((function(){return l(this)&&y(this).source||f(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?o:s)(c)}},{}],302:[function(e,n,i){var s,o,l,c,a,u=e("../internals/global"),f=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,y=e("../internals/queue"),g=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),w=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),_=u.MutationObserver||u.WebKitMutationObserver,T=u.document,F=u.process,G=u.Promise,$=h(u,"queueMicrotask"),P=$&&$.value;if(!P){var M=new y,U=function(){var V,I;for(v&&(V=F.domain)&&V.exit();I=M.get();)try{I()}catch(E){throw M.head&&s(),E}V&&V.enter()};g||v||w||!_||!T?!p&&G&&G.resolve?((c=G.resolve(void 0)).constructor=G,a=f(c.then,c),s=function(){a(U)}):v?s=function(){F.nextTick(U)}:(d=f(d,u),s=function(){d(U)}):(o=!0,l=T.createTextNode(""),new _(U).observe(l,{characterData:!0}),s=function(){l.data=o=!o}),P=function(V){M.head||s(),M.add(V)}}n.exports=P},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var s=e("../internals/a-callable"),o=TypeError,l=function(c){var a,u;this.promise=new c((function(f,h){if(a!==void 0||u!==void 0)throw new o("Bad Promise constructor");a=f,u=h})),this.resolve=s(a),this.reject=s(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(e,n,i){var s=e("../internals/is-regexp"),o=TypeError;n.exports=function(l){if(s(l))throw new o("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),l=e("../internals/function-call"),c=e("../internals/fails"),a=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),y=Object.assign,g=Object.defineProperty,p=o([].concat);n.exports=!y||c((function(){if(s&&y({b:1},y(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},v={},_=Symbol("assign detection");return w[_]=7,"abcdefghijklmnopqrst".split("").forEach((function(T){v[T]=T})),y({},w)[_]!==7||a(y({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(w,v){for(var _=h(w),T=arguments.length,F=1,G=u.f,$=f.f;T>F;)for(var P,M=d(arguments[F++]),U=G?p(a(M),G(M)):a(M),V=U.length,I=0;V>I;)P=U[I++],s&&!l($,M,P)||(_[P]=M[P]);return _}:y},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var s,o=e("../internals/an-object"),l=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),u=e("../internals/html"),f=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),y=function(){},g=function(v){return"<script>"+v+"<\/script>"},p=function(v){v.write(g("")),v.close();var _=v.parentWindow.Object;return v=null,_},w=function(){try{s=new ActiveXObject("htmlfile")}catch{}var v,_;w=typeof document<"u"?document.domain&&s?p(s):((_=f("iframe")).style.display="none",u.appendChild(_),_.src="javascript:",(v=_.contentWindow.document).open(),v.write(g("document.F=Object")),v.close(),v.F):p(s);for(var T=c.length;T--;)delete w.prototype[c[T]];return w()};a[d]=!0,n.exports=Object.create||function(v,_){var T;return v!==null?(y.prototype=o(v),T=new y,y.prototype=null,T[d]=v):T=w(),_===void 0?T:l.f(T,_)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),l=e("../internals/object-define-property"),c=e("../internals/an-object"),a=e("../internals/to-indexed-object"),u=e("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(f,h){c(f);for(var d,y=a(h),g=u(h),p=g.length,w=0;p>w;)l.f(f,d=g[w++],y[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),l=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),a=e("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=s?l?function(d,y,g){if(c(d),y=a(y),c(g),typeof d=="function"&&y==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=h(d,y);p&&p.writable&&(d[y]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return f(d,y,g)}:f:function(d,y,g){if(c(d),y=a(y),c(g),o)try{return f(d,y,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(d[y]=g.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/function-call"),l=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),f=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=s?d:function(y,g){if(y=a(y),g=u(g),h)try{return d(y,g)}catch{}if(f(y,g))return c(!o(l.f,y,g),y[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var s=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return a&&s(u)==="Window"?(function(f){try{return l(f)}catch{return c(a)}})(u):l(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var s=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return s(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var s=e("../internals/has-own-property"),o=e("../internals/is-callable"),l=e("../internals/to-object"),c=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),f=Object,h=f.prototype;n.exports=a?f.getPrototypeOf:function(d){var y=l(d);if(s(y,u))return y[u];var g=y.constructor;return o(g)&&y instanceof g?g.prototype:y instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),l=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),u=s([].push);n.exports=function(f,h){var d,y=l(f),g=0,p=[];for(d in y)!o(a,d)&&o(y,d)&&u(p,d);for(;h.length>g;)o(y,d=h[g++])&&(~c(p,d)||u(p,d));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var s=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return s(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!s.call({1:2},1);i.f=l?function(c){var a=o(this,c);return!!a&&a.enumerable}:s},{}],318:[function(e,n,i){var s=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),l=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,a=!1,u={};try{(c=s(Object.prototype,"__proto__","set"))(u,[]),a=u instanceof Array}catch{}return function(f,h){return o(f),l(h),a?c(f,h):f.__proto__=h,f}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails"),l=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),f=l(e("../internals/object-property-is-enumerable").f),h=l([].push),d=s&&o((function(){var g=Object.create(null);return g[2]=2,!f(g,2)})),y=function(g){return function(p){for(var w,v=u(p),_=a(v),T=d&&c(v)===null,F=_.length,G=0,$=[];F>G;)w=_[G++],s&&!(T?w in v:f(v,w))||h($,g?[w,v[w]]:v[w]);return $}};n.exports={entries:y(!0),values:y(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/is-callable"),l=e("../internals/is-object"),c=TypeError;n.exports=function(a,u){var f,h;if(u==="string"&&o(f=a.toString)&&!l(h=s(f,a))||o(f=a.valueOf)&&!l(h=s(f,a))||u!=="string"&&o(f=a.toString)&&!l(h=s(f,a)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),l=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),u=o([].concat);n.exports=s("Reflect","ownKeys")||function(f){var h=l.f(a(f)),d=c.f;return d?u(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var s=e("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/promise-native-constructor"),l=e("../internals/is-callable"),c=e("../internals/is-forced"),a=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),y=e("../internals/engine-v8-version"),g=o&&o.prototype,p=u("species"),w=!1,v=l(s.PromiseRejectionEvent),_=c("Promise",(function(){var T=a(o),F=T!==String(o);if(!F&&y===66||d&&(!g.catch||!g.finally))return!0;if(!y||y<51||!/native code/.test(T)){var G=new o((function(P){P(1)})),$=function(P){P((function(){}),(function(){}))};if((G.constructor={})[p]=$,!(w=G.then((function(){}))instanceof $))return!0}return!F&&(f||h)&&!v}));n.exports={CONSTRUCTOR:_,REJECTION_EVENT:v,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var s=e("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(e,n,i){var s=e("../internals/an-object"),o=e("../internals/is-object"),l=e("../internals/new-promise-capability");n.exports=function(c,a){if(s(c),o(a)&&a.constructor===c)return a;var u=l.f(c);return(0,u.resolve)(a),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var s=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!o((function(c){s.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var l={item:o,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(e,n,i){var s=e("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(l){if(s(l))throw new o("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var s=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),l=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),a=l("species");n.exports=function(u){var f=s(u);c&&f&&!f[a]&&o(f,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var s=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),l=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,a,u){c&&!u&&(c=c.prototype),c&&!o(c,l)&&s(c,l,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var s=e("../internals/shared"),o=e("../internals/uid"),l=s("keys");n.exports=function(c){return l[c]||(l[c]=o(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/define-global-property"),l=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var s=e("../internals/is-pure"),o=e("../internals/shared-store");(n.exports=function(l,c){return o[l]||(o[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var s=e("../internals/an-object"),o=e("../internals/a-constructor"),l=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(a,u){var f,h=s(a).constructor;return h===void 0||l(f=s(h)[c])?u:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var s=e("../internals/engine-v8-version"),o=e("../internals/fails"),l=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/get-built-in"),l=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var a=o("Symbol"),u=a&&a.prototype,f=u&&u.valueOf,h=l("toPrimitive");u&&!u[h]&&c(u,h,(function(d){return s(f,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var s,o,l,c,a=e("../internals/global"),u=e("../internals/function-apply"),f=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),y=e("../internals/fails"),g=e("../internals/html"),p=e("../internals/array-slice"),w=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),_=e("../internals/engine-is-ios"),T=e("../internals/engine-is-node"),F=a.setImmediate,G=a.clearImmediate,$=a.process,P=a.Dispatch,M=a.Function,U=a.MessageChannel,V=a.String,I=0,E={};y((function(){s=a.location}));var L=function(N){if(d(E,N)){var C=E[N];delete E[N],C()}},A=function(N){return function(){L(N)}},S=function(N){L(N.data)},k=function(N){a.postMessage(V(N),s.protocol+"//"+s.host)};F&&G||(F=function(N){v(arguments.length,1);var C=h(N)?N:M(N),O=p(arguments,1);return E[++I]=function(){u(C,void 0,O)},o(I),I},G=function(N){delete E[N]},T?o=function(N){$.nextTick(A(N))}:P&&P.now?o=function(N){P.now(A(N))}:U&&!_?(c=(l=new U).port2,l.port1.onmessage=S,o=f(c.postMessage,c)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&s&&s.protocol!=="file:"&&!y(k)?(o=k,a.addEventListener("message",S,!1)):o="onreadystatechange"in w("script")?function(N){g.appendChild(w("script")).onreadystatechange=function(){g.removeChild(this),L(N)}}:function(N){setTimeout(A(N),0)}),n.exports={set:F,clear:G}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),o=Math.max,l=Math.min;n.exports=function(c,a){var u=s(c);return u<0?o(u+a,0):l(u,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var s=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");n.exports=function(l){return s(o(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var s=e("../internals/math-trunc");n.exports=function(o){var l=+o;return l!=l||l===0?0:s(l)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(l){return l>0?o(s(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var s=e("../internals/require-object-coercible"),o=Object;n.exports=function(l){return o(s(l))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var s=e("../internals/function-call"),o=e("../internals/is-object"),l=e("../internals/is-symbol"),c=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),f=TypeError,h=u("toPrimitive");n.exports=function(d,y){if(!o(d)||l(d))return d;var g,p=c(d,h);if(p){if(y===void 0&&(y="default"),g=s(p,d,y),!o(g)||l(g))return g;throw new f("Can't convert object to primitive value")}return y===void 0&&(y="number"),a(d,y)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var s=e("../internals/to-primitive"),o=e("../internals/is-symbol");n.exports=function(l){var c=s(l,"string");return o(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var s={};s[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var s=e("../internals/classof"),o=String;n.exports=function(l){if(s(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(l)}},{"../internals/classof":236}],349:[function(e,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(e,n,i){var s=e("../internals/function-uncurry-this"),o=0,l=Math.random(),c=s(1 .toString);n.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+c(++o+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var s=e("../internals/descriptors"),o=e("../internals/fails");n.exports=s&&o((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var s=TypeError;n.exports=function(o,l){if(o<l)throw new s("Not enough arguments");return o}},{}],354:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/is-callable"),l=s.WeakMap;n.exports=o(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var s=e("../internals/path"),o=e("../internals/has-own-property"),l=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(a){var u=s.Symbol||(s.Symbol={});o(u,a)||c(u,a,{value:l.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var s=e("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var s=e("../internals/global"),o=e("../internals/shared"),l=e("../internals/has-own-property"),c=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),f=s.Symbol,h=o("wks"),d=u?f.for||f:f&&f.withoutSetter||c;n.exports=function(y){return l(h,y)||(h[y]=a&&l(f,y)?f[y]:d("Symbol."+y)),h[y]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-iteration").findIndex,l=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),s({target:"Array",proto:!0,forced:c},{findIndex:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-iteration").find,l=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),s({target:"Array",proto:!0,forced:c},{find:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/array-includes").includes,l=e("../internals/fails"),c=e("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var s=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),l=e("../internals/iterators"),c=e("../internals/internal-state"),a=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),y=c.set,g=c.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(w,v){y(this,{type:"Array Iterator",target:s(w),index:0,kind:v})}),(function(){var w=g(this),v=w.target,_=w.kind,T=w.index++;if(!v||T>=v.length)return w.target=void 0,f(void 0,!0);switch(_){case"keys":return f(T,!1);case"values":return f(v[T],!1)}return f([T,v[T]],!1)}),"values");var p=l.Arguments=l.Array;if(o("keys"),o("values"),o("entries"),!h&&d&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),l=e("../internals/function-apply"),c=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),u=e("../internals/fails"),f=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),y=e("../internals/get-json-replacer-function"),g=e("../internals/symbol-constructor-detection"),p=String,w=o("JSON","stringify"),v=a(/./.exec),_=a("".charAt),T=a("".charCodeAt),F=a("".replace),G=a(1 .toString),$=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,U=!g||u((function(){var L=o("Symbol")("stringify detection");return w([L])!=="[null]"||w({a:L})!=="{}"||w(Object(L))!=="{}"})),V=u((function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'})),I=function(L,A){var S=d(arguments),k=y(A);if(f(k)||L!==void 0&&!h(L))return S[1]=function(N,C){if(f(k)&&(C=c(k,this,p(N),C)),!h(C))return C},l(w,null,S)},E=function(L,A,S){var k=_(S,A-1),N=_(S,A+1);return v(P,L)&&!v(M,N)||v(M,L)&&!v(P,k)?"\\u"+G(T(L,0),16):L};w&&s({target:"JSON",stat:!0,arity:3,forced:U||V},{stringify:function(L,A,S){var k=d(arguments),N=l(U?I:w,null,k);return V&&typeof N=="string"?F(N,$,E):N}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");s({target:"Object",stat:!0,forced:!o||l((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var f=c.f;return f?f(a(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/to-object"),l=e("../internals/object-keys");s({target:"Object",stat:!0,forced:e("../internals/fails")((function(){l(1)}))},{keys:function(c){return l(o(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(l){return o(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),a=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=c.f(h),y=d.resolve,g=d.reject,p=a((function(){var w=l(h.resolve),v=[],_=0,T=1;u(f,(function(F){var G=_++,$=!1;T++,o(w,h,F).then((function(P){$||($=!0,v[G]=P,--T||y(v))}),g)})),--T||y(v)}));return p.error&&g(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/is-pure"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/define-built-in"),h=c&&c.prototype;if(s({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(y){return this.then(void 0,y)}}),!o&&u(c)){var d=a("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var s,o,l,c=e("../internals/export"),a=e("../internals/is-pure"),u=e("../internals/engine-is-node"),f=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),y=e("../internals/object-set-prototype-of"),g=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),w=e("../internals/a-callable"),v=e("../internals/is-callable"),_=e("../internals/is-object"),T=e("../internals/an-instance"),F=e("../internals/species-constructor"),G=e("../internals/task").set,$=e("../internals/microtask"),P=e("../internals/host-report-errors"),M=e("../internals/perform"),U=e("../internals/queue"),V=e("../internals/internal-state"),I=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),L=e("../internals/new-promise-capability"),A=E.CONSTRUCTOR,S=E.REJECTION_EVENT,k=E.SUBCLASSING,N=V.getterFor("Promise"),C=V.set,O=I&&I.prototype,D=I,j=O,K=f.TypeError,Z=f.document,ne=f.process,H=L.f,J=H,z=!!(Z&&Z.createEvent&&f.dispatchEvent),B=function(ye){var Re;return!(!_(ye)||!v(Re=ye.then))&&Re},Q=function(ye,Re){var Ie,Oe,Fe,Se=Re.value,Pe=Re.state===1,He=Pe?ye.ok:ye.fail,Ze=ye.resolve,at=ye.reject,Je=ye.domain;try{He?(Pe||(Re.rejection===2&&ce(Re),Re.rejection=1),He===!0?Ie=Se:(Je&&Je.enter(),Ie=He(Se),Je&&(Je.exit(),Fe=!0)),Ie===ye.promise?at(new K("Promise-chain cycle")):(Oe=B(Ie))?h(Oe,Ie,Ze,at):Ze(Ie)):at(Se)}catch(lt){Je&&!Fe&&Je.exit(),at(lt)}},oe=function(ye,Re){ye.notified||(ye.notified=!0,$((function(){for(var Ie,Oe=ye.reactions;Ie=Oe.get();)Q(Ie,ye);ye.notified=!1,Re&&!ye.rejection&&de(ye)})))},pe=function(ye,Re,Ie){var Oe,Fe;z?((Oe=Z.createEvent("Event")).promise=Re,Oe.reason=Ie,Oe.initEvent(ye,!1,!0),f.dispatchEvent(Oe)):Oe={promise:Re,reason:Ie},!S&&(Fe=f["on"+ye])?Fe(Oe):ye==="unhandledrejection"&&P("Unhandled promise rejection",Ie)},de=function(ye){h(G,f,(function(){var Re,Ie=ye.facade,Oe=ye.value;if(ve(ye)&&(Re=M((function(){u?ne.emit("unhandledRejection",Oe,Ie):pe("unhandledrejection",Ie,Oe)})),ye.rejection=u||ve(ye)?2:1,Re.error))throw Re.value}))},ve=function(ye){return ye.rejection!==1&&!ye.parent},ce=function(ye){h(G,f,(function(){var Re=ye.facade;u?ne.emit("rejectionHandled",Re):pe("rejectionhandled",Re,ye.value)}))},he=function(ye,Re,Ie){return function(Oe){ye(Re,Oe,Ie)}},fe=function(ye,Re,Ie){ye.done||(ye.done=!0,Ie&&(ye=Ie),ye.value=Re,ye.state=2,oe(ye,!0))},ke=function(ye,Re,Ie){if(!ye.done){ye.done=!0,Ie&&(ye=Ie);try{if(ye.facade===Re)throw new K("Promise can't be resolved itself");var Oe=B(Re);Oe?$((function(){var Fe={done:!1};try{h(Oe,Re,he(ke,Fe,ye),he(fe,Fe,ye))}catch(Se){fe(Fe,Se,ye)}})):(ye.value=Re,ye.state=1,oe(ye,!1))}catch(Fe){fe({done:!1},Fe,ye)}}};if(A&&(j=(D=function(ye){T(this,j),w(ye),h(s,this);var Re=N(this);try{ye(he(ke,Re),he(fe,Re))}catch(Ie){fe(Re,Ie)}}).prototype,(s=function(ye){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:0,value:void 0})}).prototype=d(j,"then",(function(ye,Re){var Ie=N(this),Oe=H(F(this,D));return Ie.parent=!0,Oe.ok=!v(ye)||ye,Oe.fail=v(Re)&&Re,Oe.domain=u?ne.domain:void 0,Ie.state===0?Ie.reactions.add(Oe):$((function(){Q(Oe,Ie)})),Oe.promise})),o=function(){var ye=new s,Re=N(ye);this.promise=ye,this.resolve=he(ke,Re),this.reject=he(fe,Re)},L.f=H=function(ye){return ye===D||ye===void 0?new o(ye):J(ye)},!a&&v(I)&&O!==Object.prototype)){l=O.then,k||d(O,"then",(function(ye,Re){var Ie=this;return new D((function(Oe,Fe){h(l,Ie,Oe,Fe)})).then(ye,Re)}),{unsafe:!0});try{delete O.constructor}catch{}y&&y(O,j)}c({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:D}),g(D,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),c=e("../internals/fails"),a=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),y=l&&l.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(p){var w=f(this,a("Promise")),v=u(p);return this.then(v?function(_){return h(w,p()).then((function(){return _}))}:p,v?function(_){return h(w,p()).then((function(){throw _}))}:p)}}),!o&&u(l)){var g=a("Promise").prototype.finally;y.finally!==g&&d(y,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),a=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=c.f(h),y=d.reject,g=a((function(){var p=l(h.resolve);u(f,(function(w){o(p,h,w).then(d.resolve,y)}))}));return g.error&&y(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-call"),l=e("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var a=l.f(this);return o(a.reject,void 0,c),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),l=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),f=o("Promise"),h=l&&!a;s({target:"Promise",stat:!0,forced:l||a},{resolve:function(d){return u(h&&this===f?c:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-uncurry-this"),l=e("../internals/to-absolute-index"),c=RangeError,a=String.fromCharCode,u=String.fromCodePoint,f=o([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var d,y=[],g=arguments.length,p=0;g>p;){if(d=+arguments[p++],l(d,1114111)!==d)throw new c(d+" is not a valid code point");y[p]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return f(y,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/function-uncurry-this"),l=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),a=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),f=o("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~f(a(c(this)),a(l(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/global"),l=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),u=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),y=e("../internals/object-is-prototype-of"),g=e("../internals/an-object"),p=e("../internals/to-indexed-object"),w=e("../internals/to-property-key"),v=e("../internals/to-string"),_=e("../internals/create-property-descriptor"),T=e("../internals/object-create"),F=e("../internals/object-keys"),G=e("../internals/object-get-own-property-names"),$=e("../internals/object-get-own-property-names-external"),P=e("../internals/object-get-own-property-symbols"),M=e("../internals/object-get-own-property-descriptor"),U=e("../internals/object-define-property"),V=e("../internals/object-define-properties"),I=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),L=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),S=e("../internals/shared-key"),k=e("../internals/hidden-keys"),N=e("../internals/uid"),C=e("../internals/well-known-symbol"),O=e("../internals/well-known-symbol-wrapped"),D=e("../internals/well-known-symbol-define"),j=e("../internals/symbol-define-to-primitive"),K=e("../internals/set-to-string-tag"),Z=e("../internals/internal-state"),ne=e("../internals/array-iteration").forEach,H=S("hidden"),J=Z.set,z=Z.getterFor("Symbol"),B=Object.prototype,Q=o.Symbol,oe=Q&&Q.prototype,pe=o.RangeError,de=o.TypeError,ve=o.QObject,ce=M.f,he=U.f,fe=$.f,ke=I.f,ye=c([].push),Re=A("symbols"),Ie=A("op-symbols"),Oe=A("wks"),Fe=!ve||!ve.prototype||!ve.prototype.findChild,Se=function(ft,st,mt){var At=ce(B,st);At&&delete B[st],he(ft,st,mt),At&&ft!==B&&he(B,st,At)},Pe=u&&h((function(){return T(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!==7}))?Se:he,He=function(ft,st){var mt=Re[ft]=T(oe);return J(mt,{type:"Symbol",tag:ft,description:st}),u||(mt.description=st),mt},Ze=function(ft,st,mt){ft===B&&Ze(Ie,st,mt),g(ft);var At=w(st);return g(mt),d(Re,At)?(mt.enumerable?(d(ft,H)&&ft[H][At]&&(ft[H][At]=!1),mt=T(mt,{enumerable:_(0,!1)})):(d(ft,H)||he(ft,H,_(1,{})),ft[H][At]=!0),Pe(ft,At,mt)):he(ft,At,mt)},at=function(ft,st){g(ft);var mt=p(st),At=F(mt).concat(Ut(mt));return ne(At,(function(dt){u&&!l(Je,mt,dt)||Ze(ft,dt,mt[dt])})),ft},Je=function(ft){var st=w(ft),mt=l(ke,this,st);return!(this===B&&d(Re,st)&&!d(Ie,st))&&(!(mt||!d(this,st)||!d(Re,st)||d(this,H)&&this[H][st])||mt)},lt=function(ft,st){var mt=p(ft),At=w(st);if(mt!==B||!d(Re,At)||d(Ie,At)){var dt=ce(mt,At);return!dt||!d(Re,At)||d(mt,H)&&mt[H][At]||(dt.enumerable=!0),dt}},ut=function(ft){var st=fe(p(ft)),mt=[];return ne(st,(function(At){d(Re,At)||d(k,At)||ye(mt,At)})),mt},Ut=function(ft){var st=ft===B,mt=fe(st?Ie:p(ft)),At=[];return ne(mt,(function(dt){!d(Re,dt)||st&&!d(B,dt)||ye(At,Re[dt])})),At};f||(E(oe=(Q=function(){if(y(oe,this))throw new de("Symbol is not a constructor");var ft=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,st=N(ft),mt=function(At){this===B&&l(mt,Ie,At),d(this,H)&&d(this[H],st)&&(this[H][st]=!1);var dt=_(1,At);try{Pe(this,st,dt)}catch(Yt){if(!(Yt instanceof pe))throw Yt;Se(this,st,dt)}};return u&&Fe&&Pe(B,st,{configurable:!0,set:mt}),He(st,ft)}).prototype,"toString",(function(){return z(this).tag})),E(Q,"withoutSetter",(function(ft){return He(N(ft),ft)})),I.f=Je,U.f=Ze,V.f=at,M.f=lt,G.f=$.f=ut,P.f=Ut,O.f=function(ft){return He(C(ft),ft)},u&&(L(oe,"description",{configurable:!0,get:function(){return z(this).description}}),a||E(B,"propertyIsEnumerable",Je,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Q}),ne(F(Oe),(function(ft){D(ft)})),s({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){Fe=!0},useSimple:function(){Fe=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(ft,st){return st===void 0?T(ft):at(T(ft),st)},defineProperty:Ze,defineProperties:at,getOwnPropertyDescriptor:lt}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ut}),j(),K(Q,"Symbol"),k[H]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/get-built-in"),l=e("../internals/has-own-property"),c=e("../internals/to-string"),a=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(d){var y=c(d);if(l(f,y))return f[y];var g=o("Symbol")(y);return f[y]=g,h[g]=y,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var s=e("../internals/export"),o=e("../internals/has-own-property"),l=e("../internals/is-symbol"),c=e("../internals/try-to-string"),a=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!l(h))throw new TypeError(c(h)+" is not a symbol");if(o(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(s){(function(){var o=e("elliptic"),l=e("bn.js");n.exports=function(f){return new a(f)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(f){this.curveType=c[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(f,h,d){Array.isArray(f)||(f=f.toArray());var y=new s(f);if(d&&y.length<d){var g=new s(d-y.length);g.fill(0),y=s.concat([g,y])}return h?y.toString(h):y}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,a.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},a.prototype.computeSecret=function(f,h,d){return h=h||"utf8",s.isBuffer(f)||(f=new s(f,h)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,f)},a.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},a.prototype.setPublicKey=function(f,h){return h=h||"utf8",s.isBuffer(f)||(f=new s(f,h)),this.keys._importPublic(f),this},a.prototype.setPrivateKey=function(f,h){h=h||"utf8",s.isBuffer(f)||(f=new s(f,h));var d=new l(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var s=e("inherits"),o=e("md5.js"),l=e("ripemd160"),c=e("sha.js"),a=e("cipher-base");function u(f){a.call(this,"digest"),this._hash=f}s(u,a),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new l:new u(c(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var s=e("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(e,n,i){var s=e("inherits"),o=e("./legacy"),l=e("cipher-base"),c=e("safe-buffer").Buffer,a=e("create-hash/md5"),u=e("ripemd160"),f=e("sha.js"),h=c.alloc(128);function d(y,g){l.call(this,"digest"),typeof g=="string"&&(g=c.from(g));var p=y==="sha512"||y==="sha384"?128:64;this._alg=y,this._key=g,g.length>p?g=(y==="rmd160"?new u:f(y)).update(g).digest():g.length<p&&(g=c.concat([g,h],p));for(var w=this._ipad=c.allocUnsafe(p),v=this._opad=c.allocUnsafe(p),_=0;_<p;_++)w[_]=54^g[_],v[_]=92^g[_];this._hash=y==="rmd160"?new u:f(y),this._hash.update(w)}s(d,l),d.prototype._update=function(y){this._hash.update(y)},d.prototype._final=function(){var y=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(y).digest()},n.exports=function(y,g){return(y=y.toLowerCase())==="rmd160"||y==="ripemd160"?new d("rmd160",g):y==="md5"?new o(a,g):new d(y,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var s=e("inherits"),o=e("safe-buffer").Buffer,l=e("cipher-base"),c=o.alloc(128);function a(u,f){l.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=o.concat([f,c],64));for(var h=this._ipad=o.allocUnsafe(64),d=this._opad=o.allocUnsafe(64),y=0;y<64;y++)h[y]=54^f[y],d[y]=92^f[y];this._hash=[h]}s(a,l),a.prototype._update=function(u){this._hash.push(u)},a.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},n.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var s=e("browserify-sign/algos"),o=Object.keys(s),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return l};var c=e("pbkdf2");i.pbkdf2=c.pbkdf2,i.pbkdf2Sync=c.pbkdf2Sync;var a=e("browserify-cipher");i.Cipher=a.Cipher,i.createCipher=a.createCipher,i.Cipheriv=a.Cipheriv,i.createCipheriv=a.createCipheriv,i.Decipher=a.Decipher,i.createDecipher=a.createDecipher,i.Decipheriv=a.Decipheriv,i.createDecipheriv=a.createDecipheriv,i.getCiphers=a.getCiphers,i.listCiphers=a.listCiphers;var u=e("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var f=e("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=e("create-ecdh");var h=e("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var d=e("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,(function(){var s=6e4,o=36e5,l="millisecond",c="second",a="minute",u="hour",f="day",h="week",d="month",y="quarter",g="year",p="date",w="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var k=["th","st","nd","rd"],N=S%100;return"["+S+(k[(N-20)%10]||k[N]||k[0])+"]"}},F=function(S,k,N){var C=String(S);return!C||C.length>=k?S:""+Array(k+1-C.length).join(N)+S},G={s:F,z:function(S){var k=-S.utcOffset(),N=Math.abs(k),C=Math.floor(N/60),O=N%60;return(k<=0?"+":"-")+F(C,2,"0")+":"+F(O,2,"0")},m:function S(k,N){if(k.date()<N.date())return-S(N,k);var C=12*(N.year()-k.year())+(N.month()-k.month()),O=k.clone().add(C,d),D=N-O<0,j=k.clone().add(C+(D?-1:1),d);return+(-(C+(N-O)/(D?O-j:j-O))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:g,w:h,d:f,D:p,h:u,m:a,s:c,ms:l,Q:y}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},$="en",P={};P[$]=T;var M="$isDayjsObject",U=function(S){return S instanceof L||!(!S||!S[M])},V=function S(k,N,C){var O;if(!k)return $;if(typeof k=="string"){var D=k.toLowerCase();P[D]&&(O=D),N&&(P[D]=N,O=D);var j=k.split("-");if(!O&&j.length>1)return S(j[0])}else{var K=k.name;P[K]=k,O=K}return!C&&O&&($=O),O||!C&&$},I=function(S,k){if(U(S))return S.clone();var N=typeof k=="object"?k:{};return N.date=S,N.args=arguments,new L(N)},E=G;E.l=V,E.i=U,E.w=function(S,k){return I(S,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var L=(function(){function S(N){this.$L=V(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[M]=!0}var k=S.prototype;return k.parse=function(N){this.$d=(function(C){var O=C.date,D=C.utc;if(O===null)return new Date(NaN);if(E.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var j=O.match(v);if(j){var K=j[2]-1||0,Z=(j[7]||"0").substring(0,3);return D?new Date(Date.UTC(j[1],K,j[3]||1,j[4]||0,j[5]||0,j[6]||0,Z)):new Date(j[1],K,j[3]||1,j[4]||0,j[5]||0,j[6]||0,Z)}}return new Date(O)})(N),this.init()},k.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},k.$utils=function(){return E},k.isValid=function(){return this.$d.toString()!==w},k.isSame=function(N,C){var O=I(N);return this.startOf(C)<=O&&O<=this.endOf(C)},k.isAfter=function(N,C){return I(N)<this.startOf(C)},k.isBefore=function(N,C){return this.endOf(C)<I(N)},k.$g=function(N,C,O){return E.u(N)?this[C]:this.set(O,N)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(N,C){var O=this,D=!!E.u(C)||C,j=E.p(N),K=function(oe,pe){var de=E.w(O.$u?Date.UTC(O.$y,pe,oe):new Date(O.$y,pe,oe),O);return D?de:de.endOf(f)},Z=function(oe,pe){return E.w(O.toDate()[oe].apply(O.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(pe)),O)},ne=this.$W,H=this.$M,J=this.$D,z="set"+(this.$u?"UTC":"");switch(j){case g:return D?K(1,0):K(31,11);case d:return D?K(1,H):K(0,H+1);case h:var B=this.$locale().weekStart||0,Q=(ne<B?ne+7:ne)-B;return K(D?J-Q:J+(6-Q),H);case f:case p:return Z(z+"Hours",0);case u:return Z(z+"Minutes",1);case a:return Z(z+"Seconds",2);case c:return Z(z+"Milliseconds",3);default:return this.clone()}},k.endOf=function(N){return this.startOf(N,!1)},k.$set=function(N,C){var O,D=E.p(N),j="set"+(this.$u?"UTC":""),K=(O={},O[f]=j+"Date",O[p]=j+"Date",O[d]=j+"Month",O[g]=j+"FullYear",O[u]=j+"Hours",O[a]=j+"Minutes",O[c]=j+"Seconds",O[l]=j+"Milliseconds",O)[D],Z=D===f?this.$D+(C-this.$W):C;if(D===d||D===g){var ne=this.clone().set(p,1);ne.$d[K](Z),ne.init(),this.$d=ne.set(p,Math.min(this.$D,ne.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},k.set=function(N,C){return this.clone().$set(N,C)},k.get=function(N){return this[E.p(N)]()},k.add=function(N,C){var O,D=this;N=Number(N);var j=E.p(C),K=function(H){var J=I(D);return E.w(J.date(J.date()+Math.round(H*N)),D)};if(j===d)return this.set(d,this.$M+N);if(j===g)return this.set(g,this.$y+N);if(j===f)return K(1);if(j===h)return K(7);var Z=(O={},O[a]=s,O[u]=o,O[c]=1e3,O)[j]||1,ne=this.$d.getTime()+N*Z;return E.w(ne,this)},k.subtract=function(N,C){return this.add(-1*N,C)},k.format=function(N){var C=this,O=this.$locale();if(!this.isValid())return O.invalidDate||w;var D=N||"YYYY-MM-DDTHH:mm:ssZ",j=E.z(this),K=this.$H,Z=this.$m,ne=this.$M,H=O.weekdays,J=O.months,z=O.meridiem,B=function(pe,de,ve,ce){return pe&&(pe[de]||pe(C,D))||ve[de].slice(0,ce)},Q=function(pe){return E.s(K%12||12,pe,"0")},oe=z||function(pe,de,ve){var ce=pe<12?"AM":"PM";return ve?ce.toLowerCase():ce};return D.replace(_,(function(pe,de){return de||(function(ve){switch(ve){case"YY":return String(C.$y).slice(-2);case"YYYY":return E.s(C.$y,4,"0");case"M":return ne+1;case"MM":return E.s(ne+1,2,"0");case"MMM":return B(O.monthsShort,ne,J,3);case"MMMM":return B(J,ne);case"D":return C.$D;case"DD":return E.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return B(O.weekdaysMin,C.$W,H,2);case"ddd":return B(O.weekdaysShort,C.$W,H,3);case"dddd":return H[C.$W];case"H":return String(K);case"HH":return E.s(K,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return oe(K,Z,!0);case"A":return oe(K,Z,!1);case"m":return String(Z);case"mm":return E.s(Z,2,"0");case"s":return String(C.$s);case"ss":return E.s(C.$s,2,"0");case"SSS":return E.s(C.$ms,3,"0");case"Z":return j}return null})(pe)||j.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(N,C,O){var D,j=this,K=E.p(C),Z=I(N),ne=(Z.utcOffset()-this.utcOffset())*s,H=this-Z,J=function(){return E.m(j,Z)};switch(K){case g:D=J()/12;break;case d:D=J();break;case y:D=J()/3;break;case h:D=(H-ne)/6048e5;break;case f:D=(H-ne)/864e5;break;case u:D=H/o;break;case a:D=H/s;break;case c:D=H/1e3;break;default:D=H}return O?D:E.a(D)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return P[this.$L]},k.locale=function(N,C){if(!N)return this.$L;var O=this.clone(),D=V(N,C,!0);return D&&(O.$L=D),O},k.clone=function(){return E.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},S})(),A=L.prototype;return I.prototype=A,[["$ms",l],["$s",c],["$m",a],["$H",u],["$W",f],["$M",d],["$y",g],["$D",p]].forEach((function(S){A[S[1]]=function(k){return this.$g(k,S[0],S[1])}})),I.extend=function(S,k){return S.$i||(S(k,L,I),S.$i=!0),I},I.locale=V,I.isDayjs=U,I.unix=function(S){return I(1e3*S)},I.en=P[$],I.Ls=P,I.p={},I}))},{}],392:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,u={},f=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(_){this[v]=+_}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(_){if(!_||_==="Z")return 0;var T=_.match(/([+-]|\d\d)/g),F=60*T[1]+(+T[2]||0);return F===0?0:T[0]==="+"?-F:F})(v)}],y=function(v){var _=u[v];return _&&(_.indexOf?_:_.s.concat(_.f))},g=function(v,_){var T,F=u.meridiem;if(F){for(var G=1;G<=24;G+=1)if(v.indexOf(F(G,0,_))>-1){T=G>12;break}}else T=v===(_?"pm":"PM");return T},p={A:[a,function(v){this.afternoon=g(v,!1)}],a:[a,function(v){this.afternoon=g(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[l,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[l,h("day")],Do:[a,function(v){var _=u.ordinal,T=v.match(/\d+/);if(this.day=T[0],_)for(var F=1;F<=31;F+=1)_(F).replace(/\[|\]/g,"")===v&&(this.day=F)}],M:[c,h("month")],MM:[l,h("month")],MMM:[a,function(v){var _=y("months"),T=(y("monthsShort")||_.map((function(F){return F.slice(0,3)}))).indexOf(v)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[a,function(v){var _=y("months").indexOf(v)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,h("year")],YY:[l,function(v){this.year=f(v)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function w(v){var _,T;_=v,T=u&&u.formats;for(var F=(v=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,E,L){var A=L&&L.toUpperCase();return E||T[L]||s[L]||T[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,k,N){return k||N.slice(1)}))}))).match(o),G=F.length,$=0;$<G;$+=1){var P=F[$],M=p[P],U=M&&M[0],V=M&&M[1];F[$]=V?{regex:U,parser:V}:P.replace(/^\[|\]$/g,"")}return function(I){for(var E={},L=0,A=0;L<G;L+=1){var S=F[L];if(typeof S=="string")A+=S.length;else{var k=S.regex,N=S.parser,C=I.slice(A),O=k.exec(C)[0];N.call(E,O),I=I.replace(O,"")}}return(function(D){var j=D.afternoon;if(j!==void 0){var K=D.hours;j?K<12&&(D.hours+=12):K===12&&(D.hours=0),delete D.afternoon}})(E),E}}return function(v,_,T){T.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(f=v.parseTwoDigitYear);var F=_.prototype,G=F.parse;F.parse=function($){var P=$.date,M=$.utc,U=$.args;this.$u=M;var V=U[1];if(typeof V=="string"){var I=U[2]===!0,E=U[3]===!0,L=I||E,A=U[2];E&&(A=U[2]),u=this.$locale(),!I&&A&&(u=T.Ls[A]),this.$d=(function(C,O,D){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*C);var j=w(O)(C),K=j.year,Z=j.month,ne=j.day,H=j.hours,J=j.minutes,z=j.seconds,B=j.milliseconds,Q=j.zone,oe=new Date,pe=ne||(K||Z?1:oe.getDate()),de=K||oe.getFullYear(),ve=0;K&&!Z||(ve=Z>0?Z-1:oe.getMonth());var ce=H||0,he=J||0,fe=z||0,ke=B||0;return Q?new Date(Date.UTC(de,ve,pe,ce,he,fe,ke+60*Q.offset*1e3)):D?new Date(Date.UTC(de,ve,pe,ce,he,fe,ke)):new Date(de,ve,pe,ce,he,fe,ke)}catch{return new Date("")}})(P,V,M),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),L&&P!=this.format(V)&&(this.$d=new Date("")),u={}}else if(V instanceof Array)for(var S=V.length,k=1;k<=S;k+=1){U[1]=V[k-1];var N=T.apply(this,U);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}k===S&&(this.$d=new Date(""))}else G.call(this,$)}}}))},{}],393:[function(e,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,(function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,a,u){var f=a.prototype;u.utc=function(v){var _={date:v,utc:!0,args:arguments};return new a(_)},f.utc=function(v){var _=u(this.toDate(),{locale:this.$L,utc:!0});return v?_.add(this.utcOffset(),s):_},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var d=f.init;f.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var y=f.utcOffset;f.utcOffset=function(v,_){var T=this.$utils().u;if(T(v))return this.$u?0:T(this.$offset)?y.call(this):this.$offset;if(typeof v=="string"&&(v=(function(P){P===void 0&&(P="");var M=P.match(o);if(!M)return null;var U=(""+M[0]).match(l)||["-",0,0],V=U[0],I=60*+U[1]+ +U[2];return I===0?0:V==="+"?I:-I})(v))===null)return this;var F=Math.abs(v)<=16?60*v:v,G=this;if(_)return G.$offset=F,G.$u=v===0,G;if(v!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(G=this.local().add(F+$,s)).$offset=F,G.$x.$localOffset=$}else G=this.utc();return G};var g=f.format;f.format=function(v){var _=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,_)},f.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var w=f.diff;f.diff=function(v,_,T){if(v&&this.$u===v.$u)return w.call(this,v,_,T);var F=this.local(),G=u(v).local();return w.call(F,G,_,T)}}}))},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),l={};function c(a){s.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=a[u]}i.instantiate=function(a){function u(y){a.call(this,y),this._cbcInit()}o(u,a);for(var f=Object.keys(l),h=0;h<f.length;h++){var d=f[h];u.prototype[d]=l[d]}return u.create=function(y){return new u(y)},u},l._cbcInit=function(){var a=new c(this.options.iv);this._cbcState=a},l._update=function(a,u,f,h){var d=this._cbcState,y=this.constructor.super_.prototype,g=d.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=a[u+p];for(y._update.call(this,g,0,f,h),p=0;p<this.blockSize;p++)g[p]=f[h+p]}else{for(y._update.call(this,a,u,f,h),p=0;p<this.blockSize;p++)f[h+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=a[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var s=e("minimalistic-assert");function o(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},o.prototype._buffer=function(l,c){for(var a=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<a;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=a,a},o.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(l){var c=0,a=0,u=(this.bufferOff+l.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(f,a)));for(var h=l.length-(l.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(l,c,f,a),a+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return f},o.prototype._updateDecrypt=function(l){for(var c=0,a=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),a+=this._flushBuffer(f,a);return c+=this._buffer(l,c),f},o.prototype.final=function(l){var c,a;return l&&(c=this.update(l)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(a):a},o.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},o.prototype._unpad=function(l){return l},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),l=e("./utils"),c=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var d=new a;this._desState=d,this.deriveKeys(d,h.key)}o(u,c),n.exports=u,u.create=function(h){return new u(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,d){h.keys=new Array(32),s.equal(d.length,this.blockSize,"Invalid key length");var y=l.readUInt32BE(d,0),g=l.readUInt32BE(d,4);l.pc1(y,g,h.tmp,0),y=h.tmp[0],g=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var w=f[p>>>1];y=l.r28shl(y,w),g=l.r28shl(g,w),l.pc2(y,g,h.keys,p)}},u.prototype._update=function(h,d,y,g){var p=this._desState,w=l.readUInt32BE(h,d),v=l.readUInt32BE(h,d+4);l.ip(w,v,p.tmp,0),w=p.tmp[0],v=p.tmp[1],this.type==="encrypt"?this._encrypt(p,w,v,p.tmp,0):this._decrypt(p,w,v,p.tmp,0),w=p.tmp[0],v=p.tmp[1],l.writeUInt32BE(y,w,g),l.writeUInt32BE(y,v,g+4)},u.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var y=h.length-d,g=d;g<h.length;g++)h[g]=y;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],y=h.length-d;y<h.length;y++)s.equal(h[y],d);return h.slice(0,h.length-d)},u.prototype._encrypt=function(h,d,y,g,p){for(var w=d,v=y,_=0;_<h.keys.length;_+=2){var T=h.keys[_],F=h.keys[_+1];l.expand(v,h.tmp,0),T^=h.tmp[0],F^=h.tmp[1];var G=l.substitute(T,F),$=v;v=(w^l.permute(G))>>>0,w=$}l.rip(v,w,g,p)},u.prototype._decrypt=function(h,d,y,g,p){for(var w=y,v=d,_=h.keys.length-2;_>=0;_-=2){var T=h.keys[_],F=h.keys[_+1];l.expand(w,h.tmp,0),T^=h.tmp[0],F^=h.tmp[1];var G=l.substitute(T,F),$=w;w=(v^l.permute(G))>>>0,v=$}l.rip(w,v,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits"),l=e("./cipher"),c=e("./des");function a(f,h){s.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),y=h.slice(8,16),g=h.slice(16,24);this.ciphers=f==="encrypt"?[c.create({type:"encrypt",key:d}),c.create({type:"decrypt",key:y}),c.create({type:"encrypt",key:g})]:[c.create({type:"decrypt",key:g}),c.create({type:"encrypt",key:y}),c.create({type:"decrypt",key:d})]}function u(f){l.call(this,f);var h=new a(this.type,this.options.key);this._edeState=h}o(u,l),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,h,d,y){var g=this._edeState;g.ciphers[0]._update(f,h,d,y),g.ciphers[1]._update(d,y,d,y),g.ciphers[2]._update(d,y,d,y)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(c,a){return(c[0+a]<<24|c[1+a]<<16|c[2+a]<<8|c[3+a])>>>0},i.writeUInt32BE=function(c,a,u){c[0+u]=a>>>24,c[1+u]=a>>>16&255,c[2+u]=a>>>8&255,c[3+u]=255&a},i.ip=function(c,a,u,f){for(var h=0,d=0,y=6;y>=0;y-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=a>>>g+y&1;for(g=0;g<=24;g+=8)h<<=1,h|=c>>>g+y&1}for(y=6;y>=0;y-=2){for(g=1;g<=25;g+=8)d<<=1,d|=a>>>g+y&1;for(g=1;g<=25;g+=8)d<<=1,d|=c>>>g+y&1}u[f+0]=h>>>0,u[f+1]=d>>>0},i.rip=function(c,a,u,f){for(var h=0,d=0,y=0;y<4;y++)for(var g=24;g>=0;g-=8)h<<=1,h|=a>>>g+y&1,h<<=1,h|=c>>>g+y&1;for(y=4;y<8;y++)for(g=24;g>=0;g-=8)d<<=1,d|=a>>>g+y&1,d<<=1,d|=c>>>g+y&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.pc1=function(c,a,u,f){for(var h=0,d=0,y=7;y>=5;y--){for(var g=0;g<=24;g+=8)h<<=1,h|=a>>g+y&1;for(g=0;g<=24;g+=8)h<<=1,h|=c>>g+y&1}for(g=0;g<=24;g+=8)h<<=1,h|=a>>g+y&1;for(y=1;y<=3;y++){for(g=0;g<=24;g+=8)d<<=1,d|=a>>g+y&1;for(g=0;g<=24;g+=8)d<<=1,d|=c>>g+y&1}for(g=0;g<=24;g+=8)d<<=1,d|=c>>g+y&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.r28shl=function(c,a){return c<<a&268435455|c>>>28-a};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(c,a,u,f){for(var h=0,d=0,y=s.length>>>1,g=0;g<y;g++)h<<=1,h|=c>>>s[g]&1;for(g=y;g<s.length;g++)d<<=1,d|=a>>>s[g]&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.expand=function(c,a,u){var f=0,h=0;f=(1&c)<<5|c>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=c>>>d&63;for(d=11;d>=3;d-=4)h|=c>>>d&63,h<<=6;h|=(31&c)<<1|c>>>31,a[u+0]=f>>>0,a[u+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(c,a){for(var u=0,f=0;f<4;f++)u<<=4,u|=o[64*f+(c>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=o[256+64*f+(a>>>18-6*f&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(c){for(var a=0,u=0;u<l.length;u++)a<<=1,a|=c>>>l[u]&1;return a>>>0},i.padSplit=function(c,a,u){for(var f=c.toString(2);f.length<a;)f="0"+f;for(var h=[],d=0;d<a;d+=u)h.push(f.slice(d,d+u));return h.join(" ")}},{}],400:[function(e,n,i){(function(s){(function(){var o=e("./lib/generatePrime"),l=e("./lib/primes.json"),c=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var f=new s(l[u].prime,"hex"),h=new s(l[u].gen,"hex");return new c(f,h)},i.createDiffieHellman=i.DiffieHellman=function u(f,h,d,y){return s.isBuffer(h)||a[h]===void 0?u(f,"binary",h,d):(h=h||"binary",y=y||"binary",d=d||new s([2]),s.isBuffer(d)||(d=new s(d,y)),typeof f=="number"?new c(o(f,d),d,!0):(s.isBuffer(f)||(f=new s(f,h)),new c(f,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(s){(function(){var o=e("bn.js"),l=new(e("miller-rabin")),c=new o(24),a=new o(11),u=new o(10),f=new o(3),h=new o(7),d=e("./generatePrime"),y=e("randombytes");function g(T,F){return F=F||"utf8",s.isBuffer(T)||(T=new s(T,F)),this._pub=new o(T),this}function p(T,F){return F=F||"utf8",s.isBuffer(T)||(T=new s(T,F)),this._priv=new o(T),this}n.exports=v;var w={};function v(T,F,G){this.setGenerator(F),this.__prime=new o(T),this._prime=o.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,G?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function _(T,F){var G=new s(T.toArray());return F?G.toString(F):G}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(T,F){var G=F.toString("hex"),$=[G,T.toString(16)].join("_");if($ in w)return w[$];var P,M=0;if(T.isEven()||!d.simpleSieve||!d.fermatTest(T)||!l.test(T))return M+=1,M+=G==="02"||G==="05"?8:4,w[$]=M,M;switch(l.test(T.shrn(1))||(M+=2),G){case"02":T.mod(c).cmp(a)&&(M+=8);break;case"05":(P=T.mod(u)).cmp(f)&&P.cmp(h)&&(M+=8);break;default:M+=4}return w[$]=M,M})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new o(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(T){var F=(T=(T=new o(T)).toRed(this._prime)).redPow(this._priv).fromRed(),G=new s(F.toArray()),$=this.getPrime();if(G.length<$.length){var P=new s($.length-G.length);P.fill(0),G=s.concat([P,G])}return G},v.prototype.getPublicKey=function(T){return _(this._pub,T)},v.prototype.getPrivateKey=function(T){return _(this._priv,T)},v.prototype.getPrime=function(T){return _(this.__prime,T)},v.prototype.getGenerator=function(T){return _(this._gen,T)},v.prototype.setGenerator=function(T,F){return F=F||"utf8",s.isBuffer(T)||(T=new s(T,F)),this.__gen=T,this._gen=new o(T),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var s=e("randombytes");n.exports=T,T.simpleSieve=v,T.fermatTest=_;var o=e("bn.js"),l=new o(24),c=new(e("miller-rabin")),a=new o(1),u=new o(2),f=new o(5),h=(new o(16),new o(8),new o(10)),d=new o(3),y=(new o(7),new o(11)),g=new o(4),p=(new o(12),null);function w(){if(p!==null)return p;var F=[];F[0]=2;for(var G=1,$=3;$<1048576;$+=2){for(var P=Math.ceil(Math.sqrt($)),M=0;M<G&&F[M]<=P&&$%F[M]!=0;M++);G!==M&&F[M]<=P||(F[G++]=$)}return p=F,F}function v(F){for(var G=w(),$=0;$<G.length;$++)if(F.modn(G[$])===0)return F.cmpn(G[$])===0;return!0}function _(F){var G=o.mont(F);return u.toRed(G).redPow(F.subn(1)).fromRed().cmpn(1)===0}function T(F,G){if(F<16)return new o(G===2||G===5?[140,123]:[140,39]);var $,P;for(G=new o(G);;){for($=new o(s(Math.ceil(F/8)));$.bitLength()>F;)$.ishrn(1);if($.isEven()&&$.iadd(a),$.testn(1)||$.iadd(u),G.cmp(u)){if(!G.cmp(f))for(;$.mod(h).cmp(d);)$.iadd(g)}else for(;$.mod(l).cmp(y);)$.iadd(g);if(v(P=$.shrn(1))&&v($)&&_(P)&&_($)&&c.test(P)&&c.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var s=i;s.version=e("../package.json").version,s.utils=e("./elliptic/utils"),s.rand=e("brorand"),s.curve=e("./elliptic/curve"),s.curves=e("./elliptic/curves"),s.ec=e("./elliptic/ec"),s.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),l=o.getNAF,c=o.getJSF,a=o.assert;function u(h,d){this.type=h,this.p=new s(d.p,16),this.red=d.prime?s.red(d.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=d.n&&new s(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,d){a(h.precomputed);var y=h._getDoubles(),g=l(d,1,this._bitLength),p=(1<<y.step+1)-(y.step%2==0?2:1);p/=3;var w,v,_=[];for(w=0;w<g.length;w+=y.step){v=0;for(var T=w+y.step-1;T>=w;T--)v=(v<<1)+g[T];_.push(v)}for(var F=this.jpoint(null,null,null),G=this.jpoint(null,null,null),$=p;$>0;$--){for(w=0;w<_.length;w++)(v=_[w])===$?G=G.mixedAdd(y.points[w]):v===-$&&(G=G.mixedAdd(y.points[w].neg()));F=F.add(G)}return F.toP()},u.prototype._wnafMul=function(h,d){var y=4,g=h._getNAFPoints(y);y=g.wnd;for(var p=g.points,w=l(d,y,this._bitLength),v=this.jpoint(null,null,null),_=w.length-1;_>=0;_--){for(var T=0;_>=0&&w[_]===0;_--)T++;if(_>=0&&T++,v=v.dblp(T),_<0)break;var F=w[_];a(F!==0),v=h.type==="affine"?F>0?v.mixedAdd(p[F-1>>1]):v.mixedAdd(p[-F-1>>1].neg()):F>0?v.add(p[F-1>>1]):v.add(p[-F-1>>1].neg())}return h.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(h,d,y,g,p){var w,v,_,T=this._wnafT1,F=this._wnafT2,G=this._wnafT3,$=0;for(w=0;w<g;w++){var P=(_=d[w])._getNAFPoints(h);T[w]=P.wnd,F[w]=P.points}for(w=g-1;w>=1;w-=2){var M=w-1,U=w;if(T[M]===1&&T[U]===1){var V=[d[M],null,null,d[U]];d[M].y.cmp(d[U].y)===0?(V[1]=d[M].add(d[U]),V[2]=d[M].toJ().mixedAdd(d[U].neg())):d[M].y.cmp(d[U].y.redNeg())===0?(V[1]=d[M].toJ().mixedAdd(d[U]),V[2]=d[M].add(d[U].neg())):(V[1]=d[M].toJ().mixedAdd(d[U]),V[2]=d[M].toJ().mixedAdd(d[U].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],E=c(y[M],y[U]);for($=Math.max(E[0].length,$),G[M]=new Array($),G[U]=new Array($),v=0;v<$;v++){var L=0|E[0][v],A=0|E[1][v];G[M][v]=I[3*(L+1)+(A+1)],G[U][v]=0,F[M]=V}}else G[M]=l(y[M],T[M],this._bitLength),G[U]=l(y[U],T[U],this._bitLength),$=Math.max(G[M].length,$),$=Math.max(G[U].length,$)}var S=this.jpoint(null,null,null),k=this._wnafT4;for(w=$;w>=0;w--){for(var N=0;w>=0;){var C=!0;for(v=0;v<g;v++)k[v]=0|G[v][w],k[v]!==0&&(C=!1);if(!C)break;N++,w--}if(w>=0&&N++,S=S.dblp(N),w<0)break;for(v=0;v<g;v++){var O=k[v];O!==0&&(O>0?_=F[v][O-1>>1]:O<0&&(_=F[v][-O-1>>1].neg()),S=_.type==="affine"?S.mixedAdd(_):S.add(_))}}for(w=0;w<g;w++)F[w]=null;return p?S:S.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,d){h=o.toArray(h,d);var y=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*y)return h[0]===6?a(h[h.length-1]%2==0):h[0]===7&&a(h[h.length-1]%2==1),this.point(h.slice(1,1+y),h.slice(1+y,1+2*y));if((h[0]===2||h[0]===3)&&h.length-1===y)return this.pointFromX(h.slice(1,1+y),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),y=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return o.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],g=this,p=0;p<d;p+=h){for(var w=0;w<h;w++)g=g.dbl();y.push(g)}return{step:h,points:y}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],y=(1<<h)-1,g=y===1?null:this.dbl(),p=1;p<y;p++)d[p]=d[p-1].add(g);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,y=0;y<h;y++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var s=e("../utils"),o=e("bn.js"),l=e("inherits"),c=e("./base"),a=s.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,y,g,p){c.BasePoint.call(this,h,"projective"),d===null&&y===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(d,16),this.y=new o(y,16),this.z=g?new o(g,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,d,y,g){return this.point(h,d,y,g)},u.prototype.pointFromX=function(h,d){(h=new o(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),g=this.c2.redSub(this.a.redMul(y)),p=this.one.redSub(this.c2.redMul(this.d).redMul(y)),w=g.redMul(p.redInvm()),v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var _=v.fromRed().isOdd();return(d&&!_||!d&&_)&&(v=v.redNeg()),this.point(h,v)},u.prototype.pointFromY=function(h,d){(h=new o(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),g=y.redSub(this.c2),p=y.redMul(this.d).redMul(this.c2).redSub(this.a),w=g.redMul(p.redInvm());if(w.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==d&&(v=v.redNeg()),this.point(v,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),y=h.y.redSqr(),g=d.redMul(this.a).redAdd(y),p=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(y)));return g.cmp(p)===0},l(f,c.BasePoint),u.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},u.prototype.point=function(h,d,y,g){return new f(this,h,d,y,g)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var g=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),w=g.redAdd(d),v=w.redSub(y),_=g.redSub(d),T=p.redMul(v),F=w.redMul(_),G=p.redMul(_),$=v.redMul(w);return this.curve.point(T,F,$,G)},f.prototype._projDbl=function(){var h,d,y,g,p,w,v=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),T=this.y.redSqr();if(this.curve.twisted){var F=(g=this.curve._mulA(_)).redAdd(T);this.zOne?(h=v.redSub(_).redSub(T).redMul(F.redSub(this.curve.two)),d=F.redMul(g.redSub(T)),y=F.redSqr().redSub(F).redSub(F)):(p=this.z.redSqr(),w=F.redSub(p).redISub(p),h=v.redSub(_).redISub(T).redMul(w),d=F.redMul(g.redSub(T)),y=F.redMul(w))}else g=_.redAdd(T),p=this.curve._mulC(this.z).redSqr(),w=g.redSub(p).redSub(p),h=this.curve._mulC(v.redISub(g)).redMul(w),d=this.curve._mulC(g).redMul(_.redISub(T)),y=g.redMul(w);return this.curve.point(h,d,y)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),y=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),w=y.redSub(d),v=p.redSub(g),_=p.redAdd(g),T=y.redAdd(d),F=w.redMul(v),G=_.redMul(T),$=w.redMul(T),P=v.redMul(_);return this.curve.point(F,G,P,$)},f.prototype._projAdd=function(h){var d,y,g=this.z.redMul(h.z),p=g.redSqr(),w=this.x.redMul(h.x),v=this.y.redMul(h.y),_=this.curve.d.redMul(w).redMul(v),T=p.redSub(_),F=p.redAdd(_),G=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(w).redISub(v),$=g.redMul(T).redMul(G);return this.curve.twisted?(d=g.redMul(F).redMul(v.redSub(this.curve._mulA(w))),y=T.redMul(F)):(d=g.redMul(F).redMul(v.redSub(w)),y=this.curve._mulC(T).redMul(F)),this.curve.point($,d,y)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,y){return this.curve._wnafMulAdd(1,[this,d],[h,y],2,!1)},f.prototype.jmulAdd=function(h,d,y){return this.curve._wnafMulAdd(1,[this,d],[h,y],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var y=h.clone(),g=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var s=i;s.base=e("./base"),s.short=e("./short"),s.mont=e("./mont"),s.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var s=e("bn.js"),o=e("inherits"),l=e("./base"),c=e("../utils");function a(f){l.call(this,"mont",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,h,d){l.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(h,16),this.z=new s(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,l),n.exports=a,a.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),y=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return y.redSqrt().redSqr().cmp(y)===0},o(u,l.BasePoint),a.prototype.decodePoint=function(f,h){return this.point(c.toArray(f,h),1)},a.prototype.point=function(f,h){return new u(this,f,h)},a.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,h){return new u(f,h[0],h[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),y=f.redMul(h),g=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(y,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),y=this.x.redSub(this.z),g=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(d),w=g.redMul(y),v=h.z.redMul(p.redAdd(w).redSqr()),_=h.x.redMul(p.redISub(w).redSqr());return this.curve.point(v,_)},u.prototype.mul=function(f){for(var h=f.clone(),d=this,y=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(d=d.diffAdd(y,this),y=y.dbl()):(y=d.diffAdd(y,this),d=d.dbl());return y},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var s=e("../utils"),o=e("bn.js"),l=e("inherits"),c=e("./base"),a=s.assert;function u(d){c.call(this,"short",d),this.a=new o(d.a,16).toRed(this.red),this.b=new o(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,y,g,p){c.BasePoint.call(this,d,"affine"),y===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(y,16),this.y=new o(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,y,g,p){c.BasePoint.call(this,d,"jacobian"),y===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(y,16),this.y=new o(g,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var y,g;if(d.beta)y=new o(d.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);y=(y=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(d.lambda)g=new o(d.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(y))===0?g=w[0]:(g=w[1],a(this.g.mul(g).x.cmp(this.g.x.redMul(y))===0))}return{beta:y,lambda:g,basis:d.basis?d.basis.map((function(v){return{a:new o(v.a,16),b:new o(v.b,16)}})):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(d){var y=d===this.p?this.red:o.mont(d),g=new o(2).toRed(y).redInvm(),p=g.redNeg(),w=new o(3).toRed(y).redNeg().redSqrt().redMul(g);return[p.redAdd(w).fromRed(),p.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(d){for(var y,g,p,w,v,_,T,F,G,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),P=d,M=this.n.clone(),U=new o(1),V=new o(0),I=new o(0),E=new o(1),L=0;P.cmpn(0)!==0;){var A=M.div(P);F=M.sub(A.mul(P)),G=I.sub(A.mul(U));var S=E.sub(A.mul(V));if(!p&&F.cmp($)<0)y=T.neg(),g=U,p=F.neg(),w=G;else if(p&&++L==2)break;T=F,M=P,P=F,I=U,U=G,E=V,V=S}v=F.neg(),_=G;var k=p.sqr().add(w.sqr());return v.sqr().add(_.sqr()).cmp(k)>=0&&(v=y,_=g),p.negative&&(p=p.neg(),w=w.neg()),v.negative&&(v=v.neg(),_=_.neg()),[{a:p,b:w},{a:v,b:_}]},u.prototype._endoSplit=function(d){var y=this.endo.basis,g=y[0],p=y[1],w=p.b.mul(d).divRound(this.n),v=g.b.neg().mul(d).divRound(this.n),_=w.mul(g.a),T=v.mul(p.a),F=w.mul(g.b),G=v.mul(p.b);return{k1:d.sub(_).sub(T),k2:F.add(G).neg()}},u.prototype.pointFromX=function(d,y){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var w=p.fromRed().isOdd();return(y&&!w||!y&&w)&&(p=p.redNeg()),this.point(d,p)},u.prototype.validate=function(d){if(d.inf)return!0;var y=d.x,g=d.y,p=this.a.redMul(y),w=y.redSqr().redMul(y).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,y,g){for(var p=this._endoWnafT1,w=this._endoWnafT2,v=0;v<d.length;v++){var _=this._endoSplit(y[v]),T=d[v],F=T._getBeta();_.k1.negative&&(_.k1.ineg(),T=T.neg(!0)),_.k2.negative&&(_.k2.ineg(),F=F.neg(!0)),p[2*v]=T,p[2*v+1]=F,w[2*v]=_.k1,w[2*v+1]=_.k2}for(var G=this._wnafMulAdd(1,p,w,2*v,g),$=0;$<2*v;$++)p[$]=null,w[$]=null;return G},l(f,c.BasePoint),u.prototype.point=function(d,y,g){return new f(this,d,y,g)},u.prototype.pointFromJSON=function(d,y){return f.fromJSON(this,d,y)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,p=function(w){return g.point(w.x.redMul(g.endo.beta),w.y)};d.beta=y,y.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(p)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(p)}}}return y}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,y,g){typeof y=="string"&&(y=JSON.parse(y));var p=d.point(y[0],y[1],g);if(!y[2])return p;function w(_){return d.point(_[0],_[1],g)}var v=y[2];return p.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[p].concat(v.doubles.points.map(w))},naf:v.naf&&{wnd:v.naf.wnd,points:[p].concat(v.naf.points.map(w))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var y=this.y.redSub(d.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(d.x).redInvm()));var g=y.redSqr().redISub(this.x).redISub(d.x),p=y.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,g=this.x.redSqr(),p=d.redInvm(),w=g.redAdd(g).redIAdd(g).redIAdd(y).redMul(p),v=w.redSqr().redISub(this.x.redAdd(this.x)),_=w.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,_)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new o(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,y,g){var p=[this,y],w=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,w):this.curve._wnafMulAdd(1,p,w,2)},f.prototype.jmulAdd=function(d,y,g){var p=[this,y],w=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,w,!0):this.curve._wnafMulAdd(1,p,w,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,p=function(w){return w.neg()};y.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return y},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(h,c.BasePoint),u.prototype.jpoint=function(d,y,g){return new h(this,d,y,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),y=d.redSqr(),g=this.x.redMul(y),p=this.y.redMul(y).redMul(d);return this.curve.point(g,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var y=d.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(y),w=d.x.redMul(g),v=this.y.redMul(y.redMul(d.z)),_=d.y.redMul(g.redMul(this.z)),T=p.redSub(w),F=v.redSub(_);if(T.cmpn(0)===0)return F.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var G=T.redSqr(),$=G.redMul(T),P=p.redMul(G),M=F.redSqr().redIAdd($).redISub(P).redISub(P),U=F.redMul(P.redISub(M)).redISub(v.redMul($)),V=this.z.redMul(d.z).redMul(T);return this.curve.jpoint(M,U,V)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var y=this.z.redSqr(),g=this.x,p=d.x.redMul(y),w=this.y,v=d.y.redMul(y).redMul(this.z),_=g.redSub(p),T=w.redSub(v);if(_.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=_.redSqr(),G=F.redMul(_),$=g.redMul(F),P=T.redSqr().redIAdd(G).redISub($).redISub($),M=T.redMul($.redISub(P)).redISub(w.redMul(G)),U=this.z.redMul(_);return this.curve.jpoint(P,M,U)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var g=this;for(y=0;y<d;y++)g=g.dbl();return g}var p=this.curve.a,w=this.curve.tinv,v=this.x,_=this.y,T=this.z,F=T.redSqr().redSqr(),G=_.redAdd(_);for(y=0;y<d;y++){var $=v.redSqr(),P=G.redSqr(),M=P.redSqr(),U=$.redAdd($).redIAdd($).redIAdd(p.redMul(F)),V=v.redMul(P),I=U.redSqr().redISub(V.redAdd(V)),E=V.redISub(I),L=U.redMul(E);L=L.redIAdd(L).redISub(M);var A=G.redMul(T);y+1<d&&(F=F.redMul(M)),v=I,T=A,G=L}return this.curve.jpoint(v,G.redMul(w),T)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,y,g;if(this.zOne){var p=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),_=this.x.redAdd(w).redSqr().redISub(p).redISub(v);_=_.redIAdd(_);var T=p.redAdd(p).redIAdd(p),F=T.redSqr().redISub(_).redISub(_),G=v.redIAdd(v);G=(G=G.redIAdd(G)).redIAdd(G),d=F,y=T.redMul(_.redISub(F)).redISub(G),g=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),P=this.y.redSqr(),M=P.redSqr(),U=this.x.redAdd(P).redSqr().redISub($).redISub(M);U=U.redIAdd(U);var V=$.redAdd($).redIAdd($),I=V.redSqr(),E=M.redIAdd(M);E=(E=E.redIAdd(E)).redIAdd(E),d=I.redISub(U).redISub(U),y=V.redMul(U.redISub(d)).redISub(E),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(d,y,g)},h.prototype._threeDbl=function(){var d,y,g;if(this.zOne){var p=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),_=this.x.redAdd(w).redSqr().redISub(p).redISub(v);_=_.redIAdd(_);var T=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),F=T.redSqr().redISub(_).redISub(_);d=F;var G=v.redIAdd(v);G=(G=G.redIAdd(G)).redIAdd(G),y=T.redMul(_.redISub(F)).redISub(G),g=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),P=this.y.redSqr(),M=this.x.redMul(P),U=this.x.redSub($).redMul(this.x.redAdd($));U=U.redAdd(U).redIAdd(U);var V=M.redIAdd(M),I=(V=V.redIAdd(V)).redAdd(V);d=U.redSqr().redISub(I),g=this.y.redAdd(this.z).redSqr().redISub(P).redISub($);var E=P.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),y=U.redMul(V.redISub(d)).redISub(E)}return this.curve.jpoint(d,y,g)},h.prototype._dbl=function(){var d=this.curve.a,y=this.x,g=this.y,p=this.z,w=p.redSqr().redSqr(),v=y.redSqr(),_=g.redSqr(),T=v.redAdd(v).redIAdd(v).redIAdd(d.redMul(w)),F=y.redAdd(y),G=(F=F.redIAdd(F)).redMul(_),$=T.redSqr().redISub(G.redAdd(G)),P=G.redISub($),M=_.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var U=T.redMul(P).redISub(M),V=g.redAdd(g).redMul(p);return this.curve.jpoint($,U,V)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),y=this.y.redSqr(),g=this.z.redSqr(),p=y.redSqr(),w=d.redAdd(d).redIAdd(d),v=w.redSqr(),_=this.x.redAdd(y).redSqr().redISub(d).redISub(p),T=(_=(_=(_=_.redIAdd(_)).redAdd(_).redIAdd(_)).redISub(v)).redSqr(),F=p.redIAdd(p);F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var G=w.redIAdd(_).redSqr().redISub(v).redISub(T).redISub(F),$=y.redMul(G);$=($=$.redIAdd($)).redIAdd($);var P=this.x.redMul(T).redISub($);P=(P=P.redIAdd(P)).redIAdd(P);var M=this.y.redMul(G.redMul(F.redISub(G)).redISub(_.redMul(T)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var U=this.z.redAdd(_).redSqr().redISub(g).redISub(T);return this.curve.jpoint(P,M,U)},h.prototype.mul=function(d,y){return d=new o(d,y),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var y=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(y)).cmpn(0)!==0)return!1;var p=y.redMul(this.z),w=g.redMul(d.z);return this.y.redMul(w).redISub(d.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(d){var y=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(y);if(this.x.cmp(g)===0)return!0;for(var p=d.clone(),w=this.curve.redN.redMul(y);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(w),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var s,o=i,l=e("hash.js"),c=e("./curve"),a=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var y=new u(d);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:y}),y}})}o.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=e("./precomputed/secp256k1")}catch{s=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var s=e("bn.js"),o=e("hmac-drbg"),l=e("../utils"),c=e("../curves"),a=e("brorand"),u=l.assert,f=e("./key"),h=e("./signature");function d(y){if(!(this instanceof d))return new d(y);typeof y=="string"&&(u(Object.prototype.hasOwnProperty.call(c,y),"Unknown curve "+y),y=c[y]),y instanceof c.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}n.exports=d,d.prototype.keyPair=function(y){return new f(this,y)},d.prototype.keyFromPrivate=function(y,g){return f.fromPrivate(this,y,g)},d.prototype.keyFromPublic=function(y,g){return f.fromPublic(this,y,g)},d.prototype.genKeyPair=function(y){y||(y={});for(var g=new o({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||a(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),w=this.n.sub(new s(2));;){var v=new s(g.generate(p));if(!(v.cmp(w)>0))return v.iaddn(1),this.keyFromPrivate(v)}},d.prototype._truncateToN=function(y,g){var p=8*y.byteLength()-this.n.bitLength();return p>0&&(y=y.ushrn(p)),!g&&y.cmp(this.n)>=0?y.sub(this.n):y},d.prototype.sign=function(y,g,p,w){typeof p=="object"&&(w=p,p=null),w||(w={}),g=this.keyFromPrivate(g,p),y=this._truncateToN(new s(y,16));for(var v=this.n.byteLength(),_=g.getPrivate().toArray("be",v),T=y.toArray("be",v),F=new o({hash:this.hash,entropy:_,nonce:T,pers:w.pers,persEnc:w.persEnc||"utf8"}),G=this.n.sub(new s(1)),$=0;;$++){var P=w.k?w.k($):new s(F.generate(this.n.byteLength()));if(!((P=this._truncateToN(P,!0)).cmpn(1)<=0||P.cmp(G)>=0)){var M=this.g.mul(P);if(!M.isInfinity()){var U=M.getX(),V=U.umod(this.n);if(V.cmpn(0)!==0){var I=P.invm(this.n).mul(V.mul(g.getPrivate()).iadd(y));if((I=I.umod(this.n)).cmpn(0)!==0){var E=(M.getY().isOdd()?1:0)|(U.cmp(V)!==0?2:0);return w.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),E^=1),new h({r:V,s:I,recoveryParam:E})}}}}}},d.prototype.verify=function(y,g,p,w){y=this._truncateToN(new s(y,16)),p=this.keyFromPublic(p,w);var v=(g=new h(g,"hex")).r,_=g.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var T,F=_.invm(this.n),G=F.mul(y).umod(this.n),$=F.mul(v).umod(this.n);return this.curve._maxwellTrick?!(T=this.g.jmulAdd(G,p.getPublic(),$)).isInfinity()&&T.eqXToP(v):!(T=this.g.mulAdd(G,p.getPublic(),$)).isInfinity()&&T.getX().umod(this.n).cmp(v)===0},d.prototype.recoverPubKey=function(y,g,p,w){u((3&p)===p,"The recovery param is more than two bits"),g=new h(g,w);var v=this.n,_=new s(y),T=g.r,F=g.s,G=1&p,$=p>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");T=$?this.curve.pointFromX(T.add(this.curve.n),G):this.curve.pointFromX(T,G);var P=g.r.invm(v),M=v.sub(_).mul(P).umod(v),U=F.mul(P).umod(v);return this.g.mulAdd(M,T,U)},d.prototype.getKeyRecoveryParam=function(y,g,p,w){if((g=new h(g,w)).recoveryParam!==null)return g.recoveryParam;for(var v=0;v<4;v++){var _;try{_=this.recoverPubKey(y,g,v)}catch{continue}if(_.eq(p))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var s=e("bn.js"),o=e("../utils").assert;function l(c,a){this.ec=c,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}n.exports=l,l.fromPublic=function(c,a,u){return a instanceof l?a:new l(c,{pub:a,pubEnc:u})},l.fromPrivate=function(c,a,u){return a instanceof l?a:new l(c,{priv:a,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,a){return typeof c=="string"&&(a=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,a){this.priv=new s(c,a||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,a){if(c.x||c.y)return this.ec.curve.type==="mont"?o(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,a)},l.prototype.derive=function(c){return c.validate()||o(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,a,u){return this.ec.sign(c,this,a,u)},l.prototype.verify=function(c,a){return this.ec.verify(c,a,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),l=o.assert;function c(d,y){if(d instanceof c)return d;this._importDER(d,y)||(l(d.r&&d.s,"Signature without r or s"),this.r=new s(d.r,16),this.s=new s(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function u(d,y){var g=d[y.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var w=0,v=0,_=y.place;v<p;v++,_++)w<<=8,w|=d[_],w>>>=0;return!(w<=127)&&(y.place=_,w)}function f(d){for(var y=0,g=d.length-1;!d[y]&&!(128&d[y+1])&&y<g;)y++;return y===0?d:d.slice(y)}function h(d,y){if(y<128)d.push(y);else{var g=1+(Math.log(y)/Math.LN2>>>3);for(d.push(128|g);--g;)d.push(y>>>(g<<3)&255);d.push(y)}}n.exports=c,c.prototype._importDER=function(d,y){d=o.toArray(d,y);var g=new a;if(d[g.place++]!==48)return!1;var p=u(d,g);if(p===!1||p+g.place!==d.length||d[g.place++]!==2)return!1;var w=u(d,g);if(w===!1)return!1;var v=d.slice(g.place,w+g.place);if(g.place+=w,d[g.place++]!==2)return!1;var _=u(d,g);if(_===!1||d.length!==_+g.place)return!1;var T=d.slice(g.place,_+g.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(T[0]===0){if(!(128&T[1]))return!1;T=T.slice(1)}return this.r=new s(v),this.s=new s(T),this.recoveryParam=null,!0},c.prototype.toDER=function(d){var y=this.r.toArray(),g=this.s.toArray();for(128&y[0]&&(y=[0].concat(y)),128&g[0]&&(g=[0].concat(g)),y=f(y),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];h(p,y.length),(p=p.concat(y)).push(2),h(p,g.length);var w=p.concat(g),v=[48];return h(v,w.length),v=v.concat(w),o.encode(v,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var s=e("hash.js"),o=e("../curves"),l=e("../utils"),c=l.assert,a=l.parseBytes,u=e("./key"),f=e("./signature");function h(d){if(c(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=o[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=s.sha512}n.exports=h,h.prototype.sign=function(d,y){d=a(d);var g=this.keyFromSecret(y),p=this.hashInt(g.messagePrefix(),d),w=this.g.mul(p),v=this.encodePoint(w),_=this.hashInt(v,g.pubBytes(),d).mul(g.priv()),T=p.add(_).umod(this.curve.n);return this.makeSignature({R:w,S:T,Rencoded:v})},h.prototype.verify=function(d,y,g){d=a(d),y=this.makeSignature(y);var p=this.keyFromPublic(g),w=this.hashInt(y.Rencoded(),p.pubBytes(),d),v=this.g.mul(y.S());return y.R().add(p.pub().mul(w)).eq(v)},h.prototype.hashInt=function(){for(var d=this.hash(),y=0;y<arguments.length;y++)d.update(arguments[y]);return l.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var y=d.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=d.getX().isOdd()?128:0,y},h.prototype.decodePoint=function(d){var y=(d=l.parseBytes(d)).length-1,g=d.slice(0,y).concat(-129&d[y]),p=(128&d[y])!=0,w=l.intFromLE(g);return this.curve.pointFromY(w,p)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return l.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var s=e("../utils"),o=s.assert,l=s.parseBytes,c=s.cachedProperty;function a(u,f){this.eddsa=u,this._secret=l(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=l(f.pub)}a.fromPublic=function(u,f){return f instanceof a?f:new a(u,{pub:f})},a.fromSecret=function(u,f){return f instanceof a?f:new a(u,{secret:f})},a.prototype.secret=function(){return this._secret},c(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(a,"privBytes",(function(){var u=this.eddsa,f=this.hash(),h=u.encodingLength-1,d=f.slice(0,u.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d})),c(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},a.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},a.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},a.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=a},{"../utils":419}],417:[function(e,n,i){var s=e("bn.js"),o=e("../utils"),l=o.assert,c=o.cachedProperty,a=o.parseBytes;function u(f,h){this.eddsa=f,typeof h!="object"&&(h=a(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),l(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof s&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var s=i,o=e("bn.js"),l=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");s.assert=l,s.toArray=c.toArray,s.zero2=c.zero2,s.toHex=c.toHex,s.encode=c.encode,s.getNAF=function(a,u,f){var h=new Array(Math.max(a.bitLength(),f)+1);h.fill(0);for(var d=1<<u+1,y=a.clone(),g=0;g<h.length;g++){var p,w=y.andln(d-1);y.isOdd()?(p=w>(d>>1)-1?(d>>1)-w:w,y.isubn(p)):p=0,h[g]=p,y.iushrn(1)}return h},s.getJSF=function(a,u){var f=[[],[]];a=a.clone(),u=u.clone();for(var h,d=0,y=0;a.cmpn(-d)>0||u.cmpn(-y)>0;){var g,p,w=a.andln(3)+d&3,v=u.andln(3)+y&3;w===3&&(w=-1),v===3&&(v=-1),g=(1&w)==0?0:(h=a.andln(7)+d&7)!==3&&h!==5||v!==2?w:-w,f[0].push(g),p=(1&v)==0?0:(h=u.andln(7)+y&7)!==3&&h!==5||w!==2?v:-v,f[1].push(p),2*d===g+1&&(d=1-d),2*y===p+1&&(y=1-y),a.iushrn(1),u.iushrn(1)}return f},s.cachedProperty=function(a,u,f){var h="_"+u;a.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},s.parseBytes=function(a){return typeof a=="string"?s.toArray(a,"hex"):a},s.intFromLE=function(a){return new o(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var s=Object.create||function(P){var M=function(){};return M.prototype=P,new M},o=Object.keys||function(P){var M=[];for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&M.push(U);return U},l=Function.prototype.bind||function(P){var M=this;return function(){return M.apply(P,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var a,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),a=f.x===0}catch{a=!1}function h(P){return P._maxListeners===void 0?c.defaultMaxListeners:P._maxListeners}function d(P,M,U){if(M)P.call(U);else for(var V=P.length,I=$(P,V),E=0;E<V;++E)I[E].call(U)}function y(P,M,U,V){if(M)P.call(U,V);else for(var I=P.length,E=$(P,I),L=0;L<I;++L)E[L].call(U,V)}function g(P,M,U,V,I){if(M)P.call(U,V,I);else for(var E=P.length,L=$(P,E),A=0;A<E;++A)L[A].call(U,V,I)}function p(P,M,U,V,I,E){if(M)P.call(U,V,I,E);else for(var L=P.length,A=$(P,L),S=0;S<L;++S)A[S].call(U,V,I,E)}function w(P,M,U,V){if(M)P.apply(U,V);else for(var I=P.length,E=$(P,I),L=0;L<I;++L)E[L].apply(U,V)}function v(P,M,U,V){var I,E,L;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if((E=P._events)?(E.newListener&&(P.emit("newListener",M,U.listener?U.listener:U),E=P._events),L=E[M]):(E=P._events=s(null),P._eventsCount=0),L){if(typeof L=="function"?L=E[M]=V?[U,L]:[L,U]:V?L.unshift(U):L.push(U),!L.warned&&(I=h(P))&&I>0&&L.length>I){L.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+L.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=P,A.type=M,A.count=L.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else L=E[M]=U,++P._eventsCount;return P}function _(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var P=new Array(arguments.length),M=0;M<P.length;++M)P[M]=arguments[M];this.listener.apply(this.target,P)}}function T(P,M,U){var V={fired:!1,wrapFn:void 0,target:P,type:M,listener:U},I=l.call(_,V);return I.listener=U,V.wrapFn=I,I}function F(P,M,U){var V=P._events;if(!V)return[];var I=V[M];return I?typeof I=="function"?U?[I.listener||I]:[I]:U?(function(E){for(var L=new Array(E.length),A=0;A<L.length;++A)L[A]=E[A].listener||E[A];return L})(I):$(I,I.length):[]}function G(P){var M=this._events;if(M){var U=M[P];if(typeof U=="function")return 1;if(U)return U.length}return 0}function $(P,M){for(var U=new Array(M),V=0;V<M;++V)U[V]=P[V];return U}a?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(P){if(typeof P!="number"||P<0||P!=P)throw new TypeError('"defaultMaxListeners" must be a positive number');u=P}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||isNaN(P))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=P,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(P){var M,U,V,I,E,L,A=P==="error";if(L=this._events)A=A&&L.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var S=new Error('Unhandled "error" event. ('+M+")");throw S.context=M,S}if(!(U=L[P]))return!1;var k=typeof U=="function";switch(V=arguments.length){case 1:d(U,k,this);break;case 2:y(U,k,this,arguments[1]);break;case 3:g(U,k,this,arguments[1],arguments[2]);break;case 4:p(U,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(V-1),E=1;E<V;E++)I[E-1]=arguments[E];w(U,k,this,I)}return!0},c.prototype.addListener=function(P,M){return v(this,P,M,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(P,M){return v(this,P,M,!0)},c.prototype.once=function(P,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(P,T(this,P,M)),this},c.prototype.prependOnceListener=function(P,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(P,T(this,P,M)),this},c.prototype.removeListener=function(P,M){var U,V,I,E,L;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!(V=this._events))return this;if(!(U=V[P]))return this;if(U===M||U.listener===M)--this._eventsCount==0?this._events=s(null):(delete V[P],V.removeListener&&this.emit("removeListener",P,U.listener||M));else if(typeof U!="function"){for(I=-1,E=U.length-1;E>=0;E--)if(U[E]===M||U[E].listener===M){L=U[E].listener,I=E;break}if(I<0)return this;I===0?U.shift():(function(A,S){for(var k=S,N=k+1,C=A.length;N<C;k+=1,N+=1)A[k]=A[N];A.pop()})(U,I),U.length===1&&(V[P]=U[0]),V.removeListener&&this.emit("removeListener",P,L||M)}return this},c.prototype.removeAllListeners=function(P){var M,U,V;if(!(U=this._events))return this;if(!U.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):U[P]&&(--this._eventsCount==0?this._events=s(null):delete U[P]),this;if(arguments.length===0){var I,E=o(U);for(V=0;V<E.length;++V)(I=E[V])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(M=U[P])=="function")this.removeListener(P,M);else if(M)for(V=M.length-1;V>=0;V--)this.removeListener(P,M[V]);return this},c.prototype.listeners=function(P){return F(this,P,!0)},c.prototype.rawListeners=function(P){return F(this,P,!1)},c.listenerCount=function(P,M){return typeof P.listenerCount=="function"?P.listenerCount(M):G.call(P,M)},c.prototype.listenerCount=G,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("md5.js");n.exports=function(l,c,a,u){if(s.isBuffer(l)||(l=s.from(l,"binary")),c&&(s.isBuffer(c)||(c=s.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=a/8,h=s.alloc(f),d=s.alloc(u||0),y=s.alloc(0);f>0||u>0;){var g=new o;g.update(y),g.update(l),c&&g.update(c),y=g.digest();var p=0;if(f>0){var w=h.length-f;p=Math.min(f,y.length),y.copy(h,w,0,p),f-=p}if(p<y.length&&u>0){var v=d.length-u,_=Math.min(u,y.length-p);y.copy(d,v,p,p+_),u-=_}}return y.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function l(c){o.call(this),this._block=s.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(l,o),l.prototype._transform=function(c,a,u){var f=null;try{this.update(c,a)}catch(h){f=h}u(f)},l.prototype._flush=function(c){var a=null;try{this.push(this.digest())}catch(u){a=u}c(a)},l.prototype.update=function(c,a){if((function(g,p){if(!s.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(c)||(c=s.from(c,a));for(var u=this._block,f=0;this._blockOffset+c.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[f++];this._update(),this._blockOffset=0}for(;f<c.length;)u[this._blockOffset++]=c[f++];for(var d=0,y=8*c.length;y>0;++d)this._length[d]+=y,(y=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*y);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();c!==void 0&&(a=a.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return a},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var s=i;s.utils=e("./hash/utils"),s.common=e("./hash/common"),s.sha=e("./hash/sha"),s.ripemd=e("./hash/ripemd"),s.hmac=e("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var s=e("./utils"),o=e("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=l,l.prototype.update=function(c,a){if(c=s.toArray(c,a),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=s.join32(c,0,c.length-u,this.endian);for(var f=0;f<c.length;f+=this._delta32)this._update(c,f,f+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),o(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,a=this._delta8,u=a-(c+this.padLength)%a,f=new Array(u+this.padLength);f[0]=128;for(var h=1;h<u;h++)f[h]=0;if(c<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=c>>>24&255,f[h++]=c>>>16&255,f[h++]=c>>>8&255,f[h++]=255&c}else for(f[h++]=255&c,f[h++]=c>>>8&255,f[h++]=c>>>16&255,f[h++]=c>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var s=e("./utils"),o=e("minimalistic-assert");function l(c,a,u){if(!(this instanceof l))return new l(c,a,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(a,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),o(c.length<=this.blockSize);for(var a=c.length;a<this.blockSize;a++)c.push(0);for(a=0;a<c.length;a++)c[a]^=54;for(this.inner=new this.Hash().update(c),a=0;a<c.length;a++)c[a]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,a){return this.inner.update(c,a),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var s=e("./utils"),o=e("./common"),l=s.rotl32,c=s.sum32,a=s.sum32_3,u=s.sum32_4,f=o.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(T,F,G,$){return T<=15?F^G^$:T<=31?F&G|~F&$:T<=47?(F|~G)^$:T<=63?F&$|G&~$:F^(G|~$)}function y(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function g(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}s.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(T,F){for(var G=this.h[0],$=this.h[1],P=this.h[2],M=this.h[3],U=this.h[4],V=G,I=$,E=P,L=M,A=U,S=0;S<80;S++){var k=c(l(u(G,d(S,$,P,M),T[p[S]+F],y(S)),v[S]),U);G=U,U=M,M=l(P,10),P=$,$=k,k=c(l(u(V,d(79-S,I,E,L),T[w[S]+F],g(S)),_[S]),A),V=A,A=L,L=l(E,10),E=I,I=k}k=a(this.h[1],P,L),this.h[1]=a(this.h[2],M,A),this.h[2]=a(this.h[3],U,V),this.h[3]=a(this.h[4],G,I),this.h[4]=a(this.h[0],$,E),this.h[0]=k},h.prototype._digest=function(T){return T==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var s=e("../utils"),o=e("../common"),l=e("./common"),c=s.rotl32,a=s.sum32,u=s.sum32_5,f=l.ft_1,h=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(y,h),n.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(g,p){for(var w=this.W,v=0;v<16;v++)w[v]=g[p+v];for(;v<w.length;v++)w[v]=c(w[v-3]^w[v-8]^w[v-14]^w[v-16],1);var _=this.h[0],T=this.h[1],F=this.h[2],G=this.h[3],$=this.h[4];for(v=0;v<w.length;v++){var P=~~(v/20),M=u(c(_,5),f(P,T,F,G),$,w[v],d[P]);$=G,G=F,F=c(T,30),T=_,_=M}this.h[0]=a(this.h[0],_),this.h[1]=a(this.h[1],T),this.h[2]=a(this.h[2],F),this.h[3]=a(this.h[3],G),this.h[4]=a(this.h[4],$)},y.prototype._digest=function(g){return g==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var s=e("../utils"),o=e("./256");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(l,o),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var s=e("../utils"),o=e("../common"),l=e("./common"),c=e("minimalistic-assert"),a=s.sum32,u=s.sum32_4,f=s.sum32_5,h=l.ch32,d=l.maj32,y=l.s0_256,g=l.s1_256,p=l.g0_256,w=l.g1_256,v=o.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}s.inherits(T,v),n.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(F,G){for(var $=this.W,P=0;P<16;P++)$[P]=F[G+P];for(;P<$.length;P++)$[P]=u(w($[P-2]),$[P-7],p($[P-15]),$[P-16]);var M=this.h[0],U=this.h[1],V=this.h[2],I=this.h[3],E=this.h[4],L=this.h[5],A=this.h[6],S=this.h[7];for(c(this.k.length===$.length),P=0;P<$.length;P++){var k=f(S,g(E),h(E,L,A),this.k[P],$[P]),N=a(y(M),d(M,U,V));S=A,A=L,L=E,E=a(I,k),I=V,V=U,U=M,M=a(k,N)}this.h[0]=a(this.h[0],M),this.h[1]=a(this.h[1],U),this.h[2]=a(this.h[2],V),this.h[3]=a(this.h[3],I),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],L),this.h[6]=a(this.h[6],A),this.h[7]=a(this.h[7],S)},T.prototype._digest=function(F){return F==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var s=e("../utils"),o=e("./512");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(l,o),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var s=e("../utils"),o=e("../common"),l=e("minimalistic-assert"),c=s.rotr64_hi,a=s.rotr64_lo,u=s.shr64_hi,f=s.shr64_lo,h=s.sum64,d=s.sum64_hi,y=s.sum64_lo,g=s.sum64_4_hi,p=s.sum64_4_lo,w=s.sum64_5_hi,v=s.sum64_5_lo,_=o.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function F(){if(!(this instanceof F))return new F;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}function G(N,C,O,D,j){var K=N&O^~N&j;return K<0&&(K+=4294967296),K}function $(N,C,O,D,j,K){var Z=C&D^~C&K;return Z<0&&(Z+=4294967296),Z}function P(N,C,O,D,j){var K=N&O^N&j^O&j;return K<0&&(K+=4294967296),K}function M(N,C,O,D,j,K){var Z=C&D^C&K^D&K;return Z<0&&(Z+=4294967296),Z}function U(N,C){var O=c(N,C,28)^c(C,N,2)^c(C,N,7);return O<0&&(O+=4294967296),O}function V(N,C){var O=a(N,C,28)^a(C,N,2)^a(C,N,7);return O<0&&(O+=4294967296),O}function I(N,C){var O=c(N,C,14)^c(N,C,18)^c(C,N,9);return O<0&&(O+=4294967296),O}function E(N,C){var O=a(N,C,14)^a(N,C,18)^a(C,N,9);return O<0&&(O+=4294967296),O}function L(N,C){var O=c(N,C,1)^c(N,C,8)^u(N,C,7);return O<0&&(O+=4294967296),O}function A(N,C){var O=a(N,C,1)^a(N,C,8)^f(N,C,7);return O<0&&(O+=4294967296),O}function S(N,C){var O=c(N,C,19)^c(C,N,29)^u(N,C,6);return O<0&&(O+=4294967296),O}function k(N,C){var O=a(N,C,19)^a(C,N,29)^f(N,C,6);return O<0&&(O+=4294967296),O}s.inherits(F,_),n.exports=F,F.blockSize=1024,F.outSize=512,F.hmacStrength=192,F.padLength=128,F.prototype._prepareBlock=function(N,C){for(var O=this.W,D=0;D<32;D++)O[D]=N[C+D];for(;D<O.length;D+=2){var j=S(O[D-4],O[D-3]),K=k(O[D-4],O[D-3]),Z=O[D-14],ne=O[D-13],H=L(O[D-30],O[D-29]),J=A(O[D-30],O[D-29]),z=O[D-32],B=O[D-31];O[D]=g(j,K,Z,ne,H,J,z,B),O[D+1]=p(j,K,Z,ne,H,J,z,B)}},F.prototype._update=function(N,C){this._prepareBlock(N,C);var O=this.W,D=this.h[0],j=this.h[1],K=this.h[2],Z=this.h[3],ne=this.h[4],H=this.h[5],J=this.h[6],z=this.h[7],B=this.h[8],Q=this.h[9],oe=this.h[10],pe=this.h[11],de=this.h[12],ve=this.h[13],ce=this.h[14],he=this.h[15];l(this.k.length===O.length);for(var fe=0;fe<O.length;fe+=2){var ke=ce,ye=he,Re=I(B,Q),Ie=E(B,Q),Oe=G(B,Q,oe,pe,de),Fe=$(B,Q,oe,pe,de,ve),Se=this.k[fe],Pe=this.k[fe+1],He=O[fe],Ze=O[fe+1],at=w(ke,ye,Re,Ie,Oe,Fe,Se,Pe,He,Ze),Je=v(ke,ye,Re,Ie,Oe,Fe,Se,Pe,He,Ze);ke=U(D,j),ye=V(D,j),Re=P(D,j,K,Z,ne),Ie=M(D,j,K,Z,ne,H);var lt=d(ke,ye,Re,Ie),ut=y(ke,ye,Re,Ie);ce=de,he=ve,de=oe,ve=pe,oe=B,pe=Q,B=d(J,z,at,Je),Q=y(z,z,at,Je),J=ne,z=H,ne=K,H=Z,K=D,Z=j,D=d(at,Je,lt,ut),j=y(at,Je,lt,ut)}h(this.h,0,D,j),h(this.h,2,K,Z),h(this.h,4,ne,H),h(this.h,6,J,z),h(this.h,8,B,Q),h(this.h,10,oe,pe),h(this.h,12,de,ve),h(this.h,14,ce,he)},F.prototype._digest=function(N){return N==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var s=e("../utils").rotr32;function o(a,u,f){return a&u^~a&f}function l(a,u,f){return a&u^a&f^u&f}function c(a,u,f){return a^u^f}i.ft_1=function(a,u,f,h){return a===0?o(u,f,h):a===1||a===3?c(u,f,h):a===2?l(u,f,h):void 0},i.ch32=o,i.maj32=l,i.p32=c,i.s0_256=function(a){return s(a,2)^s(a,13)^s(a,22)},i.s1_256=function(a){return s(a,6)^s(a,11)^s(a,25)},i.g0_256=function(a){return s(a,7)^s(a,18)^a>>>3},i.g1_256=function(a){return s(a,17)^s(a,19)^a>>>10}},{"../utils":437}],437:[function(e,n,i){var s=e("minimalistic-assert"),o=e("inherits");function l(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function c(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function a(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=o,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)d.push(parseInt(f[g]+f[g+1],16))}else for(var y=0,g=0;g<f.length;g++){var p=f.charCodeAt(g);p<128?d[y++]=p:p<2048?(d[y++]=p>>6|192,d[y++]=63&p|128):l(f,g)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++g)),d[y++]=p>>18|240,d[y++]=p>>12&63|128,d[y++]=p>>6&63|128,d[y++]=63&p|128):(d[y++]=p>>12|224,d[y++]=p>>6&63|128,d[y++]=63&p|128)}else for(g=0;g<f.length;g++)d[g]=0|f[g];return d},i.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=a(f[d].toString(16));return h},i.htonl=c,i.toHex32=function(f,h){for(var d="",y=0;y<f.length;y++){var g=f[y];h==="little"&&(g=c(g)),d+=u(g.toString(16))}return d},i.zero2=a,i.zero8=u,i.join32=function(f,h,d,y){var g=d-h;s(g%4==0);for(var p=new Array(g/4),w=0,v=h;w<p.length;w++,v+=4){var _;_=y==="big"?f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]:f[v+3]<<24|f[v+2]<<16|f[v+1]<<8|f[v],p[w]=_>>>0}return p},i.split32=function(f,h){for(var d=new Array(4*f.length),y=0,g=0;y<f.length;y++,g+=4){var p=f[y];h==="big"?(d[g]=p>>>24,d[g+1]=p>>>16&255,d[g+2]=p>>>8&255,d[g+3]=255&p):(d[g+3]=p>>>24,d[g+2]=p>>>16&255,d[g+1]=p>>>8&255,d[g]=255&p)}return d},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,d){return f+h+d>>>0},i.sum32_4=function(f,h,d,y){return f+h+d+y>>>0},i.sum32_5=function(f,h,d,y,g){return f+h+d+y+g>>>0},i.sum64=function(f,h,d,y){var g=f[h],p=y+f[h+1]>>>0,w=(p<y?1:0)+d+g;f[h]=w>>>0,f[h+1]=p},i.sum64_hi=function(f,h,d,y){return(h+y>>>0<h?1:0)+f+d>>>0},i.sum64_lo=function(f,h,d,y){return h+y>>>0},i.sum64_4_hi=function(f,h,d,y,g,p,w,v){var _=0,T=h;return _+=(T=T+y>>>0)<h?1:0,_+=(T=T+p>>>0)<p?1:0,f+d+g+w+(_+=(T=T+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(f,h,d,y,g,p,w,v){return h+y+p+v>>>0},i.sum64_5_hi=function(f,h,d,y,g,p,w,v,_,T){var F=0,G=h;return F+=(G=G+y>>>0)<h?1:0,F+=(G=G+p>>>0)<p?1:0,F+=(G=G+v>>>0)<v?1:0,f+d+g+w+_+(F+=(G=G+T>>>0)<T?1:0)>>>0},i.sum64_5_lo=function(f,h,d,y,g,p,w,v,_,T){return h+y+p+v+T>>>0},i.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},i.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},i.shr64_hi=function(f,h,d){return f>>>d},i.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var s=e("hash.js"),o=e("minimalistic-crypto-utils"),l=e("minimalistic-assert");function c(a){if(!(this instanceof c))return new c(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(a.entropy,a.entropyEnc||"hex"),f=o.toArray(a.nonce,a.nonceEnc||"hex"),h=o.toArray(a.pers,a.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,h)}n.exports=c,c.prototype._init=function(a,u,f){var h=a.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},c.prototype._update=function(a){var u=this._hmac().update(this.V).update([0]);a&&(u=u.update(a)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(a,u,f,h){typeof u!="string"&&(h=f,f=u,u=null),a=o.toArray(a,u),f=o.toArray(f,h),l(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(f||[])),this._reseed=1},c.prototype.generate=function(a,u,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=f,f=u,u=null),f&&(f=o.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var y=d.slice(0,a);return this._update(f),this._reseed++,o.encode(y,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,l,c,a){var u,f,h=8*a-c-1,d=(1<<h)-1,y=d>>1,g=-7,p=l?a-1:0,w=l?-1:1,v=s[o+p];for(p+=w,u=v&(1<<-g)-1,v>>=-g,g+=h;g>0;u=256*u+s[o+p],p+=w,g-=8);for(f=u&(1<<-g)-1,u>>=-g,g+=c;g>0;f=256*f+s[o+p],p+=w,g-=8);if(u===0)u=1-y;else{if(u===d)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,c),u-=y}return(v?-1:1)*f*Math.pow(2,u-c)},i.write=function(s,o,l,c,a,u){var f,h,d,y=8*u-a-1,g=(1<<y)-1,p=g>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:u-1,_=c?1:-1,T=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,f=g):(f=Math.floor(Math.log(o)/Math.LN2),o*(d=Math.pow(2,-f))<1&&(f--,d*=2),(o+=f+p>=1?w/d:w*Math.pow(2,1-p))*d>=2&&(f++,d/=2),f+p>=g?(h=0,f=g):f+p>=1?(h=(o*d-1)*Math.pow(2,a),f+=p):(h=o*Math.pow(2,p-1)*Math.pow(2,a),f=0));a>=8;s[l+v]=255&h,v+=_,h/=256,a-=8);for(f=f<<a|h,y+=a;y>0;s[l+v]=255&f,v+=_,f/=256,y-=8);s[l+v-_]|=128*T}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var l=function(){};l.prototype=o.prototype,s.prototype=new l,s.prototype.constructor=s}}},{}],441:[function(e,n,i){(function(s,o,l,c,a,u,f,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(y,g,p){function w(T,F){if(!g[T]){if(!y[T]){var G=typeof e=="function"&&e;if(!F&&G)return G(T,!0);if(v)return v(T,!0);var $=new Error("Cannot find module '"+T+"'");throw $.code="MODULE_NOT_FOUND",$}var P=g[T]={exports:{}};y[T][0].call(P.exports,(function(M){return w(y[T][1][M]||M)}),P,P.exports,d,y,g,p)}return g[T].exports}for(var v=typeof e=="function"&&e,_=0;_<p.length;_++)w(p[_]);return w})({1:[function(d,y,g){var p=d("./utils"),w=d("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(_){for(var T,F,G,$,P,M,U,V=[],I=0,E=_.length,L=E,A=p.getTypeOf(_)!=="string";I<_.length;)L=E-I,G=A?(T=_[I++],F=I<E?_[I++]:0,I<E?_[I++]:0):(T=_.charCodeAt(I++),F=I<E?_.charCodeAt(I++):0,I<E?_.charCodeAt(I++):0),$=T>>2,P=(3&T)<<4|F>>4,M=1<L?(15&F)<<2|G>>6:64,U=2<L?63&G:64,V.push(v.charAt($)+v.charAt(P)+v.charAt(M)+v.charAt(U));return V.join("")},g.decode=function(_){var T,F,G,$,P,M,U=0,V=0,I="data:";if(_.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var E,L=3*(_=_.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_.charAt(_.length-1)===v.charAt(64)&&L--,_.charAt(_.length-2)===v.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=w.uint8array?new Uint8Array(0|L):new Array(0|L);U<_.length;)T=v.indexOf(_.charAt(U++))<<2|($=v.indexOf(_.charAt(U++)))>>4,F=(15&$)<<4|(P=v.indexOf(_.charAt(U++)))>>2,G=(3&P)<<6|(M=v.indexOf(_.charAt(U++))),E[V++]=T,P!==64&&(E[V++]=F),M!==64&&(E[V++]=G);return E}},{"./support":30,"./utils":32}],2:[function(d,y,g){var p=d("./external"),w=d("./stream/DataWorker"),v=d("./stream/Crc32Probe"),_=d("./stream/DataLengthProbe");function T(F,G,$,P,M){this.compressedSize=F,this.uncompressedSize=G,this.crc32=$,this.compression=P,this.compressedContent=M}T.prototype={getContentWorker:function(){var F=new w(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),G=this;return F.on("end",(function(){if(this.streamInfo.data_length!==G.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),F},getCompressedWorker:function(){return new w(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(F,G,$){return F.pipe(new v).pipe(new _("uncompressedSize")).pipe(G.compressWorker($)).pipe(new _("compressedSize")).withStreamInfo("compression",G)},y.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,y,g){var p=d("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,y,g){var p=d("./utils"),w=(function(){for(var v,_=[],T=0;T<256;T++){v=T;for(var F=0;F<8;F++)v=1&v?3988292384^v>>>1:v>>>1;_[T]=v}return _})();y.exports=function(v,_){return v!==void 0&&v.length?p.getTypeOf(v)!=="string"?(function(T,F,G,$){var P=w,M=0+G;T^=-1;for(var U=0;U<M;U++)T=T>>>8^P[255&(T^F[U])];return-1^T})(0|_,v,v.length):(function(T,F,G,$){var P=w,M=0+G;T^=-1;for(var U=0;U<M;U++)T=T>>>8^P[255&(T^F.charCodeAt(U))];return-1^T})(0|_,v,v.length):0}},{"./utils":32}],5:[function(d,y,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(d,y,g){var p;p=typeof Promise<"u"?Promise:d("lie"),y.exports={Promise:p}},{lie:37}],7:[function(d,y,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=d("pako"),v=d("./utils"),_=d("./stream/GenericWorker"),T=p?"uint8array":"array";function F(G,$){_.call(this,"FlateWorker/"+G),this._pako=null,this._pakoAction=G,this._pakoOptions=$,this.meta={}}g.magic="\b\0",v.inherits(F,_),F.prototype.processChunk=function(G){this.meta=G.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(T,G.data),!1)},F.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},F.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},F.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var G=this;this._pako.onData=function($){G.push({data:$,meta:G.meta})}},g.compressWorker=function(G){return new F("Deflate",G)},g.uncompressWorker=function(){return new F("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,y,g){function p(P,M){var U,V="";for(U=0;U<M;U++)V+=String.fromCharCode(255&P),P>>>=8;return V}function w(P,M,U,V,I,E){var L,A,S=P.file,k=P.compression,N=E!==T.utf8encode,C=v.transformTo("string",E(S.name)),O=v.transformTo("string",T.utf8encode(S.name)),D=S.comment,j=v.transformTo("string",E(D)),K=v.transformTo("string",T.utf8encode(D)),Z=O.length!==S.name.length,ne=K.length!==D.length,H="",J="",z="",B=S.dir,Q=S.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};M&&!U||(oe.crc32=P.crc32,oe.compressedSize=P.compressedSize,oe.uncompressedSize=P.uncompressedSize);var pe=0;M&&(pe|=8),N||!Z&&!ne||(pe|=2048);var de=0,ve=0;B&&(de|=16),I==="UNIX"?(ve=798,de|=(function(he,fe){var ke=he;return he||(ke=fe?16893:33204),(65535&ke)<<16})(S.unixPermissions,B)):(ve=20,de|=(function(he){return 63&(he||0)})(S.dosPermissions)),L=Q.getUTCHours(),L<<=6,L|=Q.getUTCMinutes(),L<<=5,L|=Q.getUTCSeconds()/2,A=Q.getUTCFullYear()-1980,A<<=4,A|=Q.getUTCMonth()+1,A<<=5,A|=Q.getUTCDate(),Z&&(J=p(1,1)+p(F(C),4)+O,H+="up"+p(J.length,2)+J),ne&&(z=p(1,1)+p(F(j),4)+K,H+="uc"+p(z.length,2)+z);var ce="";return ce+=`
\0`,ce+=p(pe,2),ce+=k.magic,ce+=p(L,2),ce+=p(A,2),ce+=p(oe.crc32,4),ce+=p(oe.compressedSize,4),ce+=p(oe.uncompressedSize,4),ce+=p(C.length,2),ce+=p(H.length,2),{fileRecord:G.LOCAL_FILE_HEADER+ce+C+H,dirRecord:G.CENTRAL_FILE_HEADER+p(ve,2)+ce+p(j.length,2)+"\0\0\0\0"+p(de,4)+p(V,4)+C+H+j}}var v=d("../utils"),_=d("../stream/GenericWorker"),T=d("../utf8"),F=d("../crc32"),G=d("../signature");function $(P,M,U,V){_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=U,this.encodeFileName=V,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits($,_),$.prototype.push=function(P){var M=P.meta.percent||0,U=this.entriesCount,V=this._sources.length;this.accumulate?this.contentBuffer.push(P):(this.bytesWritten+=P.data.length,_.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:U?(M+100*(U-V-1))/U:100}}))},$.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var M=this.streamFiles&&!P.file.dir;if(M){var U=w(P,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:U.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(P){this.accumulate=!1;var M=this.streamFiles&&!P.file.dir,U=w(P,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(U.dirRecord),M)this.push({data:(function(V){return G.DATA_DESCRIPTOR+p(V.crc32,4)+p(V.compressedSize,4)+p(V.uncompressedSize,4)})(P),meta:{percent:100}});else for(this.push({data:U.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var P=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var U=this.bytesWritten-P,V=(function(I,E,L,A,S){var k=v.transformTo("string",S(A));return G.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(I,2)+p(I,2)+p(E,4)+p(L,4)+p(k.length,2)+k})(this.dirRecords.length,U,P,this.zipComment,this.encodeFileName);this.push({data:V,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(P){this._sources.push(P);var M=this;return P.on("data",(function(U){M.processChunk(U)})),P.on("end",(function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()})),P.on("error",(function(U){M.error(U)})),this},$.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(P){var M=this._sources;if(!_.prototype.error.call(this,P))return!1;for(var U=0;U<M.length;U++)try{M[U].error(P)}catch{}return!0},$.prototype.lock=function(){_.prototype.lock.call(this);for(var P=this._sources,M=0;M<P.length;M++)P[M].lock()},y.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,y,g){var p=d("../compressions"),w=d("./ZipFileWorker");g.generateWorker=function(v,_,T){var F=new w(_.streamFiles,T,_.platform,_.encodeFileName),G=0;try{v.forEach((function($,P){G++;var M=(function(E,L){var A=E||L,S=p[A];if(!S)throw new Error(A+" is not a valid compression method !");return S})(P.options.compression,_.compression),U=P.options.compressionOptions||_.compressionOptions||{},V=P.dir,I=P.date;P._compressWorker(M,U).withStreamInfo("file",{name:$,dir:V,date:I,comment:P.comment||"",unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions}).pipe(F)})),F.entriesCount=G}catch($){F.error($)}return F}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,y,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new p;for(var v in this)typeof this[v]!="function"&&(w[v]=this[v]);return w}}(p.prototype=d("./object")).loadAsync=d("./load"),p.support=d("./support"),p.defaults=d("./defaults"),p.version="3.10.1",p.loadAsync=function(w,v){return new p().loadAsync(w,v)},p.external=d("./external"),y.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,y,g){var p=d("./utils"),w=d("./external"),v=d("./utf8"),_=d("./zipEntries"),T=d("./stream/Crc32Probe"),F=d("./nodejsUtils");function G($){return new w.Promise((function(P,M){var U=$.decompressed.getContentWorker().pipe(new T);U.on("error",(function(V){M(V)})).on("end",(function(){U.streamInfo.crc32!==$.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):P()})).resume()}))}y.exports=function($,P){var M=this;return P=p.extend(P||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),F.isNode&&F.isStream($)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",$,!0,P.optimizedBinaryString,P.base64).then((function(U){var V=new _(P);return V.load(U),V})).then((function(U){var V=[w.Promise.resolve(U)],I=U.files;if(P.checkCRC32)for(var E=0;E<I.length;E++)V.push(G(I[E]));return w.Promise.all(V)})).then((function(U){for(var V=U.shift(),I=V.files,E=0;E<I.length;E++){var L=I[E],A=L.fileNameStr,S=p.resolve(L.fileNameStr);M.file(S,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:P.createFolders}),L.dir||(M.file(S).unsafeOriginalName=A)}return V.zipComment.length&&(M.comment=V.zipComment),M}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,y,g){var p=d("../utils"),w=d("../stream/GenericWorker");function v(_,T){w.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream(T)}p.inherits(v,w),v.prototype._bindStream=function(_){var T=this;(this._stream=_).pause(),_.on("data",(function(F){T.push({data:F,meta:{percent:0}})})).on("error",(function(F){T.isPaused?this.generatedError=F:T.error(F)})).on("end",(function(){T.isPaused?T._upstreamEnded=!0:T.end()}))},v.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,y,g){var p=d("readable-stream").Readable;function w(v,_,T){p.call(this,_),this._helper=v;var F=this;v.on("data",(function(G,$){F.push(G)||F._helper.pause(),T&&T($)})).on("error",(function(G){F.emit("error",G)})).on("end",(function(){F.push(null)}))}d("../utils").inherits(w,p),w.prototype._read=function(){this._helper.resume()},y.exports=w},{"../utils":32,"readable-stream":16}],14:[function(d,y,g){y.exports={isNode:l!==void 0,newBufferFrom:function(p,w){if(l.from&&l.from!==Uint8Array.from)return l.from(p,w);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new l(p,w)},allocBuffer:function(p){if(l.alloc)return l.alloc(p);var w=new l(p);return w.fill(0),w},isBuffer:function(p){return l.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(d,y,g){function p(S,k,N){var C,O=v.getTypeOf(k),D=v.extend(N||{},F);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(S=I(S)),D.createFolders&&(C=V(S))&&E.call(this,C,!0);var j=O==="string"&&D.binary===!1&&D.base64===!1;N&&N.binary!==void 0||(D.binary=!j),(k instanceof G&&k.uncompressedSize===0||D.dir||!k||k.length===0)&&(D.base64=!1,D.binary=!0,k="",D.compression="STORE",O="string");var K;K=k instanceof G||k instanceof _?k:M.isNode&&M.isStream(k)?new U(S,k):v.prepareContent(S,k,D.binary,D.optimizedBinaryString,D.base64);var Z=new $(S,K,D);this.files[S]=Z}var w=d("./utf8"),v=d("./utils"),_=d("./stream/GenericWorker"),T=d("./stream/StreamHelper"),F=d("./defaults"),G=d("./compressedObject"),$=d("./zipObject"),P=d("./generate"),M=d("./nodejsUtils"),U=d("./nodejs/NodejsStreamInputAdapter"),V=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var k=S.lastIndexOf("/");return 0<k?S.substring(0,k):""},I=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},E=function(S,k){return k=k!==void 0?k:F.createFolders,S=I(S),this.files[S]||p.call(this,S,null,{dir:!0,createFolders:k}),this.files[S]};function L(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var k,N,C;for(k in this.files)C=this.files[k],(N=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&S(N,C)},filter:function(S){var k=[];return this.forEach((function(N,C){S(N,C)&&k.push(C)})),k},file:function(S,k,N){if(arguments.length!==1)return S=this.root+S,p.call(this,S,k,N),this;if(L(S)){var C=S;return this.filter((function(D,j){return!j.dir&&C.test(D)}))}var O=this.files[this.root+S];return O&&!O.dir?O:null},folder:function(S){if(!S)return this;if(L(S))return this.filter((function(O,D){return D.dir&&S.test(O)}));var k=this.root+S,N=E.call(this,k),C=this.clone();return C.root=N.name,C},remove:function(S){S=this.root+S;var k=this.files[S];if(k||(S.slice(-1)!=="/"&&(S+="/"),k=this.files[S]),k&&!k.dir)delete this.files[S];else for(var N=this.filter((function(O,D){return D.name.slice(0,S.length)===S})),C=0;C<N.length;C++)delete this.files[N[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var k,N={};try{if((N=v.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");v.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var C=N.comment||this.comment||"";k=P.generateWorker(this,N,C)}catch(O){(k=new _("error")).error(O)}return new T(k,N.type||"string",N.mimeType)},generateAsync:function(S,k){return this.generateInternalStream(S).accumulate(k)},generateNodeStream:function(S,k){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(k)}};y.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,y,g){y.exports=d("stream")},{stream:void 0}],17:[function(d,y,g){var p=d("./DataReader");function w(v){p.call(this,v);for(var _=0;_<this.data.length;_++)v[_]=255&v[_]}d("../utils").inherits(w,p),w.prototype.byteAt=function(v){return this.data[this.zero+v]},w.prototype.lastIndexOfSignature=function(v){for(var _=v.charCodeAt(0),T=v.charCodeAt(1),F=v.charCodeAt(2),G=v.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===_&&this.data[$+1]===T&&this.data[$+2]===F&&this.data[$+3]===G)return $-this.zero;return-1},w.prototype.readAndCheckSignature=function(v){var _=v.charCodeAt(0),T=v.charCodeAt(1),F=v.charCodeAt(2),G=v.charCodeAt(3),$=this.readData(4);return _===$[0]&&T===$[1]&&F===$[2]&&G===$[3]},w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},y.exports=w},{"../utils":32,"./DataReader":18}],18:[function(d,y,g){var p=d("../utils");function w(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var _,T=0;for(this.checkOffset(v),_=this.index+v-1;_>=this.index;_--)T=(T<<8)+this.byteAt(_);return this.index+=v,T},readString:function(v){return p.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},y.exports=w},{"../utils":32}],19:[function(d,y,g){var p=d("./Uint8ArrayReader");function w(v){p.call(this,v)}d("../utils").inherits(w,p),w.prototype.readData=function(v){this.checkOffset(v);var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},y.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,y,g){var p=d("./DataReader");function w(v){p.call(this,v)}d("../utils").inherits(w,p),w.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},w.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},w.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},w.prototype.readData=function(v){this.checkOffset(v);var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},y.exports=w},{"../utils":32,"./DataReader":18}],21:[function(d,y,g){var p=d("./ArrayReader");function w(v){p.call(this,v)}d("../utils").inherits(w,p),w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var _=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},y.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(d,y,g){var p=d("../utils"),w=d("../support"),v=d("./ArrayReader"),_=d("./StringReader"),T=d("./NodeBufferReader"),F=d("./Uint8ArrayReader");y.exports=function(G){var $=p.getTypeOf(G);return p.checkSupport($),$!=="string"||w.uint8array?$==="nodebuffer"?new T(G):w.uint8array?new F(p.transformTo("uint8array",G)):new v(p.transformTo("array",G)):new _(G)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,y,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,y,g){var p=d("./GenericWorker"),w=d("../utils");function v(_){p.call(this,"ConvertWorker to "+_),this.destType=_}w.inherits(v,p),v.prototype.processChunk=function(_){this.push({data:w.transformTo(this.destType,_.data),meta:_.meta})},y.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(d,y,g){var p=d("./GenericWorker"),w=d("../crc32");function v(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(v,p),v.prototype.processChunk=function(_){this.streamInfo.crc32=w(_.data,this.streamInfo.crc32||0),this.push(_)},y.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,y,g){var p=d("../utils"),w=d("./GenericWorker");function v(_){w.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}p.inherits(v,w),v.prototype.processChunk=function(_){if(_){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+_.data.length}w.prototype.processChunk.call(this,_)},y.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(d,y,g){var p=d("../utils"),w=d("./GenericWorker");function v(_){w.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_.then((function(F){T.dataIsReady=!0,T.data=F,T.max=F&&F.length||0,T.type=p.getTypeOf(F),T.isPaused||T._tickAndRepeat()}),(function(F){T.error(F)}))}p.inherits(v,w),v.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_=this.data.substring(this.index,T);break;case"uint8array":_=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":_=this.data.slice(this.index,T)}return this.index=T,this.push({data:_,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(d,y,g){function p(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,v){return this._listeners[w].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,v){if(this._listeners[w])for(var _=0;_<this._listeners[w].length;_++)this._listeners[w][_].call(this,v)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var v=this;return w.on("data",(function(_){v.processChunk(_)})),w.on("end",(function(){v.end()})),w.on("error",(function(_){v.error(_)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,v){return this.extraStreamInfo[w]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},y.exports=p},{}],29:[function(d,y,g){var p=d("../utils"),w=d("./ConvertWorker"),v=d("./GenericWorker"),_=d("../base64"),T=d("../support"),F=d("../external"),G=null;if(T.nodestream)try{G=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(P,M,U){var V=M;switch(M){case"blob":case"arraybuffer":V="uint8array";break;case"base64":V="string"}try{this._internalType=V,this._outputType=M,this._mimeType=U,p.checkSupport(V),this._worker=P.pipe(new w(V)),P.lock()}catch(I){this._worker=new v("error"),this._worker.error(I)}}$.prototype={accumulate:function(P){return(function(M,U){return new F.Promise((function(V,I){var E=[],L=M._internalType,A=M._outputType,S=M._mimeType;M.on("data",(function(k,N){E.push(k),U&&U(N)})).on("error",(function(k){E=[],I(k)})).on("end",(function(){try{var k=(function(N,C,O){switch(N){case"blob":return p.newBlob(p.transformTo("arraybuffer",C),O);case"base64":return _.encode(C);default:return p.transformTo(N,C)}})(A,(function(N,C){var O,D=0,j=null,K=0;for(O=0;O<C.length;O++)K+=C[O].length;switch(N){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(j=new Uint8Array(K),O=0;O<C.length;O++)j.set(C[O],D),D+=C[O].length;return j;case"nodebuffer":return l.concat(C);default:throw new Error("concat : unsupported type '"+N+"'")}})(L,E),S);V(k)}catch(N){I(N)}E=[]})).resume()}))})(this,P)},on:function(P,M){var U=this;return P==="data"?this._worker.on(P,(function(V){M.call(U,V.data,V.meta)})):this._worker.on(P,(function(){p.delay(M,arguments,U)})),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new G(this,{objectMode:this._outputType!=="nodebuffer"},P)}},y.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,y,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=l!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(p),g.blob=w.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!d("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(d,y,g){for(var p=d("./utils"),w=d("./support"),v=d("./nodejsUtils"),_=d("./stream/GenericWorker"),T=new Array(256),F=0;F<256;F++)T[F]=252<=F?6:248<=F?5:240<=F?4:224<=F?3:192<=F?2:1;function G(){_.call(this,"utf-8 decode"),this.leftOver=null}function $(){_.call(this,"utf-8 encode")}T[254]=T[254]=1,g.utf8encode=function(P){return w.nodebuffer?v.newBufferFrom(P,"utf-8"):(function(M){var U,V,I,E,L,A=M.length,S=0;for(E=0;E<A;E++)(64512&(V=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(I=M.charCodeAt(E+1)))==56320&&(V=65536+(V-55296<<10)+(I-56320),E++),S+=V<128?1:V<2048?2:V<65536?3:4;for(U=w.uint8array?new Uint8Array(S):new Array(S),E=L=0;L<S;E++)(64512&(V=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(I=M.charCodeAt(E+1)))==56320&&(V=65536+(V-55296<<10)+(I-56320),E++),V<128?U[L++]=V:(V<2048?U[L++]=192|V>>>6:(V<65536?U[L++]=224|V>>>12:(U[L++]=240|V>>>18,U[L++]=128|V>>>12&63),U[L++]=128|V>>>6&63),U[L++]=128|63&V);return U})(P)},g.utf8decode=function(P){return w.nodebuffer?p.transformTo("nodebuffer",P).toString("utf-8"):(function(M){var U,V,I,E,L=M.length,A=new Array(2*L);for(U=V=0;U<L;)if((I=M[U++])<128)A[V++]=I;else if(4<(E=T[I]))A[V++]=65533,U+=E-1;else{for(I&=E===2?31:E===3?15:7;1<E&&U<L;)I=I<<6|63&M[U++],E--;1<E?A[V++]=65533:I<65536?A[V++]=I:(I-=65536,A[V++]=55296|I>>10&1023,A[V++]=56320|1023&I)}return A.length!==V&&(A.subarray?A=A.subarray(0,V):A.length=V),p.applyFromCharCode(A)})(P=p.transformTo(w.uint8array?"uint8array":"array",P))},p.inherits(G,_),G.prototype.processChunk=function(P){var M=p.transformTo(w.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var U=M;(M=new Uint8Array(U.length+this.leftOver.length)).set(this.leftOver,0),M.set(U,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var V=(function(E,L){var A;for((L=L||E.length)>E.length&&(L=E.length),A=L-1;0<=A&&(192&E[A])==128;)A--;return A<0||A===0?L:A+T[E[A]]>L?A:L})(M),I=M;V!==M.length&&(w.uint8array?(I=M.subarray(0,V),this.leftOver=M.subarray(V,M.length)):(I=M.slice(0,V),this.leftOver=M.slice(V,M.length))),this.push({data:g.utf8decode(I),meta:P.meta})},G.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=G,p.inherits($,_),$.prototype.processChunk=function(P){this.push({data:g.utf8encode(P.data),meta:P.meta})},g.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,y,g){var p=d("./support"),w=d("./base64"),v=d("./nodejsUtils"),_=d("./external");function T(U){return U}function F(U,V){for(var I=0;I<U.length;++I)V[I]=255&U.charCodeAt(I);return V}d("setimmediate"),g.newBlob=function(U,V){g.checkSupport("blob");try{return new Blob([U],{type:V})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(U),I.getBlob(V)}catch{throw new Error("Bug : can't construct the Blob.")}}};var G={stringifyByChunk:function(U,V,I){var E=[],L=0,A=U.length;if(A<=I)return String.fromCharCode.apply(null,U);for(;L<A;)V==="array"||V==="nodebuffer"?E.push(String.fromCharCode.apply(null,U.slice(L,Math.min(L+I,A)))):E.push(String.fromCharCode.apply(null,U.subarray(L,Math.min(L+I,A)))),L+=I;return E.join("")},stringifyByChar:function(U){for(var V="",I=0;I<U.length;I++)V+=String.fromCharCode(U[I]);return V},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function $(U){var V=65536,I=g.getTypeOf(U),E=!0;if(I==="uint8array"?E=G.applyCanBeUsed.uint8array:I==="nodebuffer"&&(E=G.applyCanBeUsed.nodebuffer),E)for(;1<V;)try{return G.stringifyByChunk(U,I,V)}catch{V=Math.floor(V/2)}return G.stringifyByChar(U)}function P(U,V){for(var I=0;I<U.length;I++)V[I]=U[I];return V}g.applyFromCharCode=$;var M={};M.string={string:T,array:function(U){return F(U,new Array(U.length))},arraybuffer:function(U){return M.string.uint8array(U).buffer},uint8array:function(U){return F(U,new Uint8Array(U.length))},nodebuffer:function(U){return F(U,v.allocBuffer(U.length))}},M.array={string:$,array:T,arraybuffer:function(U){return new Uint8Array(U).buffer},uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return v.newBufferFrom(U)}},M.arraybuffer={string:function(U){return $(new Uint8Array(U))},array:function(U){return P(new Uint8Array(U),new Array(U.byteLength))},arraybuffer:T,uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return v.newBufferFrom(new Uint8Array(U))}},M.uint8array={string:$,array:function(U){return P(U,new Array(U.length))},arraybuffer:function(U){return U.buffer},uint8array:T,nodebuffer:function(U){return v.newBufferFrom(U)}},M.nodebuffer={string:$,array:function(U){return P(U,new Array(U.length))},arraybuffer:function(U){return M.nodebuffer.uint8array(U).buffer},uint8array:function(U){return P(U,new Uint8Array(U.length))},nodebuffer:T},g.transformTo=function(U,V){if(V=V||"",!U)return V;g.checkSupport(U);var I=g.getTypeOf(V);return M[I][U](V)},g.resolve=function(U){for(var V=U.split("/"),I=[],E=0;E<V.length;E++){var L=V[E];L==="."||L===""&&E!==0&&E!==V.length-1||(L===".."?I.pop():I.push(L))}return I.join("/")},g.getTypeOf=function(U){return typeof U=="string"?"string":Object.prototype.toString.call(U)==="[object Array]"?"array":p.nodebuffer&&v.isBuffer(U)?"nodebuffer":p.uint8array&&U instanceof Uint8Array?"uint8array":p.arraybuffer&&U instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(U){if(!p[U.toLowerCase()])throw new Error(U+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(U){var V,I,E="";for(I=0;I<(U||"").length;I++)E+="\\x"+((V=U.charCodeAt(I))<16?"0":"")+V.toString(16).toUpperCase();return E},g.delay=function(U,V,I){h((function(){U.apply(I||null,V||[])}))},g.inherits=function(U,V){function I(){}I.prototype=V.prototype,U.prototype=new I},g.extend=function(){var U,V,I={};for(U=0;U<arguments.length;U++)for(V in arguments[U])Object.prototype.hasOwnProperty.call(arguments[U],V)&&I[V]===void 0&&(I[V]=arguments[U][V]);return I},g.prepareContent=function(U,V,I,E,L){return _.Promise.resolve(V).then((function(A){return p.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new _.Promise((function(S,k){var N=new FileReader;N.onload=function(C){S(C.target.result)},N.onerror=function(C){k(C.target.error)},N.readAsArrayBuffer(A)})):A})).then((function(A){var S=g.getTypeOf(A);return S?(S==="arraybuffer"?A=g.transformTo("uint8array",A):S==="string"&&(L?A=w.decode(A):I&&E!==!0&&(A=(function(k){return F(k,p.uint8array?new Uint8Array(k.length):new Array(k.length))})(A))),A):_.Promise.reject(new Error("Can't read the data of '"+U+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,y,g){var p=d("./reader/readerFor"),w=d("./utils"),v=d("./signature"),_=d("./zipEntry"),T=d("./support");function F(G){this.files=[],this.loadOptions=G}F.prototype={checkSignature:function(G){if(!this.reader.readAndCheckSignature(G)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty($)+", expected "+w.pretty(G)+")")}},isSignature:function(G,$){var P=this.reader.index;this.reader.setIndex(G);var M=this.reader.readString(4)===$;return this.reader.setIndex(P),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var G=this.reader.readData(this.zipCommentLength),$=T.uint8array?"uint8array":"array",P=w.transformTo($,G);this.zipComment=this.loadOptions.decodeFileName(P)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var G,$,P,M=this.zip64EndOfCentralSize-44;0<M;)G=this.reader.readInt(2),$=this.reader.readInt(4),P=this.reader.readData($),this.zip64ExtensibleData[G]={id:G,length:$,value:P}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var G,$;for(G=0;G<this.files.length;G++)$=this.files[G],this.reader.setIndex($.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var G;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(G=new _({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(G);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var G=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(G<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(G);var $=G;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(G=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(G),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var P=this.centralDirOffset+this.centralDirSize;this.zip64&&(P+=20,P+=12+this.zip64EndOfCentralSize);var M=$-P;if(0<M)this.isSignature($,v.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(G){this.reader=p(G)},load:function(G){this.prepareReader(G),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=F},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,y,g){var p=d("./reader/readerFor"),w=d("./utils"),v=d("./compressedObject"),_=d("./crc32"),T=d("./utf8"),F=d("./compressions"),G=d("./support");function $(P,M){this.options=P,this.loadOptions=M}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(P){var M,U;if(P.skip(22),this.fileNameLength=P.readInt(2),U=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(U),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=(function(V){for(var I in F)if(Object.prototype.hasOwnProperty.call(F,I)&&F[I].magic===V)return F[I];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,M,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var M=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(M),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),P==0&&(this.dosPermissions=63&this.externalFileAttributes),P==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var P=p(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=P.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=P.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=P.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=P.readInt(4))}},readExtraFields:function(P){var M,U,V,I=P.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});P.index+4<I;)M=P.readInt(2),U=P.readInt(2),V=P.readData(U),this.extraFields[M]={id:M,length:U,value:V};P.setIndex(I)},handleUTF8:function(){var P=G.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var U=w.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(U)}var V=this.findExtraFieldUnicodeComment();if(V!==null)this.fileCommentStr=V;else{var I=w.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var M=p(P.value);return M.readInt(1)!==1||_(this.fileName)!==M.readInt(4)?null:T.utf8decode(M.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var M=p(P.value);return M.readInt(1)!==1||_(this.fileComment)!==M.readInt(4)?null:T.utf8decode(M.readData(P.length-5))}return null}},y.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,y,g){function p(M,U,V){this.name=M,this.dir=V.dir,this.date=V.date,this.comment=V.comment,this.unixPermissions=V.unixPermissions,this.dosPermissions=V.dosPermissions,this._data=U,this._dataBinary=V.binary,this.options={compression:V.compression,compressionOptions:V.compressionOptions}}var w=d("./stream/StreamHelper"),v=d("./stream/DataWorker"),_=d("./utf8"),T=d("./compressedObject"),F=d("./stream/GenericWorker");p.prototype={internalStream:function(M){var U=null,V="string";try{if(!M)throw new Error("No output type specified.");var I=(V=M.toLowerCase())==="string"||V==="text";V!=="binarystring"&&V!=="text"||(V="string"),U=this._decompressWorker();var E=!this._dataBinary;E&&!I&&(U=U.pipe(new _.Utf8EncodeWorker)),!E&&I&&(U=U.pipe(new _.Utf8DecodeWorker))}catch(L){(U=new F("error")).error(L)}return new w(U,V,"")},async:function(M,U){return this.internalStream(M).accumulate(U)},nodeStream:function(M,U){return this.internalStream(M||"nodebuffer").toNodejsStream(U)},_compressWorker:function(M,U){if(this._data instanceof T&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var V=this._decompressWorker();return this._dataBinary||(V=V.pipe(new _.Utf8EncodeWorker)),T.createWorkerFrom(V,M,U)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof F?this._data:new v(this._data)}};for(var G=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},P=0;P<G.length;P++)p.prototype[G[P]]=$;y.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,y,g){(function(p){var w,v,_=p.MutationObserver||p.WebKitMutationObserver;if(_){var T=0,F=new _(M),G=p.document.createTextNode("");F.observe(G,{characterData:!0}),w=function(){G.data=T=++T%2}}else if(p.setImmediate||p.MessageChannel===void 0)w="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var U=p.document.createElement("script");U.onreadystatechange=function(){M(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},p.document.documentElement.appendChild(U)}:function(){setTimeout(M,0)};else{var $=new p.MessageChannel;$.port1.onmessage=M,w=function(){$.port2.postMessage(0)}}var P=[];function M(){var U,V;v=!0;for(var I=P.length;I;){for(V=P,P=[],U=-1;++U<I;)V[U]();I=P.length}v=!1}y.exports=function(U){P.push(U)!==1||v||w()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,y,g){var p=d("immediate");function w(){}var v={},_=["REJECTED"],T=["FULFILLED"],F=["PENDING"];function G(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=F,this.queue=[],this.outcome=void 0,I!==w&&U(this,I)}function $(I,E,L){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function P(I,E,L){p((function(){var A;try{A=E(L)}catch(S){return v.reject(I,S)}A===I?v.reject(I,new TypeError("Cannot resolve promise with itself")):v.resolve(I,A)}))}function M(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function U(I,E){var L=!1;function A(N){L||(L=!0,v.reject(I,N))}function S(N){L||(L=!0,v.resolve(I,N))}var k=V((function(){E(S,A)}));k.status==="error"&&A(k.value)}function V(I,E){var L={};try{L.value=I(E),L.status="success"}catch(A){L.status="error",L.value=A}return L}(y.exports=G).prototype.finally=function(I){if(typeof I!="function")return this;var E=this.constructor;return this.then((function(L){return E.resolve(I()).then((function(){return L}))}),(function(L){return E.resolve(I()).then((function(){throw L}))}))},G.prototype.catch=function(I){return this.then(null,I)},G.prototype.then=function(I,E){if(typeof I!="function"&&this.state===T||typeof E!="function"&&this.state===_)return this;var L=new this.constructor(w);return this.state!==F?P(L,this.state===T?I:E,this.outcome):this.queue.push(new $(L,I,E)),L},$.prototype.callFulfilled=function(I){v.resolve(this.promise,I)},$.prototype.otherCallFulfilled=function(I){P(this.promise,this.onFulfilled,I)},$.prototype.callRejected=function(I){v.reject(this.promise,I)},$.prototype.otherCallRejected=function(I){P(this.promise,this.onRejected,I)},v.resolve=function(I,E){var L=V(M,E);if(L.status==="error")return v.reject(I,L.value);var A=L.value;if(A)U(I,A);else{I.state=T,I.outcome=E;for(var S=-1,k=I.queue.length;++S<k;)I.queue[S].callFulfilled(E)}return I},v.reject=function(I,E){I.state=_,I.outcome=E;for(var L=-1,A=I.queue.length;++L<A;)I.queue[L].callRejected(E);return I},G.resolve=function(I){return I instanceof this?I:v.resolve(new this(w),I)},G.reject=function(I){var E=new this(w);return v.reject(E,I)},G.all=function(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=I.length,A=!1;if(!L)return this.resolve([]);for(var S=new Array(L),k=0,N=-1,C=new this(w);++N<L;)O(I[N],N);return C;function O(D,j){E.resolve(D).then((function(K){S[j]=K,++k!==L||A||(A=!0,v.resolve(C,S))}),(function(K){A||(A=!0,v.reject(C,K))}))}},G.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=I.length,L=!1;if(!E)return this.resolve([]);for(var A,S=-1,k=new this(w);++S<E;)A=I[S],this.resolve(A).then((function(N){L||(L=!0,v.resolve(k,N))}),(function(N){L||(L=!0,v.reject(k,N))}));return k}},{immediate:36}],38:[function(d,y,g){var p={};(0,d("./lib/utils/common").assign)(p,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),y.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,y,g){var p=d("./zlib/deflate"),w=d("./utils/common"),v=d("./utils/strings"),_=d("./zlib/messages"),T=d("./zlib/zstream"),F=Object.prototype.toString;function G(P){if(!(this instanceof G))return new G(P);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},P||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var U=p.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(U!==0)throw new Error(_[U]);if(M.header&&p.deflateSetHeader(this.strm,M.header),M.dictionary){var V;if(V=typeof M.dictionary=="string"?v.string2buf(M.dictionary):F.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(U=p.deflateSetDictionary(this.strm,V))!==0)throw new Error(_[U]);this._dict_set=!0}}function $(P,M){var U=new G(M);if(U.push(P,!0),U.err)throw U.msg||_[U.err];return U.result}G.prototype.push=function(P,M){var U,V,I=this.strm,E=this.options.chunkSize;if(this.ended)return!1;V=M===~~M?M:M===!0?4:0,typeof P=="string"?I.input=v.string2buf(P):F.call(P)==="[object ArrayBuffer]"?I.input=new Uint8Array(P):I.input=P,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new w.Buf8(E),I.next_out=0,I.avail_out=E),(U=p.deflate(I,V))!==1&&U!==0)return this.onEnd(U),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(w.shrinkBuf(I.output,I.next_out))):this.onData(w.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&U!==1);return V===4?(U=p.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===0):V!==2||(this.onEnd(0),!(I.avail_out=0))},G.prototype.onData=function(P){this.chunks.push(P)},G.prototype.onEnd=function(P){P===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},g.Deflate=G,g.deflate=$,g.deflateRaw=function(P,M){return(M=M||{}).raw=!0,$(P,M)},g.gzip=function(P,M){return(M=M||{}).gzip=!0,$(P,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,y,g){var p=d("./zlib/inflate"),w=d("./utils/common"),v=d("./utils/strings"),_=d("./zlib/constants"),T=d("./zlib/messages"),F=d("./zlib/zstream"),G=d("./zlib/gzheader"),$=Object.prototype.toString;function P(U){if(!(this instanceof P))return new P(U);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},U||{});var V=this.options;V.raw&&0<=V.windowBits&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),!(0<=V.windowBits&&V.windowBits<16)||U&&U.windowBits||(V.windowBits+=32),15<V.windowBits&&V.windowBits<48&&(15&V.windowBits)==0&&(V.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F,this.strm.avail_out=0;var I=p.inflateInit2(this.strm,V.windowBits);if(I!==_.Z_OK)throw new Error(T[I]);this.header=new G,p.inflateGetHeader(this.strm,this.header)}function M(U,V){var I=new P(V);if(I.push(U,!0),I.err)throw I.msg||T[I.err];return I.result}P.prototype.push=function(U,V){var I,E,L,A,S,k,N=this.strm,C=this.options.chunkSize,O=this.options.dictionary,D=!1;if(this.ended)return!1;E=V===~~V?V:V===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof U=="string"?N.input=v.binstring2buf(U):$.call(U)==="[object ArrayBuffer]"?N.input=new Uint8Array(U):N.input=U,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new w.Buf8(C),N.next_out=0,N.avail_out=C),(I=p.inflate(N,_.Z_NO_FLUSH))===_.Z_NEED_DICT&&O&&(k=typeof O=="string"?v.string2buf(O):$.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,I=p.inflateSetDictionary(this.strm,k)),I===_.Z_BUF_ERROR&&D===!0&&(I=_.Z_OK,D=!1),I!==_.Z_STREAM_END&&I!==_.Z_OK)return this.onEnd(I),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&I!==_.Z_STREAM_END&&(N.avail_in!==0||E!==_.Z_FINISH&&E!==_.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=v.utf8border(N.output,N.next_out),A=N.next_out-L,S=v.buf2string(N.output,L),N.next_out=A,N.avail_out=C-A,A&&w.arraySet(N.output,N.output,L,A,0),this.onData(S)):this.onData(w.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(D=!0)}while((0<N.avail_in||N.avail_out===0)&&I!==_.Z_STREAM_END);return I===_.Z_STREAM_END&&(E=_.Z_FINISH),E===_.Z_FINISH?(I=p.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===_.Z_OK):E!==_.Z_SYNC_FLUSH||(this.onEnd(_.Z_OK),!(N.avail_out=0))},P.prototype.onData=function(U){this.chunks.push(U)},P.prototype.onEnd=function(U){U===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},g.Inflate=P,g.inflate=M,g.inflateRaw=function(U,V){return(V=V||{}).raw=!0,M(U,V)},g.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,y,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(_){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var F=T.shift();if(F){if(typeof F!="object")throw new TypeError(F+"must be non-object");for(var G in F)F.hasOwnProperty(G)&&(_[G]=F[G])}}return _},g.shrinkBuf=function(_,T){return _.length===T?_:_.subarray?_.subarray(0,T):(_.length=T,_)};var w={arraySet:function(_,T,F,G,$){if(T.subarray&&_.subarray)_.set(T.subarray(F,F+G),$);else for(var P=0;P<G;P++)_[$+P]=T[F+P]},flattenChunks:function(_){var T,F,G,$,P,M;for(T=G=0,F=_.length;T<F;T++)G+=_[T].length;for(M=new Uint8Array(G),T=$=0,F=_.length;T<F;T++)P=_[T],M.set(P,$),$+=P.length;return M}},v={arraySet:function(_,T,F,G,$){for(var P=0;P<G;P++)_[$+P]=T[F+P]},flattenChunks:function(_){return[].concat.apply([],_)}};g.setTyped=function(_){_?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,w)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,v))},g.setTyped(p)},{}],42:[function(d,y,g){var p=d("./common"),w=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var _=new p.Buf8(256),T=0;T<256;T++)_[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function F(G,$){if($<65537&&(G.subarray&&v||!G.subarray&&w))return String.fromCharCode.apply(null,p.shrinkBuf(G,$));for(var P="",M=0;M<$;M++)P+=String.fromCharCode(G[M]);return P}_[254]=_[254]=1,g.string2buf=function(G){var $,P,M,U,V,I=G.length,E=0;for(U=0;U<I;U++)(64512&(P=G.charCodeAt(U)))==55296&&U+1<I&&(64512&(M=G.charCodeAt(U+1)))==56320&&(P=65536+(P-55296<<10)+(M-56320),U++),E+=P<128?1:P<2048?2:P<65536?3:4;for($=new p.Buf8(E),U=V=0;V<E;U++)(64512&(P=G.charCodeAt(U)))==55296&&U+1<I&&(64512&(M=G.charCodeAt(U+1)))==56320&&(P=65536+(P-55296<<10)+(M-56320),U++),P<128?$[V++]=P:(P<2048?$[V++]=192|P>>>6:(P<65536?$[V++]=224|P>>>12:($[V++]=240|P>>>18,$[V++]=128|P>>>12&63),$[V++]=128|P>>>6&63),$[V++]=128|63&P);return $},g.buf2binstring=function(G){return F(G,G.length)},g.binstring2buf=function(G){for(var $=new p.Buf8(G.length),P=0,M=$.length;P<M;P++)$[P]=G.charCodeAt(P);return $},g.buf2string=function(G,$){var P,M,U,V,I=$||G.length,E=new Array(2*I);for(P=M=0;P<I;)if((U=G[P++])<128)E[M++]=U;else if(4<(V=_[U]))E[M++]=65533,P+=V-1;else{for(U&=V===2?31:V===3?15:7;1<V&&P<I;)U=U<<6|63&G[P++],V--;1<V?E[M++]=65533:U<65536?E[M++]=U:(U-=65536,E[M++]=55296|U>>10&1023,E[M++]=56320|1023&U)}return F(E,M)},g.utf8border=function(G,$){var P;for(($=$||G.length)>G.length&&($=G.length),P=$-1;0<=P&&(192&G[P])==128;)P--;return P<0||P===0?$:P+_[G[P]]>$?P:$}},{"./common":41}],43:[function(d,y,g){y.exports=function(p,w,v,_){for(var T=65535&p|0,F=p>>>16&65535|0,G=0;v!==0;){for(v-=G=2e3<v?2e3:v;F=F+(T=T+w[_++]|0)|0,--G;);T%=65521,F%=65521}return T|F<<16|0}},{}],44:[function(d,y,g){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,y,g){var p=(function(){for(var w,v=[],_=0;_<256;_++){w=_;for(var T=0;T<8;T++)w=1&w?3988292384^w>>>1:w>>>1;v[_]=w}return v})();y.exports=function(w,v,_,T){var F=p,G=T+_;w^=-1;for(var $=T;$<G;$++)w=w>>>8^F[255&(w^v[$])];return-1^w}},{}],46:[function(d,y,g){var p,w=d("../utils/common"),v=d("./trees"),_=d("./adler32"),T=d("./crc32"),F=d("./messages"),G=-2,$=258,P=262,M=113;function U(H,J){return H.msg=F[J],J}function V(H){return(H<<1)-(4<H?9:0)}function I(H){for(var J=H.length;0<=--J;)H[J]=0}function E(H){var J=H.state,z=J.pending;z>H.avail_out&&(z=H.avail_out),z!==0&&(w.arraySet(H.output,J.pending_buf,J.pending_out,z,H.next_out),H.next_out+=z,J.pending_out+=z,H.total_out+=z,H.avail_out-=z,J.pending-=z,J.pending===0&&(J.pending_out=0))}function L(H,J){v._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,J),H.block_start=H.strstart,E(H.strm)}function A(H,J){H.pending_buf[H.pending++]=J}function S(H,J){H.pending_buf[H.pending++]=J>>>8&255,H.pending_buf[H.pending++]=255&J}function k(H,J){var z,B,Q=H.max_chain_length,oe=H.strstart,pe=H.prev_length,de=H.nice_match,ve=H.strstart>H.w_size-P?H.strstart-(H.w_size-P):0,ce=H.window,he=H.w_mask,fe=H.prev,ke=H.strstart+$,ye=ce[oe+pe-1],Re=ce[oe+pe];H.prev_length>=H.good_match&&(Q>>=2),de>H.lookahead&&(de=H.lookahead);do if(ce[(z=J)+pe]===Re&&ce[z+pe-1]===ye&&ce[z]===ce[oe]&&ce[++z]===ce[oe+1]){oe+=2,z++;do;while(ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&ce[++oe]===ce[++z]&&oe<ke);if(B=$-(ke-oe),oe=ke-$,pe<B){if(H.match_start=J,de<=(pe=B))break;ye=ce[oe+pe-1],Re=ce[oe+pe]}}while((J=fe[J&he])>ve&&--Q!=0);return pe<=H.lookahead?pe:H.lookahead}function N(H){var J,z,B,Q,oe,pe,de,ve,ce,he,fe=H.w_size;do{if(Q=H.window_size-H.lookahead-H.strstart,H.strstart>=fe+(fe-P)){for(w.arraySet(H.window,H.window,fe,fe,0),H.match_start-=fe,H.strstart-=fe,H.block_start-=fe,J=z=H.hash_size;B=H.head[--J],H.head[J]=fe<=B?B-fe:0,--z;);for(J=z=fe;B=H.prev[--J],H.prev[J]=fe<=B?B-fe:0,--z;);Q+=fe}if(H.strm.avail_in===0)break;if(pe=H.strm,de=H.window,ve=H.strstart+H.lookahead,he=void 0,(ce=Q)<(he=pe.avail_in)&&(he=ce),z=he===0?0:(pe.avail_in-=he,w.arraySet(de,pe.input,pe.next_in,he,ve),pe.state.wrap===1?pe.adler=_(pe.adler,de,he,ve):pe.state.wrap===2&&(pe.adler=T(pe.adler,de,he,ve)),pe.next_in+=he,pe.total_in+=he,he),H.lookahead+=z,H.lookahead+H.insert>=3)for(oe=H.strstart-H.insert,H.ins_h=H.window[oe],H.ins_h=(H.ins_h<<H.hash_shift^H.window[oe+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[oe+3-1])&H.hash_mask,H.prev[oe&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=oe,oe++,H.insert--,!(H.lookahead+H.insert<3)););}while(H.lookahead<P&&H.strm.avail_in!==0)}function C(H,J){for(var z,B;;){if(H.lookahead<P){if(N(H),H.lookahead<P&&J===0)return 1;if(H.lookahead===0)break}if(z=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,z=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),z!==0&&H.strstart-z<=H.w_size-P&&(H.match_length=k(H,z)),H.match_length>=3)if(B=v._tr_tally(H,H.strstart-H.match_start,H.match_length-3),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=3){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,z=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else B=v._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(B&&(L(H,!1),H.strm.avail_out===0))return 1}return H.insert=H.strstart<2?H.strstart:2,J===4?(L(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(L(H,!1),H.strm.avail_out===0)?1:2}function O(H,J){for(var z,B,Q;;){if(H.lookahead<P){if(N(H),H.lookahead<P&&J===0)return 1;if(H.lookahead===0)break}if(z=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,z=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=2,z!==0&&H.prev_length<H.max_lazy_match&&H.strstart-z<=H.w_size-P&&(H.match_length=k(H,z),H.match_length<=5&&(H.strategy===1||H.match_length===3&&4096<H.strstart-H.match_start)&&(H.match_length=2)),H.prev_length>=3&&H.match_length<=H.prev_length){for(Q=H.strstart+H.lookahead-3,B=v._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-3),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=Q&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,z=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=2,H.strstart++,B&&(L(H,!1),H.strm.avail_out===0))return 1}else if(H.match_available){if((B=v._tr_tally(H,0,H.window[H.strstart-1]))&&L(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return 1}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(B=v._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<2?H.strstart:2,J===4?(L(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(L(H,!1),H.strm.avail_out===0)?1:2}function D(H,J,z,B,Q){this.good_length=H,this.max_lazy=J,this.nice_length=z,this.max_chain=B,this.func=Q}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(H){var J;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=2,(J=H.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?42:M,H.adler=J.wrap===2?0:1,J.last_flush=0,v._tr_init(J),0):U(H,G)}function Z(H){var J=K(H);return J===0&&(function(z){z.window_size=2*z.w_size,I(z.head),z.max_lazy_match=p[z.level].max_lazy,z.good_match=p[z.level].good_length,z.nice_match=p[z.level].nice_length,z.max_chain_length=p[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0})(H.state),J}function ne(H,J,z,B,Q,oe){if(!H)return G;var pe=1;if(J===-1&&(J=6),B<0?(pe=0,B=-B):15<B&&(pe=2,B-=16),Q<1||9<Q||z!==8||B<8||15<B||J<0||9<J||oe<0||4<oe)return U(H,G);B===8&&(B=9);var de=new j;return(H.state=de).strm=H,de.wrap=pe,de.gzhead=null,de.w_bits=B,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=Q+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+3-1)/3),de.window=new w.Buf8(2*de.w_size),de.head=new w.Buf16(de.hash_size),de.prev=new w.Buf16(de.w_size),de.lit_bufsize=1<<Q+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new w.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=J,de.strategy=oe,de.method=z,Z(H)}p=[new D(0,0,0,0,(function(H,J){var z=65535;for(z>H.pending_buf_size-5&&(z=H.pending_buf_size-5);;){if(H.lookahead<=1){if(N(H),H.lookahead===0&&J===0)return 1;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var B=H.block_start+z;if((H.strstart===0||H.strstart>=B)&&(H.lookahead=H.strstart-B,H.strstart=B,L(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-P&&(L(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,J===4?(L(H,!0),H.strm.avail_out===0?3:4):(H.strstart>H.block_start&&(L(H,!1),H.strm.avail_out),1)})),new D(4,4,8,4,C),new D(4,5,16,8,C),new D(4,6,32,32,C),new D(4,4,16,16,O),new D(8,16,32,32,O),new D(8,16,128,128,O),new D(8,32,128,256,O),new D(32,128,258,1024,O),new D(32,258,258,4096,O)],g.deflateInit=function(H,J){return ne(H,J,8,15,8,0)},g.deflateInit2=ne,g.deflateReset=Z,g.deflateResetKeep=K,g.deflateSetHeader=function(H,J){return H&&H.state?H.state.wrap!==2?G:(H.state.gzhead=J,0):G},g.deflate=function(H,J){var z,B,Q,oe;if(!H||!H.state||5<J||J<0)return H?U(H,G):G;if(B=H.state,!H.output||!H.input&&H.avail_in!==0||B.status===666&&J!==4)return U(H,H.avail_out===0?-5:G);if(B.strm=H,z=B.last_flush,B.last_flush=J,B.status===42)if(B.wrap===2)H.adler=0,A(B,31),A(B,139),A(B,8),B.gzhead?(A(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),A(B,255&B.gzhead.time),A(B,B.gzhead.time>>8&255),A(B,B.gzhead.time>>16&255),A(B,B.gzhead.time>>24&255),A(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),A(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(A(B,255&B.gzhead.extra.length),A(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(H.adler=T(H.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(A(B,0),A(B,0),A(B,0),A(B,0),A(B,0),A(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),A(B,3),B.status=M);else{var pe=8+(B.w_bits-8<<4)<<8;pe|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(pe|=32),pe+=31-pe%31,B.status=M,S(B,pe),B.strstart!==0&&(S(B,H.adler>>>16),S(B,65535&H.adler)),H.adler=1}if(B.status===69)if(B.gzhead.extra){for(Q=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),E(H),Q=B.pending,B.pending!==B.pending_buf_size));)A(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){Q=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),E(H),Q=B.pending,B.pending===B.pending_buf_size)){oe=1;break}oe=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,A(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),oe===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){Q=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),E(H),Q=B.pending,B.pending===B.pending_buf_size)){oe=1;break}oe=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,A(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>Q&&(H.adler=T(H.adler,B.pending_buf,B.pending-Q,Q)),oe===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&E(H),B.pending+2<=B.pending_buf_size&&(A(B,255&H.adler),A(B,H.adler>>8&255),H.adler=0,B.status=M)):B.status=M),B.pending!==0){if(E(H),H.avail_out===0)return B.last_flush=-1,0}else if(H.avail_in===0&&V(J)<=V(z)&&J!==4)return U(H,-5);if(B.status===666&&H.avail_in!==0)return U(H,-5);if(H.avail_in!==0||B.lookahead!==0||J!==0&&B.status!==666){var de=B.strategy===2?(function(ve,ce){for(var he;;){if(ve.lookahead===0&&(N(ve),ve.lookahead===0)){if(ce===0)return 1;break}if(ve.match_length=0,he=v._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++,he&&(L(ve,!1),ve.strm.avail_out===0))return 1}return ve.insert=0,ce===4?(L(ve,!0),ve.strm.avail_out===0?3:4):ve.last_lit&&(L(ve,!1),ve.strm.avail_out===0)?1:2})(B,J):B.strategy===3?(function(ve,ce){for(var he,fe,ke,ye,Re=ve.window;;){if(ve.lookahead<=$){if(N(ve),ve.lookahead<=$&&ce===0)return 1;if(ve.lookahead===0)break}if(ve.match_length=0,ve.lookahead>=3&&0<ve.strstart&&(fe=Re[ke=ve.strstart-1])===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]){ye=ve.strstart+$;do;while(fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&ke<ye);ve.match_length=$-(ye-ke),ve.match_length>ve.lookahead&&(ve.match_length=ve.lookahead)}if(ve.match_length>=3?(he=v._tr_tally(ve,1,ve.match_length-3),ve.lookahead-=ve.match_length,ve.strstart+=ve.match_length,ve.match_length=0):(he=v._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++),he&&(L(ve,!1),ve.strm.avail_out===0))return 1}return ve.insert=0,ce===4?(L(ve,!0),ve.strm.avail_out===0?3:4):ve.last_lit&&(L(ve,!1),ve.strm.avail_out===0)?1:2})(B,J):p[B.level].func(B,J);if(de!==3&&de!==4||(B.status=666),de===1||de===3)return H.avail_out===0&&(B.last_flush=-1),0;if(de===2&&(J===1?v._tr_align(B):J!==5&&(v._tr_stored_block(B,0,0,!1),J===3&&(I(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),E(H),H.avail_out===0))return B.last_flush=-1,0}return J!==4?0:B.wrap<=0?1:(B.wrap===2?(A(B,255&H.adler),A(B,H.adler>>8&255),A(B,H.adler>>16&255),A(B,H.adler>>24&255),A(B,255&H.total_in),A(B,H.total_in>>8&255),A(B,H.total_in>>16&255),A(B,H.total_in>>24&255)):(S(B,H.adler>>>16),S(B,65535&H.adler)),E(H),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?0:1)},g.deflateEnd=function(H){var J;return H&&H.state?(J=H.state.status)!==42&&J!==69&&J!==73&&J!==91&&J!==103&&J!==M&&J!==666?U(H,G):(H.state=null,J===M?U(H,-3):0):G},g.deflateSetDictionary=function(H,J){var z,B,Q,oe,pe,de,ve,ce,he=J.length;if(!H||!H.state||(oe=(z=H.state).wrap)===2||oe===1&&z.status!==42||z.lookahead)return G;for(oe===1&&(H.adler=_(H.adler,J,he,0)),z.wrap=0,he>=z.w_size&&(oe===0&&(I(z.head),z.strstart=0,z.block_start=0,z.insert=0),ce=new w.Buf8(z.w_size),w.arraySet(ce,J,he-z.w_size,z.w_size,0),J=ce,he=z.w_size),pe=H.avail_in,de=H.next_in,ve=H.input,H.avail_in=he,H.next_in=0,H.input=J,N(z);z.lookahead>=3;){for(B=z.strstart,Q=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[B+3-1])&z.hash_mask,z.prev[B&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=B,B++,--Q;);z.strstart=B,z.lookahead=2,N(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,H.next_in=de,H.input=ve,H.avail_in=pe,z.wrap=oe,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,y,g){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,y,g){y.exports=function(p,w){var v,_,T,F,G,$,P,M,U,V,I,E,L,A,S,k,N,C,O,D,j,K,Z,ne,H;v=p.state,_=p.next_in,ne=p.input,T=_+(p.avail_in-5),F=p.next_out,H=p.output,G=F-(w-p.avail_out),$=F+(p.avail_out-257),P=v.dmax,M=v.wsize,U=v.whave,V=v.wnext,I=v.window,E=v.hold,L=v.bits,A=v.lencode,S=v.distcode,k=(1<<v.lenbits)-1,N=(1<<v.distbits)-1;e:do{L<15&&(E+=ne[_++]<<L,L+=8,E+=ne[_++]<<L,L+=8),C=A[E&k];t:for(;;){if(E>>>=O=C>>>24,L-=O,(O=C>>>16&255)==0)H[F++]=65535&C;else{if(!(16&O)){if((64&O)==0){C=A[(65535&C)+(E&(1<<O)-1)];continue t}if(32&O){v.mode=12;break e}p.msg="invalid literal/length code",v.mode=30;break e}D=65535&C,(O&=15)&&(L<O&&(E+=ne[_++]<<L,L+=8),D+=E&(1<<O)-1,E>>>=O,L-=O),L<15&&(E+=ne[_++]<<L,L+=8,E+=ne[_++]<<L,L+=8),C=S[E&N];r:for(;;){if(E>>>=O=C>>>24,L-=O,!(16&(O=C>>>16&255))){if((64&O)==0){C=S[(65535&C)+(E&(1<<O)-1)];continue r}p.msg="invalid distance code",v.mode=30;break e}if(j=65535&C,L<(O&=15)&&(E+=ne[_++]<<L,(L+=8)<O&&(E+=ne[_++]<<L,L+=8)),P<(j+=E&(1<<O)-1)){p.msg="invalid distance too far back",v.mode=30;break e}if(E>>>=O,L-=O,(O=F-G)<j){if(U<(O=j-O)&&v.sane){p.msg="invalid distance too far back",v.mode=30;break e}if(Z=I,(K=0)===V){if(K+=M-O,O<D){for(D-=O;H[F++]=I[K++],--O;);K=F-j,Z=H}}else if(V<O){if(K+=M+V-O,(O-=V)<D){for(D-=O;H[F++]=I[K++],--O;);if(K=0,V<D){for(D-=O=V;H[F++]=I[K++],--O;);K=F-j,Z=H}}}else if(K+=V-O,O<D){for(D-=O;H[F++]=I[K++],--O;);K=F-j,Z=H}for(;2<D;)H[F++]=Z[K++],H[F++]=Z[K++],H[F++]=Z[K++],D-=3;D&&(H[F++]=Z[K++],1<D&&(H[F++]=Z[K++]))}else{for(K=F-j;H[F++]=H[K++],H[F++]=H[K++],H[F++]=H[K++],2<(D-=3););D&&(H[F++]=H[K++],1<D&&(H[F++]=H[K++]))}break}}break}}while(_<T&&F<$);_-=D=L>>3,E&=(1<<(L-=D<<3))-1,p.next_in=_,p.next_out=F,p.avail_in=_<T?T-_+5:5-(_-T),p.avail_out=F<$?$-F+257:257-(F-$),v.hold=E,v.bits=L}},{}],49:[function(d,y,g){var p=d("../utils/common"),w=d("./adler32"),v=d("./crc32"),_=d("./inffast"),T=d("./inftrees"),F=-2;function G(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(k){var N;return k&&k.state?(N=k.state,k.total_in=k.total_out=N.total=0,k.msg="",N.wrap&&(k.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new p.Buf32(852),N.distcode=N.distdyn=new p.Buf32(592),N.sane=1,N.back=-1,0):F}function M(k){var N;return k&&k.state?((N=k.state).wsize=0,N.whave=0,N.wnext=0,P(k)):F}function U(k,N){var C,O;return k&&k.state?(O=k.state,N<0?(C=0,N=-N):(C=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?F:(O.window!==null&&O.wbits!==N&&(O.window=null),O.wrap=C,O.wbits=N,M(k))):F}function V(k,N){var C,O;return k?(O=new $,(k.state=O).window=null,(C=U(k,N))!==0&&(k.state=null),C):F}var I,E,L=!0;function A(k){if(L){var N;for(I=new p.Buf32(512),E=new p.Buf32(32),N=0;N<144;)k.lens[N++]=8;for(;N<256;)k.lens[N++]=9;for(;N<280;)k.lens[N++]=7;for(;N<288;)k.lens[N++]=8;for(T(1,k.lens,0,288,I,0,k.work,{bits:9}),N=0;N<32;)k.lens[N++]=5;T(2,k.lens,0,32,E,0,k.work,{bits:5}),L=!1}k.lencode=I,k.lenbits=9,k.distcode=E,k.distbits=5}function S(k,N,C,O){var D,j=k.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new p.Buf8(j.wsize)),O>=j.wsize?(p.arraySet(j.window,N,C-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(O<(D=j.wsize-j.wnext)&&(D=O),p.arraySet(j.window,N,C-O,D,j.wnext),(O-=D)?(p.arraySet(j.window,N,C-O,O,0),j.wnext=O,j.whave=j.wsize):(j.wnext+=D,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=D))),0}g.inflateReset=M,g.inflateReset2=U,g.inflateResetKeep=P,g.inflateInit=function(k){return V(k,15)},g.inflateInit2=V,g.inflate=function(k,N){var C,O,D,j,K,Z,ne,H,J,z,B,Q,oe,pe,de,ve,ce,he,fe,ke,ye,Re,Ie,Oe,Fe=0,Se=new p.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return F;(C=k.state).mode===12&&(C.mode=13),K=k.next_out,D=k.output,ne=k.avail_out,j=k.next_in,O=k.input,Z=k.avail_in,H=C.hold,J=C.bits,z=Z,B=ne,Re=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;J<16;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(2&C.wrap&&H===35615){Se[C.check=0]=255&H,Se[1]=H>>>8&255,C.check=v(C.check,Se,2,0),J=H=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&H)<<8)+(H>>8))%31){k.msg="incorrect header check",C.mode=30;break}if((15&H)!=8){k.msg="unknown compression method",C.mode=30;break}if(J-=4,ye=8+(15&(H>>>=4)),C.wbits===0)C.wbits=ye;else if(ye>C.wbits){k.msg="invalid window size",C.mode=30;break}C.dmax=1<<ye,k.adler=C.check=1,C.mode=512&H?10:12,J=H=0;break;case 2:for(;J<16;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(C.flags=H,(255&C.flags)!=8){k.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){k.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=H>>8&1),512&C.flags&&(Se[0]=255&H,Se[1]=H>>>8&255,C.check=v(C.check,Se,2,0)),J=H=0,C.mode=3;case 3:for(;J<32;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.head&&(C.head.time=H),512&C.flags&&(Se[0]=255&H,Se[1]=H>>>8&255,Se[2]=H>>>16&255,Se[3]=H>>>24&255,C.check=v(C.check,Se,4,0)),J=H=0,C.mode=4;case 4:for(;J<16;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.head&&(C.head.xflags=255&H,C.head.os=H>>8),512&C.flags&&(Se[0]=255&H,Se[1]=H>>>8&255,C.check=v(C.check,Se,2,0)),J=H=0,C.mode=5;case 5:if(1024&C.flags){for(;J<16;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.length=H,C.head&&(C.head.extra_len=H),512&C.flags&&(Se[0]=255&H,Se[1]=H>>>8&255,C.check=v(C.check,Se,2,0)),J=H=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Z<(Q=C.length)&&(Q=Z),Q&&(C.head&&(ye=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),p.arraySet(C.head.extra,O,j,Q,ye)),512&C.flags&&(C.check=v(C.check,O,Q,j)),Z-=Q,j+=Q,C.length-=Q),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Z===0)break e;for(Q=0;ye=O[j+Q++],C.head&&ye&&C.length<65536&&(C.head.name+=String.fromCharCode(ye)),ye&&Q<Z;);if(512&C.flags&&(C.check=v(C.check,O,Q,j)),Z-=Q,j+=Q,ye)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Z===0)break e;for(Q=0;ye=O[j+Q++],C.head&&ye&&C.length<65536&&(C.head.comment+=String.fromCharCode(ye)),ye&&Q<Z;);if(512&C.flags&&(C.check=v(C.check,O,Q,j)),Z-=Q,j+=Q,ye)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;J<16;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(H!==(65535&C.check)){k.msg="header crc mismatch",C.mode=30;break}J=H=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),k.adler=C.check=0,C.mode=12;break;case 10:for(;J<32;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}k.adler=C.check=G(H),J=H=0,C.mode=11;case 11:if(C.havedict===0)return k.next_out=K,k.avail_out=ne,k.next_in=j,k.avail_in=Z,C.hold=H,C.bits=J,2;k.adler=C.check=1,C.mode=12;case 12:if(N===5||N===6)break e;case 13:if(C.last){H>>>=7&J,J-=7&J,C.mode=27;break}for(;J<3;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}switch(C.last=1&H,J-=1,3&(H>>>=1)){case 0:C.mode=14;break;case 1:if(A(C),C.mode=20,N!==6)break;H>>>=2,J-=2;break e;case 2:C.mode=17;break;case 3:k.msg="invalid block type",C.mode=30}H>>>=2,J-=2;break;case 14:for(H>>>=7&J,J-=7&J;J<32;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if((65535&H)!=(H>>>16^65535)){k.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&H,J=H=0,C.mode=15,N===6)break e;case 15:C.mode=16;case 16:if(Q=C.length){if(Z<Q&&(Q=Z),ne<Q&&(Q=ne),Q===0)break e;p.arraySet(D,O,j,Q,K),Z-=Q,j+=Q,ne-=Q,K+=Q,C.length-=Q;break}C.mode=12;break;case 17:for(;J<14;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(C.nlen=257+(31&H),H>>>=5,J-=5,C.ndist=1+(31&H),H>>>=5,J-=5,C.ncode=4+(15&H),H>>>=4,J-=4,286<C.nlen||30<C.ndist){k.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;J<3;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.lens[Pe[C.have++]]=7&H,H>>>=3,J-=3}for(;C.have<19;)C.lens[Pe[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,Ie={bits:C.lenbits},Re=T(0,C.lens,0,19,C.lencode,0,C.work,Ie),C.lenbits=Ie.bits,Re){k.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;ve=(Fe=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,ce=65535&Fe,!((de=Fe>>>24)<=J);){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(ce<16)H>>>=de,J-=de,C.lens[C.have++]=ce;else{if(ce===16){for(Oe=de+2;J<Oe;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(H>>>=de,J-=de,C.have===0){k.msg="invalid bit length repeat",C.mode=30;break}ye=C.lens[C.have-1],Q=3+(3&H),H>>>=2,J-=2}else if(ce===17){for(Oe=de+3;J<Oe;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}J-=de,ye=0,Q=3+(7&(H>>>=de)),H>>>=3,J-=3}else{for(Oe=de+7;J<Oe;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}J-=de,ye=0,Q=11+(127&(H>>>=de)),H>>>=7,J-=7}if(C.have+Q>C.nlen+C.ndist){k.msg="invalid bit length repeat",C.mode=30;break}for(;Q--;)C.lens[C.have++]=ye}}if(C.mode===30)break;if(C.lens[256]===0){k.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,Ie={bits:C.lenbits},Re=T(1,C.lens,0,C.nlen,C.lencode,0,C.work,Ie),C.lenbits=Ie.bits,Re){k.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,Ie={bits:C.distbits},Re=T(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,Ie),C.distbits=Ie.bits,Re){k.msg="invalid distances set",C.mode=30;break}if(C.mode=20,N===6)break e;case 20:C.mode=21;case 21:if(6<=Z&&258<=ne){k.next_out=K,k.avail_out=ne,k.next_in=j,k.avail_in=Z,C.hold=H,C.bits=J,_(k,B),K=k.next_out,D=k.output,ne=k.avail_out,j=k.next_in,O=k.input,Z=k.avail_in,H=C.hold,J=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;ve=(Fe=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,ce=65535&Fe,!((de=Fe>>>24)<=J);){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(ve&&(240&ve)==0){for(he=de,fe=ve,ke=ce;ve=(Fe=C.lencode[ke+((H&(1<<he+fe)-1)>>he)])>>>16&255,ce=65535&Fe,!(he+(de=Fe>>>24)<=J);){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}H>>>=he,J-=he,C.back+=he}if(H>>>=de,J-=de,C.back+=de,C.length=ce,ve===0){C.mode=26;break}if(32&ve){C.back=-1,C.mode=12;break}if(64&ve){k.msg="invalid literal/length code",C.mode=30;break}C.extra=15&ve,C.mode=22;case 22:if(C.extra){for(Oe=C.extra;J<Oe;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.length+=H&(1<<C.extra)-1,H>>>=C.extra,J-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;ve=(Fe=C.distcode[H&(1<<C.distbits)-1])>>>16&255,ce=65535&Fe,!((de=Fe>>>24)<=J);){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if((240&ve)==0){for(he=de,fe=ve,ke=ce;ve=(Fe=C.distcode[ke+((H&(1<<he+fe)-1)>>he)])>>>16&255,ce=65535&Fe,!(he+(de=Fe>>>24)<=J);){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}H>>>=he,J-=he,C.back+=he}if(H>>>=de,J-=de,C.back+=de,64&ve){k.msg="invalid distance code",C.mode=30;break}C.offset=ce,C.extra=15&ve,C.mode=24;case 24:if(C.extra){for(Oe=C.extra;J<Oe;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}C.offset+=H&(1<<C.extra)-1,H>>>=C.extra,J-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){k.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ne===0)break e;if(Q=B-ne,C.offset>Q){if((Q=C.offset-Q)>C.whave&&C.sane){k.msg="invalid distance too far back",C.mode=30;break}oe=Q>C.wnext?(Q-=C.wnext,C.wsize-Q):C.wnext-Q,Q>C.length&&(Q=C.length),pe=C.window}else pe=D,oe=K-C.offset,Q=C.length;for(ne<Q&&(Q=ne),ne-=Q,C.length-=Q;D[K++]=pe[oe++],--Q;);C.length===0&&(C.mode=21);break;case 26:if(ne===0)break e;D[K++]=C.length,ne--,C.mode=21;break;case 27:if(C.wrap){for(;J<32;){if(Z===0)break e;Z--,H|=O[j++]<<J,J+=8}if(B-=ne,k.total_out+=B,C.total+=B,B&&(k.adler=C.check=C.flags?v(C.check,D,B,K-B):w(C.check,D,B,K-B)),B=ne,(C.flags?H:G(H))!==C.check){k.msg="incorrect data check",C.mode=30;break}J=H=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;J<32;){if(Z===0)break e;Z--,H+=O[j++]<<J,J+=8}if(H!==(4294967295&C.total)){k.msg="incorrect length check",C.mode=30;break}J=H=0}C.mode=29;case 29:Re=1;break e;case 30:Re=-3;break e;case 31:return-4;case 32:default:return F}return k.next_out=K,k.avail_out=ne,k.next_in=j,k.avail_in=Z,C.hold=H,C.bits=J,(C.wsize||B!==k.avail_out&&C.mode<30&&(C.mode<27||N!==4))&&S(k,k.output,k.next_out,B-k.avail_out)?(C.mode=31,-4):(z-=k.avail_in,B-=k.avail_out,k.total_in+=z,k.total_out+=B,C.total+=B,C.wrap&&B&&(k.adler=C.check=C.flags?v(C.check,D,B,k.next_out-B):w(C.check,D,B,k.next_out-B)),k.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(z==0&&B===0||N===4)&&Re===0&&(Re=-5),Re)},g.inflateEnd=function(k){if(!k||!k.state)return F;var N=k.state;return N.window&&(N.window=null),k.state=null,0},g.inflateGetHeader=function(k,N){var C;return k&&k.state?(2&(C=k.state).wrap)==0?F:((C.head=N).done=!1,0):F},g.inflateSetDictionary=function(k,N){var C,O=N.length;return k&&k.state?(C=k.state).wrap!==0&&C.mode!==11?F:C.mode===11&&w(1,N,O,0)!==C.check?-3:S(k,N,O,O)?(C.mode=31,-4):(C.havedict=1,0):F},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,y,g){var p=d("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(F,G,$,P,M,U,V,I){var E,L,A,S,k,N,C,O,D,j=I.bits,K=0,Z=0,ne=0,H=0,J=0,z=0,B=0,Q=0,oe=0,pe=0,de=null,ve=0,ce=new p.Buf16(16),he=new p.Buf16(16),fe=null,ke=0;for(K=0;K<=15;K++)ce[K]=0;for(Z=0;Z<P;Z++)ce[G[$+Z]]++;for(J=j,H=15;1<=H&&ce[H]===0;H--);if(H<J&&(J=H),H===0)return M[U++]=20971520,M[U++]=20971520,I.bits=1,0;for(ne=1;ne<H&&ce[ne]===0;ne++);for(J<ne&&(J=ne),K=Q=1;K<=15;K++)if(Q<<=1,(Q-=ce[K])<0)return-1;if(0<Q&&(F===0||H!==1))return-1;for(he[1]=0,K=1;K<15;K++)he[K+1]=he[K]+ce[K];for(Z=0;Z<P;Z++)G[$+Z]!==0&&(V[he[G[$+Z]]++]=Z);if(N=F===0?(de=fe=V,19):F===1?(de=w,ve-=257,fe=v,ke-=257,256):(de=_,fe=T,-1),K=ne,k=U,B=Z=pe=0,A=-1,S=(oe=1<<(z=J))-1,F===1&&852<oe||F===2&&592<oe)return 1;for(;;){for(C=K-B,D=V[Z]<N?(O=0,V[Z]):V[Z]>N?(O=fe[ke+V[Z]],de[ve+V[Z]]):(O=96,0),E=1<<K-B,ne=L=1<<z;M[k+(pe>>B)+(L-=E)]=C<<24|O<<16|D|0,L!==0;);for(E=1<<K-1;pe&E;)E>>=1;if(E!==0?(pe&=E-1,pe+=E):pe=0,Z++,--ce[K]==0){if(K===H)break;K=G[$+V[Z]]}if(J<K&&(pe&S)!==A){for(B===0&&(B=J),k+=ne,Q=1<<(z=K-B);z+B<H&&!((Q-=ce[z+B])<=0);)z++,Q<<=1;if(oe+=1<<z,F===1&&852<oe||F===2&&592<oe)return 1;M[A=pe&S]=J<<24|z<<16|k-U|0}}return pe!==0&&(M[k+pe]=K-B<<24|64<<16|0),I.bits=J,0}},{"../utils/common":41}],51:[function(d,y,g){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,y,g){var p=d("../utils/common");function w(fe){for(var ke=fe.length;0<=--ke;)fe[ke]=0}var v=256,_=286,T=30,F=15,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(576);w(U);var V=new Array(60);w(V);var I=new Array(512);w(I);var E=new Array(256);w(E);var L=new Array(29);w(L);var A,S,k,N=new Array(T);function C(fe,ke,ye,Re,Ie){this.static_tree=fe,this.extra_bits=ke,this.extra_base=ye,this.elems=Re,this.max_length=Ie,this.has_stree=fe&&fe.length}function O(fe,ke){this.dyn_tree=fe,this.max_code=0,this.stat_desc=ke}function D(fe){return fe<256?I[fe]:I[256+(fe>>>7)]}function j(fe,ke){fe.pending_buf[fe.pending++]=255&ke,fe.pending_buf[fe.pending++]=ke>>>8&255}function K(fe,ke,ye){fe.bi_valid>16-ye?(fe.bi_buf|=ke<<fe.bi_valid&65535,j(fe,fe.bi_buf),fe.bi_buf=ke>>16-fe.bi_valid,fe.bi_valid+=ye-16):(fe.bi_buf|=ke<<fe.bi_valid&65535,fe.bi_valid+=ye)}function Z(fe,ke,ye){K(fe,ye[2*ke],ye[2*ke+1])}function ne(fe,ke){for(var ye=0;ye|=1&fe,fe>>>=1,ye<<=1,0<--ke;);return ye>>>1}function H(fe,ke,ye){var Re,Ie,Oe=new Array(16),Fe=0;for(Re=1;Re<=F;Re++)Oe[Re]=Fe=Fe+ye[Re-1]<<1;for(Ie=0;Ie<=ke;Ie++){var Se=fe[2*Ie+1];Se!==0&&(fe[2*Ie]=ne(Oe[Se]++,Se))}}function J(fe){var ke;for(ke=0;ke<_;ke++)fe.dyn_ltree[2*ke]=0;for(ke=0;ke<T;ke++)fe.dyn_dtree[2*ke]=0;for(ke=0;ke<19;ke++)fe.bl_tree[2*ke]=0;fe.dyn_ltree[512]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}function z(fe){8<fe.bi_valid?j(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}function B(fe,ke,ye,Re){var Ie=2*ke,Oe=2*ye;return fe[Ie]<fe[Oe]||fe[Ie]===fe[Oe]&&Re[ke]<=Re[ye]}function Q(fe,ke,ye){for(var Re=fe.heap[ye],Ie=ye<<1;Ie<=fe.heap_len&&(Ie<fe.heap_len&&B(ke,fe.heap[Ie+1],fe.heap[Ie],fe.depth)&&Ie++,!B(ke,Re,fe.heap[Ie],fe.depth));)fe.heap[ye]=fe.heap[Ie],ye=Ie,Ie<<=1;fe.heap[ye]=Re}function oe(fe,ke,ye){var Re,Ie,Oe,Fe,Se=0;if(fe.last_lit!==0)for(;Re=fe.pending_buf[fe.d_buf+2*Se]<<8|fe.pending_buf[fe.d_buf+2*Se+1],Ie=fe.pending_buf[fe.l_buf+Se],Se++,Re===0?Z(fe,Ie,ke):(Z(fe,(Oe=E[Ie])+v+1,ke),(Fe=G[Oe])!==0&&K(fe,Ie-=L[Oe],Fe),Z(fe,Oe=D(--Re),ye),(Fe=$[Oe])!==0&&K(fe,Re-=N[Oe],Fe)),Se<fe.last_lit;);Z(fe,256,ke)}function pe(fe,ke){var ye,Re,Ie,Oe=ke.dyn_tree,Fe=ke.stat_desc.static_tree,Se=ke.stat_desc.has_stree,Pe=ke.stat_desc.elems,He=-1;for(fe.heap_len=0,fe.heap_max=573,ye=0;ye<Pe;ye++)Oe[2*ye]!==0?(fe.heap[++fe.heap_len]=He=ye,fe.depth[ye]=0):Oe[2*ye+1]=0;for(;fe.heap_len<2;)Oe[2*(Ie=fe.heap[++fe.heap_len]=He<2?++He:0)]=1,fe.depth[Ie]=0,fe.opt_len--,Se&&(fe.static_len-=Fe[2*Ie+1]);for(ke.max_code=He,ye=fe.heap_len>>1;1<=ye;ye--)Q(fe,Oe,ye);for(Ie=Pe;ye=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],Q(fe,Oe,1),Re=fe.heap[1],fe.heap[--fe.heap_max]=ye,fe.heap[--fe.heap_max]=Re,Oe[2*Ie]=Oe[2*ye]+Oe[2*Re],fe.depth[Ie]=(fe.depth[ye]>=fe.depth[Re]?fe.depth[ye]:fe.depth[Re])+1,Oe[2*ye+1]=Oe[2*Re+1]=Ie,fe.heap[1]=Ie++,Q(fe,Oe,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],(function(Ze,at){var Je,lt,ut,Ut,ft,st,mt=at.dyn_tree,At=at.max_code,dt=at.stat_desc.static_tree,Yt=at.stat_desc.has_stree,zt=at.stat_desc.extra_bits,St=at.stat_desc.extra_base,nr=at.stat_desc.max_length,Tt=0;for(Ut=0;Ut<=F;Ut++)Ze.bl_count[Ut]=0;for(mt[2*Ze.heap[Ze.heap_max]+1]=0,Je=Ze.heap_max+1;Je<573;Je++)nr<(Ut=mt[2*mt[2*(lt=Ze.heap[Je])+1]+1]+1)&&(Ut=nr,Tt++),mt[2*lt+1]=Ut,At<lt||(Ze.bl_count[Ut]++,ft=0,St<=lt&&(ft=zt[lt-St]),st=mt[2*lt],Ze.opt_len+=st*(Ut+ft),Yt&&(Ze.static_len+=st*(dt[2*lt+1]+ft)));if(Tt!==0){do{for(Ut=nr-1;Ze.bl_count[Ut]===0;)Ut--;Ze.bl_count[Ut]--,Ze.bl_count[Ut+1]+=2,Ze.bl_count[nr]--,Tt-=2}while(0<Tt);for(Ut=nr;Ut!==0;Ut--)for(lt=Ze.bl_count[Ut];lt!==0;)At<(ut=Ze.heap[--Je])||(mt[2*ut+1]!==Ut&&(Ze.opt_len+=(Ut-mt[2*ut+1])*mt[2*ut],mt[2*ut+1]=Ut),lt--)}})(fe,ke),H(Oe,He,fe.bl_count)}function de(fe,ke,ye){var Re,Ie,Oe=-1,Fe=ke[1],Se=0,Pe=7,He=4;for(Fe===0&&(Pe=138,He=3),ke[2*(ye+1)+1]=65535,Re=0;Re<=ye;Re++)Ie=Fe,Fe=ke[2*(Re+1)+1],++Se<Pe&&Ie===Fe||(Se<He?fe.bl_tree[2*Ie]+=Se:Ie!==0?(Ie!==Oe&&fe.bl_tree[2*Ie]++,fe.bl_tree[32]++):Se<=10?fe.bl_tree[34]++:fe.bl_tree[36]++,Oe=Ie,He=(Se=0)===Fe?(Pe=138,3):Ie===Fe?(Pe=6,3):(Pe=7,4))}function ve(fe,ke,ye){var Re,Ie,Oe=-1,Fe=ke[1],Se=0,Pe=7,He=4;for(Fe===0&&(Pe=138,He=3),Re=0;Re<=ye;Re++)if(Ie=Fe,Fe=ke[2*(Re+1)+1],!(++Se<Pe&&Ie===Fe)){if(Se<He)for(;Z(fe,Ie,fe.bl_tree),--Se!=0;);else Ie!==0?(Ie!==Oe&&(Z(fe,Ie,fe.bl_tree),Se--),Z(fe,16,fe.bl_tree),K(fe,Se-3,2)):Se<=10?(Z(fe,17,fe.bl_tree),K(fe,Se-3,3)):(Z(fe,18,fe.bl_tree),K(fe,Se-11,7));Oe=Ie,He=(Se=0)===Fe?(Pe=138,3):Ie===Fe?(Pe=6,3):(Pe=7,4)}}w(N);var ce=!1;function he(fe,ke,ye,Re){K(fe,0+(Re?1:0),3),(function(Ie,Oe,Fe,Se){z(Ie),j(Ie,Fe),j(Ie,~Fe),p.arraySet(Ie.pending_buf,Ie.window,Oe,Fe,Ie.pending),Ie.pending+=Fe})(fe,ke,ye)}g._tr_init=function(fe){ce||((function(){var ke,ye,Re,Ie,Oe,Fe=new Array(16);for(Ie=Re=0;Ie<28;Ie++)for(L[Ie]=Re,ke=0;ke<1<<G[Ie];ke++)E[Re++]=Ie;for(E[Re-1]=Ie,Ie=Oe=0;Ie<16;Ie++)for(N[Ie]=Oe,ke=0;ke<1<<$[Ie];ke++)I[Oe++]=Ie;for(Oe>>=7;Ie<T;Ie++)for(N[Ie]=Oe<<7,ke=0;ke<1<<$[Ie]-7;ke++)I[256+Oe++]=Ie;for(ye=0;ye<=F;ye++)Fe[ye]=0;for(ke=0;ke<=143;)U[2*ke+1]=8,ke++,Fe[8]++;for(;ke<=255;)U[2*ke+1]=9,ke++,Fe[9]++;for(;ke<=279;)U[2*ke+1]=7,ke++,Fe[7]++;for(;ke<=287;)U[2*ke+1]=8,ke++,Fe[8]++;for(H(U,287,Fe),ke=0;ke<T;ke++)V[2*ke+1]=5,V[2*ke]=ne(ke,5);A=new C(U,G,257,_,F),S=new C(V,$,0,T,F),k=new C(new Array(0),P,0,19,7)})(),ce=!0),fe.l_desc=new O(fe.dyn_ltree,A),fe.d_desc=new O(fe.dyn_dtree,S),fe.bl_desc=new O(fe.bl_tree,k),fe.bi_buf=0,fe.bi_valid=0,J(fe)},g._tr_stored_block=he,g._tr_flush_block=function(fe,ke,ye,Re){var Ie,Oe,Fe=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=(function(Se){var Pe,He=4093624447;for(Pe=0;Pe<=31;Pe++,He>>>=1)if(1&He&&Se.dyn_ltree[2*Pe]!==0)return 0;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return 1;for(Pe=32;Pe<v;Pe++)if(Se.dyn_ltree[2*Pe]!==0)return 1;return 0})(fe)),pe(fe,fe.l_desc),pe(fe,fe.d_desc),Fe=(function(Se){var Pe;for(de(Se,Se.dyn_ltree,Se.l_desc.max_code),de(Se,Se.dyn_dtree,Se.d_desc.max_code),pe(Se,Se.bl_desc),Pe=18;3<=Pe&&Se.bl_tree[2*M[Pe]+1]===0;Pe--);return Se.opt_len+=3*(Pe+1)+5+5+4,Pe})(fe),Ie=fe.opt_len+3+7>>>3,(Oe=fe.static_len+3+7>>>3)<=Ie&&(Ie=Oe)):Ie=Oe=ye+5,ye+4<=Ie&&ke!==-1?he(fe,ke,ye,Re):fe.strategy===4||Oe===Ie?(K(fe,2+(Re?1:0),3),oe(fe,U,V)):(K(fe,4+(Re?1:0),3),(function(Se,Pe,He,Ze){var at;for(K(Se,Pe-257,5),K(Se,He-1,5),K(Se,Ze-4,4),at=0;at<Ze;at++)K(Se,Se.bl_tree[2*M[at]+1],3);ve(Se,Se.dyn_ltree,Pe-1),ve(Se,Se.dyn_dtree,He-1)})(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,Fe+1),oe(fe,fe.dyn_ltree,fe.dyn_dtree)),J(fe),Re&&z(fe)},g._tr_tally=function(fe,ke,ye){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=ke>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&ke,fe.pending_buf[fe.l_buf+fe.last_lit]=255&ye,fe.last_lit++,ke===0?fe.dyn_ltree[2*ye]++:(fe.matches++,ke--,fe.dyn_ltree[2*(E[ye]+v+1)]++,fe.dyn_dtree[2*D(ke)]++),fe.last_lit===fe.lit_bufsize-1},g._tr_align=function(fe){K(fe,2,3),Z(fe,256,U),(function(ke){ke.bi_valid===16?(j(ke,ke.bi_buf),ke.bi_buf=0,ke.bi_valid=0):8<=ke.bi_valid&&(ke.pending_buf[ke.pending++]=255&ke.bi_buf,ke.bi_buf>>=8,ke.bi_valid-=8)})(fe)}},{"../utils/common":41}],53:[function(d,y,g){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,y,g){(function(p){(function(w,v){if(!w.setImmediate){var _,T,F,G,$=1,P={},M=!1,U=w.document,V=Object.getPrototypeOf&&Object.getPrototypeOf(w);V=V&&V.setTimeout?V:w,_={}.toString.call(w.process)==="[object process]"?function(A){s.nextTick((function(){E(A)}))}:(function(){if(w.postMessage&&!w.importScripts){var A=!0,S=w.onmessage;return w.onmessage=function(){A=!1},w.postMessage("","*"),w.onmessage=S,A}})()?(G="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",L,!1):w.attachEvent("onmessage",L),function(A){w.postMessage(G+A,"*")}):w.MessageChannel?((F=new MessageChannel).port1.onmessage=function(A){E(A.data)},function(A){F.port2.postMessage(A)}):U&&"onreadystatechange"in U.createElement("script")?(T=U.documentElement,function(A){var S=U.createElement("script");S.onreadystatechange=function(){E(A),S.onreadystatechange=null,T.removeChild(S),S=null},T.appendChild(S)}):function(A){setTimeout(E,0,A)},V.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),k=0;k<S.length;k++)S[k]=arguments[k+1];var N={callback:A,args:S};return P[$]=N,_($),$++},V.clearImmediate=I}function I(A){delete P[A]}function E(A){if(M)setTimeout(E,0,A);else{var S=P[A];if(S){M=!0;try{(function(k){var N=k.callback,C=k.args;switch(C.length){case 0:N();break;case 1:N(C[0]);break;case 2:N(C[0],C[1]);break;case 3:N(C[0],C[1],C[2]);break;default:N.apply(void 0,C)}})(S)}finally{I(A),M=!1}}}}function L(A){A.source===w&&typeof A.data=="string"&&A.data.indexOf(G)===0&&E(+A.data.slice(G.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,l=RegExp(o.source),c=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,u=c||a||Function("return this")(),f=Object.prototype.toString,h=u.Symbol,d=h?h.prototype:void 0,y=d?d.toString:void 0;function g(p){if(typeof p=="string")return p;if((function(v){return typeof v=="symbol"||(function(_){return!!_&&typeof _=="object"})(v)&&f.call(v)=="[object Symbol]"})(p))return y?y.call(p):"";var w=p+"";return w=="0"&&1/p==-1/0?"-0":w}n.exports=function(p){var w;return(p=(w=p)==null?"":g(w))&&l.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(s){(function(){var o="[object Arguments]",l="[object Map]",c="[object Object]",a="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[l]=w["[object Number]"]=w[c]=w["[object RegExp]"]=w[a]=w["[object String]"]=w["[object WeakMap]"]=!1;var v=typeof s=="object"&&s&&s.Object===Object&&s,_=typeof self=="object"&&self&&self.Object===Object&&self,T=v||_||Function("return this")(),F=typeof i=="object"&&i&&!i.nodeType&&i,G=F&&typeof n=="object"&&n&&!n.nodeType&&n,$=G&&G.exports===F&&v.process,P=(function(){try{return $&&$.binding("util")}catch{}})(),M=P&&P.isTypedArray;function U(Ae,$e,pt,Nt){for(var Gt=-1,Pt=Ae?Ae.length:0;++Gt<Pt;){var Ft=Ae[Gt];$e(Nt,Ft,pt(Ft),Ae)}return Nt}function V(Ae,$e){for(var pt=-1,Nt=Ae?Ae.length:0;++pt<Nt;)if($e(Ae[pt],pt,Ae))return!0;return!1}function I(Ae){var $e=!1;if(Ae!=null&&typeof Ae.toString!="function")try{$e=!!(Ae+"")}catch{}return $e}function E(Ae){var $e=-1,pt=Array(Ae.size);return Ae.forEach((function(Nt,Gt){pt[++$e]=[Gt,Nt]})),pt}function L(Ae){var $e=-1,pt=Array(Ae.size);return Ae.forEach((function(Nt){pt[++$e]=Nt})),pt}var A,S,k,N=Array.prototype,C=Function.prototype,O=Object.prototype,D=T["__core-js_shared__"],j=(A=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",K=C.toString,Z=O.hasOwnProperty,ne=O.toString,H=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=T.Symbol,z=T.Uint8Array,B=O.propertyIsEnumerable,Q=N.splice,oe=(S=Object.keys,k=Object,function(Ae){return S(k(Ae))}),pe=jt(T,"DataView"),de=jt(T,"Map"),ve=jt(T,"Promise"),ce=jt(T,"Set"),he=jt(T,"WeakMap"),fe=jt(Object,"create"),ke=ze(pe),ye=ze(de),Re=ze(ve),Ie=ze(ce),Oe=ze(he),Fe=J?J.prototype:void 0,Se=Fe?Fe.valueOf:void 0,Pe=Fe?Fe.toString:void 0;function He(Ae){var $e=-1,pt=Ae?Ae.length:0;for(this.clear();++$e<pt;){var Nt=Ae[$e];this.set(Nt[0],Nt[1])}}function Ze(Ae){var $e=-1,pt=Ae?Ae.length:0;for(this.clear();++$e<pt;){var Nt=Ae[$e];this.set(Nt[0],Nt[1])}}function at(Ae){var $e=-1,pt=Ae?Ae.length:0;for(this.clear();++$e<pt;){var Nt=Ae[$e];this.set(Nt[0],Nt[1])}}function Je(Ae){var $e=-1,pt=Ae?Ae.length:0;for(this.__data__=new at;++$e<pt;)this.add(Ae[$e])}function lt(Ae){this.__data__=new Ze(Ae)}function ut(Ae,$e){var pt=ir(Ae)||dr(Ae)?(function(Ft,Gr){for(var Pr=-1,Tr=Array(Ft);++Pr<Ft;)Tr[Pr]=Gr(Pr);return Tr})(Ae.length,String):[],Nt=pt.length,Gt=!!Nt;for(var Pt in Ae)!Z.call(Ae,Pt)||Gt&&(Pt=="length"||br(Pt,Nt))||pt.push(Pt);return pt}function Ut(Ae,$e){for(var pt=Ae.length;pt--;)if(Lt(Ae[pt][0],$e))return pt;return-1}function ft(Ae,$e,pt,Nt){return mt(Ae,(function(Gt,Pt,Ft){$e(Nt,Gt,pt(Gt),Ft)})),Nt}He.prototype.clear=function(){this.__data__=fe?fe(null):{}},He.prototype.delete=function(Ae){return this.has(Ae)&&delete this.__data__[Ae]},He.prototype.get=function(Ae){var $e=this.__data__;if(fe){var pt=$e[Ae];return pt==="__lodash_hash_undefined__"?void 0:pt}return Z.call($e,Ae)?$e[Ae]:void 0},He.prototype.has=function(Ae){var $e=this.__data__;return fe?$e[Ae]!==void 0:Z.call($e,Ae)},He.prototype.set=function(Ae,$e){return this.__data__[Ae]=fe&&$e===void 0?"__lodash_hash_undefined__":$e,this},Ze.prototype.clear=function(){this.__data__=[]},Ze.prototype.delete=function(Ae){var $e=this.__data__,pt=Ut($e,Ae);return!(pt<0)&&(pt==$e.length-1?$e.pop():Q.call($e,pt,1),!0)},Ze.prototype.get=function(Ae){var $e=this.__data__,pt=Ut($e,Ae);return pt<0?void 0:$e[pt][1]},Ze.prototype.has=function(Ae){return Ut(this.__data__,Ae)>-1},Ze.prototype.set=function(Ae,$e){var pt=this.__data__,Nt=Ut(pt,Ae);return Nt<0?pt.push([Ae,$e]):pt[Nt][1]=$e,this},at.prototype.clear=function(){this.__data__={hash:new He,map:new(de||Ze),string:new He}},at.prototype.delete=function(Ae){return Dt(this,Ae).delete(Ae)},at.prototype.get=function(Ae){return Dt(this,Ae).get(Ae)},at.prototype.has=function(Ae){return Dt(this,Ae).has(Ae)},at.prototype.set=function(Ae,$e){return Dt(this,Ae).set(Ae,$e),this},Je.prototype.add=Je.prototype.push=function(Ae){return this.__data__.set(Ae,"__lodash_hash_undefined__"),this},Je.prototype.has=function(Ae){return this.__data__.has(Ae)},lt.prototype.clear=function(){this.__data__=new Ze},lt.prototype.delete=function(Ae){return this.__data__.delete(Ae)},lt.prototype.get=function(Ae){return this.__data__.get(Ae)},lt.prototype.has=function(Ae){return this.__data__.has(Ae)},lt.prototype.set=function(Ae,$e){var pt=this.__data__;if(pt instanceof Ze){var Nt=pt.__data__;if(!de||Nt.length<199)return Nt.push([Ae,$e]),this;pt=this.__data__=new at(Nt)}return pt.set(Ae,$e),this};var st,mt=(st=function(Ae,$e){return Ae&&At(Ae,$e,In)},function(Ae,$e){if(Ae==null)return Ae;if(!Wt(Ae))return st(Ae,$e);for(var pt=Ae.length,Nt=-1,Gt=Object(Ae);++Nt<pt&&$e(Gt[Nt],Nt,Gt)!==!1;);return Ae}),At=(function(Ae){return function($e,pt,Nt){for(var Gt=-1,Pt=Object($e),Ft=Nt($e),Gr=Ft.length;Gr--;){var Pr=Ft[++Gt];if(pt(Pt[Pr],Pr,Pt)===!1)break}return $e}})();function dt(Ae,$e){for(var pt=0,Nt=($e=bt($e,Ae)?[$e]:_t($e)).length;Ae!=null&&pt<Nt;)Ae=Ae[Le($e[pt++])];return pt&&pt==Nt?Ae:void 0}function Yt(Ae,$e){return Ae!=null&&$e in Object(Ae)}function zt(Ae,$e,pt,Nt,Gt){return Ae===$e||(Ae==null||$e==null||!Lr(Ae)&&!pn($e)?Ae!=Ae&&$e!=$e:(function(Pt,Ft,Gr,Pr,Tr,wr){var Rr=ir(Pt),Yr=ir(Ft),Jr="[object Array]",Fr="[object Array]";Rr||(Jr=(Jr=Zt(Pt))==o?c:Jr),Yr||(Fr=(Fr=Zt(Ft))==o?c:Fr);var En=Jr==c&&!I(Pt),kn=Fr==c&&!I(Ft),Hr=Jr==Fr;if(Hr&&!En)return wr||(wr=new lt),Rr||Ln(Pt)?sr(Pt,Ft,Gr,Pr,Tr,wr):(function(ln,rn,ci,Fs,ma,Or,cs){switch(ci){case"[object DataView]":if(ln.byteLength!=rn.byteLength||ln.byteOffset!=rn.byteOffset)return!1;ln=ln.buffer,rn=rn.buffer;case"[object ArrayBuffer]":return!(ln.byteLength!=rn.byteLength||!Fs(new z(ln),new z(rn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lt(+ln,+rn);case"[object Error]":return ln.name==rn.name&&ln.message==rn.message;case"[object RegExp]":case"[object String]":return ln==rn+"";case l:var Bs=E;case a:var Ki=2&Or;if(Bs||(Bs=L),ln.size!=rn.size&&!Ki)return!1;var Ia=cs.get(ln);if(Ia)return Ia==rn;Or|=1,cs.set(ln,rn);var Xi=sr(Bs(ln),Bs(rn),Fs,ma,Or,cs);return cs.delete(ln),Xi;case"[object Symbol]":if(Se)return Se.call(ln)==Se.call(rn)}return!1})(Pt,Ft,Jr,Gr,Pr,Tr,wr);if(!(2&Tr)){var Ls=En&&Z.call(Pt,"__wrapped__"),ls=kn&&Z.call(Ft,"__wrapped__");if(Ls||ls){var An=Ls?Pt.value():Pt,Ds=ls?Ft.value():Ft;return wr||(wr=new lt),Gr(An,Ds,Pr,Tr,wr)}}return Hr?(wr||(wr=new lt),(function(ln,rn,ci,Fs,ma,Or){var cs=2&ma,Bs=In(ln),Ki=Bs.length,Ia=In(rn).length;if(Ki!=Ia&&!cs)return!1;for(var Xi=Ki;Xi--;){var ui=Bs[Xi];if(!(cs?ui in rn:Z.call(rn,ui)))return!1}var ki=Or.get(ln);if(ki&&Or.get(rn))return ki==rn;var ks=!0;Or.set(ln,rn),Or.set(rn,ln);for(var Ei=cs;++Xi<Ki;){ui=Bs[Xi];var Es=ln[ui],es=rn[ui];if(Fs)var Pa=cs?Fs(es,Es,ui,rn,ln,Or):Fs(Es,es,ui,ln,rn,Or);if(!(Pa===void 0?Es===es||ci(Es,es,Fs,ma,Or):Pa)){ks=!1;break}Ei||(Ei=ui=="constructor")}if(ks&&!Ei){var Cr=ln.constructor,Vs=rn.constructor;Cr==Vs||!("constructor"in ln)||!("constructor"in rn)||typeof Cr=="function"&&Cr instanceof Cr&&typeof Vs=="function"&&Vs instanceof Vs||(ks=!1)}return Or.delete(ln),Or.delete(rn),ks})(Pt,Ft,Gr,Pr,Tr,wr)):!1})(Ae,$e,zt,pt,Nt,Gt))}function St(Ae){return!(!Lr(Ae)||(function($e){return!!j&&j in $e})(Ae))&&(mr(Ae)||I(Ae)?H:g).test(ze(Ae))}function nr(Ae){return typeof Ae=="function"?Ae:Ae==null?Wn:typeof Ae=="object"?ir(Ae)?(function(Nt,Gt){return bt(Nt)&&Ar(Gt)?Ir(Le(Nt),Gt):function(Pt){var Ft=(function(Gr,Pr,Tr){var wr=Gr==null?void 0:dt(Gr,Pr);return wr===void 0?Tr:wr})(Pt,Nt);return Ft===void 0&&Ft===Gt?(function(Gr,Pr){return Gr!=null&&(function(Tr,wr,Rr){wr=bt(wr,Tr)?[wr]:_t(wr);for(var Yr,Jr=-1,Fr=wr.length;++Jr<Fr;){var En=Le(wr[Jr]);if(!(Yr=Tr!=null&&Rr(Tr,En)))break;Tr=Tr[En]}return Yr||!!(Fr=Tr?Tr.length:0)&&hr(Fr)&&br(En,Fr)&&(ir(Tr)||dr(Tr))})(Gr,Pr,Yt)})(Pt,Nt):zt(Gt,Ft,void 0,3)}})(Ae[0],Ae[1]):(function(Nt){var Gt=(function(Pt){for(var Ft=In(Pt),Gr=Ft.length;Gr--;){var Pr=Ft[Gr],Tr=Pt[Pr];Ft[Gr]=[Pr,Tr,Ar(Tr)]}return Ft})(Nt);return Gt.length==1&&Gt[0][2]?Ir(Gt[0][0],Gt[0][1]):function(Pt){return Pt===Nt||(function(Ft,Gr,Pr,Tr){var wr=Pr.length,Rr=wr;if(Ft==null)return!Rr;for(Ft=Object(Ft);wr--;){var Yr=Pr[wr];if(Yr[2]?Yr[1]!==Ft[Yr[0]]:!(Yr[0]in Ft))return!1}for(;++wr<Rr;){var Jr=(Yr=Pr[wr])[0],Fr=Ft[Jr],En=Yr[1];if(Yr[2]){if(Fr===void 0&&!(Jr in Ft))return!1}else{var kn=new lt,Hr;if(!(Hr===void 0?zt(En,Fr,Tr,3,kn):Hr))return!1}}return!0})(Pt,Nt,Gt)}})(Ae):bt($e=Ae)?(pt=Le($e),function(Nt){return Nt==null?void 0:Nt[pt]}):(function(Nt){return function(Gt){return dt(Gt,Nt)}})($e);var $e,pt}function Tt(Ae){if(pt=($e=Ae)&&$e.constructor,Nt=typeof pt=="function"&&pt.prototype||O,$e!==Nt)return oe(Ae);var $e,pt,Nt,Gt=[];for(var Pt in Object(Ae))Z.call(Ae,Pt)&&Pt!="constructor"&&Gt.push(Pt);return Gt}function _t(Ae){return ir(Ae)?Ae:Kt(Ae)}function sr(Ae,$e,pt,Nt,Gt,Pt){var Ft=2&Gt,Gr=Ae.length,Pr=$e.length;if(Gr!=Pr&&!(Ft&&Pr>Gr))return!1;var Tr=Pt.get(Ae);if(Tr&&Pt.get($e))return Tr==$e;var wr=-1,Rr=!0,Yr=1&Gt?new Je:void 0;for(Pt.set(Ae,$e),Pt.set($e,Ae);++wr<Gr;){var Jr=Ae[wr],Fr=$e[wr];if(Nt)var En=Ft?Nt(Fr,Jr,wr,$e,Ae,Pt):Nt(Jr,Fr,wr,Ae,$e,Pt);if(En!==void 0){if(En)continue;Rr=!1;break}if(Yr){if(!V($e,(function(kn,Hr){if(!Yr.has(Hr)&&(Jr===kn||pt(Jr,kn,Nt,Gt,Pt)))return Yr.add(Hr)}))){Rr=!1;break}}else if(Jr!==Fr&&!pt(Jr,Fr,Nt,Gt,Pt)){Rr=!1;break}}return Pt.delete(Ae),Pt.delete($e),Rr}function Dt(Ae,$e){var pt,Nt,Gt=Ae.__data__;return((Nt=typeof(pt=$e))=="string"||Nt=="number"||Nt=="symbol"||Nt=="boolean"?pt!=="__proto__":pt===null)?Gt[typeof $e=="string"?"string":"hash"]:Gt.map}function jt(Ae,$e){var pt=(function(Nt,Gt){return Nt==null?void 0:Nt[Gt]})(Ae,$e);return St(pt)?pt:void 0}var Zt=function(Ae){return ne.call(Ae)};function br(Ae,$e){return!!($e=$e??9007199254740991)&&(typeof Ae=="number"||p.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<$e}function bt(Ae,$e){if(ir(Ae))return!1;var pt=typeof Ae;return!(pt!="number"&&pt!="symbol"&&pt!="boolean"&&Ae!=null&&!on(Ae))||f.test(Ae)||!u.test(Ae)||$e!=null&&Ae in Object($e)}function Ar(Ae){return Ae==Ae&&!Lr(Ae)}function Ir(Ae,$e){return function(pt){return pt!=null&&pt[Ae]===$e&&($e!==void 0||Ae in Object(pt))}}(pe&&Zt(new pe(new ArrayBuffer(1)))!="[object DataView]"||de&&Zt(new de)!=l||ve&&Zt(ve.resolve())!="[object Promise]"||ce&&Zt(new ce)!=a||he&&Zt(new he)!="[object WeakMap]")&&(Zt=function(Ae){var $e=ne.call(Ae),pt=$e==c?Ae.constructor:void 0,Nt=pt?ze(pt):void 0;if(Nt)switch(Nt){case ke:return"[object DataView]";case ye:return l;case Re:return"[object Promise]";case Ie:return a;case Oe:return"[object WeakMap]"}return $e});var Kt=er((function(Ae){var $e;Ae=($e=Ae)==null?"":(function(Nt){if(typeof Nt=="string")return Nt;if(on(Nt))return Pe?Pe.call(Nt):"";var Gt=Nt+"";return Gt=="0"&&1/Nt==-1/0?"-0":Gt})($e);var pt=[];return h.test(Ae)&&pt.push(""),Ae.replace(d,(function(Nt,Gt,Pt,Ft){pt.push(Pt?Ft.replace(y,"$1"):Gt||Nt)})),pt}));function Le(Ae){if(typeof Ae=="string"||on(Ae))return Ae;var $e=Ae+"";return $e=="0"&&1/Ae==-1/0?"-0":$e}function ze(Ae){if(Ae!=null){try{return K.call(Ae)}catch{}try{return Ae+""}catch{}}return""}var et,Et=(et=function(Ae,$e,pt){Z.call(Ae,pt)?Ae[pt].push($e):Ae[pt]=[$e]},function(Ae,$e){var pt=ir(Ae)?U:ft,Nt={};return pt(Ae,et,nr($e),Nt)});function er(Ae,$e){if(typeof Ae!="function"||$e&&typeof $e!="function")throw new TypeError("Expected a function");var pt=function(){var Nt=arguments,Gt=$e?$e.apply(this,Nt):Nt[0],Pt=pt.cache;if(Pt.has(Gt))return Pt.get(Gt);var Ft=Ae.apply(this,Nt);return pt.cache=Pt.set(Gt,Ft),Ft};return pt.cache=new(er.Cache||at),pt}function Lt(Ae,$e){return Ae===$e||Ae!=Ae&&$e!=$e}function dr(Ae){return(function($e){return pn($e)&&Wt($e)})(Ae)&&Z.call(Ae,"callee")&&(!B.call(Ae,"callee")||ne.call(Ae)==o)}er.Cache=at;var ir=Array.isArray;function Wt(Ae){return Ae!=null&&hr(Ae.length)&&!mr(Ae)}function mr(Ae){var $e=Lr(Ae)?ne.call(Ae):"";return $e=="[object Function]"||$e=="[object GeneratorFunction]"}function hr(Ae){return typeof Ae=="number"&&Ae>-1&&Ae%1==0&&Ae<=9007199254740991}function Lr(Ae){var $e=typeof Ae;return!!Ae&&($e=="object"||$e=="function")}function pn(Ae){return!!Ae&&typeof Ae=="object"}function on(Ae){return typeof Ae=="symbol"||pn(Ae)&&ne.call(Ae)=="[object Symbol]"}var Ln=M?(function(Ae){return function($e){return Ae($e)}})(M):function(Ae){return pn(Ae)&&hr(Ae.length)&&!!w[ne.call(Ae)]};function In(Ae){return Wt(Ae)?ut(Ae):Tt(Ae)}function Wn(Ae){return Ae}n.exports=Et}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||(function(l){return!!l&&typeof l=="object"})(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(s){(function(){var o="[object Arguments]",l="[object Map]",c="[object Object]",a="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[l]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[a]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof s=="object"&&s&&s.Object===Object&&s,y=typeof self=="object"&&self&&self.Object===Object&&self,g=d||y||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,w=p&&typeof n=="object"&&n&&!n.nodeType&&n,v=w&&w.exports===p,_=v&&d.process,T=(function(){try{return _&&_.binding&&_.binding("util")}catch{}})(),F=T&&T.isTypedArray;function G(Le,ze){for(var et=-1,Et=Le==null?0:Le.length;++et<Et;)if(ze(Le[et],et,Le))return!0;return!1}function $(Le){var ze=-1,et=Array(Le.size);return Le.forEach((function(Et,er){et[++ze]=[er,Et]})),et}function P(Le){var ze=-1,et=Array(Le.size);return Le.forEach((function(Et){et[++ze]=Et})),et}var M,U,V,I=Array.prototype,E=Function.prototype,L=Object.prototype,A=g["__core-js_shared__"],S=E.toString,k=L.hasOwnProperty,N=(M=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",C=L.toString,O=RegExp("^"+S.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?g.Buffer:void 0,j=g.Symbol,K=g.Uint8Array,Z=L.propertyIsEnumerable,ne=I.splice,H=j?j.toStringTag:void 0,J=Object.getOwnPropertySymbols,z=D?D.isBuffer:void 0,B=(U=Object.keys,V=Object,function(Le){return U(V(Le))}),Q=Yt(g,"DataView"),oe=Yt(g,"Map"),pe=Yt(g,"Promise"),de=Yt(g,"Set"),ve=Yt(g,"WeakMap"),ce=Yt(Object,"create"),he=Tt(Q),fe=Tt(oe),ke=Tt(pe),ye=Tt(de),Re=Tt(ve),Ie=j?j.prototype:void 0,Oe=Ie?Ie.valueOf:void 0;function Fe(Le){var ze=-1,et=Le==null?0:Le.length;for(this.clear();++ze<et;){var Et=Le[ze];this.set(Et[0],Et[1])}}function Se(Le){var ze=-1,et=Le==null?0:Le.length;for(this.clear();++ze<et;){var Et=Le[ze];this.set(Et[0],Et[1])}}function Pe(Le){var ze=-1,et=Le==null?0:Le.length;for(this.clear();++ze<et;){var Et=Le[ze];this.set(Et[0],Et[1])}}function He(Le){var ze=-1,et=Le==null?0:Le.length;for(this.__data__=new Pe;++ze<et;)this.add(Le[ze])}function Ze(Le){var ze=this.__data__=new Se(Le);this.size=ze.size}function at(Le,ze){var et=Dt(Le),Et=!et&&sr(Le),er=!et&&!Et&&jt(Le),Lt=!et&&!Et&&!er&&Ir(Le),dr=et||Et||er||Lt,ir=dr?(function(hr,Lr){for(var pn=-1,on=Array(hr);++pn<hr;)on[pn]=Lr(pn);return on})(Le.length,String):[],Wt=ir.length;for(var mr in Le)!k.call(Le,mr)||dr&&(mr=="length"||er&&(mr=="offset"||mr=="parent")||Lt&&(mr=="buffer"||mr=="byteLength"||mr=="byteOffset")||nr(mr,Wt))||ir.push(mr);return ir}function Je(Le,ze){for(var et=Le.length;et--;)if(_t(Le[et][0],ze))return et;return-1}function lt(Le){return Le==null?Le===void 0?"[object Undefined]":"[object Null]":H&&H in Object(Le)?(function(ze){var et=k.call(ze,H),Et=ze[H];try{ze[H]=void 0;var er=!0}catch{}var Lt=C.call(ze);return er&&(et?ze[H]=Et:delete ze[H]),Lt})(Le):(function(ze){return C.call(ze)})(Le)}function ut(Le){return Ar(Le)&&lt(Le)==o}function Ut(Le,ze,et,Et,er){return Le===ze||(Le==null||ze==null||!Ar(Le)&&!Ar(ze)?Le!=Le&&ze!=ze:(function(Lt,dr,ir,Wt,mr,hr){var Lr=Dt(Lt),pn=Dt(dr),on=Lr?"[object Array]":St(Lt),Ln=pn?"[object Array]":St(dr),In=(on=on==o?c:on)==c,Wn=(Ln=Ln==o?c:Ln)==c,Ae=on==Ln;if(Ae&&jt(Lt)){if(!jt(dr))return!1;Lr=!0,In=!1}if(Ae&&!In)return hr||(hr=new Ze),Lr||Ir(Lt)?mt(Lt,dr,ir,Wt,mr,hr):(function(Pt,Ft,Gr,Pr,Tr,wr,Rr){switch(Gr){case"[object DataView]":if(Pt.byteLength!=Ft.byteLength||Pt.byteOffset!=Ft.byteOffset)return!1;Pt=Pt.buffer,Ft=Ft.buffer;case"[object ArrayBuffer]":return!(Pt.byteLength!=Ft.byteLength||!wr(new K(Pt),new K(Ft)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _t(+Pt,+Ft);case"[object Error]":return Pt.name==Ft.name&&Pt.message==Ft.message;case"[object RegExp]":case"[object String]":return Pt==Ft+"";case l:var Yr=$;case a:var Jr=1&Pr;if(Yr||(Yr=P),Pt.size!=Ft.size&&!Jr)return!1;var Fr=Rr.get(Pt);if(Fr)return Fr==Ft;Pr|=2,Rr.set(Pt,Ft);var En=mt(Yr(Pt),Yr(Ft),Pr,Tr,wr,Rr);return Rr.delete(Pt),En;case"[object Symbol]":if(Oe)return Oe.call(Pt)==Oe.call(Ft)}return!1})(Lt,dr,on,ir,Wt,mr,hr);if(!(1&ir)){var $e=In&&k.call(Lt,"__wrapped__"),pt=Wn&&k.call(dr,"__wrapped__");if($e||pt){var Nt=$e?Lt.value():Lt,Gt=pt?dr.value():dr;return hr||(hr=new Ze),mr(Nt,Gt,ir,Wt,hr)}}return Ae?(hr||(hr=new Ze),(function(Pt,Ft,Gr,Pr,Tr,wr){var Rr=1&Gr,Yr=At(Pt),Jr=Yr.length,Fr=At(Ft).length;if(Jr!=Fr&&!Rr)return!1;for(var En=Jr;En--;){var kn=Yr[En];if(!(Rr?kn in Ft:k.call(Ft,kn)))return!1}var Hr=wr.get(Pt);if(Hr&&wr.get(Ft))return Hr==Ft;var Ls=!0;wr.set(Pt,Ft),wr.set(Ft,Pt);for(var ls=Rr;++En<Jr;){kn=Yr[En];var An=Pt[kn],Ds=Ft[kn];if(Pr)var ln=Rr?Pr(Ds,An,kn,Ft,Pt,wr):Pr(An,Ds,kn,Pt,Ft,wr);if(!(ln===void 0?An===Ds||Tr(An,Ds,Gr,Pr,wr):ln)){Ls=!1;break}ls||(ls=kn=="constructor")}if(Ls&&!ls){var rn=Pt.constructor,ci=Ft.constructor;rn==ci||!("constructor"in Pt)||!("constructor"in Ft)||typeof rn=="function"&&rn instanceof rn&&typeof ci=="function"&&ci instanceof ci||(Ls=!1)}return wr.delete(Pt),wr.delete(Ft),Ls})(Lt,dr,ir,Wt,mr,hr)):!1})(Le,ze,et,Et,Ut,er))}function ft(Le){return!(!bt(Le)||(function(ze){return!!N&&N in ze})(Le))&&(Zt(Le)?O:u).test(Tt(Le))}function st(Le){if(et=(ze=Le)&&ze.constructor,Et=typeof et=="function"&&et.prototype||L,ze!==Et)return B(Le);var ze,et,Et,er=[];for(var Lt in Object(Le))k.call(Le,Lt)&&Lt!="constructor"&&er.push(Lt);return er}function mt(Le,ze,et,Et,er,Lt){var dr=1&et,ir=Le.length,Wt=ze.length;if(ir!=Wt&&!(dr&&Wt>ir))return!1;var mr=Lt.get(Le);if(mr&&Lt.get(ze))return mr==ze;var hr=-1,Lr=!0,pn=2&et?new He:void 0;for(Lt.set(Le,ze),Lt.set(ze,Le);++hr<ir;){var on=Le[hr],Ln=ze[hr];if(Et)var In=dr?Et(Ln,on,hr,ze,Le,Lt):Et(on,Ln,hr,Le,ze,Lt);if(In!==void 0){if(In)continue;Lr=!1;break}if(pn){if(!G(ze,(function(Wn,Ae){if($e=Ae,!pn.has($e)&&(on===Wn||er(on,Wn,et,Et,Lt)))return pn.push(Ae);var $e}))){Lr=!1;break}}else if(on!==Ln&&!er(on,Ln,et,Et,Lt)){Lr=!1;break}}return Lt.delete(Le),Lt.delete(ze),Lr}function At(Le){return(function(ze,et,Et){var er=et(ze);return Dt(ze)?er:(function(Lt,dr){for(var ir=-1,Wt=dr.length,mr=Lt.length;++ir<Wt;)Lt[mr+ir]=dr[ir];return Lt})(er,Et(ze))})(Le,Kt,zt)}function dt(Le,ze){var et,Et,er=Le.__data__;return((Et=typeof(et=ze))=="string"||Et=="number"||Et=="symbol"||Et=="boolean"?et!=="__proto__":et===null)?er[typeof ze=="string"?"string":"hash"]:er.map}function Yt(Le,ze){var et=(function(Et,er){return Et==null?void 0:Et[er]})(Le,ze);return ft(et)?et:void 0}Fe.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},Fe.prototype.delete=function(Le){var ze=this.has(Le)&&delete this.__data__[Le];return this.size-=ze?1:0,ze},Fe.prototype.get=function(Le){var ze=this.__data__;if(ce){var et=ze[Le];return et==="__lodash_hash_undefined__"?void 0:et}return k.call(ze,Le)?ze[Le]:void 0},Fe.prototype.has=function(Le){var ze=this.__data__;return ce?ze[Le]!==void 0:k.call(ze,Le)},Fe.prototype.set=function(Le,ze){var et=this.__data__;return this.size+=this.has(Le)?0:1,et[Le]=ce&&ze===void 0?"__lodash_hash_undefined__":ze,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(Le){var ze=this.__data__,et=Je(ze,Le);return!(et<0)&&(et==ze.length-1?ze.pop():ne.call(ze,et,1),--this.size,!0)},Se.prototype.get=function(Le){var ze=this.__data__,et=Je(ze,Le);return et<0?void 0:ze[et][1]},Se.prototype.has=function(Le){return Je(this.__data__,Le)>-1},Se.prototype.set=function(Le,ze){var et=this.__data__,Et=Je(et,Le);return Et<0?(++this.size,et.push([Le,ze])):et[Et][1]=ze,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(oe||Se),string:new Fe}},Pe.prototype.delete=function(Le){var ze=dt(this,Le).delete(Le);return this.size-=ze?1:0,ze},Pe.prototype.get=function(Le){return dt(this,Le).get(Le)},Pe.prototype.has=function(Le){return dt(this,Le).has(Le)},Pe.prototype.set=function(Le,ze){var et=dt(this,Le),Et=et.size;return et.set(Le,ze),this.size+=et.size==Et?0:1,this},He.prototype.add=He.prototype.push=function(Le){return this.__data__.set(Le,"__lodash_hash_undefined__"),this},He.prototype.has=function(Le){return this.__data__.has(Le)},Ze.prototype.clear=function(){this.__data__=new Se,this.size=0},Ze.prototype.delete=function(Le){var ze=this.__data__,et=ze.delete(Le);return this.size=ze.size,et},Ze.prototype.get=function(Le){return this.__data__.get(Le)},Ze.prototype.has=function(Le){return this.__data__.has(Le)},Ze.prototype.set=function(Le,ze){var et=this.__data__;if(et instanceof Se){var Et=et.__data__;if(!oe||Et.length<199)return Et.push([Le,ze]),this.size=++et.size,this;et=this.__data__=new Pe(Et)}return et.set(Le,ze),this.size=et.size,this};var zt=J?function(Le){return Le==null?[]:(Le=Object(Le),(function(ze,et){for(var Et=-1,er=ze==null?0:ze.length,Lt=0,dr=[];++Et<er;){var ir=ze[Et];et(ir,Et,ze)&&(dr[Lt++]=ir)}return dr})(J(Le),(function(ze){return Z.call(Le,ze)})))}:function(){return[]},St=lt;function nr(Le,ze){return!!(ze=ze??9007199254740991)&&(typeof Le=="number"||f.test(Le))&&Le>-1&&Le%1==0&&Le<ze}function Tt(Le){if(Le!=null){try{return S.call(Le)}catch{}try{return Le+""}catch{}}return""}function _t(Le,ze){return Le===ze||Le!=Le&&ze!=ze}(Q&&St(new Q(new ArrayBuffer(1)))!="[object DataView]"||oe&&St(new oe)!=l||pe&&St(pe.resolve())!="[object Promise]"||de&&St(new de)!=a||ve&&St(new ve)!="[object WeakMap]")&&(St=function(Le){var ze=lt(Le),et=ze==c?Le.constructor:void 0,Et=et?Tt(et):"";if(Et)switch(Et){case he:return"[object DataView]";case fe:return l;case ke:return"[object Promise]";case ye:return a;case Re:return"[object WeakMap]"}return ze});var sr=ut((function(){return arguments})())?ut:function(Le){return Ar(Le)&&k.call(Le,"callee")&&!Z.call(Le,"callee")},Dt=Array.isArray,jt=z||function(){return!1};function Zt(Le){if(!bt(Le))return!1;var ze=lt(Le);return ze=="[object Function]"||ze=="[object GeneratorFunction]"||ze=="[object AsyncFunction]"||ze=="[object Proxy]"}function br(Le){return typeof Le=="number"&&Le>-1&&Le%1==0&&Le<=9007199254740991}function bt(Le){var ze=typeof Le;return Le!=null&&(ze=="object"||ze=="function")}function Ar(Le){return Le!=null&&typeof Le=="object"}var Ir=F?(function(Le){return function(ze){return Le(ze)}})(F):function(Le){return Ar(Le)&&br(Le.length)&&!!h[lt(Le)]};function Kt(Le){return(ze=Le)!=null&&br(ze.length)&&!Zt(ze)?at(Le):st(Le);var ze}n.exports=function(Le,ze){return Ut(Le,ze)}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),a=Object.prototype,u=a.hasOwnProperty,f=a.toString,h=c.Symbol,d=h?h.toStringTag:void 0;function y(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?(function(p){var w=u.call(p,d),v=p[d];try{p[d]=void 0;var _=!0}catch{}var T=f.call(p);return _&&(w?p[d]=v:delete p[d]),T})(g):(function(p){return f.call(p)})(g)}n.exports=function(g){if(!(function(w){var v=typeof w;return w!=null&&(v=="object"||v=="function")})(g))return!1;var p=y(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(s){return s==null}},{}],448:[function(e,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(e,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,a=l||c||Function("return this")();function u(j,K){return!!(j&&j.length)&&(function(Z,ne,H){if(ne!=ne)return(function(B,Q,oe,pe){for(var de=B.length,ve=oe+-1;++ve<de;)if(Q(B[ve],ve,B))return ve;return-1})(Z,f,H);for(var J=H-1,z=Z.length;++J<z;)if(Z[J]===ne)return J;return-1})(j,K,0)>-1}function f(j){return j!=j}function h(j,K){return j.has(K)}function d(j){var K=-1,Z=Array(j.size);return j.forEach((function(ne){Z[++K]=ne})),Z}var y,g=Array.prototype,p=Function.prototype,w=Object.prototype,v=a["__core-js_shared__"],_=(y=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",T=p.toString,F=w.hasOwnProperty,G=w.toString,$=RegExp("^"+T.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=g.splice,M=O(a,"Map"),U=O(a,"Set"),V=O(Object,"create");function I(j){var K=-1,Z=j?j.length:0;for(this.clear();++K<Z;){var ne=j[K];this.set(ne[0],ne[1])}}function E(j){var K=-1,Z=j?j.length:0;for(this.clear();++K<Z;){var ne=j[K];this.set(ne[0],ne[1])}}function L(j){var K=-1,Z=j?j.length:0;for(this.clear();++K<Z;){var ne=j[K];this.set(ne[0],ne[1])}}function A(j){var K=-1,Z=j?j.length:0;for(this.__data__=new L;++K<Z;)this.add(j[K])}function S(j,K){for(var Z,ne,H=j.length;H--;)if((Z=j[H][0])===(ne=K)||Z!=Z&&ne!=ne)return H;return-1}function k(j){return!(!D(j)||(K=j,_&&_ in K))&&((function(Z){var ne=D(Z)?G.call(Z):"";return ne=="[object Function]"||ne=="[object GeneratorFunction]"})(j)||(function(Z){var ne=!1;if(Z!=null&&typeof Z.toString!="function")try{ne=!!(Z+"")}catch{}return ne})(j)?$:o).test((function(Z){if(Z!=null){try{return T.call(Z)}catch{}try{return Z+""}catch{}}return""})(j));var K}I.prototype.clear=function(){this.__data__=V?V(null):{}},I.prototype.delete=function(j){return this.has(j)&&delete this.__data__[j]},I.prototype.get=function(j){var K=this.__data__;if(V){var Z=K[j];return Z==="__lodash_hash_undefined__"?void 0:Z}return F.call(K,j)?K[j]:void 0},I.prototype.has=function(j){var K=this.__data__;return V?K[j]!==void 0:F.call(K,j)},I.prototype.set=function(j,K){return this.__data__[j]=V&&K===void 0?"__lodash_hash_undefined__":K,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(j){var K=this.__data__,Z=S(K,j);return!(Z<0)&&(Z==K.length-1?K.pop():P.call(K,Z,1),!0)},E.prototype.get=function(j){var K=this.__data__,Z=S(K,j);return Z<0?void 0:K[Z][1]},E.prototype.has=function(j){return S(this.__data__,j)>-1},E.prototype.set=function(j,K){var Z=this.__data__,ne=S(Z,j);return ne<0?Z.push([j,K]):Z[ne][1]=K,this},L.prototype.clear=function(){this.__data__={hash:new I,map:new(M||E),string:new I}},L.prototype.delete=function(j){return C(this,j).delete(j)},L.prototype.get=function(j){return C(this,j).get(j)},L.prototype.has=function(j){return C(this,j).has(j)},L.prototype.set=function(j,K){return C(this,j).set(j,K),this},A.prototype.add=A.prototype.push=function(j){return this.__data__.set(j,"__lodash_hash_undefined__"),this},A.prototype.has=function(j){return this.__data__.has(j)};var N=U&&1/d(new U([,-0]))[1]==1/0?function(j){return new U(j)}:function(){};function C(j,K){var Z,ne,H=j.__data__;return((ne=typeof(Z=K))=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?Z!=="__proto__":Z===null)?H[typeof K=="string"?"string":"hash"]:H.map}function O(j,K){var Z=(function(ne,H){return ne==null?void 0:ne[H]})(j,K);return k(Z)?Z:void 0}function D(j){var K=typeof j;return!!j&&(K=="object"||K=="function")}n.exports=function(j){return j&&j.length?(function(K,Z,ne){var H=-1,J=u,z=K.length,B=!0,Q=[],oe=Q;if(z>=200){var pe=N(K);if(pe)return d(pe);B=!1,J=h,oe=new A}else oe=Q;e:for(;++H<z;){var de=K[H],ve=de;if(de=de!==0?de:0,B&&ve==ve){for(var ce=oe.length;ce--;)if(oe[ce]===ve)continue e;Q.push(de)}else J(oe,ve,ne)||(oe!==Q&&oe.push(ve),Q.push(de))}return Q})(j):[]}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var s=e("inherits"),o=e("hash-base"),l=e("safe-buffer").Buffer,c=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,p){return g<<p|g>>>32-p}function f(g,p,w,v,_,T,F){return u(g+(p&w|~p&v)+_+T|0,F)+p|0}function h(g,p,w,v,_,T,F){return u(g+(p&v|w&~v)+_+T|0,F)+p|0}function d(g,p,w,v,_,T,F){return u(g+(p^w^v)+_+T|0,F)+p|0}function y(g,p,w,v,_,T,F){return u(g+(w^(p|~v))+_+T|0,F)+p|0}s(a,o),a.prototype._update=function(){for(var g=c,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var w=this._a,v=this._b,_=this._c,T=this._d;w=f(w,v,_,T,g[0],3614090360,7),T=f(T,w,v,_,g[1],3905402710,12),_=f(_,T,w,v,g[2],606105819,17),v=f(v,_,T,w,g[3],3250441966,22),w=f(w,v,_,T,g[4],4118548399,7),T=f(T,w,v,_,g[5],1200080426,12),_=f(_,T,w,v,g[6],2821735955,17),v=f(v,_,T,w,g[7],4249261313,22),w=f(w,v,_,T,g[8],1770035416,7),T=f(T,w,v,_,g[9],2336552879,12),_=f(_,T,w,v,g[10],4294925233,17),v=f(v,_,T,w,g[11],2304563134,22),w=f(w,v,_,T,g[12],1804603682,7),T=f(T,w,v,_,g[13],4254626195,12),_=f(_,T,w,v,g[14],2792965006,17),w=h(w,v=f(v,_,T,w,g[15],1236535329,22),_,T,g[1],4129170786,5),T=h(T,w,v,_,g[6],3225465664,9),_=h(_,T,w,v,g[11],643717713,14),v=h(v,_,T,w,g[0],3921069994,20),w=h(w,v,_,T,g[5],3593408605,5),T=h(T,w,v,_,g[10],38016083,9),_=h(_,T,w,v,g[15],3634488961,14),v=h(v,_,T,w,g[4],3889429448,20),w=h(w,v,_,T,g[9],568446438,5),T=h(T,w,v,_,g[14],3275163606,9),_=h(_,T,w,v,g[3],4107603335,14),v=h(v,_,T,w,g[8],1163531501,20),w=h(w,v,_,T,g[13],2850285829,5),T=h(T,w,v,_,g[2],4243563512,9),_=h(_,T,w,v,g[7],1735328473,14),w=d(w,v=h(v,_,T,w,g[12],2368359562,20),_,T,g[5],4294588738,4),T=d(T,w,v,_,g[8],2272392833,11),_=d(_,T,w,v,g[11],1839030562,16),v=d(v,_,T,w,g[14],4259657740,23),w=d(w,v,_,T,g[1],2763975236,4),T=d(T,w,v,_,g[4],1272893353,11),_=d(_,T,w,v,g[7],4139469664,16),v=d(v,_,T,w,g[10],3200236656,23),w=d(w,v,_,T,g[13],681279174,4),T=d(T,w,v,_,g[0],3936430074,11),_=d(_,T,w,v,g[3],3572445317,16),v=d(v,_,T,w,g[6],76029189,23),w=d(w,v,_,T,g[9],3654602809,4),T=d(T,w,v,_,g[12],3873151461,11),_=d(_,T,w,v,g[15],530742520,16),w=y(w,v=d(v,_,T,w,g[2],3299628645,23),_,T,g[0],4096336452,6),T=y(T,w,v,_,g[7],1126891415,10),_=y(_,T,w,v,g[14],2878612391,15),v=y(v,_,T,w,g[5],4237533241,21),w=y(w,v,_,T,g[12],1700485571,6),T=y(T,w,v,_,g[3],2399980690,10),_=y(_,T,w,v,g[10],4293915773,15),v=y(v,_,T,w,g[1],2240044497,21),w=y(w,v,_,T,g[8],1873313359,6),T=y(T,w,v,_,g[15],4264355552,10),_=y(_,T,w,v,g[6],2734768916,15),v=y(v,_,T,w,g[13],1309151649,21),w=y(w,v,_,T,g[4],4149444226,6),T=y(T,w,v,_,g[11],3174756917,10),_=y(_,T,w,v,g[2],718787259,15),v=y(v,_,T,w,g[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+v|0,this._c=this._c+_|0,this._d=this._d+T|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=l.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var s=e("bn.js"),o=e("brorand");function l(c){this.rand=c||new o.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var a=c.bitLength(),u=Math.ceil(a/8);do var f=new s(this.rand.generate(u));while(f.cmp(c)>=0);return f},l.prototype._randrange=function(c,a){var u=a.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,a,u){var f=c.bitLength(),h=s.mont(c),d=new s(1).toRed(h);a||(a=Math.max(1,f/48|0));for(var y=c.subn(1),g=0;!y.testn(g);g++);for(var p=c.shrn(g),w=y.toRed(h);a>0;a--){var v=this._randrange(new s(2),y);u&&u(v);var _=v.toRed(h).redPow(p);if(_.cmp(d)!==0&&_.cmp(w)!==0){for(var T=1;T<g;T++){if((_=_.redSqr()).cmp(d)===0)return!1;if(_.cmp(w)===0)break}if(T===g)return!1}}return!0},l.prototype.getDivisor=function(c,a){var u=c.bitLength(),f=s.mont(c),h=new s(1).toRed(f);a||(a=Math.max(1,u/48|0));for(var d=c.subn(1),y=0;!d.testn(y);y++);for(var g=c.shrn(y),p=d.toRed(f);a>0;a--){var w=this._randrange(new s(2),d),v=c.gcd(w);if(v.cmpn(1)!==0)return v;var _=w.toRed(f).redPow(g);if(_.cmp(h)!==0&&_.cmp(p)!==0){for(var T=1;T<y;T++){if((_=_.redSqr()).cmp(h)===0)return _.fromRed().subn(1).gcd(c);if(_.cmp(p)===0)break}if(T===y)return(_=_.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function s(o,l){if(!o)throw new Error(l||"Assertion failed")}n.exports=s,s.equal=function(o,l,c){if(o!=l)throw new Error(c||"Assertion failed: "+o+" != "+l)}},{}],454:[function(e,n,i){var s=i;function o(c){return c.length===1?"0"+c:c}function l(c){for(var a="",u=0;u<c.length;u++)a+=o(c[u].toString(16));return a}s.toArray=function(c,a){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var f=0;f<c.length;f++)u[f]=0|c[f];return u}if(a==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)u.push(parseInt(c[f]+c[f+1],16));else for(f=0;f<c.length;f++){var h=c.charCodeAt(f),d=h>>8,y=255&h;d?u.push(d,y):u.push(y)}return u},s.zero2=o,s.toHex=l,s.encode=function(c,a){return a==="hex"?l(c):c}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var s=e("asn1.js");i.certificate=e("./certificate");var o=s.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));i.RSAPrivateKey=o;var l=s.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));i.RSAPublicKey=l;var c=s.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));i.PublicKey=c;var a=s.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=s.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));i.PrivateKey=u;var f=s.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));i.EncryptedPrivateKey=f;var h=s.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));i.DSAPrivateKey=h,i.DSAparam=s.define("DSAparam",(function(){this.int()}));var d=s.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())}));i.ECPrivateKey=d;var y=s.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));i.signature=s.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var s=e("asn1.js"),o=s.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=s.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=s.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=s.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=s.define("RelativeDistinguishedName",(function(){this.setof(l)})),f=s.define("RDNSequence",(function(){this.seqof(u)})),h=s.define("Name",(function(){this.choice({rdnSequence:this.use(f)})})),d=s.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))})),y=s.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),g=s.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())})),p=s.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));n.exports=p},{"asn1.js":170}],458:[function(e,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),a=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(f,h){var d,y=f.toString(),g=y.match(s);if(g){var p="aes"+g[1],w=u.from(g[2],"hex"),v=u.from(g[3].replace(/[\r\n]/g,""),"base64"),_=c(h,w.slice(0,8),parseInt(g[1],10)).key,T=[],F=a.createDecipheriv(p,_,w);T.push(F.update(v)),T.push(F.final()),d=u.concat(T)}else{var G=y.match(l);d=u.from(G[2].replace(/[\r\n]/g,""),"base64")}return{tag:y.match(o)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var s=e("./asn1"),o=e("./aesid.json"),l=e("./fixProc"),c=e("browserify-aes"),a=e("pbkdf2"),u=e("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var y,g,p=l(h,d),w=p.tag,v=p.data;switch(w){case"CERTIFICATE":g=s.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=s.PublicKey.decode(v,"der")),y=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=s.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":v=(function(_,T){var F=_.algorithm.decrypt.kde.kdeparams.salt,G=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=o[_.algorithm.decrypt.cipher.algo.join(".")],P=_.algorithm.decrypt.cipher.iv,M=_.subjectPrivateKey,U=parseInt($.split("-")[1],10)/8,V=a.pbkdf2Sync(T,F,G,U,"sha1"),I=c.createDecipheriv($,V,P),E=[];return E.push(I.update(M)),E.push(I.final()),u.concat(E)})(v=s.EncryptedPrivateKey.decode(v,"der"),d);case"PRIVATE KEY":switch(y=(g=s.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:s.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=s.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=s.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+w)}}n.exports=f,f.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(s){(function(){var o,l,c=e("safe-buffer").Buffer,a=e("./precondition"),u=e("./default-encoding"),f=e("./sync"),h=e("./to-buffer"),d=s.crypto&&s.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return l||(l=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function w(v,_,T,F,G){return d.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function($){return d.deriveBits({name:"PBKDF2",salt:_,iterations:T,hash:{name:G}},$,F<<3)})).then((function($){return c.from($)}))}n.exports=function(v,_,T,F,G,$){typeof G=="function"&&($=G,G=void 0);var P=y[(G=G||"sha1").toLowerCase()];if(P&&typeof s.Promise=="function"){if(a(T,F),v=h(v,u,"Password"),_=h(_,u,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(M,U){M.then((function(V){p()((function(){U(null,V)}))}),(function(V){p()((function(){U(V)}))}))})((function(M){if(s.process&&!s.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(g[M]!==void 0)return g[M];var U=w(o=o||c.alloc(8),o,10,128,M).then((function(){return!0})).catch((function(){return!1}));return g[M]=U,U})(P).then((function(M){return M?w(v,_,T,F,P):f(v,_,T,F,G)})),$)}else p()((function(){var M;try{M=f(v,_,T,F,G)}catch(U){return $(U)}$(null,M)}))}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(s,o){(function(){var l;o.process&&o.process.browser?l="utf-8":o.process&&o.process.version?l=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,l){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>s||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var s=e("create-hash/md5"),o=e("ripemd160"),l=e("sha.js"),c=e("safe-buffer").Buffer,a=e("./precondition"),u=e("./default-encoding"),f=e("./to-buffer"),h=c.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(g,p,w){var v=(function(P){function M(U){return l(P).update(U).digest()}return P==="rmd160"||P==="ripemd160"?function(U){return new o().update(U).digest()}:P==="md5"?s:M})(g),_=g==="sha512"||g==="sha384"?128:64;p.length>_?p=v(p):p.length<_&&(p=c.concat([p,h],_));for(var T=c.allocUnsafe(_+d[g]),F=c.allocUnsafe(_+d[g]),G=0;G<_;G++)T[G]=54^p[G],F[G]=92^p[G];var $=c.allocUnsafe(_+w+4);T.copy($,0,0,_),this.ipad1=$,this.ipad2=T,this.opad=F,this.alg=g,this.blocksize=_,this.hash=v,this.size=d[g]}y.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,p,w,v,_){a(w,v);var T=new y(_=_||"sha1",g=f(g,u,"Password"),(p=f(p,u,"Salt")).length),F=c.allocUnsafe(v),G=c.allocUnsafe(p.length+4);p.copy(G,0,0,p.length);for(var $=0,P=d[_],M=Math.ceil(v/P),U=1;U<=M;U++){G.writeUInt32BE(U,p.length);for(var V=T.run(G,T.ipad1),I=V,E=1;E<w;E++){I=T.run(I,T.ipad2);for(var L=0;L<P;L++)V[L]^=I[L]}V.copy(F,$),$+=P}return F}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var s=e("safe-buffer").Buffer;n.exports=function(o,l,c){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,l);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,l,c,a){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,f,h=arguments.length;switch(h){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick((function(){o.call(null,l)}));case 3:return s.nextTick((function(){o.call(null,l,c)}));case 4:return s.nextTick((function(){o.call(null,l,c,a)}));default:for(u=new Array(h-1),f=0;f<u.length;)u[f++]=arguments[f];return s.nextTick((function(){o.apply(null,u)}))}}}:n.exports=s}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var s,o,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(_){if(s===setTimeout)return setTimeout(_,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(_,0);try{return s(_,0)}catch{try{return s.call(null,_,0)}catch{return s.call(this,_,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:c}catch{s=c}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch{o=a}})();var f,h=[],d=!1,y=-1;function g(){d&&f&&(d=!1,f.length?h=f.concat(h):y=-1,h.length&&p())}function p(){if(!d){var _=u(g);d=!0;for(var T=h.length;T;){for(f=h,h=[];++y<T;)f&&f[y].run();y=-1,T=h.length}f=null,d=!1,(function(F){if(o===clearTimeout)return clearTimeout(F);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(F);try{o(F)}catch{try{return o.call(null,F)}catch{return o.call(this,F)}}})(_)}}function w(_,T){this.fun=_,this.array=T}function v(){}l.nextTick=function(_){var T=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)T[F-1]=arguments[F];h.push(new w(_,T)),h.length!==1||d||u(p)},w.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=v,l.addListener=v,l.once=v,l.off=v,l.removeListener=v,l.removeAllListeners=v,l.emit=v,l.prependListener=v,l.prependOnceListener=v,l.listeners=function(_){return[]},l.binding=function(_){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(_){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var s=e("create-hash"),o=e("safe-buffer").Buffer;function l(c){var a=o.allocUnsafe(4);return a.writeUInt32BE(c,0),a}n.exports=function(c,a){for(var u,f=o.alloc(0),h=0;f.length<a;)u=l(h++),f=o.concat([f,s("sha1").update(c).update(u).digest()]);return f.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var s=e("parse-asn1"),o=e("./mgf"),l=e("./xor"),c=e("bn.js"),a=e("browserify-rsa"),u=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,y,g){var p;p=d.padding?d.padding:g?1:4;var w,v=s(d),_=v.modulus.byteLength();if(y.length>_||new c(y).cmp(v.modulus)>=0)throw new Error("decryption error");w=g?f(new c(y),v):a(y,v);var T=h.alloc(_-w.length);if(w=h.concat([T,w],_),p===4)return(function(F,G){var $=F.modulus.byteLength(),P=u("sha1").update(h.alloc(0)).digest(),M=P.length;if(G[0]!==0)throw new Error("decryption error");var U=G.slice(1,M+1),V=G.slice(M+1),I=l(U,o(V,M)),E=l(V,o(I,$-M-1));if((function(A,S){A=h.from(A),S=h.from(S);var k=0,N=A.length;A.length!==S.length&&(k++,N=Math.min(A.length,S.length));for(var C=-1;++C<N;)k+=A[C]^S[C];return k})(P,E.slice(0,M)))throw new Error("decryption error");for(var L=M;E[L]===0;)L++;if(E[L++]!==1)throw new Error("decryption error");return E.slice(L)})(v,w);if(p===1)return(function(F,G,$){for(var P=G.slice(0,2),M=2,U=0;G[M++]!==0;)if(M>=G.length){U++;break}var V=G.slice(2,M-1);if((P.toString("hex")!=="0002"&&!$||P.toString("hex")!=="0001"&&$)&&U++,V.length<8&&U++,U)throw new Error("decryption error");return G.slice(M)})(0,w,g);if(p===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var s=e("parse-asn1"),o=e("randombytes"),l=e("create-hash"),c=e("./mgf"),a=e("./xor"),u=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(y,g,p){var w;w=y.padding?y.padding:p?1:4;var v,_=s(y);if(w===4)v=(function(T,F){var G=T.modulus.byteLength(),$=F.length,P=l("sha1").update(d.alloc(0)).digest(),M=P.length,U=2*M;if($>G-U-2)throw new Error("message too long");var V=d.alloc(G-$-U-2),I=G-M-1,E=o(M),L=a(d.concat([P,V,d.alloc(1,1),F],I),c(E,I)),A=a(E,c(L,M));return new u(d.concat([d.alloc(1),A,L],G))})(_,g);else if(w===1)v=(function(T,F,G){var $,P=F.length,M=T.modulus.byteLength();if(P>M-11)throw new Error("message too long");return $=G?d.alloc(M-P-3,255):(function(U){for(var V,I=d.allocUnsafe(U),E=0,L=o(2*U),A=0;E<U;)A===L.length&&(L=o(2*U),A=0),(V=L[A++])&&(I[E++]=V);return I})(M-P-3),new u(d.concat([d.from([0,G?1:2]),$,d.alloc(1),F],M))})(_,g,p);else{if(w!==3)throw new Error("unknown padding");if((v=new u(g)).cmp(_.modulus)>=0)throw new Error("data too long for modulus")}return p?h(v,_):f(v,_)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var s=e("bn.js"),o=e("safe-buffer").Buffer;n.exports=function(l,c){return o.from(l.toRed(s.mont(c.modulus)).redPow(new s(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(s,o){for(var l=s.length,c=-1;++c<l;)s[c]^=o[c];return s}},{}],475:[function(e,n,i){(function(s,o){(function(){var l=e("safe-buffer").Buffer,c=o.crypto||o.msCrypto;c&&c.getRandomValues?n.exports=function(a,u){if(a>4294967295)throw new RangeError("requested too many random bytes");var f=l.allocUnsafe(a);if(a>0)if(a>65536)for(var h=0;h<a;h+=65536)c.getRandomValues(f.slice(h,h+65536));else c.getRandomValues(f);return typeof u=="function"?s.nextTick((function(){u(null,f)})):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(s,o){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),a=e("randombytes"),u=c.Buffer,f=c.kMaxLength,h=o.crypto||o.msCrypto,d=Math.pow(2,32)-1;function y(w,v){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>d||w<0)throw new TypeError("offset must be a uint32");if(w>f||w>v)throw new RangeError("offset out of range")}function g(w,v,_){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>d||w<0)throw new TypeError("size must be a uint32");if(w+v>_||w>f)throw new RangeError("buffer too small")}function p(w,v,_,T){if(s.browser){var F=w.buffer,G=new Uint8Array(F,v,_);return h.getRandomValues(G),T?void s.nextTick((function(){T(null,w)})):w}if(!T)return a(_).copy(w,v),w;a(_,(function($,P){if($)return T($);P.copy(w,v),T(null,w)}))}h&&h.getRandomValues||!s.browser?(i.randomFill=function(w,v,_,T){if(!(u.isBuffer(w)||w instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")T=v,v=0,_=w.length;else if(typeof _=="function")T=_,_=w.length-v;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return y(v,w.length),g(_,v,w.length),p(w,v,_,T)},i.randomFillSync=function(w,v,_){if(v===void 0&&(v=0),!(u.isBuffer(w)||w instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(v,w.length),_===void 0&&(_=w.length-v),g(_,v,w.length),p(w,v,_)}):(i.randomFill=l,i.randomFillSync=l)}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var s={};function o(c,a,u){u||(u=Error);var f=(function(h){var d,y;function g(p,w,v){return h.call(this,(function(_,T,F){return typeof a=="string"?a:a(_,T,F)})(p,w,v))||this}return y=h,(d=g).prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y,g})(u);f.prototype.name=u.name,f.prototype.code=c,s[c]=f}function l(c,a){if(Array.isArray(c)){var u=c.length;return c=c.map((function(f){return String(f)})),u>2?"one of ".concat(a," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(a," ").concat(c[0]," or ").concat(c[1]):"of ".concat(a," ").concat(c[0])}return"of ".concat(a," ").concat(String(c))}o("ERR_INVALID_OPT_VALUE",(function(c,a){return'The value "'+a+'" is invalid for option "'+c+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(c,a,u){var f,h,d;if(typeof a=="string"&&(h="not ",a.substr(0,h.length)===h)?(f="must not be",a=a.replace(/^not /,"")):f="must be",(function(g,p,w){return(w===void 0||w>g.length)&&(w=g.length),g.substring(w-p.length,w)===p})(c," argument"))d="The ".concat(c," ").concat(f," ").concat(l(a,"type"));else{var y=(function(g,p,w){return typeof w!="number"&&(w=0),!(w+p.length>g.length)&&g.indexOf(p,w)!==-1})(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(y," ").concat(f," ").concat(l(a,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(e,n,i){(function(s){(function(){var o=Object.keys||function(g){var p=[];for(var w in g)p.push(w);return p};n.exports=h;var l=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,l);for(var a=o(c.prototype),u=0;u<a.length;u++){var f=a[u];h.prototype[f]||(h.prototype[f]=c.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);l.call(this,g),c.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||s.nextTick(y,this)}function y(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=o;var s=e("./_stream_transform");function o(l){if(!(this instanceof o))return new o(l);s.call(this,l)}e("inherits")(o,s),o.prototype._transform=function(l,c,a){a(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(s,o){(function(){var l;n.exports=I,I.ReadableState=V,e("events").EventEmitter;var c=function(z,B){return z.listeners(B).length},a=e("./internal/streams/stream"),u=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var y,g,p,w=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),_=e("./internal/streams/state").getHighWaterMark,T=e("../errors").codes,F=T.ERR_INVALID_ARG_TYPE,G=T.ERR_STREAM_PUSH_AFTER_EOF,$=T.ERR_METHOD_NOT_IMPLEMENTED,P=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(I,a);var M=v.errorOrDestroy,U=["error","close","destroy","pause","resume"];function V(z,B,Q){l=l||e("./_stream_duplex"),z=z||{},typeof Q!="boolean"&&(Q=B instanceof l),this.objectMode=!!z.objectMode,Q&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=_(this,z,"readableHighWaterMark",Q),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(z.encoding),this.encoding=z.encoding)}function I(z){if(l=l||e("./_stream_duplex"),!(this instanceof I))return new I(z);var B=this instanceof l;this._readableState=new V(z,this,B),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),a.call(this)}function E(z,B,Q,oe,pe){h("readableAddChunk",B);var de,ve=z._readableState;if(B===null)ve.reading=!1,(function(ce,he){if(h("onEofChunk"),!he.ended){if(he.decoder){var fe=he.decoder.end();fe&&fe.length&&(he.buffer.push(fe),he.length+=he.objectMode?1:fe.length)}he.ended=!0,he.sync?S(ce):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,k(ce)))}})(z,ve);else if(pe||(de=(function(ce,he){var fe;ke=he,u.isBuffer(ke)||ke instanceof f||typeof he=="string"||he===void 0||ce.objectMode||(fe=new F("chunk",["string","Buffer","Uint8Array"],he));var ke;return fe})(ve,B)),de)M(z,de);else if(ve.objectMode||B&&B.length>0)if(typeof B=="string"||ve.objectMode||Object.getPrototypeOf(B)===u.prototype||(B=(function(ce){return u.from(ce)})(B)),oe)ve.endEmitted?M(z,new P):L(z,ve,B,!0);else if(ve.ended)M(z,new G);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!Q?(B=ve.decoder.write(B),ve.objectMode||B.length!==0?L(z,ve,B,!1):N(z,ve)):L(z,ve,B,!1)}else oe||(ve.reading=!1,N(z,ve));return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function L(z,B,Q,oe){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,z.emit("data",Q)):(B.length+=B.objectMode?1:Q.length,oe?B.buffer.unshift(Q):B.buffer.push(Q),B.needReadable&&S(z)),N(z,B)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),I.prototype.destroy=v.destroy,I.prototype._undestroy=v.undestroy,I.prototype._destroy=function(z,B){B(z)},I.prototype.push=function(z,B){var Q,oe=this._readableState;return oe.objectMode?Q=!0:typeof z=="string"&&((B=B||oe.defaultEncoding)!==oe.encoding&&(z=u.from(z,B),B=""),Q=!0),E(this,z,B,!1,Q)},I.prototype.unshift=function(z){return E(this,z,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(z){y||(y=e("string_decoder/").StringDecoder);var B=new y(z);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,oe="";Q!==null;)oe+=B.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};function A(z,B){return z<=0||B.length===0&&B.ended?0:B.objectMode?1:z!=z?B.flowing&&B.length?B.buffer.head.data.length:B.length:(z>B.highWaterMark&&(B.highWaterMark=(function(Q){return Q>=1073741824?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(z)),z<=B.length?z:B.ended?B.length:(B.needReadable=!0,0))}function S(z){var B=z._readableState;h("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(h("emitReadable",B.flowing),B.emittedReadable=!0,s.nextTick(k,z))}function k(z){var B=z._readableState;h("emitReadable_",B.destroyed,B.length,B.ended),B.destroyed||!B.length&&!B.ended||(z.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,K(z)}function N(z,B){B.readingMore||(B.readingMore=!0,s.nextTick(C,z,B))}function C(z,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var Q=B.length;if(h("maybeReadMore read 0"),z.read(0),Q===B.length)break}B.readingMore=!1}function O(z){var B=z._readableState;B.readableListening=z.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:z.listenerCount("data")>0&&z.resume()}function D(z){h("readable nexttick read 0"),z.read(0)}function j(z,B){h("resume",B.reading),B.reading||z.read(0),B.resumeScheduled=!1,z.emit("resume"),K(z),B.flowing&&!B.reading&&z.read(0)}function K(z){var B=z._readableState;for(h("flow",B.flowing);B.flowing&&z.read()!==null;);}function Z(z,B){return B.length===0?null:(B.objectMode?Q=B.buffer.shift():!z||z>=B.length?(Q=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.first():B.buffer.concat(B.length),B.buffer.clear()):Q=B.buffer.consume(z,B.decoder),Q);var Q}function ne(z){var B=z._readableState;h("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,s.nextTick(H,B,z))}function H(z,B){if(h("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,B.readable=!1,B.emit("end"),z.autoDestroy)){var Q=B._writableState;(!Q||Q.autoDestroy&&Q.finished)&&B.destroy()}}function J(z,B){for(var Q=0,oe=z.length;Q<oe;Q++)if(z[Q]===B)return Q;return-1}I.prototype.read=function(z){h("read",z),z=parseInt(z,10);var B=this._readableState,Q=z;if(z!==0&&(B.emittedReadable=!1),z===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return h("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?ne(this):S(this),null;if((z=A(z,B))===0&&B.ended)return B.length===0&&ne(this),null;var oe,pe=B.needReadable;return h("need readable",pe),(B.length===0||B.length-z<B.highWaterMark)&&h("length less than watermark",pe=!0),B.ended||B.reading?h("reading or ended",pe=!1):pe&&(h("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(z=A(Q,B))),(oe=z>0?Z(z,B):null)===null?(B.needReadable=B.length<=B.highWaterMark,z=0):(B.length-=z,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),Q!==z&&B.ended&&ne(this)),oe!==null&&this.emit("data",oe),oe},I.prototype._read=function(z){M(this,new $("_read()"))},I.prototype.pipe=function(z,B){var Q=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=z;break;case 1:oe.pipes=[oe.pipes,z];break;default:oe.pipes.push(z)}oe.pipesCount+=1,h("pipe count=%d opts=%j",oe.pipesCount,B);var pe=(!B||B.end!==!1)&&z!==s.stdout&&z!==s.stderr?ve:Ie;function de(Oe,Fe){h("onunpipe"),Oe===Q&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,h("cleanup"),z.removeListener("close",ye),z.removeListener("finish",Re),z.removeListener("drain",ce),z.removeListener("error",ke),z.removeListener("unpipe",de),Q.removeListener("end",ve),Q.removeListener("end",Ie),Q.removeListener("data",fe),he=!0,!oe.awaitDrain||z._writableState&&!z._writableState.needDrain||ce())}function ve(){h("onend"),z.end()}oe.endEmitted?s.nextTick(pe):Q.once("end",pe),z.on("unpipe",de);var ce=(function(Oe){return function(){var Fe=Oe._readableState;h("pipeOnDrain",Fe.awaitDrain),Fe.awaitDrain&&Fe.awaitDrain--,Fe.awaitDrain===0&&c(Oe,"data")&&(Fe.flowing=!0,K(Oe))}})(Q);z.on("drain",ce);var he=!1;function fe(Oe){h("ondata");var Fe=z.write(Oe);h("dest.write",Fe),Fe===!1&&((oe.pipesCount===1&&oe.pipes===z||oe.pipesCount>1&&J(oe.pipes,z)!==-1)&&!he&&(h("false write response, pause",oe.awaitDrain),oe.awaitDrain++),Q.pause())}function ke(Oe){h("onerror",Oe),Ie(),z.removeListener("error",ke),c(z,"error")===0&&M(z,Oe)}function ye(){z.removeListener("finish",Re),Ie()}function Re(){h("onfinish"),z.removeListener("close",ye),Ie()}function Ie(){h("unpipe"),Q.unpipe(z)}return Q.on("data",fe),(function(Oe,Fe,Se){if(typeof Oe.prependListener=="function")return Oe.prependListener(Fe,Se);Oe._events&&Oe._events[Fe]?Array.isArray(Oe._events[Fe])?Oe._events[Fe].unshift(Se):Oe._events[Fe]=[Se,Oe._events[Fe]]:Oe.on(Fe,Se)})(z,"error",ke),z.once("close",ye),z.once("finish",Re),z.emit("pipe",Q),oe.flowing||(h("pipe resume"),Q.resume()),z},I.prototype.unpipe=function(z){var B=this._readableState,Q={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return z&&z!==B.pipes||(z||(z=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,z&&z.emit("unpipe",this,Q)),this;if(!z){var oe=B.pipes,pe=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var de=0;de<pe;de++)oe[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=J(B.pipes,z);return ve===-1||(B.pipes.splice(ve,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),z.emit("unpipe",this,Q)),this},I.prototype.on=function(z,B){var Q=a.prototype.on.call(this,z,B),oe=this._readableState;return z==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):z==="readable"&&(oe.endEmitted||oe.readableListening||(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,h("on readable",oe.length,oe.reading),oe.length?S(this):oe.reading||s.nextTick(D,this))),Q},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(z,B){var Q=a.prototype.removeListener.call(this,z,B);return z==="readable"&&s.nextTick(O,this),Q},I.prototype.removeAllListeners=function(z){var B=a.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||s.nextTick(O,this),B},I.prototype.resume=function(){var z=this._readableState;return z.flowing||(h("resume"),z.flowing=!z.readableListening,(function(B,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,s.nextTick(j,B,Q))})(this,z)),z.paused=!1,this},I.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(z){var B=this,Q=this._readableState,oe=!1;for(var pe in z.on("end",(function(){if(h("wrapped end"),Q.decoder&&!Q.ended){var ve=Q.decoder.end();ve&&ve.length&&B.push(ve)}B.push(null)})),z.on("data",(function(ve){h("wrapped data"),Q.decoder&&(ve=Q.decoder.write(ve)),Q.objectMode&&ve==null||(Q.objectMode||ve&&ve.length)&&(B.push(ve)||(oe=!0,z.pause()))})),z)this[pe]===void 0&&typeof z[pe]=="function"&&(this[pe]=(function(ve){return function(){return z[ve].apply(z,arguments)}})(pe));for(var de=0;de<U.length;de++)z.on(U[de],this.emit.bind(this,U[de]));return this._read=function(ve){h("wrapped _read",ve),oe&&(oe=!1,z.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=e("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),I._fromList=Z,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(I.from=function(z,B){return p===void 0&&(p=e("./internal/streams/from")),p(I,z,B)})}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=h;var s=e("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,l=s.ERR_MULTIPLE_CALLBACK,c=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=s.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function f(g,p){var w=this._transformState;w.transforming=!1;var v=w.writecb;if(v===null)return this.emit("error",new l);w.writechunk=null,w.writecb=null,p!=null&&this.push(p),v(g);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);u.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush((function(p,w){y(g,p,w)}))}function y(g,p,w){if(p)return g.emit("error",p);if(w!=null&&g.push(w),g._writableState.length)throw new a;if(g._transformState.transforming)throw new c;return g.push(null)}e("inherits")(h,u),h.prototype.push=function(g,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,p)},h.prototype._transform=function(g,p,w){w(new o("_transform()"))},h.prototype._write=function(g,p,w){var v=this._transformState;if(v.writecb=w,v.writechunk=g,v.writeencoding=p,!v.transforming){var _=this._readableState;(v.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},h.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(g,p){u.prototype._destroy.call(this,g,(function(w){p(w)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(s,o){(function(){function l(C){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(D,j,K){var Z=D.entry;for(D.entry=null;Z;){var ne=Z.callback;j.pendingcb--,ne(K),Z=Z.next}j.corkedRequestsFree.next=D})(O,C)}}var c;n.exports=I,I.WritableState=V;var a={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),f=e("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,y=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,w=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,T=p.ERR_STREAM_CANNOT_PIPE,F=p.ERR_STREAM_DESTROYED,G=p.ERR_STREAM_NULL_VALUES,$=p.ERR_STREAM_WRITE_AFTER_END,P=p.ERR_UNKNOWN_ENCODING,M=y.errorOrDestroy;function U(){}function V(C,O,D){c=c||e("./_stream_duplex"),C=C||{},typeof D!="boolean"&&(D=O instanceof c),this.objectMode=!!C.objectMode,D&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=g(this,C,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=C.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,ne){var H=Z._writableState,J=H.sync,z=H.writecb;if(typeof z!="function")throw new _;if((function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0})(H),ne)(function(Q,oe,pe,de,ve){--oe.pendingcb,pe?(s.nextTick(ve,de),s.nextTick(N,Q,oe),Q._writableState.errorEmitted=!0,M(Q,de)):(ve(de),Q._writableState.errorEmitted=!0,M(Q,de),N(Q,oe))})(Z,H,J,ne,z);else{var B=S(H)||Z.destroyed;B||H.corked||H.bufferProcessing||!H.bufferedRequest||A(Z,H),J?s.nextTick(L,Z,H,B,z):L(Z,H,B,z)}})(O,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function I(C){var O=this instanceof(c=c||e("./_stream_duplex"));if(!O&&!d.call(I,this))return new I(C);this._writableState=new V(C,this,O),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),u.call(this)}function E(C,O,D,j,K,Z,ne){O.writelen=j,O.writecb=ne,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new F("write")):D?C._writev(K,O.onwrite):C._write(K,Z,O.onwrite),O.sync=!1}function L(C,O,D,j){D||(function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))})(C,O),O.pendingcb--,j(),N(C,O)}function A(C,O){O.bufferProcessing=!0;var D=O.bufferedRequest;if(C._writev&&D&&D.next){var j=O.bufferedRequestCount,K=new Array(j),Z=O.corkedRequestsFree;Z.entry=D;for(var ne=0,H=!0;D;)K[ne]=D,D.isBuf||(H=!1),D=D.next,ne+=1;K.allBuffers=H,E(C,O,!0,O.length,K,"",Z.finish),O.pendingcb++,O.lastBufferedRequest=null,Z.next?(O.corkedRequestsFree=Z.next,Z.next=null):O.corkedRequestsFree=new l(O),O.bufferedRequestCount=0}else{for(;D;){var J=D.chunk,z=D.encoding,B=D.callback;if(E(C,O,!1,O.objectMode?1:J.length,J,z,B),D=D.next,O.bufferedRequestCount--,O.writing)break}D===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=D,O.bufferProcessing=!1}function S(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function k(C,O){C._final((function(D){O.pendingcb--,D&&M(C,D),O.prefinished=!0,C.emit("prefinish"),N(C,O)}))}function N(C,O){var D=S(O);if(D&&((function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,s.nextTick(k,K,Z)))})(C,O),O.pendingcb===0&&(O.finished=!0,C.emit("finish"),O.autoDestroy))){var j=C._readableState;(!j||j.autoDestroy&&j.endEmitted)&&C.destroy()}return D}e("inherits")(I,u),V.prototype.getBuffer=function(){for(var C=this.bufferedRequest,O=[];C;)O.push(C),C=C.next;return O},(function(){try{Object.defineProperty(V.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(C){return!!d.call(this,C)||this===I&&C&&C._writableState instanceof V}})):d=function(C){return C instanceof this},I.prototype.pipe=function(){M(this,new T)},I.prototype.write=function(C,O,D){var j,K=this._writableState,Z=!1,ne=!K.objectMode&&(j=C,f.isBuffer(j)||j instanceof h);return ne&&!f.isBuffer(C)&&(C=(function(H){return f.from(H)})(C)),typeof O=="function"&&(D=O,O=null),ne?O="buffer":O||(O=K.defaultEncoding),typeof D!="function"&&(D=U),K.ending?(function(H,J){var z=new $;M(H,z),s.nextTick(J,z)})(this,D):(ne||(function(H,J,z,B){var Q;return z===null?Q=new G:typeof z=="string"||J.objectMode||(Q=new w("chunk",["string","Buffer"],z)),!Q||(M(H,Q),s.nextTick(B,Q),!1)})(this,K,C,D))&&(K.pendingcb++,Z=(function(H,J,z,B,Q,oe){if(!z){var pe=(function(he,fe,ke){return he.objectMode||he.decodeStrings===!1||typeof fe!="string"||(fe=f.from(fe,ke)),fe})(J,B,Q);B!==pe&&(z=!0,Q="buffer",B=pe)}var de=J.objectMode?1:B.length;J.length+=de;var ve=J.length<J.highWaterMark;if(ve||(J.needDrain=!0),J.writing||J.corked){var ce=J.lastBufferedRequest;J.lastBufferedRequest={chunk:B,encoding:Q,isBuf:z,callback:oe,next:null},ce?ce.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else E(H,J,!1,de,B,Q,oe);return ve})(this,K,ne,C,O,D)),Z},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||A(this,C))},I.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new P(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(C,O,D){D(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(C,O,D){var j=this._writableState;return typeof C=="function"?(D=C,C=null,O=null):typeof O=="function"&&(D=O,O=null),C!=null&&this.write(C,O),j.corked&&(j.corked=1,this.uncork()),j.ending||(function(K,Z,ne){Z.ending=!0,N(K,Z),ne&&(Z.finished?s.nextTick(ne):K.once("finish",ne)),Z.ended=!0,K.writable=!1})(this,j,D),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(C,O){O(C)}}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(s){(function(){var o;function l(F,G,$){return(G=(function(P){var M=(function(U,V){if(typeof U!="object"||U===null)return U;var I=U[Symbol.toPrimitive];if(I!==void 0){var E=I.call(U,V);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(U)})(P,"string");return typeof M=="symbol"?M:String(M)})(G))in F?Object.defineProperty(F,G,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[G]=$,F}var c=e("./end-of-stream"),a=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),y=Symbol("handlePromise"),g=Symbol("stream");function p(F,G){return{value:F,done:G}}function w(F){var G=F[a];if(G!==null){var $=F[g].read();$!==null&&(F[d]=null,F[a]=null,F[u]=null,G(p($,!1)))}}function v(F){s.nextTick(w,F)}var _=Object.getPrototypeOf((function(){})),T=Object.setPrototypeOf((l(o={get stream(){return this[g]},next:function(){var F=this,G=this[f];if(G!==null)return Promise.reject(G);if(this[h])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise((function(U,V){s.nextTick((function(){F[f]?V(F[f]):U(p(void 0,!0))}))}));var $,P=this[d];if(P)$=new Promise((function(U,V){return function(I,E){U.then((function(){V[h]?I(p(void 0,!0)):V[y](I,E)}),E)}})(P,this));else{var M=this[g].read();if(M!==null)return Promise.resolve(p(M,!1));$=new Promise(this[y])}return this[d]=$,$}},Symbol.asyncIterator,(function(){return this})),l(o,"return",(function(){var F=this;return new Promise((function(G,$){F[g].destroy(null,(function(P){P?$(P):G(p(void 0,!0))}))}))})),o),_);n.exports=function(F){var G,$=Object.create(T,(l(G={},g,{value:F,writable:!0}),l(G,a,{value:null,writable:!0}),l(G,u,{value:null,writable:!0}),l(G,f,{value:null,writable:!0}),l(G,h,{value:F._readableState.endEmitted,writable:!0}),l(G,y,{value:function(P,M){var U=$[g].read();U?($[d]=null,$[a]=null,$[u]=null,P(p(U,!1))):($[a]=P,$[u]=M)},writable:!0}),G));return $[d]=null,c(F,(function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=$[u];return M!==null&&($[d]=null,$[a]=null,$[u]=null,M(P)),void($[f]=P)}var U=$[a];U!==null&&($[d]=null,$[a]=null,$[u]=null,U(p(void 0,!0))),$[h]=!0})),F.on("readable",v.bind(null,$)),$}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function s(d,y){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);y&&(p=p.filter((function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}))),g.push.apply(g,p)}return g}function o(d){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?s(Object(g),!0).forEach((function(p){l(d,p,g[p])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach((function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(g,p))}))}return d}function l(d,y,g){return(y=a(y))in d?Object.defineProperty(d,y,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[y]=g,d}function c(d,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,a(p.key),p)}}function a(d){var y=(function(g,p){if(typeof g!="object"||g===null)return g;var w=g[Symbol.toPrimitive];if(w!==void 0){var v=w.call(g,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)})(d,"string");return typeof y=="symbol"?y:String(y)}var u=e("buffer").Buffer,f=e("util").inspect,h=f&&f.custom||"inspect";n.exports=(function(){function d(){(function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var y,g;return y=d,(g=[{key:"push",value:function(p){var w={data:p,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(p){var w={data:p,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=p+w.data;return v}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var w,v,_,T=u.allocUnsafe(p>>>0),F=this.head,G=0;F;)w=F.data,v=T,_=G,u.prototype.copy.call(w,v,_),G+=F.data.length,F=F.next;return T}},{key:"consume",value:function(p,w){var v;return p<this.head.data.length?(v=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):v=p===this.head.data.length?this.shift():w?this._getString(p):this._getBuffer(p),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var w=this.head,v=1,_=w.data;for(p-=_.length;w=w.next;){var T=w.data,F=p>T.length?T.length:p;if(F===T.length?_+=T:_+=T.slice(0,p),(p-=F)==0){F===T.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=T.slice(F));break}++v}return this.length-=v,_}},{key:"_getBuffer",value:function(p){var w=u.allocUnsafe(p),v=this.head,_=1;for(v.data.copy(w),p-=v.data.length;v=v.next;){var T=v.data,F=p>T.length?T.length:p;if(T.copy(w,w.length-p,0,F),(p-=F)==0){F===T.length?(++_,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(F));break}++_}return this.length-=_,w}},{key:h,value:function(p,w){return f(this,o(o({},w),{},{depth:0,customInspect:!1}))}}])&&c(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(e,n,i){(function(s){(function(){function o(a,u){c(a,u),l(a)}function l(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function c(a,u){a.emit("error",u)}n.exports={destroy:function(a,u){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(c,this,a)):s.nextTick(c,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,(function(y){!u&&y?f._writableState?f._writableState.errorEmitted?s.nextTick(l,f):(f._writableState.errorEmitted=!0,s.nextTick(o,f,y)):s.nextTick(o,f,y):u?(s.nextTick(l,f),u(y)):s.nextTick(l,f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,u){var f=a._readableState,h=a._writableState;f&&f.autoDestroy||h&&h.autoDestroy?a.destroy(u):a.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var s=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function l(c,a,u){if(typeof a=="function")return l(c,null,a);a||(a={}),u=(function(F){var G=!1;return function(){if(!G){G=!0;for(var $=arguments.length,P=new Array($),M=0;M<$;M++)P[M]=arguments[M];F.apply(this,P)}}})(u||o);var f=a.readable||a.readable!==!1&&c.readable,h=a.writable||a.writable!==!1&&c.writable,d=function(){c.writable||g()},y=c._writableState&&c._writableState.finished,g=function(){h=!1,y=!0,f||u.call(c)},p=c._readableState&&c._readableState.endEmitted,w=function(){f=!1,p=!0,h||u.call(c)},v=function(F){u.call(c,F)},_=function(){var F;return f&&!p?(c._readableState&&c._readableState.ended||(F=new s),u.call(c,F)):h&&!y?(c._writableState&&c._writableState.ended||(F=new s),u.call(c,F)):void 0},T=function(){c.req.on("finish",g)};return(function(F){return F.setHeader&&typeof F.abort=="function"})(c)?(c.on("complete",g),c.on("abort",_),c.req?T():c.on("request",T)):h&&!c._writableState&&(c.on("end",d),c.on("close",d)),c.on("end",w),c.on("finish",g),a.error!==!1&&c.on("error",v),c.on("close",_),function(){c.removeListener("complete",g),c.removeListener("abort",_),c.removeListener("request",T),c.req&&c.req.removeListener("finish",g),c.removeListener("end",d),c.removeListener("close",d),c.removeListener("finish",g),c.removeListener("end",w),c.removeListener("error",v),c.removeListener("close",_)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var s,o=e("../../../errors").codes,l=o.ERR_MISSING_ARGS,c=o.ERR_STREAM_DESTROYED;function a(y){if(y)throw y}function u(y,g,p,w){w=(function(T){var F=!1;return function(){F||(F=!0,T.apply(void 0,arguments))}})(w);var v=!1;y.on("close",(function(){v=!0})),s===void 0&&(s=e("./end-of-stream")),s(y,{readable:g,writable:p},(function(T){if(T)return w(T);v=!0,w()}));var _=!1;return function(T){if(!v&&!_)return _=!0,(function(F){return F.setHeader&&typeof F.abort=="function"})(y)?y.abort():typeof y.destroy=="function"?y.destroy():void w(T||new c("pipe"))}}function f(y){y()}function h(y,g){return y.pipe(g)}function d(y){return y.length?typeof y[y.length-1]!="function"?a:y.pop():a}n.exports=function(){for(var y=arguments.length,g=new Array(y),p=0;p<y;p++)g[p]=arguments[p];var w,v=d(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new l("streams");var _=g.map((function(T,F){var G=F<g.length-1;return u(T,G,F>0,(function($){w||(w=$),$&&_.forEach(f),G||(_.forEach(f),v(w))}))}));return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,l,c,a){var u=(function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null})(l,a,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(a?c:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var s=(function(o){var l=Object.prototype,c=l.hasOwnProperty,a=Object.defineProperty||function(N,C,O){N[C]=O.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function y(N,C,O){return Object.defineProperty(N,C,{value:O,enumerable:!0,configurable:!0,writable:!0}),N[C]}try{y({},"")}catch{y=function(C,O,D){return C[O]=D}}function g(N,C,O,D){var j=C&&C.prototype instanceof v?C:v,K=Object.create(j.prototype),Z=new A(D||[]);return a(K,"_invoke",{value:V(N,O,Z)}),K}function p(N,C,O){try{return{type:"normal",arg:N.call(C,O)}}catch(D){return{type:"throw",arg:D}}}o.wrap=g;var w={};function v(){}function _(){}function T(){}var F={};y(F,f,(function(){return this}));var G=Object.getPrototypeOf,$=G&&G(G(S([])));$&&$!==l&&c.call($,f)&&(F=$);var P=T.prototype=v.prototype=Object.create(F);function M(N){["next","throw","return"].forEach((function(C){y(N,C,(function(O){return this._invoke(C,O)}))}))}function U(N,C){var O;a(this,"_invoke",{value:function(D,j){function K(){return new C((function(Z,ne){(function H(J,z,B,Q){var oe=p(N[J],N,z);if(oe.type!=="throw"){var pe=oe.arg,de=pe.value;return de&&typeof de=="object"&&c.call(de,"__await")?C.resolve(de.__await).then((function(ve){H("next",ve,B,Q)}),(function(ve){H("throw",ve,B,Q)})):C.resolve(de).then((function(ve){pe.value=ve,B(pe)}),(function(ve){return H("throw",ve,B,Q)}))}Q(oe.arg)})(D,j,Z,ne)}))}return O=O?O.then(K,K):K()}})}function V(N,C,O){var D="suspendedStart";return function(j,K){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(j==="throw")throw K;return k()}for(O.method=j,O.arg=K;;){var Z=O.delegate;if(Z){var ne=I(Z,O);if(ne){if(ne===w)continue;return ne}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(D==="suspendedStart")throw D="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);D="executing";var H=p(N,C,O);if(H.type==="normal"){if(D=O.done?"completed":"suspendedYield",H.arg===w)continue;return{value:H.arg,done:O.done}}H.type==="throw"&&(D="completed",O.method="throw",O.arg=H.arg)}}}function I(N,C){var O=C.method,D=N.iterator[O];if(D===void 0)return C.delegate=null,O==="throw"&&N.iterator.return&&(C.method="return",C.arg=void 0,I(N,C),C.method==="throw")||O!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+O+"' method")),w;var j=p(D,N.iterator,C.arg);if(j.type==="throw")return C.method="throw",C.arg=j.arg,C.delegate=null,w;var K=j.arg;return K?K.done?(C[N.resultName]=K.value,C.next=N.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,w):K:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,w)}function E(N){var C={tryLoc:N[0]};1 in N&&(C.catchLoc=N[1]),2 in N&&(C.finallyLoc=N[2],C.afterLoc=N[3]),this.tryEntries.push(C)}function L(N){var C=N.completion||{};C.type="normal",delete C.arg,N.completion=C}function A(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(E,this),this.reset(!0)}function S(N){if(N){var C=N[f];if(C)return C.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var O=-1,D=function j(){for(;++O<N.length;)if(c.call(N,O))return j.value=N[O],j.done=!1,j;return j.value=void 0,j.done=!0,j};return D.next=D}}return{next:k}}function k(){return{value:void 0,done:!0}}return _.prototype=T,a(P,"constructor",{value:T,configurable:!0}),a(T,"constructor",{value:_,configurable:!0}),_.displayName=y(T,d,"GeneratorFunction"),o.isGeneratorFunction=function(N){var C=typeof N=="function"&&N.constructor;return!!C&&(C===_||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,T):(N.__proto__=T,y(N,d,"GeneratorFunction")),N.prototype=Object.create(P),N},o.awrap=function(N){return{__await:N}},M(U.prototype),y(U.prototype,h,(function(){return this})),o.AsyncIterator=U,o.async=function(N,C,O,D,j){j===void 0&&(j=Promise);var K=new U(g(N,C,O,D),j);return o.isGeneratorFunction(C)?K:K.next().then((function(Z){return Z.done?Z.value:K.next()}))},M(P),y(P,d,"Generator"),y(P,f,(function(){return this})),y(P,"toString",(function(){return"[object Generator]"})),o.keys=function(N){var C=Object(N),O=[];for(var D in C)O.push(D);return O.reverse(),function j(){for(;O.length;){var K=O.pop();if(K in C)return j.value=K,j.done=!1,j}return j.done=!0,j}},o.values=S,A.prototype={constructor:A,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!N)for(var C in this)C.charAt(0)==="t"&&c.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var C=this;function O(H,J){return K.type="throw",K.arg=N,C.next=H,J&&(C.method="next",C.arg=void 0),!!J}for(var D=this.tryEntries.length-1;D>=0;--D){var j=this.tryEntries[D],K=j.completion;if(j.tryLoc==="root")return O("end");if(j.tryLoc<=this.prev){var Z=c.call(j,"catchLoc"),ne=c.call(j,"finallyLoc");if(Z&&ne){if(this.prev<j.catchLoc)return O(j.catchLoc,!0);if(this.prev<j.finallyLoc)return O(j.finallyLoc)}else if(Z){if(this.prev<j.catchLoc)return O(j.catchLoc,!0)}else{if(!ne)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return O(j.finallyLoc)}}}},abrupt:function(N,C){for(var O=this.tryEntries.length-1;O>=0;--O){var D=this.tryEntries[O];if(D.tryLoc<=this.prev&&c.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var j=D;break}}j&&(N==="break"||N==="continue")&&j.tryLoc<=C&&C<=j.finallyLoc&&(j=null);var K=j?j.completion:{};return K.type=N,K.arg=C,j?(this.method="next",this.next=j.finallyLoc,w):this.complete(K)},complete:function(N,C){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&C&&(this.next=C),w},finish:function(N){for(var C=this.tryEntries.length-1;C>=0;--C){var O=this.tryEntries[C];if(O.finallyLoc===N)return this.complete(O.completion,O.afterLoc),L(O),w}},catch:function(N){for(var C=this.tryEntries.length-1;C>=0;--C){var O=this.tryEntries[C];if(O.tryLoc===N){var D=O.completion;if(D.type==="throw"){var j=D.arg;L(O)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(N,C,O){return this.delegate={iterator:S(N),resultName:C,nextLoc:O},this.method==="next"&&(this.arg=void 0),w}},o})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(e,n,i){var s=e("buffer").Buffer,o=e("inherits"),l=e("hash-base"),c=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function g(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(G,$){return G<<$|G>>>32-$}function w(G,$,P,M,U,V,I,E){return p(G+($^P^M)+V+I|0,E)+U|0}function v(G,$,P,M,U,V,I,E){return p(G+($&P|~$&M)+V+I|0,E)+U|0}function _(G,$,P,M,U,V,I,E){return p(G+(($|~P)^M)+V+I|0,E)+U|0}function T(G,$,P,M,U,V,I,E){return p(G+($&M|P&~M)+V+I|0,E)+U|0}function F(G,$,P,M,U,V,I,E){return p(G+($^(P|~M))+V+I|0,E)+U|0}o(g,l),g.prototype._update=function(){for(var G=c,$=0;$<16;++$)G[$]=this._block.readInt32LE(4*$);for(var P=0|this._a,M=0|this._b,U=0|this._c,V=0|this._d,I=0|this._e,E=0|this._a,L=0|this._b,A=0|this._c,S=0|this._d,k=0|this._e,N=0;N<80;N+=1){var C,O;N<16?(C=w(P,M,U,V,I,G[a[N]],d[0],f[N]),O=F(E,L,A,S,k,G[u[N]],y[0],h[N])):N<32?(C=v(P,M,U,V,I,G[a[N]],d[1],f[N]),O=T(E,L,A,S,k,G[u[N]],y[1],h[N])):N<48?(C=_(P,M,U,V,I,G[a[N]],d[2],f[N]),O=_(E,L,A,S,k,G[u[N]],y[2],h[N])):N<64?(C=T(P,M,U,V,I,G[a[N]],d[3],f[N]),O=v(E,L,A,S,k,G[u[N]],y[3],h[N])):(C=F(P,M,U,V,I,G[a[N]],d[4],f[N]),O=w(E,L,A,S,k,G[u[N]],y[4],h[N])),P=I,I=V,V=p(U,10),U=M,M=C,E=k,k=S,S=p(A,10),A=L,L=O}var D=this._b+U+S|0;this._b=this._c+V+k|0,this._c=this._d+I+E|0,this._d=this._e+P+L|0,this._e=this._a+M+A|0,this._a=D},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var G=s.alloc?s.alloc(20):new s(20);return G.writeInt32LE(this._a,0),G.writeInt32LE(this._b,4),G.writeInt32LE(this._c,8),G.writeInt32LE(this._d,12),G.writeInt32LE(this._e,16),G},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=e("buffer"),o=s.Buffer;function l(a,u){for(var f in a)u[f]=a[f]}function c(a,u,f){return o(a,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(l(s,i),i.Buffer=c),c.prototype=Object.create(o.prototype),l(o,c),c.from=function(a,u,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,u,f)},c.alloc=function(a,u,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(a)}},{buffer:220}],495:[function(e,n,i){(function(s){(function(){var o,l=e("buffer"),c=l.Buffer,a={};for(o in l)l.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(a[o]=l[o]);var u=a.Buffer={};for(o in c)c.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=c[o]);if(a.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return c(f,h,d)}),u.alloc||(u.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var y=c(f);return h&&h.length!==0?typeof d=="string"?y.fill(h,d):y.fill(h):y.fill(0),y}),!a.kStringMaxLength)try{a.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),l=e("xmlchars/xmlns/1.0/ed3");var c=s.isS,a=s.isChar,u=s.isNameStartChar,f=s.isNameChar,h=s.S_LIST,d=s.NAME_RE,y=o.isChar,g=l.isNCNameStartChar,p=l.isNCNameChar,w=l.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:v,xmlns:_},F={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},G=S=>S===34||S===39,$=[34,39],P=[...$,91,62],M=[...$,60,93],U=[61,63,...h],V=[...h,62,38,60];function I(S,k,N){switch(k){case"xml":N!==v&&S.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":N!==_&&S.fail(`xmlns prefix must be bound to ${_}.`)}switch(N){case _:S.fail(k===""?`the default namespace may not be set to ${N}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case v:switch(k){case"xml":break;case"":S.fail(`the default namespace may not be set to ${N}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const E=S=>w.test(S),L=S=>d.test(S);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=g,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const N=this.opt.additionalNamespaces;N!=null&&((function(C,O){for(const D of Object.keys(O))I(C,D,O[D])})(this,N),Object.assign(this.ns,N))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:N}=this.opt;if(N===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");N="1.0"}this.setXMLVersion(N),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(F),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,k){this[A[S]]=k}off(S){this[A[S]]=void 0}makeError(S){var k;let N=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(N.length>0&&(N+=":"),N+=`${this.line}:${this.column}`),N.length>0&&(N+=": "),new Error(N+S)}fail(S){const k=this.makeError(S),N=this.errorHandler;if(N===void 0)throw k;return N(k),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;S===null?(k=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let N=S.length;const C=S.charCodeAt(N-1);!k&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=S[N-1],N--,S=S.slice(0,N));const{stateTable:O}=this;for(this.chunk=S,this.i=0;this.i<N;)O[this.state].call(this);return this.chunkPosition+=N,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:k}=this;if(this.prevI=k,this.i=k+1,k>=S.length)return-1;const N=S.charCodeAt(k);if(this.column++,N<55296){if(N>=32||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const C=65536+1024*(N-55296)+(S.charCodeAt(k+1)-56320);return this.i=k+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:S,i:k}=this;if(this.prevI=k,this.i=k+1,k>=S.length)return-1;const N=S.charCodeAt(k);if(this.column++,N<55296){if(N>31&&N<127||N>159&&N!==8232||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const O=S.charCodeAt(k+1);O!==10&&O!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const C=65536+1024*(N-55296)+(S.charCodeAt(k+1)-56320);return this.i=k+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:k}=this;const{chunk:N}=this;for(;;){const C=this.getCode(),O=C===-2,D=O?10:C;if(D===-1||S.includes(D))return this.text+=N.slice(k,this.prevI),D;O&&(this.text+=N.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(S){let{i:k}=this;const{chunk:N}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=N.slice(k,this.prevI)+`
`,k=this.i,C=10;break;case-1:return this.text+=N.slice(k),!1}if(C===S)return this.text+=N.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:S,i:k}=this;for(;;){const N=this.getCode();if(N===-1)return this.name+=S.slice(k),-1;if(!f(N))return this.name+=S.slice(k,this.prevI),N===-2?10:N}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!c(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=y,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,k=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const k=this.captureTo(P);switch(k){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:G(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(M);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:G(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=S;this.text+=S,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:N}=this,C=this.entity+k.slice(S,this.prevI);let O;this.state=N,C===""?(this.fail("empty entity name."),O="&;"):(O=this.parseEntity(C),this.entity=""),N===13&&this.textHandler===void 0||(this.text+=O);break e}case-1:this.entity+=k.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const k=this.getCodeNorm();k===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const k=this.getCodeNorm();switch(k){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||c(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:k}=this;for(;;){const N=this.getCodeNorm();if(N===-1)return void(this.piTarget+=S.slice(k));if(!this.nameCheck(N)){this.piTarget+=S.slice(k,this.prevI);const C=N===63;C||c(N)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(N));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:c(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const k=this.getCodeNorm();if(k===62){const{piTarget:N}=this;N.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:N,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(U);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(G(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const N=k;this.xmlDecl.version=N,/^1\.[0-9]+$/.test(N)?this.opt.forceXMLVersion||this.setXMLVersion(N):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(c(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const k=this.captureNameChars();if(k===-1)return;const N=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=N.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,N),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:c(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:c(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();G(S)?(this.q=S,this.state=40):c(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:k}=this;let{i:N}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+k.slice(N,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(N,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(N,this.prevI)+" ",N=this.i;break;case 60:return this.text+=k.slice(N,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(N))}}sAttribValueClosed(){const S=this.getCodeNorm();c(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(V);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():c(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:k}=this;const{chunk:N,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:O}=this,D=N.slice(S,this.prevI);O.length!==0?(C(O+D),this.text=""):D.length!==0&&C(D)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=N.slice(S,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:C!==void 0&&(this.text+=N.slice(S,this.prevI)+`
`),S=this.i,k=0;break;case-1:C!==void 0&&(this.text+=N.slice(S));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:S}=this;const{chunk:k,textHandler:N}=this;let C=!1;e:for(;;){const O=this.getCode();switch(O){case 60:if(this.state=15,N!==void 0){const{text:D}=this,j=k.slice(S,this.prevI);D.length!==0?(N(D+j),this.text=""):j.length!==0&&N(j)}break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=k.slice(S,this.prevI)),C=!0;break e;case-2:N!==void 0&&(this.text+=k.slice(S,this.prevI)+`
`),S=this.i;break;case-1:N!==void 0&&(this.text+=k.slice(S));break e;default:c(O)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,k){var N;const{prefix:C,local:O}=this.qname(S),D={name:S,prefix:C,local:O,value:k};if(this.attribList.push(D),(N=this.attributeHandler)===null||N===void 0||N.call(this,D),C==="xmlns"){const j=k.trim();this.currentXMLVersion==="1.0"&&j===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[O]=j,I(this,O,j)}else if(S==="xmlns"){const j=k.trim();this.topNS[""]=j,I(this,"",j)}}pushAttribPlain(S,k){var N;const C={name:S,value:k};this.attribList.push(C),(N=this.attributeHandler)===null||N===void 0||N.call(this,C)}end(){var S,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:N}=this;for(;N.length>0;){const O=N.pop();this.fail("unclosed tag: "+O.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,C),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(S){var k,N;let C=this.topNS[S];if(C!==void 0)return C;const{tags:O}=this;for(let D=O.length-1;D>=0;D--)if(C=O[D].ns[S],C!==void 0)return C;return C=this.ns[S],C!==void 0?C:(N=(k=this.opt).resolvePrefix)===null||N===void 0?void 0:N.call(k,S)}qname(S){const k=S.indexOf(":");if(k===-1)return{prefix:"",local:S};const N=S.slice(k+1),C=S.slice(0,k);return(C===""||N===""||N.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:C,local:N}}processAttribsNS(){var S;const{attribList:k}=this,N=this.tag;{const{prefix:D,local:j}=this.qname(N.name);N.prefix=D,N.local=j;const K=N.uri=(S=this.resolve(D))!==null&&S!==void 0?S:"";D!==""&&(D==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(D)}.`),N.uri=D))}if(k.length===0)return;const{attributes:C}=N,O=new Set;for(const D of k){const{name:j,prefix:K,local:Z}=D;let ne,H;K===""?(ne=j==="xmlns"?_:"",H=j):(ne=this.resolve(K),ne===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),ne=K),H=`{${ne}}${Z}`),O.has(H)&&this.fail(`duplicate attribute: ${H}.`),O.add(H),D.uri=ne,C[j]=D}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,k=this.tag.attributes;for(const{name:N,value:C}of S)k[N]!==void 0&&this.fail(`duplicate attribute: ${N}.`),k[N]=C;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:k}=this,N=this.tag;N.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,N),k.push(N),this.state=13,this.name=""}openSelfClosingTag(){var S,k,N;this.processAttribs();const{tags:C}=this,O=this.tag;O.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,O),(k=this.closeTagHandler)===null||k===void 0||k.call(this,O),(this.tag=(N=C[C.length-1])!==null&&N!==void 0?N:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const N=this.closeTagHandler;let C=S.length;for(;C-- >0;){const O=this.tag=S.pop();if(this.topNS=O.ns,N==null||N(O),O.name===k)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(S){if(S[0]!=="#"){const N=this.ENTITIES[S];return N!==void 0?N:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let k=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?k=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(k=parseInt(S.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var s=e("safe-buffer").Buffer;function o(l,c){this._block=s.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}o.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=s.from(l,c));for(var a=this._block,u=this._blockSize,f=l.length,h=this._len,d=0;d<f;){for(var y=h%u,g=Math.min(f-d,u-y),p=0;p<g;p++)a[y+p]=l[d+p];d+=g,(h+=g)%u==0&&this._update(a)}return this._len+=f,this},o.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var u=(4294967295&a)>>>0,f=(a-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return l?h.toString(l):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(e,n,i){var s=n.exports=function(o){o=o.toLowerCase();var l=s[o];if(!l)throw new Error(o+" is not supported (we accept pull requests)");return new l};s.sha=e("./sha"),s.sha1=e("./sha1"),s.sha224=e("./sha224"),s.sha256=e("./sha256"),s.sha384=e("./sha384"),s.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var s=e("inherits"),o=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,y,g,p){return d===0?y&g|~y&p:d===2?y&g|y&p|g&p:y^g^p}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var y,g=this._w,p=0|this._a,w=0|this._b,v=0|this._c,_=0|this._d,T=0|this._e,F=0;F<16;++F)g[F]=d.readInt32BE(4*F);for(;F<80;++F)g[F]=g[F-3]^g[F-8]^g[F-14]^g[F-16];for(var G=0;G<80;++G){var $=~~(G/20),P=0|((y=p)<<5|y>>>27)+h($,w,v,_)+T+g[G]+c[$];T=_,_=v,v=f(w),w=p,p=P}this._a=p+this._a|0,this._b=w+this._b|0,this._c=v+this._c|0,this._d=_+this._d|0,this._e=T+this._e|0},u.prototype._hash=function(){var d=l.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var s=e("inherits"),o=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(y){return y<<5|y>>>27}function h(y){return y<<30|y>>>2}function d(y,g,p,w){return y===0?g&p|~g&w:y===2?g&p|g&w|p&w:g^p^w}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(y){for(var g,p=this._w,w=0|this._a,v=0|this._b,_=0|this._c,T=0|this._d,F=0|this._e,G=0;G<16;++G)p[G]=y.readInt32BE(4*G);for(;G<80;++G)p[G]=(g=p[G-3]^p[G-8]^p[G-14]^p[G-16])<<1|g>>>31;for(var $=0;$<80;++$){var P=~~($/20),M=f(w)+d(P,v,_,T)+F+p[$]+c[P]|0;F=T,T=_,_=h(v),v=w,w=M}this._a=w+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=T+this._d|0,this._e=F+this._e|0},u.prototype._hash=function(){var y=l.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var s=e("inherits"),o=e("./sha256"),l=e("./hash"),c=e("safe-buffer").Buffer,a=new Array(64);function u(){this.init(),this._w=a,l.call(this,64,56)}s(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var s=e("inherits"),o=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(p,w,v){return v^p&(w^v)}function h(p,w,v){return p&w|v&(p|w)}function d(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function y(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}s(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var w,v=this._w,_=0|this._a,T=0|this._b,F=0|this._c,G=0|this._d,$=0|this._e,P=0|this._f,M=0|this._g,U=0|this._h,V=0;V<16;++V)v[V]=p.readInt32BE(4*V);for(;V<64;++V)v[V]=0|(((w=v[V-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+v[V-7]+g(v[V-15])+v[V-16];for(var I=0;I<64;++I){var E=U+y($)+f($,P,M)+c[I]+v[I]|0,L=d(_)+h(_,T,F)|0;U=M,M=P,P=$,$=G+E|0,G=F,F=T,T=_,_=E+L|0}this._a=_+this._a|0,this._b=T+this._b|0,this._c=F+this._c|0,this._d=G+this._d|0,this._e=$+this._e|0,this._f=P+this._f|0,this._g=M+this._g|0,this._h=U+this._h|0},u.prototype._hash=function(){var p=l.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var s=e("inherits"),o=e("./sha512"),l=e("./hash"),c=e("safe-buffer").Buffer,a=new Array(160);function u(){this.init(),this._w=a,l.call(this,128,112)}s(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(48);function h(d,y,g){f.writeInt32BE(d,g),f.writeInt32BE(y,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var s=e("inherits"),o=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}function f(T,F,G){return G^T&(F^G)}function h(T,F,G){return T&F|G&(T|F)}function d(T,F){return(T>>>28|F<<4)^(F>>>2|T<<30)^(F>>>7|T<<25)}function y(T,F){return(T>>>14|F<<18)^(T>>>18|F<<14)^(F>>>9|T<<23)}function g(T,F){return(T>>>1|F<<31)^(T>>>8|F<<24)^T>>>7}function p(T,F){return(T>>>1|F<<31)^(T>>>8|F<<24)^(T>>>7|F<<25)}function w(T,F){return(T>>>19|F<<13)^(F>>>29|T<<3)^T>>>6}function v(T,F){return(T>>>19|F<<13)^(F>>>29|T<<3)^(T>>>6|F<<26)}function _(T,F){return T>>>0<F>>>0?1:0}s(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(T){for(var F=this._w,G=0|this._ah,$=0|this._bh,P=0|this._ch,M=0|this._dh,U=0|this._eh,V=0|this._fh,I=0|this._gh,E=0|this._hh,L=0|this._al,A=0|this._bl,S=0|this._cl,k=0|this._dl,N=0|this._el,C=0|this._fl,O=0|this._gl,D=0|this._hl,j=0;j<32;j+=2)F[j]=T.readInt32BE(4*j),F[j+1]=T.readInt32BE(4*j+4);for(;j<160;j+=2){var K=F[j-30],Z=F[j-30+1],ne=g(K,Z),H=p(Z,K),J=w(K=F[j-4],Z=F[j-4+1]),z=v(Z,K),B=F[j-14],Q=F[j-14+1],oe=F[j-32],pe=F[j-32+1],de=H+Q|0,ve=ne+B+_(de,H)|0;ve=(ve=ve+J+_(de=de+z|0,z)|0)+oe+_(de=de+pe|0,pe)|0,F[j]=ve,F[j+1]=de}for(var ce=0;ce<160;ce+=2){ve=F[ce],de=F[ce+1];var he=h(G,$,P),fe=h(L,A,S),ke=d(G,L),ye=d(L,G),Re=y(U,N),Ie=y(N,U),Oe=c[ce],Fe=c[ce+1],Se=f(U,V,I),Pe=f(N,C,O),He=D+Ie|0,Ze=E+Re+_(He,D)|0;Ze=(Ze=(Ze=Ze+Se+_(He=He+Pe|0,Pe)|0)+Oe+_(He=He+Fe|0,Fe)|0)+ve+_(He=He+de|0,de)|0;var at=ye+fe|0,Je=ke+he+_(at,ye)|0;E=I,D=O,I=V,O=C,V=U,C=N,U=M+Ze+_(N=k+He|0,k)|0,M=P,k=S,P=$,S=A,$=G,A=L,G=Ze+Je+_(L=He+at|0,He)|0}this._al=this._al+L|0,this._bl=this._bl+A|0,this._cl=this._cl+S|0,this._dl=this._dl+k|0,this._el=this._el+N|0,this._fl=this._fl+C|0,this._gl=this._gl+O|0,this._hl=this._hl+D|0,this._ah=this._ah+G+_(this._al,L)|0,this._bh=this._bh+$+_(this._bl,A)|0,this._ch=this._ch+P+_(this._cl,S)|0,this._dh=this._dh+M+_(this._dl,k)|0,this._eh=this._eh+U+_(this._el,N)|0,this._fh=this._fh+V+_(this._fl,C)|0,this._gh=this._gh+I+_(this._gl,O)|0,this._hh=this._hh+E+_(this._hl,D)|0},u.prototype._hash=function(){var T=l.allocUnsafe(64);function F(G,$,P){T.writeInt32BE(G,P),T.writeInt32BE($,P+4)}return F(this._ah,this._al,0),F(this._bh,this._bl,8),F(this._ch,this._cl,16),F(this._dh,this._dl,24),F(this._eh,this._el,32),F(this._fh,this._fl,40),F(this._gh,this._gl,48),F(this._hh,this._hl,56),T},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=o;var s=e("events").EventEmitter;function o(){s.call(this)}e("inherits")(o,s),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(l,c){var a=this;function u(w){l.writable&&l.write(w)===!1&&a.pause&&a.pause()}function f(){a.readable&&a.resume&&a.resume()}a.on("data",u),l.on("drain",f),l._isStdio||c&&c.end===!1||(a.on("end",d),a.on("close",y));var h=!1;function d(){h||(h=!0,l.end())}function y(){h||(h=!0,typeof l.destroy=="function"&&l.destroy())}function g(w){if(p(),s.listenerCount(this,"error")===0)throw w}function p(){a.removeListener("data",u),l.removeListener("drain",f),a.removeListener("end",d),a.removeListener("close",y),a.removeListener("error",g),l.removeListener("error",g),a.removeListener("end",p),a.removeListener("close",p),l.removeListener("close",p)}return a.on("error",g),l.on("error",g),a.on("end",p),a.on("close",p),l.on("close",p),l.emit("pipe",a),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var s=e("process-nextick-args"),o=Object.keys||function(p){var w=[];for(var v in p)w.push(v);return w};n.exports=d;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c=e("./_stream_readable"),a=e("./_stream_writable");l.inherits(d,c);for(var u=o(a.prototype),f=0;f<u.length;f++){var h=u[f];d.prototype[h]||(d.prototype[h]=a.prototype[h])}function d(p){if(!(this instanceof d))return new d(p);c.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||s.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),d.prototype._destroy=function(p,w){this.push(null),this.end(),s.nextTick(w,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=l;var s=e("./_stream_transform"),o=Object.create(e("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);s.call(this,c)}o.inherits=e("inherits"),o.inherits(l,s),l.prototype._transform=function(c,a,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(s,o){(function(){var l=e("process-nextick-args");n.exports=G;var c,a=e("isarray");G.ReadableState=F,e("events").EventEmitter;var u=function(D,j){return D.listeners(j).length},f=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=Object.create(e("core-util-is"));y.inherits=e("inherits");var g=e("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var w,v=e("./internal/streams/BufferList"),_=e("./internal/streams/destroy");y.inherits(G,f);var T=["error","close","destroy","pause","resume"];function F(D,j){D=D||{};var K=j instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!D.objectMode,K&&(this.objectMode=this.objectMode||!!D.readableObjectMode);var Z=D.highWaterMark,ne=D.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(ne||ne===0)?ne:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(w||(w=e("string_decoder/").StringDecoder),this.decoder=new w(D.encoding),this.encoding=D.encoding)}function G(D){if(c=c||e("./_stream_duplex"),!(this instanceof G))return new G(D);this._readableState=new F(D,this),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),f.call(this)}function $(D,j,K,Z,ne){var H,J=D._readableState;return j===null?(J.reading=!1,(function(z,B){if(!B.ended){if(B.decoder){var Q=B.decoder.end();Q&&Q.length&&(B.buffer.push(Q),B.length+=B.objectMode?1:Q.length)}B.ended=!0,U(z)}})(D,J)):(ne||(H=(function(z,B){var Q;oe=B,h.isBuffer(oe)||oe instanceof d||typeof B=="string"||B===void 0||z.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk"));var oe;return Q})(J,j)),H?D.emit("error",H):J.objectMode||j&&j.length>0?(typeof j=="string"||J.objectMode||Object.getPrototypeOf(j)===h.prototype||(j=(function(z){return h.from(z)})(j)),Z?J.endEmitted?D.emit("error",new Error("stream.unshift() after end event")):P(D,J,j,!0):J.ended?D.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!K?(j=J.decoder.write(j),J.objectMode||j.length!==0?P(D,J,j,!1):I(D,J)):P(D,J,j,!1))):Z||(J.reading=!1)),(function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)})(J)}function P(D,j,K,Z){j.flowing&&j.length===0&&!j.sync?(D.emit("data",K),D.read(0)):(j.length+=j.objectMode?1:K.length,Z?j.buffer.unshift(K):j.buffer.push(K),j.needReadable&&U(D)),I(D,j)}Object.defineProperty(G.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),G.prototype.destroy=_.destroy,G.prototype._undestroy=_.undestroy,G.prototype._destroy=function(D,j){this.push(null),j(D)},G.prototype.push=function(D,j){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof D=="string"&&((j=j||Z.defaultEncoding)!==Z.encoding&&(D=h.from(D,j),j=""),K=!0),$(this,D,j,!1,K)},G.prototype.unshift=function(D){return $(this,D,null,!0,!1)},G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(D){return w||(w=e("string_decoder/").StringDecoder),this._readableState.decoder=new w(D),this._readableState.encoding=D,this};function M(D,j){return D<=0||j.length===0&&j.ended?0:j.objectMode?1:D!=D?j.flowing&&j.length?j.buffer.head.data.length:j.length:(D>j.highWaterMark&&(j.highWaterMark=(function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(D)),D<=j.length?D:j.ended?j.length:(j.needReadable=!0,0))}function U(D){var j=D._readableState;j.needReadable=!1,j.emittedReadable||(p("emitReadable",j.flowing),j.emittedReadable=!0,j.sync?l.nextTick(V,D):V(D))}function V(D){p("emit readable"),D.emit("readable"),S(D)}function I(D,j){j.readingMore||(j.readingMore=!0,l.nextTick(E,D,j))}function E(D,j){for(var K=j.length;!j.reading&&!j.flowing&&!j.ended&&j.length<j.highWaterMark&&(p("maybeReadMore read 0"),D.read(0),K!==j.length);)K=j.length;j.readingMore=!1}function L(D){p("readable nexttick read 0"),D.read(0)}function A(D,j){j.reading||(p("resume read 0"),D.read(0)),j.resumeScheduled=!1,j.awaitDrain=0,D.emit("resume"),S(D),j.flowing&&!j.reading&&D.read(0)}function S(D){var j=D._readableState;for(p("flow",j.flowing);j.flowing&&D.read()!==null;);}function k(D,j){return j.length===0?null:(j.objectMode?K=j.buffer.shift():!D||D>=j.length?(K=j.decoder?j.buffer.join(""):j.buffer.length===1?j.buffer.head.data:j.buffer.concat(j.length),j.buffer.clear()):K=(function(Z,ne,H){var J;return Z<ne.head.data.length?(J=ne.head.data.slice(0,Z),ne.head.data=ne.head.data.slice(Z)):J=Z===ne.head.data.length?ne.shift():H?(function(z,B){var Q=B.head,oe=1,pe=Q.data;for(z-=pe.length;Q=Q.next;){var de=Q.data,ve=z>de.length?de.length:z;if(ve===de.length?pe+=de:pe+=de.slice(0,z),(z-=ve)===0){ve===de.length?(++oe,Q.next?B.head=Q.next:B.head=B.tail=null):(B.head=Q,Q.data=de.slice(ve));break}++oe}return B.length-=oe,pe})(Z,ne):(function(z,B){var Q=h.allocUnsafe(z),oe=B.head,pe=1;for(oe.data.copy(Q),z-=oe.data.length;oe=oe.next;){var de=oe.data,ve=z>de.length?de.length:z;if(de.copy(Q,Q.length-z,0,ve),(z-=ve)===0){ve===de.length?(++pe,oe.next?B.head=oe.next:B.head=B.tail=null):(B.head=oe,oe.data=de.slice(ve));break}++pe}return B.length-=pe,Q})(Z,ne),J})(D,j.buffer,j.decoder),K);var K}function N(D){var j=D._readableState;if(j.length>0)throw new Error('"endReadable()" called on non-empty stream');j.endEmitted||(j.ended=!0,l.nextTick(C,j,D))}function C(D,j){D.endEmitted||D.length!==0||(D.endEmitted=!0,j.readable=!1,j.emit("end"))}function O(D,j){for(var K=0,Z=D.length;K<Z;K++)if(D[K]===j)return K;return-1}G.prototype.read=function(D){p("read",D),D=parseInt(D,10);var j=this._readableState,K=D;if(D!==0&&(j.emittedReadable=!1),D===0&&j.needReadable&&(j.length>=j.highWaterMark||j.ended))return p("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?N(this):U(this),null;if((D=M(D,j))===0&&j.ended)return j.length===0&&N(this),null;var Z,ne=j.needReadable;return p("need readable",ne),(j.length===0||j.length-D<j.highWaterMark)&&p("length less than watermark",ne=!0),j.ended||j.reading?p("reading or ended",ne=!1):ne&&(p("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(D=M(K,j))),(Z=D>0?k(D,j):null)===null?(j.needReadable=!0,D=0):j.length-=D,j.length===0&&(j.ended||(j.needReadable=!0),K!==D&&j.ended&&N(this)),Z!==null&&this.emit("data",Z),Z},G.prototype._read=function(D){this.emit("error",new Error("_read() is not implemented"))},G.prototype.pipe=function(D,j){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=D;break;case 1:Z.pipes=[Z.pipes,D];break;default:Z.pipes.push(D)}Z.pipesCount+=1,p("pipe count=%d opts=%j",Z.pipesCount,j);var ne=(!j||j.end!==!1)&&D!==s.stdout&&D!==s.stderr?J:ce;function H(he,fe){p("onunpipe"),he===K&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,p("cleanup"),D.removeListener("close",de),D.removeListener("finish",ve),D.removeListener("drain",z),D.removeListener("error",pe),D.removeListener("unpipe",H),K.removeListener("end",J),K.removeListener("end",ce),K.removeListener("data",oe),B=!0,!Z.awaitDrain||D._writableState&&!D._writableState.needDrain||z())}function J(){p("onend"),D.end()}Z.endEmitted?l.nextTick(ne):K.once("end",ne),D.on("unpipe",H);var z=(function(he){return function(){var fe=he._readableState;p("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&u(he,"data")&&(fe.flowing=!0,S(he))}})(K);D.on("drain",z);var B=!1,Q=!1;function oe(he){p("ondata"),Q=!1,D.write(he)!==!1||Q||((Z.pipesCount===1&&Z.pipes===D||Z.pipesCount>1&&O(Z.pipes,D)!==-1)&&!B&&(p("false write response, pause",Z.awaitDrain),Z.awaitDrain++,Q=!0),K.pause())}function pe(he){p("onerror",he),ce(),D.removeListener("error",pe),u(D,"error")===0&&D.emit("error",he)}function de(){D.removeListener("finish",ve),ce()}function ve(){p("onfinish"),D.removeListener("close",de),ce()}function ce(){p("unpipe"),K.unpipe(D)}return K.on("data",oe),(function(he,fe,ke){if(typeof he.prependListener=="function")return he.prependListener(fe,ke);he._events&&he._events[fe]?a(he._events[fe])?he._events[fe].unshift(ke):he._events[fe]=[ke,he._events[fe]]:he.on(fe,ke)})(D,"error",pe),D.once("close",de),D.once("finish",ve),D.emit("pipe",K),Z.flowing||(p("pipe resume"),K.resume()),D},G.prototype.unpipe=function(D){var j=this._readableState,K={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return D&&D!==j.pipes||(D||(D=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,D&&D.emit("unpipe",this,K)),this;if(!D){var Z=j.pipes,ne=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var H=0;H<ne;H++)Z[H].emit("unpipe",this,{hasUnpiped:!1});return this}var J=O(j.pipes,D);return J===-1||(j.pipes.splice(J,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),D.emit("unpipe",this,K)),this},G.prototype.on=function(D,j){var K=f.prototype.on.call(this,D,j);if(D==="data")this._readableState.flowing!==!1&&this.resume();else if(D==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&U(this):l.nextTick(L,this))}return K},G.prototype.addListener=G.prototype.on,G.prototype.resume=function(){var D=this._readableState;return D.flowing||(p("resume"),D.flowing=!0,(function(j,K){K.resumeScheduled||(K.resumeScheduled=!0,l.nextTick(A,j,K))})(this,D)),this},G.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},G.prototype.wrap=function(D){var j=this,K=this._readableState,Z=!1;for(var ne in D.on("end",(function(){if(p("wrapped end"),K.decoder&&!K.ended){var J=K.decoder.end();J&&J.length&&j.push(J)}j.push(null)})),D.on("data",(function(J){p("wrapped data"),K.decoder&&(J=K.decoder.write(J)),K.objectMode&&J==null||(K.objectMode||J&&J.length)&&(j.push(J)||(Z=!0,D.pause()))})),D)this[ne]===void 0&&typeof D[ne]=="function"&&(this[ne]=(function(J){return function(){return D[J].apply(D,arguments)}})(ne));for(var H=0;H<T.length;H++)D.on(T[H],this.emit.bind(this,T[H]));return this._read=function(J){p("wrapped _read",J),Z&&(Z=!1,D.resume())},this},Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),G._fromList=k}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=c;var s=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function l(f,h){var d=this._transformState;d.transforming=!1;var y=d.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),y(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);s.call(this,f),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",a)}function a(){var f=this;typeof this._flush=="function"?this._flush((function(h,d){u(f,h,d)})):u(this,null,null)}function u(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=e("inherits"),o.inherits(c,s),c.prototype.push=function(f,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,h)},c.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},c.prototype._write=function(f,h,d){var y=this._transformState;if(y.writecb=d,y.writechunk=f,y.writeencoding=h,!y.transforming){var g=this._readableState;(y.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},c.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(f,h){var d=this;s.prototype._destroy.call(this,f,(function(y){h(y),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(s,o,l){(function(){var c=e("process-nextick-args");function a(I){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(L,A,S){var k=L.entry;for(L.entry=null;k;){var N=k.callback;A.pendingcb--,N(S),k=k.next}A.corkedRequestsFree.next=L})(E,I)}}n.exports=F;var u,f=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?l:c.nextTick;F.WritableState=T;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},y=e("./internal/streams/stream"),g=e("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,v=e("./internal/streams/destroy");function _(){}function T(I,E){u=u||e("./_stream_duplex"),I=I||{};var L=E instanceof u;this.objectMode=!!I.objectMode,L&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var A=I.highWaterMark,S=I.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:L&&(S||S===0)?S:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=I.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(O,D){var j=O._writableState,K=j.sync,Z=j.writecb;if((function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0})(j),D)(function(H,J,z,B,Q){--J.pendingcb,z?(c.nextTick(Q,B),c.nextTick(V,H,J),H._writableState.errorEmitted=!0,H.emit("error",B)):(Q(B),H._writableState.errorEmitted=!0,H.emit("error",B),V(H,J))})(O,j,K,D,Z);else{var ne=M(j);ne||j.corked||j.bufferProcessing||!j.bufferedRequest||P(O,j),K?f($,O,j,ne,Z):$(O,j,ne,Z)}})(E,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function F(I){if(u=u||e("./_stream_duplex"),!(w.call(F,this)||this instanceof u))return new F(I);this._writableState=new T(I,this),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),y.call(this)}function G(I,E,L,A,S,k,N){E.writelen=A,E.writecb=N,E.writing=!0,E.sync=!0,L?I._writev(S,E.onwrite):I._write(S,k,E.onwrite),E.sync=!1}function $(I,E,L,A){L||(function(S,k){k.length===0&&k.needDrain&&(k.needDrain=!1,S.emit("drain"))})(I,E),E.pendingcb--,A(),V(I,E)}function P(I,E){E.bufferProcessing=!0;var L=E.bufferedRequest;if(I._writev&&L&&L.next){var A=E.bufferedRequestCount,S=new Array(A),k=E.corkedRequestsFree;k.entry=L;for(var N=0,C=!0;L;)S[N]=L,L.isBuf||(C=!1),L=L.next,N+=1;S.allBuffers=C,G(I,E,!0,E.length,S,"",k.finish),E.pendingcb++,E.lastBufferedRequest=null,k.next?(E.corkedRequestsFree=k.next,k.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;L;){var O=L.chunk,D=L.encoding,j=L.callback;if(G(I,E,!1,E.objectMode?1:O.length,O,D,j),L=L.next,E.bufferedRequestCount--,E.writing)break}L===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=L,E.bufferProcessing=!1}function M(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function U(I,E){I._final((function(L){E.pendingcb--,L&&I.emit("error",L),E.prefinished=!0,I.emit("prefinish"),V(I,E)}))}function V(I,E){var L=M(E);return L&&((function(A,S){S.prefinished||S.finalCalled||(typeof A._final=="function"?(S.pendingcb++,S.finalCalled=!0,c.nextTick(U,A,S)):(S.prefinished=!0,A.emit("prefinish")))})(I,E),E.pendingcb===0&&(E.finished=!0,I.emit("finish"))),L}h.inherits(F,y),T.prototype.getBuffer=function(){for(var I=this.bufferedRequest,E=[];I;)E.push(I),I=I.next;return E},(function(){try{Object.defineProperty(T.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(I){return!!w.call(this,I)||this===F&&I&&I._writableState instanceof T}})):w=function(I){return I instanceof this},F.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},F.prototype.write=function(I,E,L){var A,S=this._writableState,k=!1,N=!S.objectMode&&(A=I,g.isBuffer(A)||A instanceof p);return N&&!g.isBuffer(I)&&(I=(function(C){return g.from(C)})(I)),typeof E=="function"&&(L=E,E=null),N?E="buffer":E||(E=S.defaultEncoding),typeof L!="function"&&(L=_),S.ended?(function(C,O){var D=new Error("write after end");C.emit("error",D),c.nextTick(O,D)})(this,L):(N||(function(C,O,D,j){var K=!0,Z=!1;return D===null?Z=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||O.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(C.emit("error",Z),c.nextTick(j,Z),K=!1),K})(this,S,I,L))&&(S.pendingcb++,k=(function(C,O,D,j,K,Z){if(!D){var ne=(function(B,Q,oe){return B.objectMode||B.decodeStrings===!1||typeof Q!="string"||(Q=g.from(Q,oe)),Q})(O,j,K);j!==ne&&(D=!0,K="buffer",j=ne)}var H=O.objectMode?1:j.length;O.length+=H;var J=O.length<O.highWaterMark;if(J||(O.needDrain=!0),O.writing||O.corked){var z=O.lastBufferedRequest;O.lastBufferedRequest={chunk:j,encoding:K,isBuf:D,callback:Z,next:null},z?z.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else G(C,O,!1,H,j,K,Z);return J})(this,S,N,I,E,L)),k},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||P(this,I))},F.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),F.prototype._write=function(I,E,L){L(new Error("_write() is not implemented"))},F.prototype._writev=null,F.prototype.end=function(I,E,L){var A=this._writableState;typeof I=="function"?(L=I,I=null,E=null):typeof E=="function"&&(L=E,E=null),I!=null&&this.write(I,E),A.corked&&(A.corked=1,this.uncork()),A.ending||(function(S,k,N){k.ending=!0,V(S,k),N&&(k.finished?c.nextTick(N):S.once("finish",N)),k.ended=!0,S.writable=!1})(this,A,L)},Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),F.prototype.destroy=v.destroy,F.prototype._undestroy=v.undestroy,F.prototype._destroy=function(I,E){this.end(),E(I)}}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var s=e("safe-buffer").Buffer,o=e("util");n.exports=(function(){function l(){(function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var a={data:c,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},l.prototype.unshift=function(c){var a={data:c,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var a=this.head,u=""+a.data;a=a.next;)u+=c+a.data;return u},l.prototype.concat=function(c){if(this.length===0)return s.alloc(0);for(var a,u,f,h=s.allocUnsafe(c>>>0),d=this.head,y=0;d;)a=d.data,u=h,f=y,a.copy(u,f),y+=d.data.length,d=d.next;return h},l})(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var l=o.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var s=e("process-nextick-args");function o(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var a=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,l)):s.nextTick(o,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(h){!c&&h?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,s.nextTick(o,a,h)):s.nextTick(o,a,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(s,o){(function(){var l=e("process/browser.js").nextTick,c=Function.prototype.apply,a=Array.prototype.slice,u={},f=0;function h(d,y){this._id=d,this._clearFn=y}i.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,y){clearTimeout(d._idleTimeoutId),d._idleTimeout=y},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var y=d._idleTimeout;y>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),y))},i.setImmediate=typeof s=="function"?s:function(d){var y=f++,g=!(arguments.length<2)&&a.call(arguments,1);return u[y]=!0,l((function(){u[y]&&(g?d.apply(null,g):d.call(null),i.clearImmediate(y))})),y},i.clearImmediate=typeof o=="function"?o:function(d){delete u[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(s){(function(){function o(l){try{if(!s.localStorage)return!1}catch{return!1}var c=s.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(o("noDeprecation"))return l;var a=!1;return function(){if(!a){if(o("throwDeprecation"))throw new Error(c);o("traceDeprecation")?console.trace(c):console.warn(c),a=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var l=function(){};l.prototype=o.prototype,s.prototype=new l,s.prototype.constructor=s}},{}],526:[function(e,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(e,n,i){(function(s,o){(function(){var l=/%[sdj%]/g;i.format=function(S){if(!T(S)){for(var k=[],N=0;N<arguments.length;N++)k.push(u(arguments[N]));return k.join(" ")}N=1;for(var C=arguments,O=C.length,D=String(S).replace(l,(function(K){if(K==="%%")return"%";if(N>=O)return K;switch(K){case"%s":return String(C[N++]);case"%d":return Number(C[N++]);case"%j":try{return JSON.stringify(C[N++])}catch{return"[Circular]"}default:return K}})),j=C[N];N<O;j=C[++N])v(j)||!$(j)?D+=" "+j:D+=" "+u(j);return D},i.deprecate=function(S,k){if(F(o.process))return function(){return i.deprecate(S,k).apply(this,arguments)};if(s.noDeprecation===!0)return S;var N=!1;return function(){if(!N){if(s.throwDeprecation)throw new Error(k);s.traceDeprecation?console.trace(k):console.error(k),N=!0}return S.apply(this,arguments)}};var c,a={};function u(S,k){var N={seen:[],stylize:h};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),w(k)?N.showHidden=k:k&&i._extend(N,k),F(N.showHidden)&&(N.showHidden=!1),F(N.depth)&&(N.depth=2),F(N.colors)&&(N.colors=!1),F(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=f),d(N,S,N.depth)}function f(S,k){var N=u.styles[k];return N?"\x1B["+u.colors[N][0]+"m"+S+"\x1B["+u.colors[N][1]+"m":S}function h(S,k){return S}function d(S,k,N){if(S.customInspect&&k&&U(k.inspect)&&k.inspect!==i.inspect&&(!k.constructor||k.constructor.prototype!==k)){var C=k.inspect(N,S);return T(C)||(C=d(S,C,N)),C}var O=(function(z,B){if(F(B))return z.stylize("undefined","undefined");if(T(B)){var Q="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(Q,"string")}if(_(B))return z.stylize(""+B,"number");if(w(B))return z.stylize(""+B,"boolean");if(v(B))return z.stylize("null","null")})(S,k);if(O)return O;var D=Object.keys(k),j=(function(z){var B={};return z.forEach((function(Q,oe){B[Q]=!0})),B})(D);if(S.showHidden&&(D=Object.getOwnPropertyNames(k)),M(k)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return y(k);if(D.length===0){if(U(k)){var K=k.name?": "+k.name:"";return S.stylize("[Function"+K+"]","special")}if(G(k))return S.stylize(RegExp.prototype.toString.call(k),"regexp");if(P(k))return S.stylize(Date.prototype.toString.call(k),"date");if(M(k))return y(k)}var Z,ne="",H=!1,J=["{","}"];return p(k)&&(H=!0,J=["[","]"]),U(k)&&(ne=" [Function"+(k.name?": "+k.name:"")+"]"),G(k)&&(ne=" "+RegExp.prototype.toString.call(k)),P(k)&&(ne=" "+Date.prototype.toUTCString.call(k)),M(k)&&(ne=" "+y(k)),D.length!==0||H&&k.length!=0?N<0?G(k)?S.stylize(RegExp.prototype.toString.call(k),"regexp"):S.stylize("[Object]","special"):(S.seen.push(k),Z=H?(function(z,B,Q,oe,pe){for(var de=[],ve=0,ce=B.length;ve<ce;++ve)A(B,String(ve))?de.push(g(z,B,Q,oe,String(ve),!0)):de.push("");return pe.forEach((function(he){he.match(/^\d+$/)||de.push(g(z,B,Q,oe,he,!0))})),de})(S,k,N,j,D):D.map((function(z){return g(S,k,N,j,z,H)})),S.seen.pop(),(function(z,B,Q){return z.reduce((function(oe,pe){return pe.indexOf(`
`)>=0,oe+pe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Q[0]+(B===""?"":B+`
 `)+" "+z.join(`,
  `)+" "+Q[1]:Q[0]+B+" "+z.join(", ")+" "+Q[1]})(Z,ne,J)):J[0]+ne+J[1]}function y(S){return"["+Error.prototype.toString.call(S)+"]"}function g(S,k,N,C,O,D){var j,K,Z;if((Z=Object.getOwnPropertyDescriptor(k,O)||{value:k[O]}).get?K=Z.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):Z.set&&(K=S.stylize("[Setter]","special")),A(C,O)||(j="["+O+"]"),K||(S.seen.indexOf(Z.value)<0?(K=v(N)?d(S,Z.value,null):d(S,Z.value,N-1)).indexOf(`
`)>-1&&(K=D?K.split(`
`).map((function(ne){return"  "+ne})).join(`
`).substr(2):`
`+K.split(`
`).map((function(ne){return"   "+ne})).join(`
`)):K=S.stylize("[Circular]","special")),F(j)){if(D&&O.match(/^\d+$/))return K;(j=JSON.stringify(""+O)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.substr(1,j.length-2),j=S.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=S.stylize(j,"string"))}return j+": "+K}function p(S){return Array.isArray(S)}function w(S){return typeof S=="boolean"}function v(S){return S===null}function _(S){return typeof S=="number"}function T(S){return typeof S=="string"}function F(S){return S===void 0}function G(S){return $(S)&&V(S)==="[object RegExp]"}function $(S){return typeof S=="object"&&S!==null}function P(S){return $(S)&&V(S)==="[object Date]"}function M(S){return $(S)&&(V(S)==="[object Error]"||S instanceof Error)}function U(S){return typeof S=="function"}function V(S){return Object.prototype.toString.call(S)}function I(S){return S<10?"0"+S.toString(10):S.toString(10)}i.debuglog=function(S){if(F(c)&&(c=s.env.NODE_DEBUG||""),S=S.toUpperCase(),!a[S])if(new RegExp("\\b"+S+"\\b","i").test(c)){var k=s.pid;a[S]=function(){var N=i.format.apply(i,arguments);console.error("%s %d: %s",S,k,N)}}else a[S]=function(){};return a[S]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=w,i.isNull=v,i.isNullOrUndefined=function(S){return S==null},i.isNumber=_,i.isString=T,i.isSymbol=function(S){return typeof S=="symbol"},i.isUndefined=F,i.isRegExp=G,i.isObject=$,i.isDate=P,i.isError=M,i.isFunction=U,i.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},i.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var S=new Date,k=[I(S.getHours()),I(S.getMinutes()),I(S.getSeconds())].join(":");return[S.getDate(),E[S.getMonth()],k].join(" ")}function A(S,k){return Object.prototype.hasOwnProperty.call(S,k)}i.log=function(){console.log("%s - %s",L(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(S,k){if(!k||!$(k))return S;for(var N=Object.keys(k),C=N.length;C--;)S[N[C]]=k[N[C]];return S}}).call(this)}).call(this,e("_process"),typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var s=y(e("./v1.js")),o=y(e("./v3.js")),l=y(e("./v4.js")),c=y(e("./v5.js")),a=y(e("./nil.js")),u=y(e("./version.js")),f=y(e("./validate.js")),h=y(e("./stringify.js")),d=y(e("./parse.js"));function y(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function s(d){return 14+(d+64>>>9<<4)+1}function o(d,y){const g=(65535&d)+(65535&y);return(d>>16)+(y>>16)+(g>>16)<<16|65535&g}function l(d,y,g,p,w,v){return o((_=o(o(y,d),o(p,v)))<<(T=w)|_>>>32-T,g);var _,T}function c(d,y,g,p,w,v,_){return l(y&g|~y&p,d,y,w,v,_)}function a(d,y,g,p,w,v,_){return l(y&p|g&~p,d,y,w,v,_)}function u(d,y,g,p,w,v,_){return l(y^g^p,d,y,w,v,_)}function f(d,y,g,p,w,v,_){return l(g^(y|~p),d,y,w,v,_)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(d){if(typeof d=="string"){const y=unescape(encodeURIComponent(d));d=new Uint8Array(y.length);for(let g=0;g<y.length;++g)d[g]=y.charCodeAt(g)}return(function(y){const g=[],p=32*y.length;for(let w=0;w<p;w+=8){const v=y[w>>5]>>>w%32&255,_=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);g.push(_)}return g})((function(y,g){y[g>>5]|=128<<g%32,y[s(g)-1]=g;let p=1732584193,w=-271733879,v=-1732584194,_=271733878;for(let T=0;T<y.length;T+=16){const F=p,G=w,$=v,P=_;p=c(p,w,v,_,y[T],7,-680876936),_=c(_,p,w,v,y[T+1],12,-389564586),v=c(v,_,p,w,y[T+2],17,606105819),w=c(w,v,_,p,y[T+3],22,-1044525330),p=c(p,w,v,_,y[T+4],7,-176418897),_=c(_,p,w,v,y[T+5],12,1200080426),v=c(v,_,p,w,y[T+6],17,-1473231341),w=c(w,v,_,p,y[T+7],22,-45705983),p=c(p,w,v,_,y[T+8],7,1770035416),_=c(_,p,w,v,y[T+9],12,-1958414417),v=c(v,_,p,w,y[T+10],17,-42063),w=c(w,v,_,p,y[T+11],22,-1990404162),p=c(p,w,v,_,y[T+12],7,1804603682),_=c(_,p,w,v,y[T+13],12,-40341101),v=c(v,_,p,w,y[T+14],17,-1502002290),w=c(w,v,_,p,y[T+15],22,1236535329),p=a(p,w,v,_,y[T+1],5,-165796510),_=a(_,p,w,v,y[T+6],9,-1069501632),v=a(v,_,p,w,y[T+11],14,643717713),w=a(w,v,_,p,y[T],20,-373897302),p=a(p,w,v,_,y[T+5],5,-701558691),_=a(_,p,w,v,y[T+10],9,38016083),v=a(v,_,p,w,y[T+15],14,-660478335),w=a(w,v,_,p,y[T+4],20,-405537848),p=a(p,w,v,_,y[T+9],5,568446438),_=a(_,p,w,v,y[T+14],9,-1019803690),v=a(v,_,p,w,y[T+3],14,-187363961),w=a(w,v,_,p,y[T+8],20,1163531501),p=a(p,w,v,_,y[T+13],5,-1444681467),_=a(_,p,w,v,y[T+2],9,-51403784),v=a(v,_,p,w,y[T+7],14,1735328473),w=a(w,v,_,p,y[T+12],20,-1926607734),p=u(p,w,v,_,y[T+5],4,-378558),_=u(_,p,w,v,y[T+8],11,-2022574463),v=u(v,_,p,w,y[T+11],16,1839030562),w=u(w,v,_,p,y[T+14],23,-35309556),p=u(p,w,v,_,y[T+1],4,-1530992060),_=u(_,p,w,v,y[T+4],11,1272893353),v=u(v,_,p,w,y[T+7],16,-155497632),w=u(w,v,_,p,y[T+10],23,-1094730640),p=u(p,w,v,_,y[T+13],4,681279174),_=u(_,p,w,v,y[T],11,-358537222),v=u(v,_,p,w,y[T+3],16,-722521979),w=u(w,v,_,p,y[T+6],23,76029189),p=u(p,w,v,_,y[T+9],4,-640364487),_=u(_,p,w,v,y[T+12],11,-421815835),v=u(v,_,p,w,y[T+15],16,530742520),w=u(w,v,_,p,y[T+2],23,-995338651),p=f(p,w,v,_,y[T],6,-198630844),_=f(_,p,w,v,y[T+7],10,1126891415),v=f(v,_,p,w,y[T+14],15,-1416354905),w=f(w,v,_,p,y[T+5],21,-57434055),p=f(p,w,v,_,y[T+12],6,1700485571),_=f(_,p,w,v,y[T+3],10,-1894986606),v=f(v,_,p,w,y[T+10],15,-1051523),w=f(w,v,_,p,y[T+1],21,-2054922799),p=f(p,w,v,_,y[T+8],6,1873313359),_=f(_,p,w,v,y[T+15],10,-30611744),v=f(v,_,p,w,y[T+6],15,-1560198380),w=f(w,v,_,p,y[T+13],21,1309151649),p=f(p,w,v,_,y[T+4],6,-145523070),_=f(_,p,w,v,y[T+11],10,-1120210379),v=f(v,_,p,w,y[T+2],15,718787259),w=f(w,v,_,p,y[T+9],21,-343485551),p=o(p,F),w=o(w,G),v=o(v,$),_=o(_,P)}return[p,w,v,_]})((function(y){if(y.length===0)return[];const g=8*y.length,p=new Uint32Array(s(g));for(let w=0;w<g;w+=8)p[w>>5]|=(255&y[w/8])<<w%32;return p})(d),8*d.length))};i.default=h},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s},l=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");let a;const u=new Uint8Array(16);return u[0]=(a=parseInt(c.slice(0,8),16))>>>24,u[1]=a>>>16&255,u[2]=a>>>8&255,u[3]=255&a,u[4]=(a=parseInt(c.slice(9,13),16))>>>8,u[5]=255&a,u[6]=(a=parseInt(c.slice(14,18),16))>>>8,u[7]=255&a,u[8]=(a=parseInt(c.slice(19,23),16))>>>8,u[9]=255&a,u[10]=(a=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=a/4294967296&255,u[12]=a>>>24&255,u[13]=a>>>16&255,u[14]=a>>>8&255,u[15]=255&a,u};i.default=l},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(e,n,i){function s(c,a,u,f){switch(c){case 0:return a&u^~a&f;case 1:return a^u^f;case 2:return a&u^a&f^u&f;case 3:return a^u^f}}function o(c,a){return c<<a|c>>>32-a}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function(c){const a=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const y=unescape(encodeURIComponent(c));c=[];for(let g=0;g<y.length;++g)c.push(y.charCodeAt(g))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const f=c.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let y=0;y<h;++y){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=c[64*y+4*p]<<24|c[64*y+4*p+1]<<16|c[64*y+4*p+2]<<8|c[64*y+4*p+3];d[y]=g}d[h-1][14]=8*(c.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(c.length-1)&4294967295;for(let y=0;y<h;++y){const g=new Uint32Array(80);for(let F=0;F<16;++F)g[F]=d[y][F];for(let F=16;F<80;++F)g[F]=o(g[F-3]^g[F-8]^g[F-14]^g[F-16],1);let p=u[0],w=u[1],v=u[2],_=u[3],T=u[4];for(let F=0;F<80;++F){const G=Math.floor(F/20),$=o(p,5)+s(G,w,v,_)+T+a[G]+g[F]>>>0;T=_,_=v,v=o(w,30)>>>0,w=p,p=$}u[0]=u[0]+p>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+_>>>0,u[4]=u[4]+T>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=l},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s};const l=[];for(let a=0;a<256;++a)l.push((a+256).toString(16).substr(1));var c=function(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(l[a[u+0]]+l[a[u+1]]+l[a[u+2]]+l[a[u+3]]+"-"+l[a[u+4]]+l[a[u+5]]+"-"+l[a[u+6]]+l[a[u+7]]+"-"+l[a[u+8]]+l[a[u+9]]+"-"+l[a[u+10]]+l[a[u+11]]+l[a[u+12]]+l[a[u+13]]+l[a[u+14]]+l[a[u+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=c},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=l(e("./rng.js")),o=l(e("./stringify.js"));function l(d){return d&&d.__esModule?d:{default:d}}let c,a,u=0,f=0;var h=function(d,y,g){let p=y&&g||0;const w=y||new Array(16);let v=(d=d||{}).node||c,_=d.clockseq!==void 0?d.clockseq:a;if(v==null||_==null){const M=d.random||(d.rng||s.default)();v==null&&(v=c=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),_==null&&(_=a=16383&(M[6]<<8|M[7]))}let T=d.msecs!==void 0?d.msecs:Date.now(),F=d.nsecs!==void 0?d.nsecs:f+1;const G=T-u+(F-f)/1e4;if(G<0&&d.clockseq===void 0&&(_=_+1&16383),(G<0||T>u)&&d.nsecs===void 0&&(F=0),F>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=T,f=F,a=_,T+=122192928e5;const $=(1e4*(268435455&T)+F)%4294967296;w[p++]=$>>>24&255,w[p++]=$>>>16&255,w[p++]=$>>>8&255,w[p++]=255&$;const P=T/4294967296*1e4&268435455;w[p++]=P>>>8&255,w[p++]=255&P,w[p++]=P>>>24&15|16,w[p++]=P>>>16&255,w[p++]=_>>>8|128,w[p++]=255&_;for(let M=0;M<6;++M)w[p+M]=v[M];return y||(0,o.default)(w)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=l(e("./v35.js")),o=l(e("./md5.js"));function l(a){return a&&a.__esModule?a:{default:a}}var c=(0,s.default)("v3",48,o.default);i.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,f,h){function d(y,g,p,w){if(typeof y=="string"&&(y=(function(_){_=unescape(encodeURIComponent(_));const T=[];for(let F=0;F<_.length;++F)T.push(_.charCodeAt(F));return T})(y)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+y.length);if(v.set(g),v.set(y,g.length),v=h(v),v[6]=15&v[6]|f,v[8]=63&v[8]|128,p){w=w||0;for(let _=0;_<16;++_)p[w+_]=v[_];return p}return(0,s.default)(v)}try{d.name=u}catch{}return d.DNS=c,d.URL=a,d},i.URL=i.DNS=void 0;var s=l(e("./stringify.js")),o=l(e("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=c;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=l(e("./rng.js")),o=l(e("./stringify.js"));function l(a){return a&&a.__esModule?a:{default:a}}var c=function(a,u,f){const h=(a=a||{}).random||(a.rng||s.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){f=f||0;for(let d=0;d<16;++d)u[f+d]=h[d];return u}return(0,o.default)(h)};i.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=l(e("./v35.js")),o=l(e("./sha1.js"));function l(a){return a&&a.__esModule?a:{default:a}}var c=(0,s.default)("v5",80,o.default);i.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./regex.js"))&&s.__esModule?s:{default:s},l=function(c){return typeof c=="string"&&o.default.test(c)};i.default=l},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=e("./validate.js"))&&s.__esModule?s:{default:s},l=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};i.default=l},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)}))})(_1)),_1.exports}var wL=bL();const xv=S0(wL);async function fc(r,t,e="Sheet1"){if(!r||r.length===0)throw new Error("No data to export");const n=new xv.Workbook,i=n.addWorksheet(e),s=Object.keys(r[0]);i.addRow(s);const o=i.getRow(1);o.font={bold:!0},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},r.forEach(c=>{i.addRow(s.map(a=>c[a]||""))}),i.columns.forEach((c,a)=>{const u=s[a];let f=u.length;r.forEach(h=>{const d=String(h[u]||"");f=Math.max(f,d.length)}),c.width=Math.min(f+2,50)});const l=await n.xlsx.writeBuffer();kS(l,`${t}.xlsx`)}async function y0(r,t){const e=new xv.Workbook;r.forEach(i=>{if(i.data&&i.data.length>0){const s=e.addWorksheet(i.name),o=Object.keys(i.data[0]);s.addRow(o);const l=s.getRow(1);l.font={bold:!0},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},i.data.forEach(c=>{s.addRow(o.map(a=>c[a]||""))}),s.columns.forEach((c,a)=>{const u=o[a];let f=u.length;i.data.forEach(h=>{const d=String(h[u]||"");f=Math.max(f,d.length)}),c.width=Math.min(f+2,50)})}});const n=await e.xlsx.writeBuffer();kS(n,`${t}.xlsx`)}function kS(r,t){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function B2(r){return r.map(t=>({Name:t.name||`${t.firstName||""} ${t.middleName||""} ${t.lastName||""}`.trim(),"First Name":t.firstName||"","Middle Name":t.middleName||"","Last Name":t.lastName||"",Type:t.type||"Individual",Email:t.email||"",Phone:t.phone||"",Address:t.address||"","Date of Birth":t.dateOfBirth||"","Place of Birth":t.placeOfBirth||"","Country of Birth":t.countryOfBirth||"","ARC Number":t.arcNumber||"","File Number":t.fileNumber||"",Notes:t.notes||"","Created At":t.createdAt||""}))}function V2(r,t){return r.map(e=>{const n=t.find(i=>i.id===e.clientId);return{"Case Number":e.caseNumber||"",Title:e.title||"",Type:e.type||"",Status:e.status||"","Client Name":(n==null?void 0:n.name)||`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim()||"Unknown",Description:e.description||"","Created At":e.createdAt||"","Updated At":e.updatedAt||""}})}function z2(r){return r.map(t=>({"Client Name":t.clientName||"","Case Number":t.caseNumber||"","Court Date":t.courtDate||"","Court Time":t.courtTime||"","Court Name":t.courtName||"","Court Address":t.courtAddress||"","Judge/Panel":t.judgeOrPanel||"",Purpose:t.purpose||"",Status:t.status||"","Reminder Enabled":t.reminderEnabled?"Yes":"No",Notes:t.notes||"","Created At":t.createdAt||""}))}function U2(r,t){return r.map(e=>{const n=t.find(i=>i.id===e.assignedTo);return{Title:e.title||"",Description:e.description||"",Status:e.status||"",Priority:e.priority||"","Assigned To":(n==null?void 0:n.name)||"Unassigned","Due Date":e.dueDate||"","Created At":e.createdAt||""}})}async function xL(r){const t=new xv.Workbook,e=await r.arrayBuffer();await t.xlsx.load(e);const n=t.worksheets[0];if(!n)throw new Error("No worksheet found in Excel file");const i=[],s=[];return n.eachRow((o,l)=>{if(l===1)o.eachCell((c,a)=>{s[a-1]=String(c.value||"")});else{const c={};o.eachCell((a,u)=>{const f=s[u-1];f&&(c[f]=a.value)}),Object.keys(c).length>0&&i.push(c)}}),i}function _L(r){return r.map((t,e)=>({id:`imported-client-${Date.now()}-${e}`,name:t.Name||`${t["First Name"]||""} ${t["Last Name"]||""}`.trim()||"Unknown",firstName:t["First Name"]||t.FirstName||"",middleName:t["Middle Name"]||t.MiddleName||"",lastName:t["Last Name"]||t.LastName||"",type:t.Type||"Individual",email:t.Email||"",phone:t.Phone||t["Phone Number"]||"",address:t.Address||"",dateOfBirth:t["Date of Birth"]||t.DOB||t.DateOfBirth||"",placeOfBirth:t["Place of Birth"]||t.PlaceOfBirth||"",countryOfBirth:t["Country of Birth"]||t.CountryOfBirth||t.Country||"",arcNumber:t["ARC Number"]||t["ARC No"]||t.ARCNumber||"",fileNumber:t["File Number"]||t["File No"]||t.FileNumber||"",notes:t.Notes||"",createdAt:new Date().toISOString()}))}function SL(r,t){return r.map((e,n)=>{const i=e["Client Name"]||e.Client||"",s=t.find(o=>{var l;return((l=o.name)==null?void 0:l.toLowerCase())===i.toLowerCase()||`${o.firstName} ${o.lastName}`.toLowerCase()===i.toLowerCase()});return{id:`imported-case-${Date.now()}-${n}`,caseNumber:e["Case Number"]||e.CaseNumber||`CASE-${Date.now()}-${n}`,title:e.Title||e["Case Title"]||"Imported Case",type:e.Type||e["Case Type"]||"General",status:e.Status||"Open",clientId:(s==null?void 0:s.id)||"",description:e.Description||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}})}function NL(r,t){return r.map((e,n)=>{const i=e["Assigned To"]||e.Assignee||"",s=t.find(o=>{var l;return((l=o.name)==null?void 0:l.toLowerCase())===i.toLowerCase()});return{id:`imported-task-${Date.now()}-${n}`,title:e.Title||e.Task||"Imported Task",description:e.Description||"",status:e.Status||"Pending",priority:e.Priority||"Medium",assignedTo:(s==null?void 0:s.id)||"",dueDate:e["Due Date"]||e.DueDate||"",createdAt:new Date().toISOString()}})}function CL({clients:r,onRefresh:t}){const[e,n]=ie.useState(!1),[i,s]=ie.useState(null),[o,l]=ie.useState(""),[c,a]=ie.useState(!1),[u,f]=ie.useState({firstName:"",middleName:"",lastName:"",dateOfBirth:"",placeOfBirth:"",countryOfBirth:"",companyName:"",email:"",phone:"",address:"",type:"Individual",notes:""}),h=_=>{if(_.type==="Corporate")return _.companyName||_.name;const T=[_.firstName,_.middleName,_.lastName].filter(Boolean);return T.length>0?T.join(" "):_.name},d=r.filter(_=>h(_).toLowerCase().includes(o.toLowerCase())||_.email.toLowerCase().includes(o.toLowerCase())),y=()=>{s(null),f({firstName:"",middleName:"",lastName:"",dateOfBirth:"",placeOfBirth:"",countryOfBirth:"",companyName:"",email:"",phone:"",address:"",type:"Individual",notes:""}),n(!0)},g=_=>{s(_),f({firstName:_.firstName||"",middleName:_.middleName||"",lastName:_.lastName||"",dateOfBirth:_.dateOfBirth||"",placeOfBirth:_.placeOfBirth||"",countryOfBirth:_.countryOfBirth||"",companyName:_.companyName||_.name||"",email:_.email,phone:_.phone,address:_.address||"",type:_.type,notes:_.notes||""}),n(!0)},p=async _=>{_.preventDefault(),a(!0);try{let T="";u.type==="Individual"?T=[u.firstName,u.middleName,u.lastName].filter(Boolean).join(" "):T=u.companyName;const F={name:T,firstName:u.type==="Individual"?u.firstName:null,middleName:u.type==="Individual"?u.middleName:null,lastName:u.type==="Individual"?u.lastName:null,dateOfBirth:u.type==="Individual"?u.dateOfBirth:null,placeOfBirth:u.type==="Individual"?u.placeOfBirth:null,countryOfBirth:u.type==="Individual"?u.countryOfBirth:null,companyName:u.type==="Corporate"?u.companyName:null,email:u.email,phone:u.phone,address:u.address,type:u.type,notes:u.notes};i?(console.log("Updating client:",i.id,F),await os.updateClient(i.id,F),wt.success("Client updated successfully")):(console.log("Creating client:",F),await os.createClient(F),wt.success("Client created successfully")),n(!1),t()}catch(T){console.error("Client operation error:",T),console.error("Error details:",JSON.stringify(T,null,2)),wt.error(T.message||"Operation failed")}finally{a(!1)}},w=async _=>{if(confirm(`Are you sure you want to delete ${h(_)}?`))try{await os.deleteClient(_.id),wt.success("Client deleted"),t()}catch(T){wt.error(T.message||"Delete failed")}},v=()=>{try{if(r.length===0){wt.error("No clients to export");return}const _=B2(r);fc(_,`Clients_${new Date().toISOString().split("T")[0]}`,"Clients"),wt.success("Clients exported to Excel")}catch{wt.error("Failed to export clients")}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),b.jsx("p",{className:"text-muted-foreground",children:"Manage your client database"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsx(Mt,{variant:"outline",size:"icon",children:b.jsx(mp,{className:"h-4 w-4"})})}),b.jsx(yd,{align:"end",children:b.jsxs(vd,{onClick:v,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),b.jsxs(Mt,{onClick:y,children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add Client"]})]})]}),b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search clients...",value:o,onChange:_=>l(_.target.value),className:"pl-10"})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[d.map(_=>b.jsxs(Qt,{className:"hover:shadow-lg transition-shadow",children:[b.jsx(zr,{className:"pb-2",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:_.type==="Corporate"?b.jsx(pM,{className:"h-5 w-5 text-primary"}):b.jsx(bu,{className:"h-5 w-5 text-primary"})}),b.jsxs("div",{children:[b.jsx(Ur,{className:"text-lg",children:h(_)}),b.jsx("p",{className:"text-sm text-muted-foreground",children:_.type})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>g(_),children:b.jsx(gp,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>w(_),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})}),b.jsx(Jt,{children:b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsx("p",{className:"text-muted-foreground",children:_.email}),b.jsx("p",{className:"text-muted-foreground",children:_.phone}),_.type==="Individual"&&_.dateOfBirth&&b.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[b.jsx(uh,{className:"h-3 w-3"}),"DOB: ",new Date(_.dateOfBirth).toLocaleDateString()]}),_.type==="Individual"&&_.countryOfBirth&&b.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[b.jsx(ad,{className:"h-3 w-3"}),_.countryOfBirth]}),_.address&&b.jsxs("p",{className:"text-muted-foreground truncate flex items-center gap-1",children:[b.jsx(g8,{className:"h-3 w-3"}),_.address]})]})})]},_.id)),d.length===0&&b.jsxs("div",{className:"col-span-full text-center py-12",children:[b.jsx("p",{className:"text-muted-foreground",children:"No clients found"}),b.jsx(Mt,{variant:"link",onClick:y,children:"Add your first client"})]})]}),b.jsx(Ga,{open:e,onOpenChange:n,children:b.jsxs(ka,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:i?"Edit Client":"Add New Client"})}),b.jsxs("form",{onSubmit:p,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"type",children:"Client Type *"}),b.jsxs(bn,{value:u.type,onValueChange:_=>f({...u,type:_}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select type"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Individual",children:"Individual"}),b.jsx(Bt,{value:"Corporate",children:"Corporate"})]})]})]}),u.type==="Individual"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"firstName",children:"First Name *"}),b.jsx(Xt,{id:"firstName",value:u.firstName,onChange:_=>f({...u,firstName:_.target.value}),placeholder:"John",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"middleName",children:"Middle Name"}),b.jsx(Xt,{id:"middleName",value:u.middleName,onChange:_=>f({...u,middleName:_.target.value}),placeholder:"William"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"lastName",children:"Last Name *"}),b.jsx(Xt,{id:"lastName",value:u.lastName,onChange:_=>f({...u,lastName:_.target.value}),placeholder:"Doe",required:!0})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"dateOfBirth",children:"Date of Birth"}),b.jsx(Xt,{id:"dateOfBirth",type:"date",value:u.dateOfBirth,onChange:_=>f({...u,dateOfBirth:_.target.value})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"placeOfBirth",children:"Place of Birth"}),b.jsx(Xt,{id:"placeOfBirth",value:u.placeOfBirth,onChange:_=>f({...u,placeOfBirth:_.target.value}),placeholder:"City, State"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"countryOfBirth",children:"Country of Birth"}),b.jsxs(bn,{value:u.countryOfBirth,onValueChange:_=>f({...u,countryOfBirth:_}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select country"})}),b.jsx(fn,{className:"max-h-[200px]",children:CS.map(_=>b.jsx(Bt,{value:_,children:_},_))})]})]})]}),u.type==="Corporate"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"companyName",children:"Company Name *"}),b.jsx(Xt,{id:"companyName",value:u.companyName,onChange:_=>f({...u,companyName:_.target.value}),placeholder:"Acme Corporation",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"email",children:"Email *"}),b.jsx(Xt,{id:"email",type:"email",value:u.email,onChange:_=>f({...u,email:_.target.value}),placeholder:"client@example.com",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"phone",children:"Phone *"}),b.jsx(Xt,{id:"phone",value:u.phone,onChange:_=>f({...u,phone:_.target.value}),placeholder:"(555) 123-4567",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"address",children:"Address"}),b.jsx(Xt,{id:"address",value:u.address,onChange:_=>f({...u,address:_.target.value}),placeholder:"123 Main St, City, State, ZIP"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"notes",children:"Notes"}),b.jsx(Xt,{id:"notes",value:u.notes,onChange:_=>f({...u,notes:_.target.value}),placeholder:"Additional notes..."})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",disabled:c,children:c?"Saving...":i?"Update":"Create"})]})]})]})})]})}const kL={Open:"bg-green-500/10 text-green-600",Pending:"bg-yellow-500/10 text-yellow-600",Closed:"bg-gray-500/10 text-gray-600","On Hold":"bg-orange-500/10 text-orange-600"};function EL({cases:r,clients:t,users:e,onRefresh:n}){const[i,s]=ie.useState(!1),[o,l]=ie.useState(null),[c,a]=ie.useState(""),[u,f]=ie.useState("all"),[h,d]=ie.useState(!1),[y,g]=ie.useState({title:"",caseNumber:"",type:"General",status:"Open",clientId:"",description:"",assignedTo:[]}),p=r.filter($=>{const P=$.title.toLowerCase().includes(c.toLowerCase())||$.caseNumber.toLowerCase().includes(c.toLowerCase()),M=u==="all"||$.status===u;return P&&M}),w=$=>{const P=t.find(M=>M.id===$);return(P==null?void 0:P.name)||"Unknown Client"},v=()=>{l(null),g({title:"",caseNumber:`CASE-${Date.now().toString().slice(-6)}`,type:"General",status:"Open",clientId:"",description:"",assignedTo:[]}),s(!0)},_=$=>{l($),g({title:$.title,caseNumber:$.caseNumber,type:$.type,status:$.status,clientId:$.clientId,description:$.description||"",assignedTo:$.assignedTo||[]}),s(!0)},T=async $=>{$.preventDefault(),d(!0);try{o?(await os.updateCase(o.id,y),wt.success("Case updated successfully")):(await os.createCase(y),wt.success("Case created successfully")),s(!1),n()}catch(P){wt.error(P.message||"Operation failed")}finally{d(!1)}},F=async $=>{if(confirm(`Are you sure you want to delete "${$.title}"?`))try{await os.deleteCase($.id),wt.success("Case deleted"),n()}catch(P){wt.error(P.message||"Delete failed")}},G=()=>{try{if(r.length===0){wt.error("No cases to export");return}const $=V2(r,t);fc($,`Cases_${new Date().toISOString().split("T")[0]}`,"Cases"),wt.success("Cases exported to Excel")}catch{wt.error("Failed to export cases")}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Cases"}),b.jsx("p",{className:"text-muted-foreground",children:"Manage your legal cases"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsx(Mt,{variant:"outline",size:"icon",children:b.jsx(mp,{className:"h-4 w-4"})})}),b.jsx(yd,{align:"end",children:b.jsxs(vd,{onClick:G,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),b.jsxs(Mt,{onClick:v,children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add Case"]})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search cases...",value:c,onChange:$=>a($.target.value),className:"pl-10"})]}),b.jsxs(bn,{value:u,onValueChange:f,children:[b.jsx(hn,{className:"w-[150px]",children:b.jsx(wn,{placeholder:"Status"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"all",children:"All Status"}),b.jsx(Bt,{value:"Open",children:"Open"}),b.jsx(Bt,{value:"Pending",children:"Pending"}),b.jsx(Bt,{value:"Closed",children:"Closed"}),b.jsx(Bt,{value:"On Hold",children:"On Hold"})]})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[p.map($=>b.jsxs(Qt,{className:"hover:shadow-lg transition-shadow",children:[b.jsx(zr,{className:"pb-2",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:b.jsx(_c,{className:"h-5 w-5 text-primary"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx(Ur,{className:"text-lg truncate",children:$.title}),b.jsx("p",{className:"text-sm text-muted-foreground",children:$.caseNumber})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>_($),children:b.jsx(gp,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>F($),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})}),b.jsx(Jt,{children:b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${kL[$.status]||""}`,children:$.status}),b.jsx("span",{className:"px-2 py-1 bg-secondary rounded-full text-xs",children:$.type})]}),b.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[b.jsx(Nh,{className:"h-3 w-3"}),w($.clientId)]}),$.description&&b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:$.description})]})})]},$.id)),p.length===0&&b.jsxs("div",{className:"col-span-full text-center py-12",children:[b.jsx("p",{className:"text-muted-foreground",children:"No cases found"}),b.jsx(Mt,{variant:"link",onClick:v,children:"Create your first case"})]})]}),b.jsx(Ga,{open:i,onOpenChange:s,children:b.jsxs(ka,{className:"sm:max-w-lg",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:o?"Edit Case":"Add New Case"})}),b.jsxs("form",{onSubmit:T,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"title",children:"Title *"}),b.jsx(Xt,{id:"title",value:y.title,onChange:$=>g({...y,title:$.target.value}),placeholder:"Enter case title",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"caseNumber",children:"Case Number *"}),b.jsx(Xt,{id:"caseNumber",value:y.caseNumber,onChange:$=>g({...y,caseNumber:$.target.value}),placeholder:"CASE-001",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"type",children:"Type *"}),b.jsxs(bn,{value:y.type,onValueChange:$=>g({...y,type:$}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select type"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"General",children:"General"}),b.jsx(Bt,{value:"Asylum",children:"Asylum"})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"status",children:"Status *"}),b.jsxs(bn,{value:y.status,onValueChange:$=>g({...y,status:$}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select status"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Open",children:"Open"}),b.jsx(Bt,{value:"Pending",children:"Pending"}),b.jsx(Bt,{value:"Closed",children:"Closed"}),b.jsx(Bt,{value:"On Hold",children:"On Hold"})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"clientId",children:"Client *"}),b.jsxs(bn,{value:y.clientId,onValueChange:$=>g({...y,clientId:$}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select client"})}),b.jsx(fn,{children:t.map($=>b.jsx(Bt,{value:$.id,children:$.name},$.id))})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"description",children:"Description"}),b.jsx(Xt,{id:"description",value:y.description,onChange:$=>g({...y,description:$.target.value}),placeholder:"Case description..."})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",disabled:h,children:h?"Saving...":o?"Update":"Create"})]})]})]})})]})}const ES=6048e5,AL=864e5,U5=Symbol.for("constructDateFrom");function Sc(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&U5 in r?r[U5](t):r instanceof Date?new r.constructor(t):new Date(t)}function Mo(r,t){return Sc(t||r,r)}function TL(r,t,e){const n=Mo(r,e==null?void 0:e.in);return isNaN(t)?Sc(r,NaN):(n.setDate(n.getDate()+t),n)}let jL={};function ag(){return jL}function Jf(r,t){var l,c,a,u;const e=ag(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((u=(a=e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??0,i=Mo(r,t==null?void 0:t.in),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function v0(r,t){return Jf(r,{...t,weekStartsOn:1})}function AS(r,t){const e=Mo(r,t==null?void 0:t.in),n=e.getFullYear(),i=Sc(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=v0(i),o=Sc(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=v0(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function $5(r){const t=Mo(r),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+r-+e}function TS(r,...t){const e=Sc.bind(null,t.find(n=>typeof n=="object"));return t.map(e)}function q5(r,t){const e=Mo(r,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function jS(r,t,e){const[n,i]=TS(e==null?void 0:e.in,r,t),s=q5(n),o=q5(i),l=+s-$5(s),c=+o-$5(o);return Math.round((l-c)/AL)}function IL(r,t){const e=AS(r,t),n=Sc(r,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),v0(n)}function PL(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function RL(r){return!(!PL(r)&&typeof r!="number"||isNaN(+Mo(r)))}function ML(r,t,e){const[n,i]=TS(e==null?void 0:e.in,r,t),s=H5(n,i),o=Math.abs(jS(n,i));n.setDate(n.getDate()-s*o);const l=+(H5(n,i)===-s),c=s*(o-l);return c===0?0:c}function H5(r,t){const e=r.getFullYear()-t.getFullYear()||r.getMonth()-t.getMonth()||r.getDate()-t.getDate()||r.getHours()-t.getHours()||r.getMinutes()-t.getMinutes()||r.getSeconds()-t.getSeconds()||r.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function OL(r,t){const e=Mo(r,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const LL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DL=(r,t,e)=>{let n;const i=LL[r];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function S1(r){return(t={})=>{const e=t.width?String(t.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const FL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zL={date:S1({formats:FL,defaultWidth:"full"}),time:S1({formats:BL,defaultWidth:"full"}),dateTime:S1({formats:VL,defaultWidth:"full"})},UL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$L=(r,t,e,n)=>UL[r];function vf(r){return(t,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,l=e!=null&&e.width?String(e.width):o;i=r.formattingValues[l]||r.formattingValues[o]}else{const o=r.defaultWidth,l=e!=null&&e.width?String(e.width):r.defaultWidth;i=r.values[l]||r.values[o]}const s=r.argumentCallback?r.argumentCallback(t):t;return i[s]}}const qL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YL=(r,t)=>{const e=Number(r),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},ZL={ordinalNumber:YL,era:vf({values:qL,defaultWidth:"wide"}),quarter:vf({values:HL,defaultWidth:"wide",argumentCallback:r=>r-1}),month:vf({values:WL,defaultWidth:"wide"}),day:vf({values:GL,defaultWidth:"wide"}),dayPeriod:vf({values:KL,defaultWidth:"wide",formattingValues:XL,defaultFormattingWidth:"wide"})};function bf(r){return(t,e={})=>{const n=e.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?JL(l,f=>f.test(o)):QL(l,f=>f.test(o));let a;a=r.valueCallback?r.valueCallback(c):c,a=e.valueCallback?e.valueCallback(a):a;const u=t.slice(o.length);return{value:a,rest:u}}}function QL(r,t){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&t(r[e]))return e}function JL(r,t){for(let e=0;e<r.length;e++)if(t(r[e]))return e}function eD(r){return(t,e={})=>{const n=t.match(r.matchPattern);if(!n)return null;const i=n[0],s=t.match(r.parsePattern);if(!s)return null;let o=r.valueCallback?r.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const tD=/^(\d+)(th|st|nd|rd)?/i,rD=/\d+/i,nD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sD={any:[/^b/i,/^(a|c)/i]},iD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aD={any:[/1/i,/2/i,/3/i,/4/i]},oD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fD={ordinalNumber:eD({matchPattern:tD,parsePattern:rD,valueCallback:r=>parseInt(r,10)}),era:bf({matchPatterns:nD,defaultMatchWidth:"wide",parsePatterns:sD,defaultParseWidth:"any"}),quarter:bf({matchPatterns:iD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:bf({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:lD,defaultParseWidth:"any"}),day:bf({matchPatterns:cD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:dD,defaultMatchWidth:"any",parsePatterns:hD,defaultParseWidth:"any"})},pD={code:"en-US",formatDistance:DL,formatLong:zL,formatRelative:$L,localize:ZL,match:fD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mD(r,t){const e=Mo(r,t==null?void 0:t.in);return jS(e,OL(e))+1}function gD(r,t){const e=Mo(r,t==null?void 0:t.in),n=+v0(e)-+IL(e);return Math.round(n/ES)+1}function IS(r,t){var u,f,h,d;const e=Mo(r,t==null?void 0:t.in),n=e.getFullYear(),i=ag(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(h=i.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=Sc((t==null?void 0:t.in)||r,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Jf(o,t),c=Sc((t==null?void 0:t.in)||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const a=Jf(c,t);return+e>=+l?n+1:+e>=+a?n:n-1}function yD(r,t){var l,c,a,u;const e=ag(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((u=(a=e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??1,i=IS(r,t),s=Sc((t==null?void 0:t.in)||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Jf(s,t)}function vD(r,t){const e=Mo(r,t==null?void 0:t.in),n=+Jf(e,t)-+yD(e,t);return Math.round(n/ES)+1}function Qn(r,t){const e=r<0?"-":"",n=Math.abs(r).toString().padStart(t,"0");return e+n}const eu={y(r,t){const e=r.getFullYear(),n=e>0?e:1-e;return Qn(t==="yy"?n%100:n,t.length)},M(r,t){const e=r.getMonth();return t==="M"?String(e+1):Qn(e+1,2)},d(r,t){return Qn(r.getDate(),t.length)},a(r,t){const e=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,t){return Qn(r.getHours()%12||12,t.length)},H(r,t){return Qn(r.getHours(),t.length)},m(r,t){return Qn(r.getMinutes(),t.length)},s(r,t){return Qn(r.getSeconds(),t.length)},S(r,t){const e=t.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,e-3));return Qn(i,t.length)}},Gd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W5={G:function(r,t,e){const n=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(r,t,e){if(t==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return e.ordinalNumber(i,{unit:"year"})}return eu.y(r,t)},Y:function(r,t,e,n){const i=IS(r,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Qn(o,2)}return t==="Yo"?e.ordinalNumber(s,{unit:"year"}):Qn(s,t.length)},R:function(r,t){const e=AS(r);return Qn(e,t.length)},u:function(r,t){const e=r.getFullYear();return Qn(e,t.length)},Q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,e){const n=r.getMonth();switch(t){case"M":case"MM":return eu.M(r,t);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,e){const n=r.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,e,n){const i=vD(r,n);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):Qn(i,t.length)},I:function(r,t,e){const n=gD(r);return t==="Io"?e.ordinalNumber(n,{unit:"week"}):Qn(n,t.length)},d:function(r,t,e){return t==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):eu.d(r,t)},D:function(r,t,e){const n=mD(r);return t==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):Qn(n,t.length)},E:function(r,t,e){const n=r.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,e,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Qn(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(r,t,e,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Qn(s,t.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(r,t,e){const n=r.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Qn(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,e){const i=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,t,e){const n=r.getHours();let i;switch(n===12?i=Gd.noon:n===0?i=Gd.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,t,e){const n=r.getHours();let i;switch(n>=17?i=Gd.evening:n>=12?i=Gd.afternoon:n>=4?i=Gd.morning:i=Gd.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,t,e){if(t==="ho"){let n=r.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return eu.h(r,t)},H:function(r,t,e){return t==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):eu.H(r,t)},K:function(r,t,e){const n=r.getHours()%12;return t==="Ko"?e.ordinalNumber(n,{unit:"hour"}):Qn(n,t.length)},k:function(r,t,e){let n=r.getHours();return n===0&&(n=24),t==="ko"?e.ordinalNumber(n,{unit:"hour"}):Qn(n,t.length)},m:function(r,t,e){return t==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):eu.m(r,t)},s:function(r,t,e){return t==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):eu.s(r,t)},S:function(r,t){return eu.S(r,t)},X:function(r,t,e){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return K5(n);case"XXXX":case"XX":return Gu(n);case"XXXXX":case"XXX":default:return Gu(n,":")}},x:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"x":return K5(n);case"xxxx":case"xx":return Gu(n);case"xxxxx":case"xxx":default:return Gu(n,":")}},O:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+G5(n,":");case"OOOO":default:return"GMT"+Gu(n,":")}},z:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+G5(n,":");case"zzzz":default:return"GMT"+Gu(n,":")}},t:function(r,t,e){const n=Math.trunc(+r/1e3);return Qn(n,t.length)},T:function(r,t,e){return Qn(+r,t.length)}};function G5(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?e+String(i):e+String(i)+t+Qn(s,2)}function K5(r,t){return r%60===0?(r>0?"-":"+")+Qn(Math.abs(r)/60,2):Gu(r,t)}function Gu(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=Qn(Math.trunc(n/60),2),s=Qn(n%60,2);return e+i+t+s}const X5=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PS=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bD=(r,t)=>{const e=r.match(/(P+)(p+)?/)||[],n=e[1],i=e[2];if(!i)return X5(r,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",X5(n,t)).replace("{{time}}",PS(i,t))},wD={p:PS,P:bD},xD=/^D+$/,_D=/^Y+$/,SD=["D","DD","YY","YYYY"];function ND(r){return xD.test(r)}function CD(r){return _D.test(r)}function kD(r,t,e){const n=ED(r,t,e);if(console.warn(n),SD.includes(r))throw new RangeError(n)}function ED(r,t,e){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jD=/^'([^]*?)'?$/,ID=/''/g,PD=/[a-zA-Z]/;function Ws(r,t,e){var u,f,h,d;const n=ag(),i=n.locale??pD,s=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??0,l=Mo(r,e==null?void 0:e.in);if(!RL(l))throw new RangeError("Invalid time value");let c=t.match(TD).map(y=>{const g=y[0];if(g==="p"||g==="P"){const p=wD[g];return p(y,i.formatLong)}return y}).join("").match(AD).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:RD(y)};if(W5[g])return{isToken:!0,value:y};if(g.match(PD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const a={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(CD(g)||ND(g))&&kD(g,t,String(r));const p=W5[g[0]];return p(l,g,i.localize,a)}).join("")}function RD(r){const t=r.match(jD);return t?t[1].replace(ID,"'"):r}const MD={Low:"bg-gray-500/10 text-gray-600",Medium:"bg-blue-500/10 text-blue-600",High:"bg-orange-500/10 text-orange-600",Urgent:"bg-red-500/10 text-red-600"},OD={Todo:"bg-gray-500/10 text-gray-600","In Progress":"bg-blue-500/10 text-blue-600",Completed:"bg-green-500/10 text-green-600"};function LD({tasks:r,cases:t,users:e,onRefresh:n}){const[i,s]=ie.useState(!1),[o,l]=ie.useState(null),[c,a]=ie.useState(""),[u,f]=ie.useState("all"),[h,d]=ie.useState(!1),[y,g]=ie.useState({title:"",description:"",assignedTo:"",caseId:"",dueDate:"",priority:"Medium",status:"Todo"}),p=r.filter(M=>{const U=M.title.toLowerCase().includes(c.toLowerCase()),V=u==="all"||M.status===u;return U&&V}),w=M=>{const U=e.find(V=>V.id===M);return(U==null?void 0:U.name)||"Unassigned"},v=M=>{if(!M)return null;const U=t.find(V=>V.id===M);return(U==null?void 0:U.title)||"Unknown Case"},_=()=>{var M;l(null),g({title:"",description:"",assignedTo:((M=e[0])==null?void 0:M.id)||"",caseId:"",dueDate:Ws(new Date,"yyyy-MM-dd"),priority:"Medium",status:"Todo"}),s(!0)},T=M=>{l(M),g({title:M.title,description:M.description||"",assignedTo:M.assignedTo,caseId:M.caseId||"",dueDate:M.dueDate.split("T")[0],priority:M.priority,status:M.status}),s(!0)},F=async M=>{M.preventDefault(),d(!0);try{const U={...y,caseId:y.caseId||null};o?(await os.updateTask(o.id,U),wt.success("Task updated successfully")):(await os.createTask(U),wt.success("Task created successfully")),s(!1),n()}catch(U){wt.error(U.message||"Operation failed")}finally{d(!1)}},G=async M=>{if(confirm(`Are you sure you want to delete "${M.title}"?`))try{await os.deleteTask(M.id),wt.success("Task deleted"),n()}catch(U){wt.error(U.message||"Delete failed")}},$=async M=>{const U=M.status==="Completed"?"Todo":"Completed";try{await os.updateTask(M.id,{status:U}),wt.success(`Task marked as ${U}`),n()}catch{wt.error("Failed to update task")}},P=()=>{try{if(r.length===0){wt.error("No tasks to export");return}const M=U2(r,e);fc(M,`Tasks_${new Date().toISOString().split("T")[0]}`,"Tasks"),wt.success("Tasks exported to Excel")}catch{wt.error("Failed to export tasks")}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Tasks"}),b.jsx("p",{className:"text-muted-foreground",children:"Manage your tasks and to-dos"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsx(Mt,{variant:"outline",size:"icon",children:b.jsx(mp,{className:"h-4 w-4"})})}),b.jsx(yd,{align:"end",children:b.jsxs(vd,{onClick:P,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),b.jsxs(Mt,{onClick:_,children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add Task"]})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search tasks...",value:c,onChange:M=>a(M.target.value),className:"pl-10"})]}),b.jsxs(bn,{value:u,onValueChange:f,children:[b.jsx(hn,{className:"w-[150px]",children:b.jsx(wn,{placeholder:"Status"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"all",children:"All Status"}),b.jsx(Bt,{value:"Todo",children:"Todo"}),b.jsx(Bt,{value:"In Progress",children:"In Progress"}),b.jsx(Bt,{value:"Completed",children:"Completed"})]})]})]}),b.jsxs("div",{className:"space-y-3",children:[p.map(M=>b.jsx(Qt,{className:"hover:shadow-md transition-shadow",children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>$(M),className:`p-2 rounded-full transition-colors ${M.status==="Completed"?"bg-green-500/20 text-green-600":"bg-secondary hover:bg-secondary/80"}`,children:b.jsx(Qf,{className:"h-5 w-5"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:`font-medium ${M.status==="Completed"?"line-through text-muted-foreground":""}`,children:M.title}),b.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${MD[M.priority]}`,children:M.priority}),b.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${OD[M.status]}`,children:M.status})]}),b.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Dh,{className:"h-3 w-3"}),Ws(new Date(M.dueDate),"MMM d, yyyy")]}),b.jsxs("span",{children:["Assigned to: ",w(M.assignedTo)]}),v(M.caseId)&&b.jsxs("span",{children:["Case: ",v(M.caseId)]})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>T(M),children:b.jsx(gp,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>G(M),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})})},M.id)),p.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(C2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No tasks found"}),b.jsx(Mt,{variant:"link",onClick:_,children:"Create your first task"})]})]}),b.jsx(Ga,{open:i,onOpenChange:s,children:b.jsxs(ka,{className:"sm:max-w-lg",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:o?"Edit Task":"Add New Task"})}),b.jsxs("form",{onSubmit:F,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"title",children:"Title *"}),b.jsx(Xt,{id:"title",value:y.title,onChange:M=>g({...y,title:M.target.value}),placeholder:"Enter task title",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"description",children:"Description"}),b.jsx(Xt,{id:"description",value:y.description,onChange:M=>g({...y,description:M.target.value}),placeholder:"Task description..."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"assignedTo",children:"Assign To *"}),b.jsxs(bn,{value:y.assignedTo,onValueChange:M=>g({...y,assignedTo:M}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select user"})}),b.jsx(fn,{children:e.map(M=>b.jsx(Bt,{value:M.id,children:M.name},M.id))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"dueDate",children:"Due Date *"}),b.jsx(Xt,{id:"dueDate",type:"date",value:y.dueDate,onChange:M=>g({...y,dueDate:M.target.value}),required:!0})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"priority",children:"Priority *"}),b.jsxs(bn,{value:y.priority,onValueChange:M=>g({...y,priority:M}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select priority"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Low",children:"Low"}),b.jsx(Bt,{value:"Medium",children:"Medium"}),b.jsx(Bt,{value:"High",children:"High"}),b.jsx(Bt,{value:"Urgent",children:"Urgent"})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"status",children:"Status *"}),b.jsxs(bn,{value:y.status,onValueChange:M=>g({...y,status:M}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select status"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Todo",children:"Todo"}),b.jsx(Bt,{value:"In Progress",children:"In Progress"}),b.jsx(Bt,{value:"Completed",children:"Completed"})]})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"caseId",children:"Related Case (Optional)"}),b.jsxs(bn,{value:y.caseId,onValueChange:M=>g({...y,caseId:M}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select case (optional)"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"",children:"None"}),t.map(M=>b.jsx(Bt,{value:M.id,children:M.title},M.id))]})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",disabled:h,children:h?"Saving...":o?"Update":"Create"})]})]})]})})]})}var og="Switch",[DD]=zl(og),[FD,BD]=DD(og),RS=ie.forwardRef((r,t)=>{const{__scopeSwitch:e,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:a,form:u,...f}=r,[h,d]=ie.useState(null),y=Vn(t,_=>d(_)),g=ie.useRef(!1),p=h?u||!!h.closest("form"):!0,[w,v]=nd({prop:i,defaultProp:s??!1,onChange:a,caller:og});return b.jsxs(FD,{scope:e,checked:w,disabled:l,children:[b.jsx(un.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":DS(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Nr(r.onClick,_=>{v(T=>!T),p&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),p&&b.jsx(LS,{control:h,bubbles:!g.current,name:n,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});RS.displayName=og;var MS="SwitchThumb",OS=ie.forwardRef((r,t)=>{const{__scopeSwitch:e,...n}=r,i=BD(MS,e);return b.jsx(un.span,{"data-state":DS(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});OS.displayName=MS;var VD="SwitchBubbleInput",LS=ie.forwardRef(({__scopeSwitch:r,control:t,checked:e,bubbles:n=!0,...i},s)=>{const o=ie.useRef(null),l=Vn(o,s),c=V8(e),a=Y6(t);return ie.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==e&&d){const y=new Event("click",{bubbles:n});d.call(u,e),u.dispatchEvent(y)}},[c,e,n]),b.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...i,tabIndex:-1,ref:l,style:{...i.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LS.displayName=VD;function DS(r){return r?"checked":"unchecked"}var FS=RS,zD=OS;const Rf=ie.forwardRef(({className:r,...t},e)=>b.jsx(FS,{className:_r("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...t,ref:e,children:b.jsx(zD,{className:_r("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rf.displayName=FS.displayName;var UD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$D=UD.reduce((r,t)=>{const e=zy(`Primitive.${t}`),n=ie.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...r,[t]:n}},{}),qD="Separator",Y5="horizontal",HD=["horizontal","vertical"],BS=ie.forwardRef((r,t)=>{const{decorative:e,orientation:n=Y5,...i}=r,s=WD(n)?n:Y5,l=e?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return b.jsx($D.div,{"data-orientation":s,...l,...i,ref:t})});BS.displayName=qD;function WD(r){return HD.includes(r)}var VS=BS;const Ca=ie.forwardRef(({className:r,orientation:t="horizontal",decorative:e=!0,...n},i)=>b.jsx(VS,{ref:i,decorative:e,orientation:t,className:_r("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...n}));Ca.displayName=VS.displayName;const Mf=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CNY",symbol:"",name:"Chinese Yuan"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"AED",symbol:".",name:"UAE Dirham"},{code:"SAR",symbol:"",name:"Saudi Riyal"},{code:"NGN",symbol:"",name:"Nigerian Naira"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"KRW",symbol:"",name:"South Korean Won"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"TRY",symbol:"",name:"Turkish Lira"},{code:"RUB",symbol:"",name:"Russian Ruble"},{code:"PLN",symbol:"z",name:"Polish Zloty"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"DKK",symbol:"kr",name:"Danish Krone"},{code:"CZK",symbol:"K",name:"Czech Koruna"},{code:"HUF",symbol:"Ft",name:"Hungarian Forint"},{code:"ILS",symbol:"",name:"Israeli Shekel"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"},{code:"PKR",symbol:"",name:"Pakistani Rupee"},{code:"BDT",symbol:"",name:"Bangladeshi Taka"},{code:"VND",symbol:"",name:"Vietnamese Dong"},{code:"EGP",symbol:"",name:"Egyptian Pound"},{code:"KES",symbol:"KSh",name:"Kenyan Shilling"},{code:"GHS",symbol:"",name:"Ghanaian Cedi"},{code:"COP",symbol:"$",name:"Colombian Peso"},{code:"ARS",symbol:"$",name:"Argentine Peso"},{code:"CLP",symbol:"$",name:"Chilean Peso"},{code:"PEN",symbol:"S/",name:"Peruvian Sol"}];function GD(){return localStorage.getItem("currency")||"USD"}function KD(r){const t=GD();return Mf.find(e=>e.code===t)||Mf[0]}function as(r,t){const e=KD();try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e.code,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch{return`${e.symbol}${r.toFixed(2)}`}}function XD(){var I,E,L;const{user:r}=pd(),[t,e]=ie.useState(()=>localStorage.getItem("theme")||"system"),[n,i]=ie.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:""}),[s,o]=ie.useState(""),[l,c]=ie.useState(""),[a,u]=ie.useState(""),[f,h]=ie.useState(!1),[d,y]=ie.useState(!0),[g,p]=ie.useState(!1),[w,v]=ie.useState("dashboard"),[_,T]=ie.useState("25"),[F,G]=ie.useState(()=>localStorage.getItem("currency")||"USD"),$=A=>{G(A),localStorage.setItem("currency",A),wt.success(`Currency changed to ${A}`)};ie.useEffect(()=>{const A=document.documentElement,S=k=>{k?(A.classList.add("dark"),A.style.colorScheme="dark"):(A.classList.remove("dark"),A.style.colorScheme="light")};if(t==="system"){const k=window.matchMedia("(prefers-color-scheme: dark)");S(k.matches);const N=C=>{S(C.matches)};return k.addEventListener("change",N),localStorage.setItem("theme",t),()=>k.removeEventListener("change",N)}else S(t==="dark");localStorage.setItem("theme",t)},[t]);const P=A=>{e(A),wt.success(`Theme changed to ${A}`)},M=()=>{wt.success("Profile updated successfully")},U=()=>{if(!s){wt.error("Please enter your current password");return}if(l!==a){wt.error("New passwords do not match");return}if(l.length<6){wt.error("Password must be at least 6 characters");return}wt.success("Password updated successfully"),o(""),c(""),u("")},V=()=>{wt.success("General settings saved")};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(T2,{className:"h-8 w-8"}),"Settings"]}),b.jsx("p",{className:"text-muted-foreground",children:"Manage your application preferences and account settings"})]}),b.jsxs(dp,{defaultValue:"general",className:"space-y-6",children:[b.jsxs(Mh,{className:"grid w-full grid-cols-4 lg:grid-cols-4",children:[b.jsx(ai,{value:"general",children:"General"}),b.jsx(ai,{value:"profile",children:"Profile"}),b.jsx(ai,{value:"theme",children:"Theme"}),b.jsx(ai,{value:"security",children:"Security"})]}),b.jsx(oi,{value:"general",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(T2,{className:"h-5 w-5"}),"General Settings"]}),b.jsx(fa,{children:"Configure general application settings"})]}),b.jsxs(Jt,{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"space-y-0.5",children:[b.jsx(yt,{children:"Auto-save"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically save changes"})]}),b.jsx(Rf,{checked:d,onCheckedChange:y})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"space-y-0.5",children:[b.jsx(yt,{children:"Compact View"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Show more data in less space"})]}),b.jsx(Rf,{checked:g,onCheckedChange:p})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Default View"}),b.jsxs(bn,{value:w,onValueChange:v,children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"dashboard",children:"Dashboard"}),b.jsx(Bt,{value:"clients",children:"Clients"}),b.jsx(Bt,{value:"cases",children:"Cases"}),b.jsx(Bt,{value:"calendar",children:"Calendar"})]})]})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Items per page"}),b.jsxs(bn,{value:_,onValueChange:T,children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"10",children:"10"}),b.jsx(Bt,{value:"25",children:"25"}),b.jsx(Bt,{value:"50",children:"50"}),b.jsx(Bt,{value:"100",children:"100"})]})]})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(yt,{className:"flex items-center gap-2",children:[b.jsx(Sh,{className:"h-4 w-4"}),"Currency"]}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the currency used for billing and payments"}),b.jsxs(bn,{value:F,onValueChange:$,children:[b.jsx(hn,{children:b.jsxs(wn,{children:[(I=Mf.find(A=>A.code===F))==null?void 0:I.symbol," ",F," - ",(E=Mf.find(A=>A.code===F))==null?void 0:E.name]})}),b.jsx(fn,{className:"max-h-[300px]",children:Mf.map(A=>b.jsx(Bt,{value:A.code,children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-6 text-center font-medium",children:A.symbol}),b.jsx("span",{children:A.code}),b.jsxs("span",{className:"text-muted-foreground",children:["- ",A.name]})]})},A.code))})]})]}),b.jsx(Ca,{}),b.jsxs(Mt,{onClick:V,children:[b.jsx(A2,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})}),b.jsx(oi,{value:"profile",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(bu,{className:"h-5 w-5"}),"Profile Settings"]}),b.jsx(fa,{children:"Update your personal information"})]}),b.jsxs(Jt,{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-20 h-20 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-2xl font-bold",children:((L=r==null?void 0:r.name)==null?void 0:L.split(" ").map(A=>A[0]).join(""))||"U"}),b.jsxs("div",{children:[b.jsx(Mt,{variant:"outline",size:"sm",children:"Change Avatar"}),b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG or GIF (max. 2MB)"})]})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"profile-name",children:"Full Name"}),b.jsx(Xt,{id:"profile-name",value:n.name,onChange:A=>i({...n,name:A.target.value})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"profile-email",children:"Email"}),b.jsx(Xt,{id:"profile-email",type:"email",value:n.email,onChange:A=>i({...n,email:A.target.value})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"profile-phone",children:"Phone"}),b.jsx(Xt,{id:"profile-phone",value:n.phone,onChange:A=>i({...n,phone:A.target.value}),placeholder:"+1 (555) 000-0000"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"profile-role",children:"Role"}),b.jsx(Xt,{id:"profile-role",value:(r==null?void 0:r.role)||"Staff",disabled:!0,className:"bg-muted"})]})]}),b.jsx(Ca,{}),b.jsxs(Mt,{onClick:M,children:[b.jsx(A2,{className:"mr-2 h-4 w-4"}),"Save Profile"]})]})]})}),b.jsx(oi,{value:"theme",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(jM,{className:"h-5 w-5"}),"Theme Settings"]}),b.jsx(fa,{children:"Customize the appearance of your application"})]}),b.jsxs(Jt,{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx(yt,{children:"Theme Mode"}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsx(Qt,{className:`cursor-pointer border-2 transition-all hover:shadow-md ${t==="light"?"border-primary bg-primary/5":"border-border"}`,onClick:()=>P("light"),children:b.jsxs(Jt,{className:"p-6 flex flex-col items-center gap-2",children:[b.jsx(MM,{className:"h-8 w-8"}),b.jsx("span",{className:"font-medium",children:"Light"})]})}),b.jsx(Qt,{className:`cursor-pointer border-2 transition-all hover:shadow-md ${t==="dark"?"border-primary bg-primary/5":"border-border"}`,onClick:()=>P("dark"),children:b.jsxs(Jt,{className:"p-6 flex flex-col items-center gap-2",children:[b.jsx(TM,{className:"h-8 w-8"}),b.jsx("span",{className:"font-medium",children:"Dark"})]})}),b.jsx(Qt,{className:`cursor-pointer border-2 transition-all hover:shadow-md ${t==="system"?"border-primary bg-primary/5":"border-border"}`,onClick:()=>P("system"),children:b.jsxs(Jt,{className:"p-6 flex flex-col items-center gap-2",children:[b.jsx(AM,{className:"h-8 w-8"}),b.jsx("span",{className:"font-medium",children:"System"})]})})]})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(yt,{children:"Accent Colors"}),b.jsx("div",{className:"grid grid-cols-8 gap-2",children:[{color:"bg-amber-500",name:"Gold"},{color:"bg-blue-500",name:"Blue"},{color:"bg-green-500",name:"Green"},{color:"bg-orange-500",name:"Orange"},{color:"bg-red-500",name:"Red"},{color:"bg-purple-500",name:"Purple"},{color:"bg-pink-500",name:"Pink"},{color:"bg-gray-500",name:"Gray"}].map(A=>b.jsx(Mt,{variant:"outline",size:"icon",className:`w-10 h-10 rounded-full ${A.color} border-0 hover:scale-110 transition-transform`,onClick:()=>wt.success(`${A.name} accent applied`),title:A.name},A.name))})]})]})]})}),b.jsx(oi,{value:"security",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(y8,{className:"h-5 w-5"}),"Security Settings"]}),b.jsx(fa,{children:"Manage your account security and privacy"})]}),b.jsxs(Jt,{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"font-semibold",children:"Change Password"}),b.jsxs("div",{className:"grid gap-4 max-w-md",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"current-password",children:"Current Password"}),b.jsx("div",{className:"relative",children:b.jsx(Xt,{id:"current-password",type:f?"text":"password",value:s,onChange:A=>o(A.target.value)})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"new-password",children:"New Password"}),b.jsx(Xt,{id:"new-password",type:f?"text":"password",value:l,onChange:A=>c(A.target.value)})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"confirm-password",children:"Confirm New Password"}),b.jsx(Xt,{id:"confirm-password",type:f?"text":"password",value:a,onChange:A=>u(A.target.value)}),a&&l!==a&&b.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs(Mt,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!f),children:[f?b.jsx(m8,{className:"h-4 w-4 mr-1"}):b.jsx(uv,{className:"h-4 w-4 mr-1"}),f?"Hide":"Show"," passwords"]})}),b.jsx(Mt,{onClick:U,className:"w-fit",children:"Update Password"})]})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"space-y-0.5",children:[b.jsx(yt,{children:"Two-Factor Authentication"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),b.jsx(Rf,{})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Session Timeout"}),b.jsxs(bn,{defaultValue:"30",children:[b.jsx(hn,{className:"w-[200px]",children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"15",children:"15 minutes"}),b.jsx(Bt,{value:"30",children:"30 minutes"}),b.jsx(Bt,{value:"60",children:"1 hour"}),b.jsx(Bt,{value:"never",children:"Never"})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically log out after inactivity"})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h3",{className:"font-semibold",children:"Active Sessions"}),b.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Current Session"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Windows - Chrome  Last active: Now"})]}),b.jsx(Mt,{variant:"outline",size:"sm",disabled:!0,children:"Current"})]})]})]})]})})]})]})}function YD({messages:r,users:t,onRefresh:e}){var $;const{user:n}=pd(),[i,s]=ie.useState(!1),[o,l]=ie.useState(""),[c,a]=ie.useState(!1),[u,f]=ie.useState(null),[h,d]=ie.useState("inbox"),[y,g]=ie.useState({subject:"",content:"",toUserIds:[],selectedRecipient:""}),p=P=>{const M=t.find(U=>U.id===P);return(M==null?void 0:M.name)||"Unknown"},w=r.filter(P=>{var U;const M=P.subject.toLowerCase().includes(o.toLowerCase())||P.content.toLowerCase().includes(o.toLowerCase());return h==="inbox"?M&&((U=P.toUserIds)==null?void 0:U.includes((n==null?void 0:n.id)||"")):M&&P.fromUserId===(n==null?void 0:n.id)}),v=P=>{g(P?{subject:`Re: ${P.subject}`,content:"",toUserIds:[P.fromUserId],selectedRecipient:P.fromUserId}:{subject:"",content:"",toUserIds:[],selectedRecipient:""}),s(!0)},_=P=>{P&&!y.toUserIds.includes(P)&&g({...y,toUserIds:[...y.toUserIds,P],selectedRecipient:""})},T=P=>{g({...y,toUserIds:y.toUserIds.filter(M=>M!==P)})},F=async P=>{if(P.preventDefault(),y.toUserIds.length===0){wt.error("Please select at least one recipient");return}a(!0);try{await os.createMessage({subject:y.subject,content:y.content,fromUserId:n==null?void 0:n.id,toUserIds:y.toUserIds}),wt.success("Message sent successfully"),s(!1),g({subject:"",content:"",toUserIds:[],selectedRecipient:""}),e()}catch(M){wt.error(M.message||"Failed to send message")}finally{a(!1)}},G=P=>{try{return Ws(new Date(P),"MMM d, yyyy h:mm a")}catch{return P}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Messages"}),b.jsx("p",{className:"text-muted-foreground",children:"Internal messaging system"})]}),b.jsxs(Mt,{onClick:()=>v(),children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Compose"]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(Mt,{variant:h==="inbox"?"default":"outline",onClick:()=>d("inbox"),className:"gap-2",children:[b.jsx(_M,{className:"h-4 w-4"}),"Inbox"]}),b.jsxs(Mt,{variant:h==="sent"?"default":"outline",onClick:()=>d("sent"),className:"gap-2",children:[b.jsx(RM,{className:"h-4 w-4"}),"Sent"]})]}),b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search messages...",value:o,onChange:P=>l(P.target.value),className:"pl-10"})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[b.jsx("div",{className:"space-y-2",children:w.length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(E2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No messages found"}),b.jsx(Mt,{variant:"link",onClick:()=>v(),children:"Send your first message"})]})}):w.map(P=>{var M;return b.jsx(Qt,{className:`cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.id)===P.id?"ring-2 ring-primary":""} ${!P.read&&h==="inbox"?"bg-primary/5":""}`,onClick:()=>f(P),children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:P.read||h==="sent"?b.jsx(CM,{className:"h-4 w-4 text-primary"}):b.jsx(E2,{className:"h-4 w-4 text-primary"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("p",{className:`font-medium truncate ${!P.read&&h==="inbox"?"font-bold":""}`,children:P.subject||"(No Subject)"}),b.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:G(P.createdAt)})]}),b.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h==="inbox"?b.jsxs(b.Fragment,{children:["From: ",p(P.fromUserId)]}):b.jsxs(b.Fragment,{children:["To: ",(M=P.toUserIds)==null?void 0:M.map(U=>p(U)).join(", ")]})}),b.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:P.content})]})]})})},P.id)})}),b.jsx("div",{children:u?b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-3",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx(Ur,{className:"text-xl",children:u.subject||"(No Subject)"}),b.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[b.jsx(bu,{className:"h-4 w-4"}),b.jsxs("span",{children:[h==="inbox"?"From":"To",":"," ",h==="inbox"?p(u.fromUserId):($=u.toUserIds)==null?void 0:$.map(P=>p(P)).join(", ")]})]}),b.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[b.jsx(Dh,{className:"h-4 w-4"}),b.jsx("span",{children:G(u.createdAt)})]})]}),b.jsx("div",{className:"flex gap-1",children:h==="inbox"&&b.jsxs(Mt,{variant:"outline",size:"sm",onClick:()=>v(u),children:[b.jsx(PM,{className:"h-4 w-4 mr-1"}),"Reply"]})})]})}),b.jsx(Jt,{children:b.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:b.jsx("p",{className:"whitespace-pre-wrap",children:u.content})})})]}):b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(hM,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"Select a message to view"})]})})})]}),b.jsx(Ga,{open:i,onOpenChange:s,children:b.jsxs(ka,{className:"sm:max-w-lg",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(M5,{className:"h-5 w-5"}),"Compose Message"]})})}),b.jsxs("form",{onSubmit:F,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"To *"}),b.jsx("div",{className:"flex gap-2",children:b.jsxs(bn,{value:y.selectedRecipient,onValueChange:_,children:[b.jsx(hn,{className:"flex-1",children:b.jsx(wn,{placeholder:"Select recipient"})}),b.jsx(fn,{children:t.filter(P=>P.id!==(n==null?void 0:n.id)&&!y.toUserIds.includes(P.id)).map(P=>b.jsxs(Bt,{value:P.id,children:[P.name," (",P.role,")"]},P.id))})]})}),y.toUserIds.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.toUserIds.map(P=>b.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[p(P),b.jsx("button",{type:"button",onClick:()=>T(P),className:"hover:text-destructive",children:""})]},P))})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"subject",children:"Subject *"}),b.jsx(Xt,{id:"subject",value:y.subject,onChange:P=>g({...y,subject:P.target.value}),placeholder:"Enter subject",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{htmlFor:"content",children:"Message *"}),b.jsx("textarea",{id:"content",value:y.content,onChange:P=>g({...y,content:P.target.value}),placeholder:"Type your message...",required:!0,className:"w-full min-h-[150px] px-3 py-2 border rounded-md bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-ring"})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",disabled:c,children:c?"Sending...":b.jsxs(b.Fragment,{children:[b.jsx(M5,{className:"mr-2 h-4 w-4"}),"Send"]})})]})]})]})})]})}const Tl=ie.forwardRef(({className:r,...t},e)=>b.jsx("textarea",{className:_r("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:e,...t}));Tl.displayName="Textarea";const ZD=Uy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function po({className:r,variant:t,...e}){return b.jsx("div",{className:_r(ZD({variant:t}),r),...e})}const QD="modulepreload",JD=function(r){return"/"+r},Z5={},N1=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let o=function(a){return Promise.all(a.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(e.map(a=>{if(a=JD(a),a in Z5)return;Z5[a]=!0;const u=a.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":QD,u||(h.as="script"),h.crossOrigin="",h.href=a,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((d,y)=>{h.addEventListener("load",d),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Jn(r){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(r)}var al=Uint8Array,ho=Uint16Array,_v=Int32Array,Sv=new al([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nv=new al([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q5=new al([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zS=function(r,t){for(var e=new ho(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var i=new _v(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)i[s]=s-e[n]<<5|n;return{b:e,r:i}},US=zS(Sv,2),eF=US.b,$2=US.r;eF[28]=258,$2[258]=28;var tF=zS(Nv,0),J5=tF.r,q2=new ho(32768);for(var bs=0;bs<32768;++bs){var tu=(bs&43690)>>1|(bs&21845)<<1;tu=(tu&52428)>>2|(tu&13107)<<2,tu=(tu&61680)>>4|(tu&3855)<<4,q2[bs]=((tu&65280)>>8|(tu&255)<<8)>>1}var Of=(function(r,t,e){for(var n=r.length,i=0,s=new ho(t);i<n;++i)r[i]&&++s[r[i]-1];var o=new ho(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(e){l=new ho(1<<t);var c=15-t;for(i=0;i<n;++i)if(r[i])for(var a=i<<4|r[i],u=t-r[i],f=o[r[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)l[q2[f]>>c]=a}else for(l=new ho(n),i=0;i<n;++i)r[i]&&(l[i]=q2[o[r[i]-1]++]>>15-r[i]);return l}),ud=new al(288);for(var bs=0;bs<144;++bs)ud[bs]=8;for(var bs=144;bs<256;++bs)ud[bs]=9;for(var bs=256;bs<280;++bs)ud[bs]=7;for(var bs=280;bs<288;++bs)ud[bs]=8;var b0=new al(32);for(var bs=0;bs<32;++bs)b0[bs]=5;var rF=Of(ud,9,0),nF=Of(b0,5,0),$S=function(r){return(r+7)/8|0},sF=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new al(r.subarray(t,e))},cc=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},wf=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},C1=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var i=e.length,s=e.slice();if(!i)return{t:HS,l:0};if(i==1){var o=new al(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(F,G){return F.f-G.f}),e.push({s:-1,f:25001});var l=e[0],c=e[1],a=0,u=1,f=2;for(e[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=e[e[a].f<e[f].f?a++:f++],c=e[a!=u&&e[a].f<e[f].f?a++:f++],e[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var d=new ho(h+1),y=H2(e[u-1],d,0);if(y>t){var n=0,g=0,p=y-t,w=1<<p;for(s.sort(function(G,$){return d[$.s]-d[G.s]||G.f-$.f});n<i;++n){var v=s[n].s;if(d[v]>t)g+=w-(1<<y-d[v]),d[v]=t;else break}for(g>>=p;g>0;){var _=s[n].s;d[_]<t?g-=1<<t-d[_]++-1:++n}for(;n>=0&&g;--n){var T=s[n].s;d[T]==t&&(--d[T],++g)}y=t}return{t:new al(d),l:y}},H2=function(r,t,e){return r.s==-1?Math.max(H2(r.l,t,e+1),H2(r.r,t,e+1)):t[r.s]=e},ex=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new ho(++t),n=0,i=r[0],s=1,o=function(c){e[n++]=c},l=1;l<=t;++l)if(r[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=r[l]}return{c:e.subarray(0,n),n:t}},xf=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},qS=function(r,t,e){var n=e.length,i=$S(t+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=e[s];return(i+4+n)*8},tx=function(r,t,e,n,i,s,o,l,c,a,u){cc(t,u++,e),++i[256];for(var f=C1(i,15),h=f.t,d=f.l,y=C1(s,15),g=y.t,p=y.l,w=ex(h),v=w.c,_=w.n,T=ex(g),F=T.c,G=T.n,$=new ho(19),P=0;P<v.length;++P)++$[v[P]&31];for(var P=0;P<F.length;++P)++$[F[P]&31];for(var M=C1($,7),U=M.t,V=M.l,I=19;I>4&&!U[Q5[I-1]];--I);var E=a+5<<3,L=xf(i,ud)+xf(s,b0)+o,A=xf(i,h)+xf(s,g)+o+14+3*I+xf($,U)+2*$[16]+3*$[17]+7*$[18];if(c>=0&&E<=L&&E<=A)return qS(t,u,r.subarray(c,c+a));var S,k,N,C;if(cc(t,u,1+(A<L)),u+=2,A<L){S=Of(h,d,0),k=h,N=Of(g,p,0),C=g;var O=Of(U,V,0);cc(t,u,_-257),cc(t,u+5,G-1),cc(t,u+10,I-4),u+=14;for(var P=0;P<I;++P)cc(t,u+3*P,U[Q5[P]]);u+=3*I;for(var D=[v,F],j=0;j<2;++j)for(var K=D[j],P=0;P<K.length;++P){var Z=K[P]&31;cc(t,u,O[Z]),u+=U[Z],Z>15&&(cc(t,u,K[P]>>5&127),u+=K[P]>>12)}}else S=rF,k=ud,N=nF,C=b0;for(var P=0;P<l;++P){var ne=n[P];if(ne>255){var Z=ne>>18&31;wf(t,u,S[Z+257]),u+=k[Z+257],Z>7&&(cc(t,u,ne>>23&31),u+=Sv[Z]);var H=ne&31;wf(t,u,N[H]),u+=C[H],H>3&&(wf(t,u,ne>>5&8191),u+=Nv[H])}else wf(t,u,S[ne]),u+=k[ne]}return wf(t,u,S[256]),u+k[256]},iF=new _v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HS=new al(0),aF=function(r,t,e,n,i,s){var o=s.z||r.length,l=new al(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),a=s.l,u=(s.r||0)&7;if(t){u&&(c[0]=s.r>>3);for(var f=iF[t-1],h=f>>13,d=f&8191,y=(1<<e)-1,g=s.p||new ho(32768),p=s.h||new ho(y+1),w=Math.ceil(e/3),v=2*w,_=function(ve){return(r[ve]^r[ve+1]<<w^r[ve+2]<<v)&y},T=new _v(25e3),F=new ho(288),G=new ho(32),$=0,P=0,M=s.i||0,U=0,V=s.w||0,I=0;M+2<o;++M){var E=_(M),L=M&32767,A=p[E];if(g[L]=A,p[E]=L,V<=M){var S=o-M;if(($>7e3||U>24576)&&(S>423||!a)){u=tx(r,c,0,T,F,G,P,U,I,M-I,u),U=$=P=0,I=M;for(var k=0;k<286;++k)F[k]=0;for(var k=0;k<30;++k)G[k]=0}var N=2,C=0,O=d,D=L-A&32767;if(S>2&&E==_(M-D))for(var j=Math.min(h,S)-1,K=Math.min(32767,M),Z=Math.min(258,S);D<=K&&--O&&L!=A;){if(r[M+N]==r[M+N-D]){for(var ne=0;ne<Z&&r[M+ne]==r[M+ne-D];++ne);if(ne>N){if(N=ne,C=D,ne>j)break;for(var H=Math.min(D,ne-2),J=0,k=0;k<H;++k){var z=M-D+k&32767,B=g[z],Q=z-B&32767;Q>J&&(J=Q,A=z)}}}L=A,A=g[L],D+=L-A&32767}if(C){T[U++]=268435456|$2[N]<<18|J5[C];var oe=$2[N]&31,pe=J5[C]&31;P+=Sv[oe]+Nv[pe],++F[257+oe],++G[pe],V=M+N,++$}else T[U++]=r[M],++F[r[M]]}}for(M=Math.max(M,V);M<o;++M)T[U++]=r[M],++F[r[M]];u=tx(r,c,a,T,F,G,P,U,I,M-I,u),a||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=p,s.p=g,s.i=M,s.w=V)}else{for(var M=s.w||0;M<o+a;M+=65535){var de=M+65535;de>=o&&(c[u/8|0]=a,de=o),u=qS(c,u+1,r.subarray(M,de))}s.i=o}return sF(l,0,n+$S(u)+i)},WS=function(){var r=1,t=0;return{p:function(e){for(var n=r,i=t,s=e.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=e[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,t=i},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},oF=function(r,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new al(s.length+r.length);o.set(s),o.set(r,s.length),r=o,i.w=s.length}return aF(r,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,i)},GS=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},lF=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var i=WS();i.p(t.dictionary),GS(r,2,i.d())}};function W2(r,t){t||(t={});var e=WS();e.p(r);var n=oF(r,t,t.dictionary?6:2,4);return lF(n,t),GS(n,n.length-4,e.d()),n}var cF=typeof TextDecoder<"u"&&new TextDecoder,uF=0;try{cF.decode(HS,{stream:!0}),uF=1}catch{}function dF(r){if(Array.isArray(r))return r}function hF(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,s,o,l=[],c=!0,a=!1;try{if(s=(e=e.call(r)).next,t!==0)for(;!(c=(n=s.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){a=!0,i=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(a)throw i}}return l}}function rx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function fF(r,t){if(r){if(typeof r=="string")return rx(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?rx(r,t):void 0}}function pF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nx(r,t){return dF(r)||hF(r,t)||fF(r,t)||pF()}function sx(r,t="utf8"){return new TextDecoder(t).decode(r)}const mF=new TextEncoder;function gF(r){return mF.encode(r)}const yF=1024*8,vF=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),k1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Cv{constructor(t=yF,e={}){qn(this,"buffer");qn(this,"byteLength");qn(this,"byteOffset");qn(this,"length");qn(this,"offset");qn(this,"lastWrittenByte");qn(this,"littleEndian");qn(this,"_data");qn(this,"_mark");qn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof Cv)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=k1[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===vF&&e!=="uint8"&&e!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new k1[e](l.buffer);return this.offset+=n,c.reverse(),c}const o=new k1[e](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return sx(this.readBytes(t))}decodeText(t=1,e="utf8"){return sx(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(gF(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uh(r){let t=r.length;for(;--t>=0;)r[t]=0}const bF=3,wF=258,KS=29,xF=256,_F=xF+1+KS,XS=30,SF=512,NF=new Array((_F+2)*2);Uh(NF);const CF=new Array(XS*2);Uh(CF);const kF=new Array(SF);Uh(kF);const EF=new Array(wF-bF+1);Uh(EF);const AF=new Array(KS);Uh(AF);const TF=new Array(XS);Uh(TF);const jF=(r,t,e,n)=>{let i=r&65535|0,s=r>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var G2=jF;const IF=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},PF=new Uint32Array(IF()),RF=(r,t,e,n)=>{const i=PF,s=n+e;r^=-1;for(let o=n;o<s;o++)r=r>>>8^i[(r^t[o])&255];return r^-1};var Nl=RF,K2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},YS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MF=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var OF=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)MF(e,n)&&(r[n]=e[n])}}return r},LF=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,i=0,s=r.length;n<s;n++){let o=r[n];e.set(o,i),i+=o.length}return e},ZS={assign:OF,flattenChunks:LF};let QS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{QS=!1}const ep=new Uint8Array(256);for(let r=0;r<256;r++)ep[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ep[254]=ep[254]=1;var DF=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,s,o=r.length,l=0;for(i=0;i<o;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const FF=(r,t)=>{if(t<65534&&r.subarray&&QS)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var BF=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i;const s=new Array(e*2);for(i=0,n=0;n<e;){let o=r[n++];if(o<128){s[i++]=o;continue}let l=ep[o];if(l>4){s[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<e;)o=o<<6|r[n++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return FF(s,i)},VF=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+ep[r[e]]>t?e:t},X2={string2buf:DF,buf2string:BF,utf8border:VF};function zF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var UF=zF;const bm=16209,$F=16191;var qF=function(t,e){let n,i,s,o,l,c,a,u,f,h,d,y,g,p,w,v,_,T,F,G,$,P,M,U;const V=t.state;n=t.next_in,M=t.input,i=n+(t.avail_in-5),s=t.next_out,U=t.output,o=s-(e-t.avail_out),l=s+(t.avail_out-257),c=V.dmax,a=V.wsize,u=V.whave,f=V.wnext,h=V.window,d=V.hold,y=V.bits,g=V.lencode,p=V.distcode,w=(1<<V.lenbits)-1,v=(1<<V.distbits)-1;e:do{y<15&&(d+=M[n++]<<y,y+=8,d+=M[n++]<<y,y+=8),_=g[d&w];t:for(;;){if(T=_>>>24,d>>>=T,y-=T,T=_>>>16&255,T===0)U[s++]=_&65535;else if(T&16){F=_&65535,T&=15,T&&(y<T&&(d+=M[n++]<<y,y+=8),F+=d&(1<<T)-1,d>>>=T,y-=T),y<15&&(d+=M[n++]<<y,y+=8,d+=M[n++]<<y,y+=8),_=p[d&v];r:for(;;){if(T=_>>>24,d>>>=T,y-=T,T=_>>>16&255,T&16){if(G=_&65535,T&=15,y<T&&(d+=M[n++]<<y,y+=8,y<T&&(d+=M[n++]<<y,y+=8)),G+=d&(1<<T)-1,G>c){t.msg="invalid distance too far back",V.mode=bm;break e}if(d>>>=T,y-=T,T=s-o,G>T){if(T=G-T,T>u&&V.sane){t.msg="invalid distance too far back",V.mode=bm;break e}if($=0,P=h,f===0){if($+=a-T,T<F){F-=T;do U[s++]=h[$++];while(--T);$=s-G,P=U}}else if(f<T){if($+=a+f-T,T-=f,T<F){F-=T;do U[s++]=h[$++];while(--T);if($=0,f<F){T=f,F-=T;do U[s++]=h[$++];while(--T);$=s-G,P=U}}}else if($+=f-T,T<F){F-=T;do U[s++]=h[$++];while(--T);$=s-G,P=U}for(;F>2;)U[s++]=P[$++],U[s++]=P[$++],U[s++]=P[$++],F-=3;F&&(U[s++]=P[$++],F>1&&(U[s++]=P[$++]))}else{$=s-G;do U[s++]=U[$++],U[s++]=U[$++],U[s++]=U[$++],F-=3;while(F>2);F&&(U[s++]=U[$++],F>1&&(U[s++]=U[$++]))}}else if((T&64)===0){_=p[(_&65535)+(d&(1<<T)-1)];continue r}else{t.msg="invalid distance code",V.mode=bm;break e}break}}else if((T&64)===0){_=g[(_&65535)+(d&(1<<T)-1)];continue t}else if(T&32){V.mode=$F;break e}else{t.msg="invalid literal/length code",V.mode=bm;break e}break}}while(n<i&&s<l);F=y>>3,n-=F,y-=F<<3,d&=(1<<y)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<l?257+(l-s):257-(s-l),V.hold=d,V.bits=y};const Kd=15,ix=852,ax=592,ox=0,E1=1,lx=2,HF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),WF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),GF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),XF=(r,t,e,n,i,s,o,l)=>{const c=l.bits;let a=0,u=0,f=0,h=0,d=0,y=0,g=0,p=0,w=0,v=0,_,T,F,G,$,P=null,M;const U=new Uint16Array(Kd+1),V=new Uint16Array(Kd+1);let I=null,E,L,A;for(a=0;a<=Kd;a++)U[a]=0;for(u=0;u<n;u++)U[t[e+u]]++;for(d=c,h=Kd;h>=1&&U[h]===0;h--);if(d>h&&(d=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&U[f]===0;f++);for(d<f&&(d=f),p=1,a=1;a<=Kd;a++)if(p<<=1,p-=U[a],p<0)return-1;if(p>0&&(r===ox||h!==1))return-1;for(V[1]=0,a=1;a<Kd;a++)V[a+1]=V[a]+U[a];for(u=0;u<n;u++)t[e+u]!==0&&(o[V[t[e+u]]++]=u);if(r===ox?(P=I=o,M=20):r===E1?(P=HF,I=WF,M=257):(P=GF,I=KF,M=0),v=0,u=0,a=f,$=s,y=d,g=0,F=-1,w=1<<d,G=w-1,r===E1&&w>ix||r===lx&&w>ax)return 1;for(;;){E=a-g,o[u]+1<M?(L=0,A=o[u]):o[u]>=M?(L=I[o[u]-M],A=P[o[u]-M]):(L=96,A=0),_=1<<a-g,T=1<<y,f=T;do T-=_,i[$+(v>>g)+T]=E<<24|L<<16|A|0;while(T!==0);for(_=1<<a-1;v&_;)_>>=1;if(_!==0?(v&=_-1,v+=_):v=0,u++,--U[a]===0){if(a===h)break;a=t[e+o[u]]}if(a>d&&(v&G)!==F){for(g===0&&(g=d),$+=f,y=a-g,p=1<<y;y+g<h&&(p-=U[y+g],!(p<=0));)y++,p<<=1;if(w+=1<<y,r===E1&&w>ix||r===lx&&w>ax)return 1;F=v&G,i[F]=d<<24|y<<16|$-s|0}}return v!==0&&(i[$+v]=a-g<<24|64<<16|0),l.bits=d,0};var Lf=XF;const YF=0,JS=1,e7=2,{Z_FINISH:cx,Z_BLOCK:ZF,Z_TREES:wm,Z_OK:dd,Z_STREAM_END:QF,Z_NEED_DICT:JF,Z_STREAM_ERROR:Ro,Z_DATA_ERROR:t7,Z_MEM_ERROR:r7,Z_BUF_ERROR:eB,Z_DEFLATED:ux}=YS,lg=16180,dx=16181,hx=16182,fx=16183,px=16184,mx=16185,gx=16186,yx=16187,vx=16188,bx=16189,w0=16190,uc=16191,A1=16192,wx=16193,T1=16194,xx=16195,_x=16196,Sx=16197,Nx=16198,xm=16199,_m=16200,Cx=16201,kx=16202,Ex=16203,Ax=16204,Tx=16205,j1=16206,jx=16207,Ix=16208,Cs=16209,n7=16210,s7=16211,tB=852,rB=592,nB=15,sB=nB,Px=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function iB(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bd=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<lg||t.mode>s7?1:0},i7=r=>{if(bd(r))return Ro;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=lg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(tB),t.distcode=t.distdyn=new Int32Array(rB),t.sane=1,t.back=-1,dd},a7=r=>{if(bd(r))return Ro;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,i7(r)},o7=(r,t)=>{let e;if(bd(r))return Ro;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ro:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,a7(r))},l7=(r,t)=>{if(!r)return Ro;const e=new iB;r.state=e,e.strm=r,e.window=null,e.mode=lg;const n=o7(r,t);return n!==dd&&(r.state=null),n},aB=r=>l7(r,sB);let Rx=!0,I1,P1;const oB=r=>{if(Rx){I1=new Int32Array(512),P1=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Lf(JS,r.lens,0,288,I1,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Lf(e7,r.lens,0,32,P1,0,r.work,{bits:5}),Rx=!1}r.lencode=I1,r.lenbits=9,r.distcode=P1,r.distbits=5},c7=(r,t,e,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(e-n,e-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(e-n,e),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},lB=(r,t)=>{let e,n,i,s,o,l,c,a,u,f,h,d,y,g,p=0,w,v,_,T,F,G,$,P;const M=new Uint8Array(4);let U,V;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bd(r)||!r.output||!r.input&&r.avail_in!==0)return Ro;e=r.state,e.mode===uc&&(e.mode=A1),o=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,a=e.hold,u=e.bits,f=l,h=c,P=dd;e:for(;;)switch(e.mode){case lg:if(e.wrap===0){e.mode=A1;break}for(;u<16;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(e.wrap&2&&a===35615){e.wbits===0&&(e.wbits=15),e.check=0,M[0]=a&255,M[1]=a>>>8&255,e.check=Nl(e.check,M,2,0),a=0,u=0,e.mode=dx;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((a&255)<<8)+(a>>8))%31){r.msg="incorrect header check",e.mode=Cs;break}if((a&15)!==ux){r.msg="unknown compression method",e.mode=Cs;break}if(a>>>=4,u-=4,$=(a&15)+8,e.wbits===0&&(e.wbits=$),$>15||$>e.wbits){r.msg="invalid window size",e.mode=Cs;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=a&512?bx:uc,a=0,u=0;break;case dx:for(;u<16;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(e.flags=a,(e.flags&255)!==ux){r.msg="unknown compression method",e.mode=Cs;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=Cs;break}e.head&&(e.head.text=a>>8&1),e.flags&512&&e.wrap&4&&(M[0]=a&255,M[1]=a>>>8&255,e.check=Nl(e.check,M,2,0)),a=0,u=0,e.mode=hx;case hx:for(;u<32;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.head&&(e.head.time=a),e.flags&512&&e.wrap&4&&(M[0]=a&255,M[1]=a>>>8&255,M[2]=a>>>16&255,M[3]=a>>>24&255,e.check=Nl(e.check,M,4,0)),a=0,u=0,e.mode=fx;case fx:for(;u<16;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.head&&(e.head.xflags=a&255,e.head.os=a>>8),e.flags&512&&e.wrap&4&&(M[0]=a&255,M[1]=a>>>8&255,e.check=Nl(e.check,M,2,0)),a=0,u=0,e.mode=px;case px:if(e.flags&1024){for(;u<16;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.length=a,e.head&&(e.head.extra_len=a),e.flags&512&&e.wrap&4&&(M[0]=a&255,M[1]=a>>>8&255,e.check=Nl(e.check,M,2,0)),a=0,u=0}else e.head&&(e.head.extra=null);e.mode=mx;case mx:if(e.flags&1024&&(d=e.length,d>l&&(d=l),d&&(e.head&&($=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(s,s+d),$)),e.flags&512&&e.wrap&4&&(e.check=Nl(e.check,n,d,s)),l-=d,s+=d,e.length-=d),e.length))break e;e.length=0,e.mode=gx;case gx:if(e.flags&2048){if(l===0)break e;d=0;do $=n[s+d++],e.head&&$&&e.length<65536&&(e.head.name+=String.fromCharCode($));while($&&d<l);if(e.flags&512&&e.wrap&4&&(e.check=Nl(e.check,n,d,s)),l-=d,s+=d,$)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=yx;case yx:if(e.flags&4096){if(l===0)break e;d=0;do $=n[s+d++],e.head&&$&&e.length<65536&&(e.head.comment+=String.fromCharCode($));while($&&d<l);if(e.flags&512&&e.wrap&4&&(e.check=Nl(e.check,n,d,s)),l-=d,s+=d,$)break e}else e.head&&(e.head.comment=null);e.mode=vx;case vx:if(e.flags&512){for(;u<16;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(e.wrap&4&&a!==(e.check&65535)){r.msg="header crc mismatch",e.mode=Cs;break}a=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=uc;break;case bx:for(;u<32;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}r.adler=e.check=Px(a),a=0,u=0,e.mode=w0;case w0:if(e.havedict===0)return r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=l,e.hold=a,e.bits=u,JF;r.adler=e.check=1,e.mode=uc;case uc:if(t===ZF||t===wm)break e;case A1:if(e.last){a>>>=u&7,u-=u&7,e.mode=j1;break}for(;u<3;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}switch(e.last=a&1,a>>>=1,u-=1,a&3){case 0:e.mode=wx;break;case 1:if(oB(e),e.mode=xm,t===wm){a>>>=2,u-=2;break e}break;case 2:e.mode=_x;break;case 3:r.msg="invalid block type",e.mode=Cs}a>>>=2,u-=2;break;case wx:for(a>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if((a&65535)!==(a>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Cs;break}if(e.length=a&65535,a=0,u=0,e.mode=T1,t===wm)break e;case T1:e.mode=xx;case xx:if(d=e.length,d){if(d>l&&(d=l),d>c&&(d=c),d===0)break e;i.set(n.subarray(s,s+d),o),l-=d,s+=d,c-=d,o+=d,e.length-=d;break}e.mode=uc;break;case _x:for(;u<14;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(e.nlen=(a&31)+257,a>>>=5,u-=5,e.ndist=(a&31)+1,a>>>=5,u-=5,e.ncode=(a&15)+4,a>>>=4,u-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Cs;break}e.have=0,e.mode=Sx;case Sx:for(;e.have<e.ncode;){for(;u<3;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.lens[I[e.have++]]=a&7,a>>>=3,u-=3}for(;e.have<19;)e.lens[I[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},P=Lf(YF,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,P){r.msg="invalid code lengths set",e.mode=Cs;break}e.have=0,e.mode=Nx;case Nx:for(;e.have<e.nlen+e.ndist;){for(;p=e.lencode[a&(1<<e.lenbits)-1],w=p>>>24,v=p>>>16&255,_=p&65535,!(w<=u);){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(_<16)a>>>=w,u-=w,e.lens[e.have++]=_;else{if(_===16){for(V=w+2;u<V;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(a>>>=w,u-=w,e.have===0){r.msg="invalid bit length repeat",e.mode=Cs;break}$=e.lens[e.have-1],d=3+(a&3),a>>>=2,u-=2}else if(_===17){for(V=w+3;u<V;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}a>>>=w,u-=w,$=0,d=3+(a&7),a>>>=3,u-=3}else{for(V=w+7;u<V;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}a>>>=w,u-=w,$=0,d=11+(a&127),a>>>=7,u-=7}if(e.have+d>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Cs;break}for(;d--;)e.lens[e.have++]=$}}if(e.mode===Cs)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=Cs;break}if(e.lenbits=9,U={bits:e.lenbits},P=Lf(JS,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,P){r.msg="invalid literal/lengths set",e.mode=Cs;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},P=Lf(e7,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,P){r.msg="invalid distances set",e.mode=Cs;break}if(e.mode=xm,t===wm)break e;case xm:e.mode=_m;case _m:if(l>=6&&c>=258){r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=l,e.hold=a,e.bits=u,qF(r,h),o=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,a=e.hold,u=e.bits,e.mode===uc&&(e.back=-1);break}for(e.back=0;p=e.lencode[a&(1<<e.lenbits)-1],w=p>>>24,v=p>>>16&255,_=p&65535,!(w<=u);){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(v&&(v&240)===0){for(T=w,F=v,G=_;p=e.lencode[G+((a&(1<<T+F)-1)>>T)],w=p>>>24,v=p>>>16&255,_=p&65535,!(T+w<=u);){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}a>>>=T,u-=T,e.back+=T}if(a>>>=w,u-=w,e.back+=w,e.length=_,v===0){e.mode=Tx;break}if(v&32){e.back=-1,e.mode=uc;break}if(v&64){r.msg="invalid literal/length code",e.mode=Cs;break}e.extra=v&15,e.mode=Cx;case Cx:if(e.extra){for(V=e.extra;u<V;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.length+=a&(1<<e.extra)-1,a>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=kx;case kx:for(;p=e.distcode[a&(1<<e.distbits)-1],w=p>>>24,v=p>>>16&255,_=p&65535,!(w<=u);){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if((v&240)===0){for(T=w,F=v,G=_;p=e.distcode[G+((a&(1<<T+F)-1)>>T)],w=p>>>24,v=p>>>16&255,_=p&65535,!(T+w<=u);){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}a>>>=T,u-=T,e.back+=T}if(a>>>=w,u-=w,e.back+=w,v&64){r.msg="invalid distance code",e.mode=Cs;break}e.offset=_,e.extra=v&15,e.mode=Ex;case Ex:if(e.extra){for(V=e.extra;u<V;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}e.offset+=a&(1<<e.extra)-1,a>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Cs;break}e.mode=Ax;case Ax:if(c===0)break e;if(d=h-c,e.offset>d){if(d=e.offset-d,d>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Cs;break}d>e.wnext?(d-=e.wnext,y=e.wsize-d):y=e.wnext-d,d>e.length&&(d=e.length),g=e.window}else g=i,y=o-e.offset,d=e.length;d>c&&(d=c),c-=d,e.length-=d;do i[o++]=g[y++];while(--d);e.length===0&&(e.mode=_m);break;case Tx:if(c===0)break e;i[o++]=e.length,c--,e.mode=_m;break;case j1:if(e.wrap){for(;u<32;){if(l===0)break e;l--,a|=n[s++]<<u,u+=8}if(h-=c,r.total_out+=h,e.total+=h,e.wrap&4&&h&&(r.adler=e.check=e.flags?Nl(e.check,i,h,o-h):G2(e.check,i,h,o-h)),h=c,e.wrap&4&&(e.flags?a:Px(a))!==e.check){r.msg="incorrect data check",e.mode=Cs;break}a=0,u=0}e.mode=jx;case jx:if(e.wrap&&e.flags){for(;u<32;){if(l===0)break e;l--,a+=n[s++]<<u,u+=8}if(e.wrap&4&&a!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=Cs;break}a=0,u=0}e.mode=Ix;case Ix:P=QF;break e;case Cs:P=t7;break e;case n7:return r7;case s7:default:return Ro}return r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=l,e.hold=a,e.bits=u,(e.wsize||h!==r.avail_out&&e.mode<Cs&&(e.mode<j1||t!==cx))&&c7(r,r.output,r.next_out,h-r.avail_out),f-=r.avail_in,h-=r.avail_out,r.total_in+=f,r.total_out+=h,e.total+=h,e.wrap&4&&h&&(r.adler=e.check=e.flags?Nl(e.check,i,h,r.next_out-h):G2(e.check,i,h,r.next_out-h)),r.data_type=e.bits+(e.last?64:0)+(e.mode===uc?128:0)+(e.mode===xm||e.mode===T1?256:0),(f===0&&h===0||t===cx)&&P===dd&&(P=eB),P},cB=r=>{if(bd(r))return Ro;let t=r.state;return t.window&&(t.window=null),r.state=null,dd},uB=(r,t)=>{if(bd(r))return Ro;const e=r.state;return(e.wrap&2)===0?Ro:(e.head=t,t.done=!1,dd)},dB=(r,t)=>{const e=t.length;let n,i,s;return bd(r)||(n=r.state,n.wrap!==0&&n.mode!==w0)?Ro:n.mode===w0&&(i=1,i=G2(i,t,e,0),i!==n.check)?t7:(s=c7(r,t,e,e),s?(n.mode=n7,r7):(n.havedict=1,dd))};var hB=a7,fB=o7,pB=i7,mB=aB,gB=l7,yB=lB,vB=cB,bB=uB,wB=dB,xB="pako inflate (from Nodeca project)",dc={inflateReset:hB,inflateReset2:fB,inflateResetKeep:pB,inflateInit:mB,inflateInit2:gB,inflate:yB,inflateEnd:vB,inflateGetHeader:bB,inflateSetDictionary:wB,inflateInfo:xB};function _B(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var SB=_B;const u7=Object.prototype.toString,{Z_NO_FLUSH:NB,Z_FINISH:CB,Z_OK:tp,Z_STREAM_END:R1,Z_NEED_DICT:M1,Z_STREAM_ERROR:kB,Z_DATA_ERROR:Mx,Z_MEM_ERROR:EB}=YS;function yp(r){this.options=ZS.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UF,this.strm.avail_out=0;let e=dc.inflateInit2(this.strm,t.windowBits);if(e!==tp)throw new Error(K2[e]);if(this.header=new SB,dc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=X2.string2buf(t.dictionary):u7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=dc.inflateSetDictionary(this.strm,t.dictionary),e!==tp)))throw new Error(K2[e])}yp.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?CB:NB,u7.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),s=dc.inflate(e,o),s===M1&&i&&(s=dc.inflateSetDictionary(e,i),s===tp?s=dc.inflate(e,o):s===Mx&&(s=M1));e.avail_in>0&&s===R1&&e.state.wrap>0&&r[e.next_in]!==0;)dc.inflateReset(e),s=dc.inflate(e,o);switch(s){case kB:case Mx:case M1:case EB:return this.onEnd(s),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||s===R1))if(this.options.to==="string"){let c=X2.utf8border(e.output,e.next_out),a=e.next_out-c,u=X2.buf2string(e.output,c);e.next_out=a,e.avail_out=n-a,a&&e.output.set(e.output.subarray(c,c+a),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===tp&&l===0)){if(s===R1)return s=dc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};yp.prototype.onData=function(r){this.chunks.push(r)};yp.prototype.onEnd=function(r){r===tp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ZS.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function AB(r,t){const e=new yp(t);if(e.push(r),e.err)throw e.msg||K2[e.err];return e.result}var TB=yp,jB=AB,IB={Inflate:TB,inflate:jB};const{Inflate:PB,inflate:RB}=IB;var Ox=PB,MB=RB;const d7=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;d7[r]=t}const Lx=4294967295;function OB(r,t,e){let n=r;for(let i=0;i<e;i++)n=d7[(n^t[i])&255]^n>>>8;return n}function LB(r,t){return(OB(Lx,r,t)^Lx)>>>0}function Dx(r,t,e){const n=r.readUint32(),i=LB(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${i}`)}function h7(r,t,e){for(let n=0;n<e;n++)t[n]=r[n]}function f7(r,t,e,n){let i=0;for(;i<n;i++)t[i]=r[i];for(;i<e;i++)t[i]=r[i]+t[i-n]&255}function p7(r,t,e,n){let i=0;if(e.length===0)for(;i<n;i++)t[i]=r[i];else for(;i<n;i++)t[i]=r[i]+e[i]&255}function m7(r,t,e,n,i){let s=0;if(e.length===0){for(;s<i;s++)t[s]=r[s];for(;s<n;s++)t[s]=r[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=r[s]+(e[s]>>1)&255;for(;s<n;s++)t[s]=r[s]+(t[s-i]+e[s]>>1)&255}}function g7(r,t,e,n,i){let s=0;if(e.length===0){for(;s<i;s++)t[s]=r[s];for(;s<n;s++)t[s]=r[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=r[s]+e[s]&255;for(;s<n;s++)t[s]=r[s]+DB(t[s-i],e[s],e[s-i])&255}}function DB(r,t,e){const n=r+t-e,i=Math.abs(n-r),s=Math.abs(n-t),o=Math.abs(n-e);return i<=s&&i<=o?r:s<=o?t:e}function FB(r,t,e,n,i,s){switch(r){case 0:h7(t,e,i);break;case 1:f7(t,e,i,s);break;case 2:p7(t,e,n,i);break;case 3:m7(t,e,n,i,s);break;case 4:g7(t,e,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const BB=new Uint16Array([255]),VB=new Uint8Array(BB.buffer),zB=VB[0]===255;function UB(r){const{data:t,width:e,height:n,channels:i,depth:s}=r,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(n*e*l);let a=0;for(let u=0;u<7;u++){const f=o[u],h=Math.ceil((e-f.x)/f.xStep),d=Math.ceil((n-f.y)/f.yStep);if(h<=0||d<=0)continue;const y=h*l,g=new Uint8Array(y);for(let p=0;p<d;p++){const w=t[a++],v=t.subarray(a,a+y);a+=y;const _=new Uint8Array(y);FB(w,v,_,g,y,l),g.set(_);for(let T=0;T<h;T++){const F=f.x+T*f.xStep,G=f.y+p*f.yStep;if(!(F>=e||G>=n))for(let $=0;$<l;$++)c[(G*e+F)*l+$]=_[T*l+$]}}}if(s===16){const u=new Uint16Array(c.buffer);if(zB)for(let f=0;f<u.length;f++)u[f]=$B(u[f]);return u}else return c}function $B(r){return(r&255)<<8|r>>8&255}const qB=new Uint16Array([255]),HB=new Uint8Array(qB.buffer),WB=HB[0]===255,GB=new Uint8Array(0);function Fx(r){const{data:t,width:e,height:n,channels:i,depth:s}=r,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*e),c=new Uint8Array(n*l);let a=GB,u=0,f,h;for(let d=0;d<n;d++){switch(f=t.subarray(u+1,u+1+l),h=c.subarray(d*l,(d+1)*l),t[u]){case 0:h7(f,h,l);break;case 1:f7(f,h,l,o);break;case 2:p7(f,h,a,l);break;case 3:m7(f,h,a,l,o);break;case 4:g7(f,h,a,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}a=h,u+=l+1}if(s===16){const d=new Uint16Array(c.buffer);if(WB)for(let y=0;y<d.length;y++)d[y]=KB(d[y]);return d}else return c}function KB(r){return(r&255)<<8|r>>8&255}const Fm=Uint8Array.of(137,80,78,71,13,10,26,10);function Bx(r){if(!XB(r.readBytes(Fm.length)))throw new Error("wrong PNG signature")}function XB(r){if(r.length<Fm.length)return!1;for(let t=0;t<Fm.length;t++)if(r[t]!==Fm[t])return!1;return!0}const YB="tEXt",ZB=0,y7=new TextDecoder("latin1");function QB(r){if(eV(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const JB=/^[\u0000-\u00FF]*$/;function eV(r){if(!JB.test(r))throw new Error("invalid latin1 text")}function tV(r,t,e){const n=v7(t);r[n]=rV(t,e-n.length-1)}function v7(r){for(r.mark();r.readByte()!==ZB;);const t=r.offset;r.reset();const e=y7.decode(r.readBytes(t-r.offset-1));return r.skip(1),QB(e),e}function rV(r,t){return y7.decode(r.readBytes(t))}const lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},O1={UNKNOWN:-1,DEFLATE:0},Vx={UNKNOWN:-1,ADAPTIVE:0},L1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Sm={NONE:0,BACKGROUND:1,PREVIOUS:2},D1={SOURCE:0,OVER:1};class nV extends Cv{constructor(e,n={}){super(e);qn(this,"_checkCrc");qn(this,"_inflator");qn(this,"_png");qn(this,"_apng");qn(this,"_end");qn(this,"_hasPalette");qn(this,"_palette");qn(this,"_hasTransparency");qn(this,"_transparency");qn(this,"_compressionMethod");qn(this,"_filterMethod");qn(this,"_interlaceMethod");qn(this,"_colorType");qn(this,"_isAnimated");qn(this,"_numberOfFrames");qn(this,"_numberOfPlays");qn(this,"_frames");qn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Ox,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=O1.UNKNOWN,this._filterMethod=Vx.UNKNOWN,this._interlaceMethod=L1.UNKNOWN,this._colorType=lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Bx(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Bx(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case YB:tV(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Dx(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Dx(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=sV(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case lo.GREYSCALE:i=1;break;case lo.TRUECOLOUR:i=3;break;case lo.INDEXED_COLOUR:i=1;break;case lo.GREYSCALE_ALPHA:i=2;break;case lo.TRUECOLOUR_ALPHA:i=4;break;case lo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==O1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case lo.GREYSCALE:case lo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case lo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case lo.UNKNOWN:case lo.GREYSCALE_ALPHA:case lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=v7(this),i=this.readUint8();if(i!==O1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:MB(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=Fx({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,i){switch(e.disposeOp){case Sm.NONE:break;case Sm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Sm.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const i=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,a=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:a}};switch(n.blendOp){case D1.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:a}=s(o,l);for(let u=0;u<this._png.channels;u++)e.data[c+u]=n.data[a+u]}break;case D1.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:a}=s(o,l);for(let u=0;u<this._png.channels;u++){const f=n.data[a+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:n.data[a+u],d=Math.floor(f*h+(1-f)*e.data[c+u]);e.data[c+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Vx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L1.NO_INTERLACE)this._png.data=Fx({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L1.ADAM7)this._png.data=UB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sm.NONE,blendOp:D1.SOURCE,data:e}),this._inflator=new Ox,this._writingDataChunks=!1}}function sV(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var zx;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(zx||(zx={}));function iV(r,t){return new nV(r,t).decode()}var Qr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function F1(){Qr.console&&typeof Qr.console.log=="function"&&Qr.console.log.apply(Qr.console,arguments)}var ds={log:F1,warn:function(r){Qr.console&&(typeof Qr.console.warn=="function"?Qr.console.warn.apply(Qr.console,arguments):F1.call(null,arguments))},error:function(r){Qr.console&&(typeof Qr.console.error=="function"?Qr.console.error.apply(Qr.console,arguments):F1(r))}};function B1(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Ku(n.response,t,e)},n.onerror=function(){ds.error("could not download file")},n.send()}function Ux(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Nm(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var Ku=Qr.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==Qr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Qr.URL||Qr.webkitURL,i=document.createElement("a");t=t||r.name||"download",i.download=t,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?Ux(i.href)?B1(r,t,e):Nm(i,i.target="_blank"):Nm(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Nm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(Ux(r))B1(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Nm(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Jn(s)!=="object"&&(ds.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return B1(r,t,e);var i=r.type==="application/octet-stream",s=/constructor/i.test(Qr.HTMLElement)||Qr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(r)}else{var c=Qr.URL||Qr.webkitURL,a=c.createObjectURL(r);n?n.location=a:location.href=a,n=null,setTimeout(function(){c.revokeObjectURL(a)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function b7(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,s=e[n].process,o=i.exec(r);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),a=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),a.length==1&&(a="0"+a),"#"+l+c+a}}var Bm=Qr.atob.bind(Qr),$x=Qr.btoa.bind(Qr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V1(r,t){var e=r[0],n=r[1],i=r[2],s=r[3];e=oa(e,n,i,s,t[0],7,-680876936),s=oa(s,e,n,i,t[1],12,-389564586),i=oa(i,s,e,n,t[2],17,606105819),n=oa(n,i,s,e,t[3],22,-1044525330),e=oa(e,n,i,s,t[4],7,-176418897),s=oa(s,e,n,i,t[5],12,1200080426),i=oa(i,s,e,n,t[6],17,-1473231341),n=oa(n,i,s,e,t[7],22,-45705983),e=oa(e,n,i,s,t[8],7,1770035416),s=oa(s,e,n,i,t[9],12,-1958414417),i=oa(i,s,e,n,t[10],17,-42063),n=oa(n,i,s,e,t[11],22,-1990404162),e=oa(e,n,i,s,t[12],7,1804603682),s=oa(s,e,n,i,t[13],12,-40341101),i=oa(i,s,e,n,t[14],17,-1502002290),e=la(e,n=oa(n,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=la(s,e,n,i,t[6],9,-1069501632),i=la(i,s,e,n,t[11],14,643717713),n=la(n,i,s,e,t[0],20,-373897302),e=la(e,n,i,s,t[5],5,-701558691),s=la(s,e,n,i,t[10],9,38016083),i=la(i,s,e,n,t[15],14,-660478335),n=la(n,i,s,e,t[4],20,-405537848),e=la(e,n,i,s,t[9],5,568446438),s=la(s,e,n,i,t[14],9,-1019803690),i=la(i,s,e,n,t[3],14,-187363961),n=la(n,i,s,e,t[8],20,1163531501),e=la(e,n,i,s,t[13],5,-1444681467),s=la(s,e,n,i,t[2],9,-51403784),i=la(i,s,e,n,t[7],14,1735328473),e=ca(e,n=la(n,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ca(s,e,n,i,t[8],11,-2022574463),i=ca(i,s,e,n,t[11],16,1839030562),n=ca(n,i,s,e,t[14],23,-35309556),e=ca(e,n,i,s,t[1],4,-1530992060),s=ca(s,e,n,i,t[4],11,1272893353),i=ca(i,s,e,n,t[7],16,-155497632),n=ca(n,i,s,e,t[10],23,-1094730640),e=ca(e,n,i,s,t[13],4,681279174),s=ca(s,e,n,i,t[0],11,-358537222),i=ca(i,s,e,n,t[3],16,-722521979),n=ca(n,i,s,e,t[6],23,76029189),e=ca(e,n,i,s,t[9],4,-640364487),s=ca(s,e,n,i,t[12],11,-421815835),i=ca(i,s,e,n,t[15],16,530742520),e=ua(e,n=ca(n,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ua(s,e,n,i,t[7],10,1126891415),i=ua(i,s,e,n,t[14],15,-1416354905),n=ua(n,i,s,e,t[5],21,-57434055),e=ua(e,n,i,s,t[12],6,1700485571),s=ua(s,e,n,i,t[3],10,-1894986606),i=ua(i,s,e,n,t[10],15,-1051523),n=ua(n,i,s,e,t[1],21,-2054922799),e=ua(e,n,i,s,t[8],6,1873313359),s=ua(s,e,n,i,t[15],10,-30611744),i=ua(i,s,e,n,t[6],15,-1560198380),n=ua(n,i,s,e,t[13],21,1309151649),e=ua(e,n,i,s,t[4],6,-145523070),s=ua(s,e,n,i,t[11],10,-1120210379),i=ua(i,s,e,n,t[2],15,718787259),n=ua(n,i,s,e,t[9],21,-343485551),r[0]=iu(e,r[0]),r[1]=iu(n,r[1]),r[2]=iu(i,r[2]),r[3]=iu(s,r[3])}function cg(r,t,e,n,i,s){return t=iu(iu(t,r),iu(n,s)),iu(t<<i|t>>>32-i,e)}function oa(r,t,e,n,i,s,o){return cg(t&e|~t&n,r,t,i,s,o)}function la(r,t,e,n,i,s,o){return cg(t&n|e&~n,r,t,i,s,o)}function ca(r,t,e,n,i,s,o){return cg(t^e^n,r,t,i,s,o)}function ua(r,t,e,n,i,s,o){return cg(e^(t|~n),r,t,i,s,o)}function w7(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)V1(n,aV(r.substring(t-64,t)));r=r.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(V1(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,V1(n,i),n}function aV(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var qx="0123456789abcdef".split("");function oV(r){for(var t="",e=0;e<4;e++)t+=qx[r>>8*e+4&15]+qx[r>>8*e&15];return t}function lV(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Y2(r){return w7(r).map(lV).join("")}var cV=(function(r){for(var t=0;t<r.length;t++)r[t]=oV(r[t]);return r.join("")})(w7("hello"))!="5d41402abc4b2a76b9719d911017c592";function iu(r,t){if(cV){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z2(r,t){var e,n,i,s;if(r!==e){for(var o=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var a=0;for(c=0;c<256;c++){var u=l[c];a=(a+u+o.charCodeAt(c))%256,l[c]=l[a],l[a]=u}e=r,n=l}else l=n;var f=t.length,h=0,d=0,y="";for(c=0;c<f;c++)d=(d+(u=l[h=(h+1)%256]))%256,l[h]=l[d],l[d]=u,o=l[(l[h]+l[d])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Hx={print:4,modify:8,copy:16,"annot-forms":32};function th(r,t,e,n){this.v=1,this.r=2;var i=192;r.forEach(function(l){if(Hx.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Hx[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Y2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Z2(this.encryptionKey,this.padding)}function rh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var i=r.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return t}function Wx(r){if(Jn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!i],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(r,n)}catch(l){Qr.console&&ds.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function x0(r){if(!(this instanceof x0))return new x0(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function x7(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function Xu(r,t,e,n,i){if(!(this instanceof Xu))return new Xu(r,t,e,n,i);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,x7.call(this,n,i)}function nh(r,t,e,n,i){if(!(this instanceof nh))return new nh(r,t,e,n,i);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,x7.call(this,n,i)}function jr(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,a="S",u=null;Jn(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),a=r.defaultPathOperation||"S"),o=r.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=Wx;var y="1.3",g=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(ee){y=ee};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return p};var w=d.__private__.getPageFormat=function(ee){return p[ee]};i=i||"a4";var v="compat",_="advanced",T=v;function F(){this.saveGraphicsState(),ce(new bt(lt,0,0,-lt,0,Ai()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),a="n",T=_}function G(){this.restoreGraphicsState(),a="S",T=v}var $=d.__private__.combineFontStyleAndFontWeight=function(ee,me){if(ee=="bold"&&me=="normal"||ee=="bold"&&me==400||ee=="normal"&&me=="italic"||ee=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&(ee=me==400||me==="normal"?ee==="italic"?"italic":"normal":me!=700&&me!=="bold"||ee!=="normal"?(me==700?"bold":me)+""+ee:"bold"),ee};d.advancedAPI=function(ee){var me=T===v;return me&&F.call(this),typeof ee!="function"||(ee(this),me&&G.call(this)),this},d.compatAPI=function(ee){var me=T===_;return me&&G.call(this),typeof ee!="function"||(ee(this),me&&F.call(this)),this},d.isAdvancedAPI=function(){return T===_};var P,M=function(ee){if(T!==_)throw new Error(ee+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=d.roundToPrecision=d.__private__.roundToPrecision=function(ee,me){var je=t||me;if(isNaN(ee)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ee.toFixed(je).replace(/0+$/,"")};P=d.hpf=d.__private__.hpf=typeof c=="number"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ee,c)}:c==="smart"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ee,ee>-1&&ee<1?16:5)}:function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ee,16)};var V=d.f2=d.__private__.f2=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f2");return U(ee,2)},I=d.__private__.f3=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f3");return U(ee,3)},E=d.scale=d.__private__.scale=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.scale");return T===v?ee*lt:T===_?ee:void 0},L=function(ee){return E((function(me){return T===v?Ai()-me:T===_?me:void 0})(ee))};d.__private__.setPrecision=d.setPrecision=function(ee){typeof parseInt(ee,10)=="number"&&(t=parseInt(ee,10))};var A,S="00000000000000000000000000000000",k=d.__private__.getFileId=function(){return S},N=d.__private__.setFileId=function(ee){return S=ee!==void 0&&/^[a-fA-F0-9]{32}$/.test(ee)?ee.toUpperCase():S.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(An=new th(u.userPermissions,u.userPassword,u.ownerPassword,S)),S};d.setFileId=function(ee){return N(ee),this},d.getFileId=function(){return k()};var C=d.__private__.convertDateToPDFDate=function(ee){var me=ee.getTimezoneOffset(),je=me<0?"+":"-",De=Math.floor(Math.abs(me/60)),We=Math.abs(me%60),ht=[je,Z(De),"'",Z(We),"'"].join("");return["D:",ee.getFullYear(),Z(ee.getMonth()+1),Z(ee.getDate()),Z(ee.getHours()),Z(ee.getMinutes()),Z(ee.getSeconds()),ht].join("")},O=d.__private__.convertPDFDateToDate=function(ee){var me=parseInt(ee.substr(2,4),10),je=parseInt(ee.substr(6,2),10)-1,De=parseInt(ee.substr(8,2),10),We=parseInt(ee.substr(10,2),10),ht=parseInt(ee.substr(12,2),10),Ct=parseInt(ee.substr(14,2),10);return new Date(me,je,De,We,ht,Ct,0)},D=d.__private__.setCreationDate=function(ee){var me;if(ee===void 0&&(ee=new Date),ee instanceof Date)me=C(ee);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ee))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=ee}return A=me},j=d.__private__.getCreationDate=function(ee){var me=A;return ee==="jsDate"&&(me=O(A)),me};d.setCreationDate=function(ee){return D(ee),this},d.getCreationDate=function(ee){return j(ee)};var K,Z=d.__private__.padd2=function(ee){return("0"+parseInt(ee)).slice(-2)},ne=d.__private__.padd2Hex=function(ee){return("00"+(ee=ee.toString())).substr(ee.length)},H=0,J=[],z=[],B=0,Q=[],oe=[],pe=!1,de=z;d.__private__.setCustomOutputDestination=function(ee){pe=!0,de=ee};var ve=function(ee){pe||(de=ee)};d.__private__.resetCustomOutputDestination=function(){pe=!1,de=z};var ce=d.__private__.out=function(ee){return ee=ee.toString(),B+=ee.length+1,de.push(ee),de},he=d.__private__.write=function(ee){return ce(arguments.length===1?ee.toString():Array.prototype.join.call(arguments," "))},fe=d.__private__.getArrayBuffer=function(ee){for(var me=ee.length,je=new ArrayBuffer(me),De=new Uint8Array(je);me--;)De[me]=ee.charCodeAt(me);return je},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ke};var ye=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(ee){return ye=T===_?ee/lt:ee,this};var Re,Ie=d.__private__.getFontSize=d.getFontSize=function(){return T===v?ye:ye*lt},Oe=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(ee){return Oe=ee,this},d.__private__.getR2L=d.getR2L=function(){return Oe};var Fe,Se=d.__private__.setZoomMode=function(ee){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ee))Re=ee;else if(isNaN(ee)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ee)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ee+'" is not recognized.');Re=ee}else Re=parseInt(ee,10)};d.__private__.getZoomMode=function(){return Re};var Pe,He=d.__private__.setPageMode=function(ee){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ee)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ee+'" is not recognized.');Fe=ee};d.__private__.getPageMode=function(){return Fe};var Ze=d.__private__.setLayoutMode=function(ee){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ee)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ee+'" is not recognized.');Pe=ee};d.__private__.getLayoutMode=function(){return Pe},d.__private__.setDisplayMode=d.setDisplayMode=function(ee,me,je){return Se(ee),Ze(me),He(je),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(ee){if(Object.keys(at).indexOf(ee)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[ee]},d.__private__.getDocumentProperties=function(){return at},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(ee){for(var me in at)at.hasOwnProperty(me)&&ee[me]&&(at[me]=ee[me]);return this},d.__private__.setDocumentProperty=function(ee,me){if(Object.keys(at).indexOf(ee)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[ee]=me};var Je,lt,ut,Ut,ft,st={},mt={},At=[],dt={},Yt={},zt={},St={},nr=null,Tt=0,_t=[],sr=new Wx(d),Dt=r.hotfixes||[],jt={},Zt={},br=[],bt=function ee(me,je,De,We,ht,Ct){if(!(this instanceof ee))return new ee(me,je,De,We,ht,Ct);isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(De)&&(De=0),isNaN(We)&&(We=1),isNaN(ht)&&(ht=0),isNaN(Ct)&&(Ct=0),this._matrix=[me,je,De,We,ht,Ct]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(ee){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(ee)},bt.prototype.multiply=function(ee){var me=ee.sx*this.sx+ee.shy*this.shx,je=ee.sx*this.shy+ee.shy*this.sy,De=ee.shx*this.sx+ee.sy*this.shx,We=ee.shx*this.shy+ee.sy*this.sy,ht=ee.tx*this.sx+ee.ty*this.shx+this.tx,Ct=ee.tx*this.shy+ee.ty*this.sy+this.ty;return new bt(me,je,De,We,ht,Ct)},bt.prototype.decompose=function(){var ee=this.sx,me=this.shy,je=this.shx,De=this.sy,We=this.tx,ht=this.ty,Ct=Math.sqrt(ee*ee+me*me),or=(ee/=Ct)*je+(me/=Ct)*De;je-=ee*or,De-=me*or;var gr=Math.sqrt(je*je+De*De);return or/=gr,ee*(De/=gr)<me*(je/=gr)&&(ee=-ee,me=-me,or=-or,Ct=-Ct),{scale:new bt(Ct,0,0,gr,0,0),translate:new bt(1,0,0,1,We,ht),rotate:new bt(ee,me,-me,ee,0,0),skew:new bt(1,0,or,1,0,0)}},bt.prototype.toString=function(ee){return this.join(" ")},bt.prototype.inversed=function(){var ee=this.sx,me=this.shy,je=this.shx,De=this.sy,We=this.tx,ht=this.ty,Ct=1/(ee*De-me*je),or=De*Ct,gr=-me*Ct,Dr=-je*Ct,kr=ee*Ct;return new bt(or,gr,Dr,kr,-or*We-Dr*ht,-gr*We-kr*ht)},bt.prototype.applyToPoint=function(ee){var me=ee.x*this.sx+ee.y*this.shx+this.tx,je=ee.x*this.shy+ee.y*this.sy+this.ty;return new di(me,je)},bt.prototype.applyToRectangle=function(ee){var me=this.applyToPoint(ee),je=this.applyToPoint(new di(ee.x+ee.w,ee.y+ee.h));return new yo(me.x,me.y,je.x-me.x,je.y-me.y)},bt.prototype.clone=function(){var ee=this.sx,me=this.shy,je=this.shx,De=this.sy,We=this.tx,ht=this.ty;return new bt(ee,me,je,De,We,ht)},d.Matrix=bt;var Ar=d.matrixMult=function(ee,me){return me.multiply(ee)},Ir=new bt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ir;var Kt=function(ee,me){if(!Yt[ee]){var je=(me instanceof Xu?"Sh":"P")+(Object.keys(dt).length+1).toString(10);me.id=je,Yt[ee]=je,dt[je]=me,sr.publish("addPattern",me)}};d.ShadingPattern=Xu,d.TilingPattern=nh,d.addShadingPattern=function(ee,me){return M("addShadingPattern()"),Kt(ee,me),this},d.beginTilingPattern=function(ee){M("beginTilingPattern()"),xi(ee.boundingBox[0],ee.boundingBox[1],ee.boundingBox[2]-ee.boundingBox[0],ee.boundingBox[3]-ee.boundingBox[1],ee.matrix)},d.endTilingPattern=function(ee,me){M("endTilingPattern()"),me.stream=oe[K].join(`
`),Kt(ee,me),sr.publish("endTilingPattern",me),br.pop().restore()};var Le,ze=d.__private__.newObject=function(){var ee=et();return Et(ee,!0),ee},et=d.__private__.newObjectDeferred=function(){return H++,J[H]=function(){return B},H},Et=function(ee,me){return me=typeof me=="boolean"&&me,J[ee]=B,me&&ce(ee+" 0 obj"),ee},er=d.__private__.newAdditionalObject=function(){var ee={objId:et(),content:""};return Q.push(ee),ee},Lt=et(),dr=et(),ir=d.__private__.decodeColorString=function(ee){var me=ee.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length!==5||me[4]!=="k"&&me[4]!=="K"||(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var je=parseFloat(me[0]);me=[je,je,je,"r"]}for(var De="#",We=0;We<3;We++)De+=("0"+Math.floor(255*parseFloat(me[We])).toString(16)).slice(-2);return De},Wt=d.__private__.encodeColorString=function(ee){var me;typeof ee=="string"&&(ee={ch1:ee});var je=ee.ch1,De=ee.ch2,We=ee.ch3,ht=ee.ch4,Ct=ee.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var or=new b7(je);if(or.ok)je=or.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var gr=parseInt(je.substr(1),16);je=gr>>16&255,De=gr>>8&255,We=255&gr}if(De===void 0||ht===void 0&&je===De&&De===We)me=typeof je=="string"?je+" "+Ct[0]:ee.precision===2?V(je/255)+" "+Ct[0]:I(je/255)+" "+Ct[0];else if(ht===void 0||Jn(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return["1.","1.","1.",Ct[1]].join(" ");me=typeof je=="string"?[je,De,We,Ct[1]].join(" "):ee.precision===2?[V(je/255),V(De/255),V(We/255),Ct[1]].join(" "):[I(je/255),I(De/255),I(We/255),Ct[1]].join(" ")}else me=typeof je=="string"?[je,De,We,ht,Ct[2]].join(" "):ee.precision===2?[V(je),V(De),V(We),V(ht),Ct[2]].join(" "):[I(je),I(De),I(We),I(ht),Ct[2]].join(" ");return me},mr=d.__private__.getFilters=function(){return o},hr=d.__private__.putStream=function(ee){var me=(ee=ee||{}).data||"",je=ee.filters||mr(),De=ee.alreadyAppliedFilters||[],We=ee.addLength1||!1,ht=me.length,Ct=ee.objectId,or=function(se){return se};if(u!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(or=An.encryptor(Ct,0));var gr={};je===!0&&(je=["FlateEncode"]);var Dr=ee.additionalKeyValues||[],kr=(gr=jr.API.processDataByFilters!==void 0?jr.API.processDataByFilters(me,je):{data:me,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(gr.data.length!==0&&(Dr.push({key:"Length",value:gr.data.length}),We===!0&&Dr.push({key:"Length1",value:ht})),kr.length!=0)if(kr.split("/").length-1==1)Dr.push({key:"Filter",value:kr});else{Dr.push({key:"Filter",value:"["+kr+"]"});for(var mn=0;mn<Dr.length;mn+=1)if(Dr[mn].key==="DecodeParms"){for(var ts=[],Gn=0;Gn<gr.reverseChain.split("/").length-1;Gn+=1)ts.push("null");ts.push(Dr[mn].value),Dr[mn].value="["+ts.join(" ")+"]"}}ce("<<");for(var W=0;W<Dr.length;W++)ce("/"+Dr[W].key+" "+Dr[W].value);ce(">>"),gr.data.length!==0&&(ce("stream"),ce(or(gr.data)),ce("endstream"))},Lr=d.__private__.putPage=function(ee){var me=ee.number,je=ee.data,De=ee.objId,We=ee.contentsObjId;Et(De,!0),ce("<</Type /Page"),ce("/Parent "+ee.rootDictionaryObjId+" 0 R"),ce("/Resources "+ee.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(P(ee.mediaBox.bottomLeftX))+" "+parseFloat(P(ee.mediaBox.bottomLeftY))+" "+P(ee.mediaBox.topRightX)+" "+P(ee.mediaBox.topRightY)+"]"),ee.cropBox!==null&&ce("/CropBox ["+P(ee.cropBox.bottomLeftX)+" "+P(ee.cropBox.bottomLeftY)+" "+P(ee.cropBox.topRightX)+" "+P(ee.cropBox.topRightY)+"]"),ee.bleedBox!==null&&ce("/BleedBox ["+P(ee.bleedBox.bottomLeftX)+" "+P(ee.bleedBox.bottomLeftY)+" "+P(ee.bleedBox.topRightX)+" "+P(ee.bleedBox.topRightY)+"]"),ee.trimBox!==null&&ce("/TrimBox ["+P(ee.trimBox.bottomLeftX)+" "+P(ee.trimBox.bottomLeftY)+" "+P(ee.trimBox.topRightX)+" "+P(ee.trimBox.topRightY)+"]"),ee.artBox!==null&&ce("/ArtBox ["+P(ee.artBox.bottomLeftX)+" "+P(ee.artBox.bottomLeftY)+" "+P(ee.artBox.topRightX)+" "+P(ee.artBox.topRightY)+"]"),typeof ee.userUnit=="number"&&ee.userUnit!==1&&ce("/UserUnit "+ee.userUnit),sr.publish("putPage",{objId:De,pageContext:_t[me],pageNumber:me,page:je}),ce("/Contents "+We+" 0 R"),ce(">>"),ce("endobj");var ht=je.join(`
`);return T===_&&(ht+=`
Q`),Et(We,!0),hr({data:ht,filters:mr(),objectId:We}),ce("endobj"),De},pn=d.__private__.putPages=function(){var ee,me,je=[];for(ee=1;ee<=Tt;ee++)_t[ee].objId=et(),_t[ee].contentsObjId=et();for(ee=1;ee<=Tt;ee++)je.push(Lr({number:ee,data:oe[ee],objId:_t[ee].objId,contentsObjId:_t[ee].contentsObjId,mediaBox:_t[ee].mediaBox,cropBox:_t[ee].cropBox,bleedBox:_t[ee].bleedBox,trimBox:_t[ee].trimBox,artBox:_t[ee].artBox,userUnit:_t[ee].userUnit,rootDictionaryObjId:Lt,resourceDictionaryObjId:dr}));Et(Lt,!0),ce("<</Type /Pages");var De="/Kids [";for(me=0;me<Tt;me++)De+=je[me]+" 0 R ";ce(De+"]"),ce("/Count "+Tt),ce(">>"),ce("endobj"),sr.publish("postPutPages")},on=function(ee){sr.publish("putFont",{font:ee,out:ce,newObject:ze,putStream:hr}),ee.isAlreadyPutted!==!0&&(ee.objectNumber=ze(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+rh(ee.postScriptName)),ce("/Subtype /Type1"),typeof ee.encoding=="string"&&ce("/Encoding /"+ee.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Ln=function(ee){ee.objectNumber=ze();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[P(ee.x),P(ee.y),P(ee.x+ee.width),P(ee.y+ee.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"});var je=ee.pages[1].join(`
`);hr({data:je,additionalKeyValues:me,objectId:ee.objectNumber}),ce("endobj")},In=function(ee,me){me||(me=21);var je=ze(),De=(function(Ct,or){var gr,Dr=[],kr=1/(or-1);for(gr=0;gr<1;gr+=kr)Dr.push(gr);if(Dr.push(1),Ct[0].offset!=0){var mn={offset:0,color:Ct[0].color};Ct.unshift(mn)}if(Ct[Ct.length-1].offset!=1){var ts={offset:1,color:Ct[Ct.length-1].color};Ct.push(ts)}for(var Gn="",W=0,se=0;se<Dr.length;se++){for(gr=Dr[se];gr>Ct[W+1].offset;)W++;var ue=Ct[W].offset,Ne=(gr-ue)/(Ct[W+1].offset-ue),Ge=Ct[W].color,rt=Ct[W+1].color;Gn+=ne(Math.round((1-Ne)*Ge[0]+Ne*rt[0]).toString(16))+ne(Math.round((1-Ne)*Ge[1]+Ne*rt[1]).toString(16))+ne(Math.round((1-Ne)*Ge[2]+Ne*rt[2]).toString(16))}return Gn.trim()})(ee.colors,me),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+me+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hr({data:De,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ce("endobj"),ee.objectNumber=ze(),ce("<< /ShadingType "+ee.type),ce("/ColorSpace /DeviceRGB");var ht="/Coords ["+P(parseFloat(ee.coords[0]))+" "+P(parseFloat(ee.coords[1]))+" ";ee.type===2?ht+=P(parseFloat(ee.coords[2]))+" "+P(parseFloat(ee.coords[3])):ht+=P(parseFloat(ee.coords[2]))+" "+P(parseFloat(ee.coords[3]))+" "+P(parseFloat(ee.coords[4]))+" "+P(parseFloat(ee.coords[5])),ce(ht+="]"),ee.matrix&&ce("/Matrix ["+ee.matrix.toString()+"]"),ce("/Function "+je+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Wn=function(ee,me){var je=et(),De=ze();me.push({resourcesOid:je,objectOid:De}),ee.objectNumber=De;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+ee.boundingBox.map(P).join(" ")+"]"}),We.push({key:"XStep",value:P(ee.xStep)}),We.push({key:"YStep",value:P(ee.yStep)}),We.push({key:"Resources",value:je+" 0 R"}),ee.matrix&&We.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"}),hr({data:ee.stream,additionalKeyValues:We,objectId:ee.objectNumber}),ce("endobj")},Ae=function(ee){for(var me in ee.objectNumber=ze(),ce("<<"),ee)switch(me){case"opacity":ce("/ca "+V(ee[me]));break;case"stroke-opacity":ce("/CA "+V(ee[me]))}ce(">>"),ce("endobj")},$e=function(ee){Et(ee.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var me in ce("/Font <<"),st)st.hasOwnProperty(me)&&(f===!1||f===!0&&h.hasOwnProperty(me))&&ce("/"+me+" "+st[me].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(dt).length>0){for(var me in ce("/Shading <<"),dt)dt.hasOwnProperty(me)&&dt[me]instanceof Xu&&dt[me].objectNumber>=0&&ce("/"+me+" "+dt[me].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),ce(">>")}})(),(function(me){if(Object.keys(dt).length>0){for(var je in ce("/Pattern <<"),dt)dt.hasOwnProperty(je)&&dt[je]instanceof d.TilingPattern&&dt[je].objectNumber>=0&&dt[je].objectNumber<me&&ce("/"+je+" "+dt[je].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),ce(">>")}})(ee.objectOid),(function(){if(Object.keys(zt).length>0){var me;for(me in ce("/ExtGState <<"),zt)zt.hasOwnProperty(me)&&zt[me].objectNumber>=0&&ce("/"+me+" "+zt[me].objectNumber+" 0 R");sr.publish("putGStateDict"),ce(">>")}})(),(function(){for(var me in ce("/XObject <<"),jt)jt.hasOwnProperty(me)&&jt[me].objectNumber>=0&&ce("/"+me+" "+jt[me].objectNumber+" 0 R");sr.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},pt=function(ee){mt[ee.fontName]=mt[ee.fontName]||{},mt[ee.fontName][ee.fontStyle]=ee.id},Nt=function(ee,me,je,De,We){var ht={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:ee,fontName:me,fontStyle:je,encoding:De,isStandardFont:We||!1,metadata:{}};return sr.publish("addFont",{font:ht,instance:this}),st[ht.id]=ht,pt(ht),ht.id},Gt=d.__private__.pdfEscape=d.pdfEscape=function(ee,me){return(function(je,De){var We,ht,Ct,or,gr,Dr,kr,mn,ts;if(Ct=(De=De||{}).sourceEncoding||"Unicode",gr=De.outputEncoding,(De.autoencode||gr)&&st[Je].metadata&&st[Je].metadata[Ct]&&st[Je].metadata[Ct].encoding&&(or=st[Je].metadata[Ct].encoding,!gr&&st[Je].encoding&&(gr=st[Je].encoding),!gr&&or.codePages&&(gr=or.codePages[0]),typeof gr=="string"&&(gr=or[gr]),gr)){for(kr=!1,Dr=[],We=0,ht=je.length;We<ht;We++)(mn=gr[je.charCodeAt(We)])?Dr.push(String.fromCharCode(mn)):Dr.push(je[We]),Dr[We].charCodeAt(0)>>8&&(kr=!0);je=Dr.join("")}for(We=je.length;kr===void 0&&We!==0;)je.charCodeAt(We-1)>>8&&(kr=!0),We--;if(!kr)return je;for(Dr=De.noBOM?[]:[254,255],We=0,ht=je.length;We<ht;We++){if((ts=(mn=je.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dr.push(ts),Dr.push(mn-(ts<<8))}return String.fromCharCode.apply(void 0,Dr)})(ee,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pt=d.__private__.beginPage=function(ee){oe[++Tt]=[],_t[Tt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ee[0]),topRightY:Number(ee[1])}},Pr(Tt),ve(oe[K])},Ft=function(ee,me){var je,De,We;switch(e=me||e,typeof ee=="string"&&(je=w(ee.toLowerCase()),Array.isArray(je)&&(De=je[0],We=je[1])),Array.isArray(ee)&&(De=ee[0]*lt,We=ee[1]*lt),isNaN(De)&&(De=i[0],We=i[1]),(De>14400||We>14400)&&(ds.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),We=Math.min(14400,We)),i=[De,We],e.substr(0,1)){case"l":We>De&&(i=[We,De]);break;case"p":De>We&&(i=[We,De])}Pt(i),Cr(es),ce(Oo),Zi!==0&&ce(Zi+" J"),dl!==0&&ce(dl+" j"),sr.publish("addPage",{pageNumber:Tt})},Gr=function(ee){ee>0&&ee<=Tt&&(oe.splice(ee,1),_t.splice(ee,1),Tt--,K>Tt&&(K=Tt),this.setPage(K))},Pr=function(ee){ee>0&&ee<=Tt&&(K=ee)},Tr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return oe.length-1},wr=function(ee,me,je){var De,We=void 0;return je=je||{},ee=ee!==void 0?ee:st[Je].fontName,me=me!==void 0?me:st[Je].fontStyle,De=ee.toLowerCase(),mt[De]!==void 0&&mt[De][me]!==void 0?We=mt[De][me]:mt[ee]!==void 0&&mt[ee][me]!==void 0?We=mt[ee][me]:je.disableWarning===!1&&ds.warn("Unable to look up font label for font '"+ee+"', '"+me+"'. Refer to getFontList() for available fonts."),We||je.noFallback||(We=mt.times[me])==null&&(We=mt.times.normal),We},Rr=d.__private__.putInfo=function(){var ee=ze(),me=function(De){return De};for(var je in u!==null&&(me=An.encryptor(ee,0)),ce("<<"),ce("/Producer ("+Gt(me("jsPDF "+jr.version))+")"),at)at.hasOwnProperty(je)&&at[je]&&ce("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Gt(me(at[je]))+")");ce("/CreationDate ("+Gt(me(A))+")"),ce(">>"),ce("endobj")},Yr=d.__private__.putCatalog=function(ee){var me=(ee=ee||{}).rootDictionaryObjId||Lt;switch(ze(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+me+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Re;je.substr(je.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+V(Re)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Fe&&ce("/PageMode /"+Fe),sr.publish("putCatalog"),ce(">>"),ce("endobj")},Jr=d.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(H+1)),ce("/Root "+H+" 0 R"),ce("/Info "+(H-1)+" 0 R"),u!==null&&ce("/Encrypt "+An.oid+" 0 R"),ce("/ID [ <"+S+"> <"+S+"> ]"),ce(">>")},Fr=d.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},En=d.__private__.putXRef=function(){var ee="0000000000";ce("xref"),ce("0 "+(H+1)),ce("0000000000 65535 f ");for(var me=1;me<=H;me++)typeof J[me]=="function"?ce((ee+J[me]()).slice(-10)+" 00000 n "):J[me]!==void 0?ce((ee+J[me]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},kn=d.__private__.buildDocument=function(){var ee;H=0,B=0,z=[],J=[],Q=[],Lt=et(),dr=et(),ve(z),sr.publish("buildDocument"),Fr(),pn(),(function(){sr.publish("putAdditionalObjects");for(var je=0;je<Q.length;je++){var De=Q[je];Et(De.objId,!0),ce(De.content),ce("endobj")}sr.publish("postPutAdditionalObjects")})(),ee=[],(function(){for(var je in st)st.hasOwnProperty(je)&&(f===!1||f===!0&&h.hasOwnProperty(je))&&on(st[je])})(),(function(){var je;for(je in zt)zt.hasOwnProperty(je)&&Ae(zt[je])})(),(function(){for(var je in jt)jt.hasOwnProperty(je)&&Ln(jt[je])})(),(function(je){var De;for(De in dt)dt.hasOwnProperty(De)&&(dt[De]instanceof Xu?In(dt[De]):dt[De]instanceof nh&&Wn(dt[De],je))})(ee),sr.publish("putResources"),ee.forEach($e),$e({resourcesOid:dr,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources"),u!==null&&(An.oid=ze(),ce("<<"),ce("/Filter /Standard"),ce("/V "+An.v),ce("/R "+An.r),ce("/U <"+An.toHexString(An.U)+">"),ce("/O <"+An.toHexString(An.O)+">"),ce("/P "+An.P),ce(">>"),ce("endobj")),Rr(),Yr();var me=B;return En(),Jr(),ce("startxref"),ce(""+me),ce("%%EOF"),ve(oe[K]),z.join(`
`)},Hr=d.__private__.getBlob=function(ee){return new Blob([fe(ee)],{type:"application/pdf"})},Ls=d.output=d.__private__.output=(Le=function(ee,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",ee){case void 0:return kn();case"save":d.save(me.filename);break;case"arraybuffer":return fe(kn());case"blob":return Hr(kn());case"bloburi":case"bloburl":if(Qr.URL!==void 0&&typeof Qr.URL.createObjectURL=="function")return Qr.URL&&Qr.URL.createObjectURL(Hr(kn()))||void 0;ds.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",De=kn();try{je=$x(De)}catch{je=$x(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+me.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qr)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(We=me.pdfObjectUrl,ht="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",or=Qr.open();return or!==null&&or.document.write(Ct),or}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qr)==="[object Window]"){var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',Dr=Qr.open();if(Dr!==null){Dr.document.write(gr);var kr=this;Dr.document.documentElement.querySelector("#pdfViewer").onload=function(){Dr.document.title=me.filename,Dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return Dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',ts=Qr.open();if(ts!==null&&(ts.document.write(mn),ts.document.title=me.filename),ts||typeof safari>"u")return ts;break;case"datauri":case"dataurl":return Qr.document.location.href=this.output("datauristring",me);default:return null}},Le.foo=function(){try{return Le.apply(this,arguments)}catch(je){var ee=je.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var me="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+je.message;if(!Qr.console)throw new Error(me);Qr.console.error(me,je),Qr.alert&&alert(me)}},Le.foo.bar=Le,Le.foo),ls=function(ee){return Array.isArray(Dt)===!0&&Dt.indexOf(ee)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=ls("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var An=null;D(),N();var Ds=d.__private__.getPageInfo=d.getPageInfo=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[ee].objId,pageNumber:ee,pageContext:_t[ee]}},ln=d.__private__.getPageInfoByObjId=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in _t)if(_t[me].objId===ee)break;return Ds(me)},rn=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:_t[K].objId,pageNumber:K,pageContext:_t[K]}};d.addPage=function(){return Ft.apply(this,arguments),this},d.setPage=function(){return Pr.apply(this,arguments),ve.call(this,oe[K]),this},d.insertPage=function(ee){return this.addPage(),this.movePage(K,ee),this},d.movePage=function(ee,me){var je,De;if(ee>me){je=oe[ee],De=_t[ee];for(var We=ee;We>me;We--)oe[We]=oe[We-1],_t[We]=_t[We-1];oe[me]=je,_t[me]=De,this.setPage(me)}else if(ee<me){je=oe[ee],De=_t[ee];for(var ht=ee;ht<me;ht++)oe[ht]=oe[ht+1],_t[ht]=_t[ht+1];oe[me]=je,_t[me]=De,this.setPage(me)}return this},d.deletePage=function(){return Gr.apply(this,arguments),this},d.__private__.text=d.text=function(ee,me,je,De,We){var ht,Ct,or,gr,Dr,kr,mn,ts,Gn,W=(De=De||{}).scope||this;if(typeof ee=="number"&&typeof me=="number"&&(typeof je=="string"||Array.isArray(je))){var se=je;je=me,me=ee,ee=se}if(arguments[3]instanceof bt==0?(or=arguments[4],gr=arguments[5],Jn(mn=arguments[3])==="object"&&mn!==null||(typeof or=="string"&&(gr=or,or=null),typeof mn=="string"&&(gr=mn,mn=null),typeof mn=="number"&&(or=mn,mn=null),De={flags:mn,angle:or,align:gr})):(M("The transform parameter of text() with a Matrix value"),Gn=We),isNaN(me)||isNaN(je)||ee==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ee.length===0)return W;var ue,Ne="",Ge=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Es,rt=W.internal.scaleFactor;function Vt(Pn){return Pn=Pn.split("	").join(Array(De.TabLen||9).join(" ")),Gt(Pn,mn)}function Wr(Pn){for(var zn,xs=Pn.concat(),zs=[],to=xs.length;to--;)typeof(zn=xs.shift())=="string"?zs.push(zn):Array.isArray(Pn)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?zs.push(zn[0]):zs.push([zn[0],zn[1],zn[2]]);return zs}function rs(Pn,zn){var xs;if(typeof Pn=="string")xs=zn(Pn)[0];else if(Array.isArray(Pn)){for(var zs,to,Eu=Pn.concat(),Rc=[],zo=Eu.length;zo--;)typeof(zs=Eu.shift())=="string"?Rc.push(zn(zs)[0]):Array.isArray(zs)&&typeof zs[0]=="string"&&(to=zn(zs[0],zs[1],zs[2]),Rc.push([to[0],to[1],to[2]]));xs=Rc}return xs}var gn=!1,ns=!0;if(typeof ee=="string")gn=!0;else if(Array.isArray(ee)){var Qs=ee.concat();Ct=[];for(var Ti,ss=Qs.length;ss--;)(typeof(Ti=Qs.shift())!="string"||Array.isArray(Ti)&&typeof Ti[0]!="string")&&(ns=!1);gn=ns}if(gn===!1)throw new Error('Type of text must be string or Array. "'+ee+'" is not recognized.');typeof ee=="string"&&(ee=ee.match(/[\r?\n]/)?ee.split(/\r\n|\r|\n/g):[ee]);var ji=ye/W.internal.scaleFactor,Oa=ji*(Ge-1);switch(De.baseline){case"bottom":je-=Oa;break;case"top":je+=ji-Oa;break;case"hanging":je+=ji-2*Oa;break;case"middle":je+=ji/2-Oa}if((kr=De.maxWidth||0)>0&&(typeof ee=="string"?ee=W.splitTextToSize(ee,kr):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Pn,zn){return Pn.concat(W.splitTextToSize(zn,kr))},[]))),ht={text:ee,x:me,y:je,options:De,mutex:{pdfEscape:Gt,activeFontKey:Je,fonts:st,activeFontSize:ye}},sr.publish("preProcessText",ht),ee=ht.text,or=(De=ht.options).angle,Gn instanceof bt==0&&or&&typeof or=="number"){or*=Math.PI/180,De.rotationDirection===0&&(or=-or),T===_&&(or=-or);var Lo=Math.cos(or),ku=Math.sin(or);Gn=new bt(Lo,ku,-ku,Lo,0,0)}else or&&or instanceof bt&&(Gn=or);T!==_||Gn||(Gn=Ir),(Dr=De.charSpace||wi)!==void 0&&(Ne+=P(E(Dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ts=De.horizontalScale)!==void 0&&(Ne+=P(100*ts)+` Tz
`),De.lang;var Vi=-1,Ja=De.renderingMode!==void 0?De.renderingMode:De.stroke,wo=W.internal.getCurrentPageInfo().pageContext;switch(Ja){case 0:case!1:case"fill":Vi=0;break;case 1:case!0:case"stroke":Vi=1;break;case 2:case"fillThenStroke":Vi=2;break;case 3:case"invisible":Vi=3;break;case 4:case"fillAndAddForClipping":Vi=4;break;case 5:case"strokeAndAddPathForClipping":Vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vi=6;break;case 7:case"addToPathForClipping":Vi=7}var xd=wo.usedRenderingMode!==void 0?wo.usedRenderingMode:-1;Vi!==-1?Ne+=Vi+` Tr
`:xd!==-1&&(Ne+=`0 Tr
`),Vi!==-1&&(wo.usedRenderingMode=Vi),gr=De.align||"left";var va,fl=ye*Ge,Tc=W.internal.pageSize.getWidth(),jc=st[Je];Dr=De.charSpace||wi,kr=De.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Do=[],La=function(Pn){return W.getStringUnitWidth(Pn,{font:jc,charSpace:Dr,fontSize:ye,doKerning:!1})*ye/rt};if(Object.prototype.toString.call(ee)==="[object Array]"){var ba;Ct=Wr(ee),gr!=="left"&&(va=Ct.map(La));var wa,pl=0;if(gr==="right"){me-=va[0],ee=[],ss=Ct.length;for(var xo=0;xo<ss;xo++)xo===0?(wa=Ys(me),ba=Ra(je)):(wa=E(pl-va[xo]),ba=-fl),ee.push([Ct[xo],wa,ba]),pl=va[xo]}else if(gr==="center"){me-=va[0]/2,ee=[],ss=Ct.length;for(var Fo=0;Fo<ss;Fo++)Fo===0?(wa=Ys(me),ba=Ra(je)):(wa=E((pl-va[Fo])/2),ba=-fl),ee.push([Ct[Fo],wa,ba]),pl=va[Fo]}else if(gr==="left"){ee=[],ss=Ct.length;for(var Bo=0;Bo<ss;Bo++)ee.push(Ct[Bo])}else if(gr==="justify"&&jc.encoding==="Identity-H"){ee=[],ss=Ct.length,kr=kr!==0?kr:Tc;for(var _o=0,As=0;As<ss;As++)if(ba=As===0?Ra(je):-fl,wa=As===0?Ys(me):_o,As<ss-1){var Wl=E((kr-va[As])/(Ct[As].split(" ").length-1)),So=Ct[As].split(" ");ee.push([So[0]+" ",wa,ba]),_o=0;for(var eo=1;eo<So.length;eo++){var Gl=(La(So[eo-1]+" "+So[eo])-La(So[eo]))*rt+Wl;eo==So.length-1?ee.push([So[eo],Gl,0]):ee.push([So[eo]+" ",Gl,0]),_o-=Gl}}else ee.push([Ct[As],wa,ba]);ee.push(["",_o,0])}else{if(gr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ee=[],ss=Ct.length,kr=kr!==0?kr:Tc,As=0;As<ss;As++){ba=As===0?Ra(je):-fl,wa=As===0?Ys(me):0;var Kl=Ct[As].split(" ").length-1,Ic=Kl>0?(kr-va[As])/Kl:0;As<ss-1?Do.push(P(E(Ic))):Do.push(0),ee.push([Ct[As],wa,ba])}}}(typeof De.R2L=="boolean"?De.R2L:Oe)===!0&&(ee=rs(ee,function(Pn,zn,xs){return[Pn.split("").reverse().join(""),zn,xs]})),ht={text:ee,x:me,y:je,options:De,mutex:{pdfEscape:Gt,activeFontKey:Je,fonts:st,activeFontSize:ye}},sr.publish("postProcessText",ht),ee=ht.text,ue=ht.mutex.isHex||!1;var Pc=st[Je].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(ee=rs(ee,function(Pn,zn,xs){return[Vt(Pn),zn,xs]})),Ct=Wr(ee),ee=[];for(var Vo,ml,gl,Xl=Array.isArray(Ct[0])?1:0,yl="",Yl=function(Pn,zn,xs){var zs="";return xs instanceof bt?(xs=typeof De.angle=="number"?Ar(xs,new bt(1,0,0,1,Pn,zn)):Ar(new bt(1,0,0,1,Pn,zn),xs),T===_&&(xs=Ar(new bt(1,0,0,-1,0,0),xs)),zs=xs.join(" ")+` Tm
`):zs=P(Pn)+" "+P(zn)+` Td
`,zs},ws=0;ws<Ct.length;ws++){switch(yl="",Xl){case 1:gl=(ue?"<":"(")+Ct[ws][0]+(ue?">":")"),Vo=parseFloat(Ct[ws][1]),ml=parseFloat(Ct[ws][2]);break;case 0:gl=(ue?"<":"(")+Ct[ws]+(ue?">":")"),Vo=Ys(me),ml=Ra(je)}Do!==void 0&&Do[ws]!==void 0&&(yl=Do[ws]+` Tw
`),ws===0?ee.push(yl+Yl(Vo,ml,Gn)+gl):Xl===0?ee.push(yl+gl):Xl===1&&ee.push(yl+Yl(Vo,ml,Gn)+gl)}ee=Xl===0?ee.join(` Tj
T* `):ee.join(` Tj
`),ee+=` Tj
`;var Qi=`BT
/`;return Qi+=Je+" "+ye+` Tf
`,Qi+=P(ye*Ge)+` TL
`,Qi+=Yi+`
`,Qi+=Ne,Qi+=ee,ce(Qi+="ET"),h[Je]=!0,W};var ci=d.__private__.clip=d.clip=function(ee){return ce(ee==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return ci("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ce("n"),this};var Fs=d.__private__.isValidStyle=function(ee){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ee)!==-1&&(me=!0),me};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(ee){return Fs(ee)&&(a=ee),this};var ma=d.__private__.getStyle=d.getStyle=function(ee){var me=a;switch(ee){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=ee}return me},Or=d.close=function(){return ce("h"),this};d.stroke=function(){return ce("S"),this},d.fill=function(ee){return cs("f",ee),this},d.fillEvenOdd=function(ee){return cs("f*",ee),this},d.fillStroke=function(ee){return cs("B",ee),this},d.fillStrokeEvenOdd=function(ee){return cs("B*",ee),this};var cs=function(ee,me){Jn(me)==="object"?Ia(me,ee):ce(ee)},Bs=function(ee){ee===null||T===_&&ee===void 0||(ee=ma(ee),ce(ee))};function Ki(ee,me,je,De,We){var ht=new nh(me||this.boundingBox,je||this.xStep,De||this.yStep,this.gState,We||this.matrix);ht.stream=this.stream;var Ct=ee+"$$"+this.cloneIndex+++"$$";return Kt(Ct,ht),ht}var Ia=function(ee,me){var je=Yt[ee.key],De=dt[je];if(De instanceof Xu)ce("q"),ce(Xi(me)),De.gState&&d.setGState(De.gState),ce(ee.matrix.toString()+" cm"),ce("/"+je+" sh"),ce("Q");else if(De instanceof nh){var We=new bt(1,0,0,-1,0,Ai());ee.matrix&&(We=We.multiply(ee.matrix||Ir),je=Ki.call(De,ee.key,ee.boundingBox,ee.xStep,ee.yStep,We).id),ce("q"),ce("/Pattern cs"),ce("/"+je+" scn"),De.gState&&d.setGState(De.gState),ce(me),ce("Q")}},Xi=function(ee){switch(ee){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ui=d.moveTo=function(ee,me){return ce(P(E(ee))+" "+P(L(me))+" m"),this},ki=d.lineTo=function(ee,me){return ce(P(E(ee))+" "+P(L(me))+" l"),this},ks=d.curveTo=function(ee,me,je,De,We,ht){return ce([P(E(ee)),P(L(me)),P(E(je)),P(L(De)),P(E(We)),P(L(ht)),"c"].join(" ")),this};d.__private__.line=d.line=function(ee,me,je,De,We){if(isNaN(ee)||isNaN(me)||isNaN(je)||isNaN(De)||!Fs(We))throw new Error("Invalid arguments passed to jsPDF.line");return T===v?this.lines([[je-ee,De-me]],ee,me,[1,1],We||"S"):this.lines([[je-ee,De-me]],ee,me,[1,1]).stroke()},d.__private__.lines=d.lines=function(ee,me,je,De,We,ht){var Ct,or,gr,Dr,kr,mn,ts,Gn,W,se,ue,Ne;if(typeof ee=="number"&&(Ne=je,je=me,me=ee,ee=Ne),De=De||[1,1],ht=ht||!1,isNaN(me)||isNaN(je)||!Array.isArray(ee)||!Array.isArray(De)||!Fs(We)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ui(me,je),Ct=De[0],or=De[1],Dr=ee.length,se=me,ue=je,gr=0;gr<Dr;gr++)(kr=ee[gr]).length===2?(se=kr[0]*Ct+se,ue=kr[1]*or+ue,ki(se,ue)):(mn=kr[0]*Ct+se,ts=kr[1]*or+ue,Gn=kr[2]*Ct+se,W=kr[3]*or+ue,se=kr[4]*Ct+se,ue=kr[5]*or+ue,ks(mn,ts,Gn,W,se,ue));return ht&&Or(),Bs(We),this},d.path=function(ee){for(var me=0;me<ee.length;me++){var je=ee[me],De=je.c;switch(je.op){case"m":ui(De[0],De[1]);break;case"l":ki(De[0],De[1]);break;case"c":ks.apply(this,De);break;case"h":Or()}}return this},d.__private__.rect=d.rect=function(ee,me,je,De,We){if(isNaN(ee)||isNaN(me)||isNaN(je)||isNaN(De)||!Fs(We))throw new Error("Invalid arguments passed to jsPDF.rect");return T===v&&(De=-De),ce([P(E(ee)),P(L(me)),P(E(je)),P(E(De)),"re"].join(" ")),Bs(We),this},d.__private__.triangle=d.triangle=function(ee,me,je,De,We,ht,Ct){if(isNaN(ee)||isNaN(me)||isNaN(je)||isNaN(De)||isNaN(We)||isNaN(ht)||!Fs(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-ee,De-me],[We-je,ht-De],[ee-We,me-ht]],ee,me,[1,1],Ct,!0),this},d.__private__.roundedRect=d.roundedRect=function(ee,me,je,De,We,ht,Ct){if(isNaN(ee)||isNaN(me)||isNaN(je)||isNaN(De)||isNaN(We)||isNaN(ht)||!Fs(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var or=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*je),ht=Math.min(ht,.5*De),this.lines([[je-2*We,0],[We*or,0,We,ht-ht*or,We,ht],[0,De-2*ht],[0,ht*or,-We*or,ht,-We,ht],[2*We-je,0],[-We*or,0,-We,-ht*or,-We,-ht],[0,2*ht-De],[0,-ht*or,We*or,-ht,We,-ht]],ee+We,me,[1,1],Ct,!0),this},d.__private__.ellipse=d.ellipse=function(ee,me,je,De,We){if(isNaN(ee)||isNaN(me)||isNaN(je)||isNaN(De)||!Fs(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*je,Ct=4/3*(Math.SQRT2-1)*De;return ui(ee+je,me),ks(ee+je,me-Ct,ee+ht,me-De,ee,me-De),ks(ee-ht,me-De,ee-je,me-Ct,ee-je,me),ks(ee-je,me+Ct,ee-ht,me+De,ee,me+De),ks(ee+ht,me+De,ee+je,me+Ct,ee+je,me),Bs(We),this},d.__private__.circle=d.circle=function(ee,me,je,De){if(isNaN(ee)||isNaN(me)||isNaN(je)||!Fs(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ee,me,je,je,De)},d.setFont=function(ee,me,je){return je&&(me=$(me,je)),Je=wr(ee,me,{disableWarning:!1}),this};var Ei=d.__private__.getFont=d.getFont=function(){return st[wr.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var ee,me,je={};for(ee in mt)if(mt.hasOwnProperty(ee))for(me in je[ee]=[],mt[ee])mt[ee].hasOwnProperty(me)&&je[ee].push(me);return je},d.addFont=function(ee,me,je,De,We){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(je=$(je,De)),Nt.call(this,ee,me,je,We=We||"Identity-H")};var Es,es=r.lineWidth||.200025,Pa=d.__private__.getLineWidth=d.getLineWidth=function(){return es},Cr=d.__private__.setLineWidth=d.setLineWidth=function(ee){return es=ee,ce(P(E(ee))+" w"),this};d.__private__.setLineDash=jr.API.setLineDash=jr.API.setLineDashPattern=function(ee,me){if(ee=ee||[],me=me||0,isNaN(me)||!Array.isArray(ee))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ee=ee.map(function(je){return P(E(je))}).join(" "),me=P(E(me)),ce("["+ee+"] "+me+" d"),this};var Vs=d.__private__.getLineHeight=d.getLineHeight=function(){return ye*Es};d.__private__.getLineHeight=d.getLineHeight=function(){return ye*Es};var Ac=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(ee){return typeof(ee=ee||1.15)=="number"&&(Es=ee),this},mo=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Es};Ac(r.lineHeight);var Ys=d.__private__.getHorizontalCoordinate=function(ee){return E(ee)},Ra=d.__private__.getVerticalCoordinate=function(ee){return T===_?ee:_t[K].mediaBox.topRightY-_t[K].mediaBox.bottomLeftY-E(ee)},ul=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(ee){return P(Ys(ee))},Fn=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(ee){return P(Ra(ee))},Oo=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ir(Oo)},d.__private__.setStrokeColor=d.setDrawColor=function(ee,me,je,De){return Oo=Wt({ch1:ee,ch2:me,ch3:je,ch4:De,pdfColorType:"draw",precision:2}),ce(Oo),this};var ql=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ir(ql)},d.__private__.setFillColor=d.setFillColor=function(ee,me,je,De){return ql=Wt({ch1:ee,ch2:me,ch3:je,ch4:De,pdfColorType:"fill",precision:2}),ce(ql),this};var Yi=r.textColor||"0 g",go=d.__private__.getTextColor=d.getTextColor=function(){return ir(Yi)};d.__private__.setTextColor=d.setTextColor=function(ee,me,je,De){return Yi=Wt({ch1:ee,ch2:me,ch3:je,ch4:De,pdfColorType:"text",precision:3}),this};var wi=r.charSpace,Za=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(wi||0)};d.__private__.setCharSpace=d.setCharSpace=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wi=ee,this};var Zi=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(ee){var me=d.CapJoinStyles[ee];if(me===void 0)throw new Error("Line cap style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zi=me,ce(me+" J"),this};var dl=0;d.__private__.setLineJoin=d.setLineJoin=function(ee){var me=d.CapJoinStyles[ee];if(me===void 0)throw new Error("Line join style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dl=me,ce(me+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(ee){if(ee=ee||0,isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(P(E(ee))+" M"),this},d.GState=x0,d.setGState=function(ee){(ee=typeof ee=="string"?zt[St[ee]]:hl(null,ee)).equals(nr)||(ce("/"+ee.id+" gs"),nr=ee)};var hl=function(ee,me){if(!ee||!St[ee]){var je=!1;for(var De in zt)if(zt.hasOwnProperty(De)&&zt[De].equals(me)){je=!0;break}if(je)me=zt[De];else{var We="GS"+(Object.keys(zt).length+1).toString(10);zt[We]=me,me.id=We}return ee&&(St[ee]=me.id),sr.publish("addGState",me),me}};d.addGState=function(ee,me){return hl(ee,me),this},d.saveGraphicsState=function(){return ce("q"),At.push({key:Je,size:ye,color:Yi}),this},d.restoreGraphicsState=function(){ce("Q");var ee=At.pop();return Je=ee.key,ye=ee.size,Yi=ee.color,nr=null,this},d.setCurrentTransformationMatrix=function(ee){return ce(ee.toString()+" cm"),this},d.comment=function(ee){return ce("#"+ee),this};var di=function(ee,me){var je=ee||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(ht){isNaN(ht)||(je=parseFloat(ht))}});var De=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(ht){isNaN(ht)||(De=parseFloat(ht))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(ht){We=ht.toString()}}),this},yo=function(ee,me,je,De){di.call(this,ee,me),this.type="rect";var We=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(Ct){isNaN(Ct)||(We=parseFloat(Ct))}});var ht=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(Ct){isNaN(Ct)||(ht=parseFloat(Ct))}}),this},Qa=function(){this.page=Tt,this.currentPage=K,this.pages=oe.slice(0),this.pagesContext=_t.slice(0),this.x=ut,this.y=Ut,this.matrix=ft,this.width=ga(K),this.height=vo(K),this.outputDestination=de,this.id="",this.objectNumber=-1};Qa.prototype.restore=function(){Tt=this.page,K=this.currentPage,_t=this.pagesContext,oe=this.pages,ut=this.x,Ut=this.y,ft=this.matrix,Hl(K,this.width),hi(K,this.height),de=this.outputDestination};var xi=function(ee,me,je,De,We){br.push(new Qa),Tt=K=0,oe=[],ut=ee,Ut=me,ft=We,Pt([je,De])};for(var Ma in d.beginFormObject=function(ee,me,je,De,We){return xi(ee,me,je,De,We),this},d.endFormObject=function(ee){return(function(me){if(Zt[me])br.pop().restore();else{var je=new Qa,De="Xo"+(Object.keys(jt).length+1).toString(10);je.id=De,Zt[me]=De,jt[De]=je,sr.publish("addFormObject",je),br.pop().restore()}})(ee),this},d.doFormObject=function(ee,me){var je=jt[Zt[ee]];return ce("q"),ce(me.toString()+" cm"),ce("/"+je.id+" Do"),ce("Q"),this},d.getFormObject=function(ee){var me=jt[Zt[ee]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},d.save=function(ee,me){return ee=ee||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?(Ku(Hr(kn()),ee),typeof Ku.unload=="function"&&Qr.setTimeout&&setTimeout(Ku.unload,911),this):new Promise(function(je,De){try{var We=Ku(Hr(kn()),ee);typeof Ku.unload=="function"&&Qr.setTimeout&&setTimeout(Ku.unload,911),je(We)}catch(ht){De(ht.message)}})},jr.API)jr.API.hasOwnProperty(Ma)&&(Ma==="events"&&jr.API.events.length?(function(ee,me){var je,De,We;for(We=me.length-1;We!==-1;We--)je=me[We][0],De=me[We][1],ee.subscribe.apply(ee,[je].concat(typeof De=="function"?[De]:De))})(sr,jr.API.events):d[Ma]=jr.API[Ma]);function ga(ee){return _t[ee].mediaBox.topRightX-_t[ee].mediaBox.bottomLeftX}function Hl(ee,me){_t[ee].mediaBox.topRightX=me+_t[ee].mediaBox.bottomLeftX}function vo(ee){return _t[ee].mediaBox.topRightY-_t[ee].mediaBox.bottomLeftY}function hi(ee,me){_t[ee].mediaBox.topRightY=me+_t[ee].mediaBox.bottomLeftY}var ya=d.getPageWidth=function(ee){return ga(ee=ee||K)/lt},Zs=d.setPageWidth=function(ee,me){Hl(ee,me*lt)},Ai=d.getPageHeight=function(ee){return vo(ee=ee||K)/lt},bo=d.setPageHeight=function(ee,me){hi(ee,me*lt)};return d.internal={pdfEscape:Gt,getStyle:ma,getFont:Ei,getFontSize:Ie,getCharSpace:Za,getTextColor:go,getLineHeight:Vs,getLineHeightFactor:mo,getLineWidth:Pa,write:he,getHorizontalCoordinate:Ys,getVerticalCoordinate:Ra,getCoordinateString:ul,getVerticalCoordinateString:Fn,collections:{},newObject:ze,newAdditionalObject:er,newObjectDeferred:et,newObjectDeferredBegin:Et,getFilters:mr,putStream:hr,events:sr,scaleFactor:lt,pageSize:{getWidth:function(){return ya(K)},setWidth:function(ee){Zs(K,ee)},getHeight:function(){return Ai(K)},setHeight:function(ee){bo(K,ee)}},encryptionOptions:u,encryption:An,getEncryptor:function(ee){return u!==null?An.encryptor(ee,0):function(me){return me}},output:Ls,getNumberOfPages:Tr,get pages(){return oe},out:ce,f2:V,f3:I,getPageInfo:Ds,getPageInfoByObjId:ln,getCurrentPageInfo:rn,getPDFVersion:g,Point:di,Rectangle:yo,Matrix:bt,hasHotfix:ls},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return ya(K)},set:function(ee){Zs(K,ee)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ai(K)},set:function(ee){bo(K,ee)},enumerable:!0,configurable:!0}),(function(ee){for(var me=0,je=ke.length;me<je;me++){var De=Nt.call(this,ee[me][0],ee[me][1],ee[me][2],ke[me][3],!0);f===!1&&(h[De]=!0);var We=ee[me][0].split("-");pt({id:De,fontName:We[0],fontStyle:We[1]||""})}sr.publish("addFonts",{fonts:st,dictionary:mt})}).call(d,ke),Je="F1",Ft(i,e),sr.publish("initialized"),d}th.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},th.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},th.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},th.prototype.processOwnerPassword=function(r,t){return Z2(Y2(t).substr(0,5),r)},th.prototype.encryptor=function(r,t){var e=Y2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Z2(e,n)}},x0.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Jn(r)!==Jn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},jr.API={events:[]},jr.version="3.0.4";var Gs=jr.API,kv=1,wd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xd=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(r){return r.toFixed(2)},ru=function(r){return r.toFixed(5)};Gs.__acroform__={};var Ya=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},Gx=function(r){return r*kv},Cl=function(r){var t=new S7,e=vr.internal.getHeight(r)||0,n=vr.internal.getWidth(r)||0;return t.BBox=[0,0,Number(sn(n)),Number(sn(e))],t},uV=Gs.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},dV=Gs.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},hV=Gs.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},ni=Gs.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hV(r,t-1)},si=Gs.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uV(r,t-1)},ii=Gs.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dV(r,t-1)},fV=Gs.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=r[0],s=r[1],o=r[2],l=r[3],c={};return c.lowerLeft_X=e(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=e(i+o)||0,c.upperRight_Y=n(s)||0,[Number(sn(c.lowerLeft_X)),Number(sn(c.lowerLeft_Y)),Number(sn(c.upperRight_X)),Number(sn(c.upperRight_Y))]},pV=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=Q2(r,e),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+i+" "+sn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Cl(r);return s.scope=r.scope,s.stream=t.join(`
`),s}},Q2=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=r.multiline?i.map(function(V){return V.split(`
`)}):i.map(function(V){return[V]});var s=e,o=vr.internal.getHeight(r)||0;o=o<0?-o:o;var l=vr.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(V,I,E){if(V+1<i.length){var L=I+" "+i[V+1][0];return Cm(L,r,E).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var a,u,f=Cm("3",r,s).height,h=r.multiline?o-s:(o-f)/2,d=h+=2,y=0,g=0,p=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Cm(t,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",v=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var T=!1;if(i[_].length!==1&&p!==i[_].length-1){if((f+2)*(v+2)+2>o)continue e;w+=i[_][p],T=!0,g=_,_--}else{w=(w+=i[_][p]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(_),G=c(F,w,s),$=_>=i.length-1;if(G&&!$){w+=" ",p=0;continue}if(G||$){if($)g=F;else if(r.multiline&&(f+2)*(v+2)+2>o)continue e}else{if(!r.multiline||(f+2)*(v+2)+2>o)continue e;g=F}}for(var P="",M=y;M<=g;M++){var U=i[M];if(r.multiline){if(M===g){P+=U[p]+" ",p=(p+1)%U.length;continue}if(M===y){P+=U[U.length-1]+" ";continue}}P+=U[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=Cm(P,r,s).width,r.textAlign){case"right":a=l-u-2;break;case"center":a=(l-u)/2;break;default:a=2}t+=sn(a)+" "+sn(d)+` Td
`,t+="("+wd(P)+`) Tj
`,t+=-sn(a)+` 0 Td
`,d=-(s+2),u=0,y=T?g:g+1,v++,w=""}break}return n.text=t,n.fontSize=s,n},Cm=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},mV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gV=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},yV=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ll.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(mV)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kv=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new N7,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&gV(s,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],a=l.Rect;if(l.Rect&&(l.Rect=fV(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vr.createDefaultAppearanceStream(l),Jn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=a,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=pV(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var d=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var y=d[o];typeof y=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&(function(g,p){for(var w in g)if(g.hasOwnProperty(w)){var v=w,_=g[w];p.internal.newObjectDeferredBegin(_.objId,!0),Jn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[v]}})(i.internal.acroformPlugin.xForms,i)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},_7=Gs.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(o){return o};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Jn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+wd(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z1=function(r,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+wd(n(r))+")"},jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jl.prototype.toString=function(){return this.objId+" 0 R"},jl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},jl.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:_7(i,this.objId,this.scope)}):i instanceof jl?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var S7=function(){jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};Ya(S7,jl);var N7=function(){jl.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+wd(e(r))+")"}},set:function(e){r=e}})};Ya(N7,jl);var ll=function r(){jl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(t,3)},set:function(w){w?this.F=si(t,3):this.F=ii(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');e=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _0)return;s="FieldObject"+r.FieldNum++}var w=function(v){return v};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+wd(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var a=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return a===void 0?50/kv:a},set:function(w){a=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof _0||this instanceof ed))return z1(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fi==0?z1(h,this.objId,this.scope):h},set:function(w){w=w.toString(),h=this instanceof Fi==0?w.substr(0,1)==="("?Xd(w.substr(1,w.length-2)):Xd(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Xd(h.substr(1,h.length-1)):h},set:function(w){w=w.toString(),h=this instanceof Fi==1?"/"+w:w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Fi==0?z1(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof Fi==0?w.substr(0,1)==="("?Xd(w.substr(1,w.length-2)):Xd(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Xd(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof Fi==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(w){w?this.Ff=si(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(w){w?this.Ff=si(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(w){w?this.Ff=si(this.Ff,3):this.Ff=ii(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');p=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(p){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};Ya(ll,jl);var dh=function(){ll.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _7(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=(function(s,o,l){l||(l=1);for(var c,a=[];c=o.exec(s);)a.push(c[l]);return a})(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(e){e?this.Ff=si(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=si(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(e){e?(this.Ff=si(this.Ff,20),t.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(e){e?this.Ff=si(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(e){e?this.Ff=si(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(e){e?this.Ff=si(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(dh,ll);var hh=function(){dh.call(this),this.fontName="helvetica",this.combo=!1};Ya(hh,dh);var fh=function(){hh.call(this),this.combo=!0};Ya(fh,hh);var Vm=function(){fh.call(this),this.edit=!0};Ya(Vm,fh);var Fi=function(){ll.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(e){e?this.Ff=si(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(e){e?this.Ff=si(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(e){e?this.Ff=si(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(e){e?this.Ff=si(this.Ff,26):this.Ff=ii(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+wd(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Jn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};Ya(Fi,ll);var zm=function(){Fi.call(this),this.pushButton=!0};Ya(zm,Fi);var ph=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};Ya(ph,Fi);var _0=function(){var r,t;ll.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+wd(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Jn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(_0,ll),ph.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},ph.prototype.createOption=function(r){var t=new _0;return t.Parent=this,t.optionName=r,this.Kids.push(t),vV.call(this.scope,t),t};var Um=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vr.CheckBox.createAppearanceStream()};Ya(Um,Fi);var ed=function(){ll.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(t){t?this.Ff=si(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(t){t?this.Ff=si(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=si(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(t){t?this.Ff=si(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(t){t?this.Ff=si(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=si(this.Ff,26):this.Ff=ii(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(ed,ll);var $m=function(){ed.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(r){r?this.Ff=si(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};Ya($m,ed);var vr={CheckBox:{createAppearanceStream:function(){return{N:{On:vr.CheckBox.YesNormal},D:{On:vr.CheckBox.YesPushDown,Off:vr.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=Q2(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+sn(vr.internal.getWidth(r))+" "+sn(vr.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+sn(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=Cl(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=vr.internal.getHeight(r),o=vr.internal.getWidth(r),l=Q2(r,r.caption);return i.push("1 g"),i.push("0 0 "+sn(o)+" "+sn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sn(o-1)+" "+sn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+sn(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+sn(vr.internal.getWidth(r))+" "+sn(vr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:vr.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=vr.RadioButton.Circle.YesNormal,t.D[r]=vr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=Cl(r);t.scope=r.scope;var e=[],n=vr.internal.getWidth(r)<=vr.internal.getHeight(r)?vr.internal.getWidth(r)/4:vr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=vr.internal.Bezier_C,s=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+ru(vr.internal.getWidth(r)/2)+" "+ru(vr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=[],n=vr.internal.getWidth(r)<=vr.internal.getHeight(r)?vr.internal.getWidth(r)/4:vr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*vr.internal.Bezier_C).toFixed(5)),o=Number((n*vr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ru(vr.internal.getWidth(r)/2)+" "+ru(vr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+ru(vr.internal.getWidth(r)/2)+" "+ru(vr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=[],n=vr.internal.getWidth(r)<=vr.internal.getHeight(r)?vr.internal.getWidth(r)/4:vr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*vr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ru(vr.internal.getWidth(r)/2)+" "+ru(vr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:vr.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=vr.RadioButton.Cross.YesNormal,t.D[r]=vr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=Cl(r);t.scope=r.scope;var e=[],n=vr.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+sn(vr.internal.getWidth(r)-2)+" "+sn(vr.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(sn(n.x1.x)+" "+sn(n.x1.y)+" m"),e.push(sn(n.x2.x)+" "+sn(n.x2.y)+" l"),e.push(sn(n.x4.x)+" "+sn(n.x4.y)+" m"),e.push(sn(n.x3.x)+" "+sn(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=vr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(vr.internal.getWidth(r))+" "+sn(vr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+sn(vr.internal.getWidth(r)-2)+" "+sn(vr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(sn(e.x1.x)+" "+sn(e.x1.y)+" m"),n.push(sn(e.x2.x)+" "+sn(e.x2.y)+" l"),n.push(sn(e.x4.x)+" "+sn(e.x4.y)+" m"),n.push(sn(e.x3.x)+" "+sn(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=Cl(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+sn(vr.internal.getWidth(r))+" "+sn(vr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};vr.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=vr.internal.getWidth(r),e=vr.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},vr.internal.getWidth=function(r){var t=0;return Jn(r)==="object"&&(t=Gx(r.Rect[2])),t},vr.internal.getHeight=function(r){var t=0;return Jn(r)==="object"&&(t=Gx(r.Rect[3])),t};var vV=Gs.addField=function(r){if(yV(this,r),!(r instanceof ll))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Gs.AcroFormChoiceField=dh,Gs.AcroFormListBox=hh,Gs.AcroFormComboBox=fh,Gs.AcroFormEditBox=Vm,Gs.AcroFormButton=Fi,Gs.AcroFormPushButton=zm,Gs.AcroFormRadioButton=ph,Gs.AcroFormCheckBox=Um,Gs.AcroFormTextField=ed,Gs.AcroFormPasswordField=$m,Gs.AcroFormAppearance=vr,Gs.AcroForm={ChoiceField:dh,ListBox:hh,ComboBox:fh,EditBox:Vm,Button:Fi,PushButton:zm,RadioButton:ph,CheckBox:Um,TextField:ed,PasswordField:$m,Appearance:vr},jr.AcroForm={ChoiceField:dh,ListBox:hh,ComboBox:fh,EditBox:Vm,Button:Fi,PushButton:zm,RadioButton:ph,CheckBox:Um,TextField:ed,PasswordField:$m,Appearance:vr};jr.AcroForm;function C7(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(V,I){var E,L,A,S,k,N=e;if((I=I||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(G(V))for(k in n)for(A=n[k],E=0;E<A.length;E+=1){for(S=!0,L=0;L<A[E].length;L+=1)if(A[E][L]!==void 0&&A[E][L]!==V[L]){S=!1;break}if(S===!0){N=k;break}}else for(k in n)for(A=n[k],E=0;E<A.length;E+=1){for(S=!0,L=0;L<A[E].length;L+=1)if(A[E][L]!==void 0&&A[E][L]!==V.charCodeAt(L)){S=!1;break}if(S===!0){N=k;break}}return N===e&&I!==e&&(N=I),N},s=function V(I){for(var E=this.internal.write,L=this.internal.putStream,A=(0,this.internal.getFilters)();A.indexOf("FlateEncode")!==-1;)A.splice(A.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var S=[];if(S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Image"}),S.push({key:"Width",value:I.width}),S.push({key:"Height",value:I.height}),I.colorSpace===w.INDEXED?S.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(S.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===w.DEVICE_CMYK&&S.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),S.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&S.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var k="",N=0,C=I.transparency.length;N<C;N++)k+=I.transparency[N]+" "+I.transparency[N]+" ";S.push({key:"Mask",value:"["+k+"]"})}I.sMask!==void 0&&S.push({key:"SMask",value:I.objectId+1+" 0 R"});var O=I.filter!==void 0?["/"+I.filter]:void 0;if(L({data:I.data,additionalKeyValues:S,alreadyAppliedFilters:O,objectId:I.objectId}),E("endobj"),"sMask"in I&&I.sMask!==void 0){var D,j=(D=I.sMaskBitsPerComponent)!==null&&D!==void 0?D:I.bitsPerComponent,K={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:I.sMask};"filter"in I&&(K.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(I.width),K.filter=I.filter),V.call(this,K)}if(I.colorSpace===w.INDEXED){var Z=this.internal.newObject();L({data:P(new Uint8Array(I.palette)),objectId:Z}),E("endobj")}},o=function(){var V=this.internal.collections[t+"images"];for(var I in V)s.call(this,V[I])},l=function(){var V,I=this.internal.collections[t+"images"],E=this.internal.write;for(var L in I)E("/I"+(V=I[L]).index,V.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},a=function(){var V=this.internal.collections[t+"images"];return c.call(this),V},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(V){return typeof r["process"+V.toUpperCase()]=="function"},h=function(V){return Jn(V)==="object"&&V.nodeType===1},d=function(V,I){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var E=""+V.getAttribute("src");if(E.indexOf("data:image/")===0)return Bm(unescape(E).split("base64,").pop());var L=r.loadFile(E,!0);if(L!==void 0)return L}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var A;switch(I){case"PNG":A="image/png";break;case"WEBP":A="image/webp";break;default:A="image/jpeg"}return Bm(V.toDataURL(A,1).split("base64,").pop())}},y=function(V){var I=this.internal.collections[t+"images"];if(I){for(var E in I)if(V===I[E].alias)return I[E]}},g=function(V,I,E){return V||I||(V=-96,I=-96),V<0&&(V=-1*E.width*72/V/this.internal.scaleFactor),I<0&&(I=-1*E.height*72/I/this.internal.scaleFactor),V===0&&(V=I*E.width/E.height),I===0&&(I=V*E.height/E.width),[V,I]},p=function(V,I,E,L,A,S){var k=g.call(this,E,L,A),N=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,O=a.call(this);if(E=k[0],L=k[1],O[A.index]=A,S){S*=Math.PI/180;var D=Math.cos(S),j=Math.sin(S),K=function(ne){return ne.toFixed(4)},Z=[K(D),K(j),K(-1*j),K(D),0,0,"cm"]}this.internal.write("q"),S?(this.internal.write([1,"0","0",1,N(V),C(I+L),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([N(E),"0","0",N(L),"0","0","cm"].join(" "))):this.internal.write([N(E),"0","0",N(L),N(V),C(I+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=r.__addimage__.sHashCode=function(V){var I,E,L=0;if(typeof V=="string")for(E=V.length,I=0;I<E;I++)L=(L<<5)-L+V.charCodeAt(I),L|=0;else if(G(V))for(E=V.byteLength/2,I=0;I<E;I++)L=(L<<5)-L+V[I],L|=0;return L},T=r.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var I=!0;return V.length===0&&(I=!1),V.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(I=!1),I},F=r.__addimage__.extractImageFromDataUrl=function(V){if(V==null||!(V=V.trim()).startsWith("data:"))return null;var I=V.indexOf(",");return I<0?null:V.substring(0,I).trim().endsWith("base64")?V.substring(I+1):null};r.__addimage__.isArrayBuffer=function(V){return V instanceof ArrayBuffer};var G=r.__addimage__.isArrayBufferView=function(V){return V instanceof Int8Array||V instanceof Uint8Array||V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array},$=r.__addimage__.binaryStringToUint8Array=function(V){for(var I=V.length,E=new Uint8Array(I),L=0;L<I;L++)E[L]=V.charCodeAt(L);return E},P=r.__addimage__.arrayBufferToBinaryString=function(V){for(var I="",E=G(V)?V:new Uint8Array(V),L=0;L<E.length;L+=8192)I+=String.fromCharCode.apply(null,E.subarray(L,L+8192));return I};r.addImage=function(){var V,I,E,L,A,S,k,N,C;if(typeof arguments[1]=="number"?(I=e,E=arguments[1],L=arguments[2],A=arguments[3],S=arguments[4],k=arguments[5],N=arguments[6],C=arguments[7]):(I=arguments[1],E=arguments[2],L=arguments[3],A=arguments[4],S=arguments[5],k=arguments[6],N=arguments[7],C=arguments[8]),Jn(V=arguments[0])==="object"&&!h(V)&&"imageData"in V){var O=V;V=O.imageData,I=O.format||I||e,E=O.x||E||0,L=O.y||L||0,A=O.w||O.width||A,S=O.h||O.height||S,k=O.alias||k,N=O.compression||N,C=O.rotation||O.angle||C}var D=this.internal.getFilters();if(N===void 0&&D.indexOf("FlateEncode")!==-1&&(N="SLOW"),isNaN(E)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var j=M.call(this,V,I,k,N);return p.call(this,E,L,A,S,j,C),this};var M=function(V,I,E,L){var A,S,k;if(typeof V=="string"&&i(V)===e){V=unescape(V);var N=U(V,!1);(N!==""||(N=r.loadFile(V,!0))!==void 0)&&(V=N)}if(h(V)&&(V=d(V,I)),I=i(V,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((k=E)==null||k.length===0)&&(E=(function(C){return typeof C=="string"||G(C)?_(C):G(C.data)?_(C.data):null})(V)),(A=y.call(this,E))||(V instanceof Uint8Array||I==="RGBA"||(S=V,V=$(V)),A=this["process"+I.toUpperCase()](V,u.call(this),E,(function(C){return C&&typeof C=="string"&&(C=C.toUpperCase()),C in r.image_compression?C:v.NONE})(L),S)),!A)throw new Error("An unknown error occurred whilst processing the image.");return A},U=r.__addimage__.convertBase64ToBinaryString=function(V,I){I=typeof I!="boolean"||I;var E,L="";if(typeof V=="string"){var A;E=(A=F(V))!==null&&A!==void 0?A:V;try{L=Bm(E)}catch(S){if(I)throw T(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+S.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};r.getImageProperties=function(V){var I,E,L="";if(h(V)&&(V=d(V)),typeof V=="string"&&i(V)===e&&((L=U(V,!1))===""&&(L=r.loadFile(V)||""),V=L),E=i(V),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(V instanceof Uint8Array||(V=$(V)),!(I=this["process"+E.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=E,I}})(jr.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};jr.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),a=e.pageContext.annotations,u=!1,f=0;f<a.length&&!u;f++)switch((n=a[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<a.length;h++){n=a[h];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),v=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+d(w(n.contents))+")",s+=" /Popup "+p.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+d(w(v))+") >>",g.content=s;var _=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(s+=" /Open true"),s+=" >>",p.content=s,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var G=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(e),y:a(n),w:c(e+i),h:a(n+s)},options:o,type:"link"})},r.textWithLink=function(e,n,i,s){var o,l,c=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var u=this.splitTextToSize(e,l).length;o=Math.ceil(a*u)}else l=c,o=a;return this.text(e,n,i,s),i+=.2*a,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-a,l,o,s),c},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}})(jr.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var a=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(g){var p=0,w=e,v="",_=0;for(p=0;p<g.length;p+=1)w[g.charCodeAt(p)]!==void 0?(_++,typeof(w=w[g.charCodeAt(p)])=="number"&&(v+=String.fromCharCode(w),w=e,_=0),p===g.length-1&&(w=e,v+=g.charAt(p-(_-1)),p-=_-1,_=0)):(w=e,v+=g.charAt(p-_),p-=_,_=0);return v};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(g,p,w){return o(g)?s(g)===!1?-1:!a(g)||!o(p)&&!o(w)||!o(w)&&l(p)||l(g)&&!o(p)||l(g)&&c(p)||l(g)&&l(p)?0:u(g)&&o(p)&&!l(p)&&o(w)&&a(w)?3:l(g)||!o(w)?1:2:-1},d=function(g){var p=0,w=0,v=0,_="",T="",F="",G=(g=g||"").split("\\s+"),$=[];for(p=0;p<G.length;p+=1){for($.push(""),w=0;w<G[p].length;w+=1)_=G[p][w],T=G[p][w-1],F=G[p][w+1],o(_)?(v=h(_,T,F),$[p]+=v!==-1?String.fromCharCode(t[_.charCodeAt(0)][v]):_):$[p]+=_;$[p]=f($[p])}return $.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(p)){var v=0;for(w=[],v=0;v<p.length;v+=1)Array.isArray(p[v])?w.push([d(p[v][0]),p[v][1],p[v][2]]):w.push([d(p[v])]);g=w}else g=d(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",y])})(jr.API),jr.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(jr.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var a=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return a},set:function(g){a=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,a){n.call(this);var u=(a=a||{}).fontSize||this.getFontSize(),f=a.font||this.getFont(),h=a.scaleFactor||this.internal.scaleFactor,d=0,y=0,g=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=a.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,T){return _.concat(p.splitTextToSize(T,w))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)d<(g=this.getStringUnitWidth(c[v],{font:f})*u)&&(d=g);return d!==0&&(y=c.length),{w:d/=h,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var a=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return a.lineNumber!==void 0&&(a.lineNumber===c.lineNumber?(c.x=(a.x||0)+(a.width||0),c.y=a.y||0):a.y+a.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,d&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=a.y+a.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,a,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,y,g,p,w=[],v=[],_=[],T={},F={},G=[],$=[],P=(h=h||{}).autoSize||!1,M=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,V=h.margins||Object.assign({width:this.getPageWidth()},t),I=typeof h.padding=="number"?h.padding:3,E=h.headerBackgroundColor||"#c8c8c8",L=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=L,this.setFontSize(U),f==null)v=w=Object.keys(u[0]),_=w.map(function(){return"left"});else if(Array.isArray(f)&&Jn(f[0])==="object")for(w=f.map(function(O){return O.name}),v=f.map(function(O){return O.prompt||O.name||""}),_=f.map(function(O){return O.align||"left"}),d=0;d<f.length;d+=1)F[f[d].name]=.7499990551181103*f[d].width;else Array.isArray(f)&&typeof f[0]=="string"&&(v=w=f,_=w.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<w.length;d+=1){for(T[p=w[d]]=u.map(function(O){return O[p]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[p],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)G.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[p]=Math.max.apply(null,G)+I+I,G=[]}if(M){var A={};for(d=0;d<w.length;d+=1)A[w[d]]={},A[w[d]].text=v[d],A[w[d]].align=_[d];var S=l.call(this,A,F);$=w.map(function(O){return new s(c,a,F[O],S,A[O].text,void 0,A[O].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var k=f.reduce(function(O,D){return O[D.name]=D.align,O},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var N=l.call(this,u[d],F);for(g=0;g<w.length;g+=1){var C=u[d][w[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:g,data:C},this),o.call(this,new s(c,a,F[w[g]],N,C,d+2,k[w[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=a,this};var l=function(c,a){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(d){var y=c[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,a[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,y){return Math.max(d,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,a){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),a&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),e=!1}})(jr.API);var k7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},E7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J2=C7(E7),A7=[100,200,300,400,500,600,700,800,900],bV=C7(A7);function U1(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return k7[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),i=(function(s){return typeof J2[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:t,style:e,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:t,style:[i,e,n].join(" ")}}}function Kx(r,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(r[t[i]])return r[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(r[t[i]])return r[t[i]]}var wV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yx(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Zx(r){return r.trimLeft()}function xV(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function _V(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var km,Qx,Jx,Yd,Em,e4,t4,r4,$1=["times"];function n4(r,t,e,n,i){var s=4,o=i4;switch(i){case jr.API.image_compression.FAST:s=1,o=s4;break;case jr.API.image_compression.MEDIUM:s=6,o=a4;break;case jr.API.image_compression.SLOW:s=9,o=o4}r=(function(c,a,u,f){for(var h,d=c.length/a,y=new Uint8Array(c.length+d),g=[SV,s4,i4,a4,o4],p=0;p<d;p+=1){var w=p*a,v=c.subarray(w,w+a);if(f)y.set(f(v,u,h),w+p);else{for(var _=g.length,T=[],F=0;F<_;F+=1)T[F]=g[F](v,u,h);var G=CV(T.concat());y.set(T[G],w+p)}h=v}return y})(r,t,Math.ceil(e*n/8),o);var l=W2(r,{level:s});return jr.API.__addimage__.arrayBufferToBinaryString(l)}function SV(r){var t=Array.apply([],r);return t.unshift(0),t}function s4(r,t){var e=r.length,n=[];n[0]=1;for(var i=0;i<e;i+=1){var s=r[i-t]||0;n[i+1]=r[i]-s+256&255}return n}function i4(r,t,e){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=e&&e[s]||0;i[s+1]=r[s]-o+256&255}return i}function a4(r,t,e){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=r[s-t]||0,l=e&&e[s]||0;i[s+1]=r[s]+256-(o+l>>>1)&255}return i}function o4(r,t,e){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=NV(r[s-t]||0,e&&e[s]||0,e&&e[s-t]||0);i[s+1]=r[s]-o+256&255}return i}function NV(r,t,e){if(r===t&&t===e)return r;var n=Math.abs(t-e),i=Math.abs(r-e),s=Math.abs(r+t-e-e);return n<=i&&n<=s?r:i<=s?t:e}function CV(r){var t=r.map(function(e){return e.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function q1(r,t,e){var n=t*e,i=Math.floor(n/8),s=16-(n-8*i+e),o=(1<<e)-1;return T7(r,i)>>s&o}function l4(r,t,e,n){var i=e*n,s=Math.floor(i/8),o=16-(i-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(a,u,f){if(u+1<a.byteLength)a.setUint16(u,f,!1);else{var h=f>>8&255;a.setUint8(u,h)}})(r,s,T7(r,s)&~(l<<o)&65535|c)}function T7(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function kV(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,i=r[t++],s=i>>7,o=1<<1+(7&i);r[t++],r[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var a=!0,u=[],f=0,h=null,d=0,y=null;for(this.width=e,this.height=n;a&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,y=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((V=r[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[t++];f=r[t++]|r[t++]<<8,h=r[t++],1&g||(h=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((V=r[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var p=r[t++]|r[t++]<<8,w=r[t++]|r[t++]<<8,v=r[t++]|r[t++]<<8,_=r[t++]|r[t++]<<8,T=r[t++],F=T>>6&1,G=1<<1+(7&T),$=l,P=c,M=!1;T>>7&&(M=!0,$=t,P=G,t+=3*G);var U=t;for(t++;;){var V;if(!((V=r[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}u.push({x:p,y:w,width:v,height:_,has_local_palette:M,palette_offset:$,palette_size:P,data_offset:U,data_length:t-U,transparent_index:h,interlaced:!!F,delay:f,disposal:d});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,E){var L=this.frameInfo(I),A=L.width*L.height,S=new Uint8Array(A);c4(r,L.data_offset,S,A);var k=L.palette_offset,N=L.transparent_index;N===null&&(N=256);var C=L.width,O=e-C,D=C,j=4*(L.y*e+L.x),K=4*((L.y+L.height)*e+L.x),Z=j,ne=4*O;L.interlaced===!0&&(ne+=4*e*7);for(var H=8,J=0,z=S.length;J<z;++J){var B=S[J];if(D===0&&(D=C,(Z+=ne)>=K&&(ne=4*O+4*e*(H-1),Z=j+(C+O)*(H<<1),H>>=1)),B===N)Z+=4;else{var Q=r[k+3*B],oe=r[k+3*B+1],pe=r[k+3*B+2];E[Z++]=pe,E[Z++]=oe,E[Z++]=Q,E[Z++]=255}--D}},this.decodeAndBlitFrameRGBA=function(I,E){var L=this.frameInfo(I),A=L.width*L.height,S=new Uint8Array(A);c4(r,L.data_offset,S,A);var k=L.palette_offset,N=L.transparent_index;N===null&&(N=256);var C=L.width,O=e-C,D=C,j=4*(L.y*e+L.x),K=4*((L.y+L.height)*e+L.x),Z=j,ne=4*O;L.interlaced===!0&&(ne+=4*e*7);for(var H=8,J=0,z=S.length;J<z;++J){var B=S[J];if(D===0&&(D=C,(Z+=ne)>=K&&(ne=4*O+4*e*(H-1),Z=j+(C+O)*(H<<1),H>>=1)),B===N)Z+=4;else{var Q=r[k+3*B],oe=r[k+3*B+1],pe=r[k+3*B+2];E[Z++]=Q,E[Z++]=oe,E[Z++]=pe,E[Z++]=255}--D}}}function c4(r,t,e,n){for(var i=r[t++],s=1<<i,o=s+1,l=o+1,c=i+1,a=(1<<c)-1,u=0,f=0,h=0,d=r[t++],y=new Int32Array(4096),g=null;;){for(;u<16&&d!==0;)f|=r[t++]<<u,u+=8,d===1?d=r[t++]:--d;if(u<c)break;var p=f&a;if(f>>=c,u-=c,p!==s){if(p===o)break;for(var w=p<l?p:g,v=0,_=w;_>s;)_=y[_]>>8,++v;var T=_;if(h+v+(w!==p?1:0)>n)return void ds.log("Warning, gif stream longer than expected.");e[h++]=T;var F=h+=v;for(w!==p&&(e[h++]=T),_=w;v--;)_=y[_],e[--F]=255&_,_>>=8;g!==null&&l<4096&&(y[l++]=g<<8|T,l>=a+1&&c<12&&(++c,a=a<<1|1)),g=p}else l=o+1,a=(1<<(c=i+1))-1,g=null}return h!==n&&ds.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H1(r){var t,e,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),a=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),y=new Array(64),g=[],p=0,w=7,v=new Array(64),_=new Array(64),T=new Array(64),F=new Array(256),G=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function S(j,K){for(var Z=0,ne=0,H=new Array,J=1;J<=16;J++){for(var z=1;z<=j[J];z++)H[K[ne]]=[],H[K[ne]][0]=Z,H[K[ne]][1]=J,ne++,Z++;Z*=2}return H}function k(j){for(var K=j[0],Z=j[1]-1;Z>=0;)K&1<<Z&&(p|=1<<w),Z--,--w<0&&(p==255?(N(255),N(0)):N(p),w=7,p=0)}function N(j){g.push(j)}function C(j){N(j>>8&255),N(255&j)}function O(j,K,Z,ne,H){for(var J,z=H[0],B=H[240],Q=(function(ye,Re){var Ie,Oe,Fe,Se,Pe,He,Ze,at,Je,lt,ut=0;for(Je=0;Je<8;++Je){Ie=ye[ut],Oe=ye[ut+1],Fe=ye[ut+2],Se=ye[ut+3],Pe=ye[ut+4],He=ye[ut+5],Ze=ye[ut+6];var Ut=Ie+(at=ye[ut+7]),ft=Ie-at,st=Oe+Ze,mt=Oe-Ze,At=Fe+He,dt=Fe-He,Yt=Se+Pe,zt=Se-Pe,St=Ut+Yt,nr=Ut-Yt,Tt=st+At,_t=st-At;ye[ut]=St+Tt,ye[ut+4]=St-Tt;var sr=.707106781*(_t+nr);ye[ut+2]=nr+sr,ye[ut+6]=nr-sr;var Dt=.382683433*((St=zt+dt)-(_t=mt+ft)),jt=.5411961*St+Dt,Zt=1.306562965*_t+Dt,br=.707106781*(Tt=dt+mt),bt=ft+br,Ar=ft-br;ye[ut+5]=Ar+jt,ye[ut+3]=Ar-jt,ye[ut+1]=bt+Zt,ye[ut+7]=bt-Zt,ut+=8}for(ut=0,Je=0;Je<8;++Je){Ie=ye[ut],Oe=ye[ut+8],Fe=ye[ut+16],Se=ye[ut+24],Pe=ye[ut+32],He=ye[ut+40],Ze=ye[ut+48];var Ir=Ie+(at=ye[ut+56]),Kt=Ie-at,Le=Oe+Ze,ze=Oe-Ze,et=Fe+He,Et=Fe-He,er=Se+Pe,Lt=Se-Pe,dr=Ir+er,ir=Ir-er,Wt=Le+et,mr=Le-et;ye[ut]=dr+Wt,ye[ut+32]=dr-Wt;var hr=.707106781*(mr+ir);ye[ut+16]=ir+hr,ye[ut+48]=ir-hr;var Lr=.382683433*((dr=Lt+Et)-(mr=ze+Kt)),pn=.5411961*dr+Lr,on=1.306562965*mr+Lr,Ln=.707106781*(Wt=Et+ze),In=Kt+Ln,Wn=Kt-Ln;ye[ut+40]=Wn+pn,ye[ut+24]=Wn-pn,ye[ut+8]=In+on,ye[ut+56]=In-on,ut++}for(Je=0;Je<64;++Je)lt=ye[Je]*Re[Je],d[Je]=lt>0?lt+.5|0:lt-.5|0;return d})(j,K),oe=0;oe<64;++oe)y[$[oe]]=Q[oe];var pe=y[0]-Z;Z=y[0],pe==0?k(ne[0]):(k(ne[h[J=32767+pe]]),k(f[J]));for(var de=63;de>0&&y[de]==0;)de--;if(de==0)return k(z),Z;for(var ve,ce=1;ce<=de;){for(var he=ce;y[ce]==0&&ce<=de;)++ce;var fe=ce-he;if(fe>=16){ve=fe>>4;for(var ke=1;ke<=ve;++ke)k(B);fe&=15}J=32767+y[ce],k(H[(fe<<4)+h[J]]),k(f[J]),ce++}return de!=63&&k(z),Z}function D(j){j=Math.min(Math.max(j,1),100),s!=j&&((function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var H=o((Z[ne]*K+50)/100);H=Math.min(Math.max(H,1),255),l[$[ne]]=H}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var B=o((J[z]*K+50)/100);B=Math.min(Math.max(B,1),255),c[$[z]]=B}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,pe=0;pe<8;pe++)for(var de=0;de<8;de++)a[oe]=1/(l[$[oe]]*Q[pe]*Q[de]*8),u[oe]=1/(c[$[oe]]*Q[pe]*Q[de]*8),oe++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,K){K&&D(K),g=new Array,p=0,w=7,C(65496),C(65504),C(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),C(1),C(1),N(0),N(0),(function(){C(65499),C(132),N(0);for(var Oe=0;Oe<64;Oe++)N(l[Oe]);N(1);for(var Fe=0;Fe<64;Fe++)N(c[Fe])})(),(function(Oe,Fe){C(65472),C(17),N(8),C(Fe),C(Oe),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)})(j.width,j.height),(function(){C(65476),C(418),N(0);for(var Oe=0;Oe<16;Oe++)N(P[Oe+1]);for(var Fe=0;Fe<=11;Fe++)N(M[Fe]);N(16);for(var Se=0;Se<16;Se++)N(U[Se+1]);for(var Pe=0;Pe<=161;Pe++)N(V[Pe]);N(1);for(var He=0;He<16;He++)N(I[He+1]);for(var Ze=0;Ze<=11;Ze++)N(E[Ze]);N(17);for(var at=0;at<16;at++)N(L[at+1]);for(var Je=0;Je<=161;Je++)N(A[Je])})(),C(65498),C(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var Z=0,ne=0,H=0;p=0,w=7,this.encode.displayName="_encode_";for(var J,z,B,Q,oe,pe,de,ve,ce,he=j.data,fe=j.width,ke=j.height,ye=4*fe,Re=0;Re<ke;){for(J=0;J<ye;){for(oe=ye*Re+J,de=-1,ve=0,ce=0;ce<64;ce++)pe=oe+(ve=ce>>3)*ye+(de=4*(7&ce)),Re+ve>=ke&&(pe-=ye*(Re+1+ve-ke)),J+de>=ye&&(pe-=J+de-ye+4),z=he[pe++],B=he[pe++],Q=he[pe++],v[ce]=(G[z]+G[B+256|0]+G[Q+512|0]>>16)-128,_[ce]=(G[z+768|0]+G[B+1024|0]+G[Q+1280|0]>>16)-128,T[ce]=(G[z+1280|0]+G[B+1536|0]+G[Q+1792|0]>>16)-128;Z=O(v,a,Z,t,n),ne=O(_,u,ne,e,i),H=O(T,u,H,e,i),J+=32}Re+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,k(Ie)}return C(65497),new Uint8Array(g)},r=r||50,(function(){for(var j=String.fromCharCode,K=0;K<256;K++)F[K]=j(K)})(),t=S(P,M),e=S(I,E),n=S(U,V),i=S(L,A),(function(){for(var j=1,K=2,Z=1;Z<=15;Z++){for(var ne=j;ne<K;ne++)h[32767+ne]=Z,f[32767+ne]=[],f[32767+ne][1]=Z,f[32767+ne][0]=ne;for(var H=-(K-1);H<=-j;H++)h[32767+H]=Z,f[32767+H]=[],f[32767+H][1]=Z,f[32767+H][0]=K-1+H;j<<=1,K<<=1}})(),(function(){for(var j=0;j<256;j++)G[j]=19595*j,G[j+256|0]=38470*j,G[j+512|0]=7471*j+32768,G[j+768|0]=-11059*j,G[j+1024|0]=-21709*j,G[j+1280|0]=32768*j+8421375,G[j+1536|0]=-27439*j,G[j+1792|0]=-5329*j})(),D(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qo(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u4(r){function t(M){if(!M)throw Error("assert :P")}function e(M,U,V){for(var I=0;4>I;I++)if(M[U+I]!=V.charCodeAt(I))return!0;return!1}function n(M,U,V,I,E){for(var L=0;L<E;L++)M[U+L]=V[I+L]}function i(M,U,V,I){for(var E=0;E<I;E++)M[U+E]=V}function s(M){return new Int32Array(M)}function o(M,U){for(var V=[],I=0;I<M;I++)V.push(new U);return V}function l(M,U){var V=[];return(function I(E,L,A){for(var S=A[L],k=0;k<S&&(E.push(A.length>L+1?[]:new U),!(A.length<L+1));k++)I(E[k],L+1,A)})(V,0,M),V}var c=function(){var M=this;function U(q,Y){for(var re=1<<Y-1>>>0;q&re;)re>>>=1;return re?(q&re-1)+re:q}function V(q,Y,re,le,ge){t(!(le%re));do q[Y+(le-=re)]=ge;while(0<le)}function I(q,Y,re,le,ge){if(t(2328>=ge),512>=ge)var we=s(512);else if((we=s(ge))==null)return 0;return(function(xe,_e,Ce,Ee,Be,Xe){var Te,Ue,Ke=_e,ct=1<<Ce,Qe=s(16),it=s(16);for(t(Be!=0),t(Ee!=null),t(xe!=null),t(0<Ce),Ue=0;Ue<Be;++Ue){if(15<Ee[Ue])return 0;++Qe[Ee[Ue]]}if(Qe[0]==Be)return 0;for(it[1]=0,Te=1;15>Te;++Te){if(Qe[Te]>1<<Te)return 0;it[Te+1]=it[Te]+Qe[Te]}for(Ue=0;Ue<Be;++Ue)Te=Ee[Ue],0<Ee[Ue]&&(Xe[it[Te]++]=Ue);if(it[15]==1)return(Ee=new E).g=0,Ee.value=Xe[0],V(xe,Ke,1,ct,Ee),ct;var ot,gt=-1,vt=ct-1,Sr=0,lr=1,en=1,pr=1<<Ce;for(Ue=0,Te=1,Be=2;Te<=Ce;++Te,Be<<=1){if(lr+=en<<=1,0>(en-=Qe[Te]))return 0;for(;0<Qe[Te];--Qe[Te])(Ee=new E).g=Te,Ee.value=Xe[Ue++],V(xe,Ke+Sr,Be,pr,Ee),Sr=U(Sr,Te)}for(Te=Ce+1,Be=2;15>=Te;++Te,Be<<=1){if(lr+=en<<=1,0>(en-=Qe[Te]))return 0;for(;0<Qe[Te];--Qe[Te]){if(Ee=new E,(Sr&vt)!=gt){for(Ke+=pr,ot=1<<(gt=Te)-Ce;15>gt&&!(0>=(ot-=Qe[gt]));)++gt,ot<<=1;ct+=pr=1<<(ot=gt-Ce),xe[_e+(gt=Sr&vt)].g=ot+Ce,xe[_e+gt].value=Ke-_e-gt}Ee.g=Te-Ce,Ee.value=Xe[Ue++],V(xe,Ke+(Sr>>Ce),Be,pr,Ee),Sr=U(Sr,Te)}}return lr!=2*it[15]-1?0:ct})(q,Y,re,le,ge,we)}function E(){this.value=this.g=0}function L(){this.value=this.g=0}function A(){this.G=o(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(La,L)}function S(q,Y,re,le){t(q!=null),t(Y!=null),t(2147483648>le),q.Ca=254,q.I=0,q.b=-8,q.Ka=0,q.oa=Y,q.pa=re,q.Jd=Y,q.Yc=re+le,q.Zc=4<=le?re+le-4+1:re,z(q)}function k(q,Y){for(var re=0;0<Y--;)re|=Q(q,128)<<Y;return re}function N(q,Y){var re=k(q,Y);return B(q)?-re:re}function C(q,Y,re,le){var ge,we=0;for(t(q!=null),t(Y!=null),t(4294967288>le),q.Sb=le,q.Ra=0,q.u=0,q.h=0,4<le&&(le=4),ge=0;ge<le;++ge)we+=Y[re+ge]<<8*ge;q.Ra=we,q.bb=le,q.oa=Y,q.pa=re}function O(q){for(;8<=q.u&&q.bb<q.Sb;)q.Ra>>>=8,q.Ra+=q.oa[q.pa+q.bb]<<pl-8>>>0,++q.bb,q.u-=8;ne(q)&&(q.h=1,q.u=0)}function D(q,Y){if(t(0<=Y),!q.h&&Y<=wa){var re=Z(q)&ba[Y];return q.u+=Y,O(q),re}return q.h=1,q.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(q){return q.Ra>>>(q.u&pl-1)>>>0}function ne(q){return t(q.bb<=q.Sb),q.h||q.bb==q.Sb&&q.u>pl}function H(q,Y){q.u=Y,q.h=ne(q)}function J(q){q.u>=xo&&(t(q.u>=xo),O(q))}function z(q){t(q!=null&&q.oa!=null),q.pa<q.Zc?(q.I=(q.oa[q.pa++]|q.I<<8)>>>0,q.b+=8):(t(q!=null&&q.oa!=null),q.pa<q.Yc?(q.b+=8,q.I=q.oa[q.pa++]|q.I<<8):q.Ka?q.b=0:(q.I<<=8,q.b+=8,q.Ka=1))}function B(q){return k(q,1)}function Q(q,Y){var re=q.Ca;0>q.b&&z(q);var le=q.b,ge=re*Y>>>8,we=(q.I>>>le>ge)+0;for(we?(re-=ge,q.I-=ge+1<<le>>>0):re=ge+1,le=re,ge=0;256<=le;)ge+=8,le>>=8;return le=7^ge+Fo[le],q.b-=le,q.Ca=(re<<le)-1,we}function oe(q,Y,re){q[Y+0]=re>>24&255,q[Y+1]=re>>16&255,q[Y+2]=re>>8&255,q[Y+3]=255&re}function pe(q,Y){return q[Y+0]|q[Y+1]<<8}function de(q,Y){return pe(q,Y)|q[Y+2]<<16}function ve(q,Y){return pe(q,Y)|pe(q,Y+2)<<16}function ce(q,Y){var re=1<<Y;return t(q!=null),t(0<Y),q.X=s(re),q.X==null?0:(q.Mb=32-Y,q.Xa=Y,1)}function he(q,Y){t(q!=null),t(Y!=null),t(q.Xa==Y.Xa),n(Y.X,0,q.X,0,1<<Y.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function ke(q,Y,re,le){t(re!=null),t(le!=null);var ge=re[0],we=le[0];return ge==0&&(ge=(q*we+Y/2)/Y),we==0&&(we=(Y*ge+q/2)/q),0>=ge||0>=we?0:(re[0]=ge,le[0]=we,1)}function ye(q,Y){return q+(1<<Y)-1>>>Y}function Re(q,Y){return((4278255360&q)+(4278255360&Y)>>>0&4278255360)+((16711935&q)+(16711935&Y)>>>0&16711935)>>>0}function Ie(q,Y){M[Y]=function(re,le,ge,we,xe,_e,Ce){var Ee;for(Ee=0;Ee<xe;++Ee){var Be=M[q](_e[Ce+Ee-1],ge,we+Ee);_e[Ce+Ee]=Re(re[le+Ee],Be)}}}function Oe(){this.ud=this.hd=this.jd=0}function Fe(q,Y){return((4278124286&(q^Y))>>>1)+(q&Y)>>>0}function Se(q){return 0<=q&&256>q?q:0>q?0:255<q?255:void 0}function Pe(q,Y){return Se(q+(q-Y+.5>>1))}function He(q,Y,re){return Math.abs(Y-re)-Math.abs(q-re)}function Ze(q,Y,re,le,ge,we,xe){for(le=we[xe-1],re=0;re<ge;++re)we[xe+re]=le=Re(q[Y+re],le)}function at(q,Y,re,le,ge){var we;for(we=0;we<re;++we){var xe=q[Y+we],_e=xe>>8&255,Ce=16711935&(Ce=(Ce=16711935&xe)+((_e<<16)+_e));le[ge+we]=(4278255360&xe)+Ce>>>0}}function Je(q,Y){Y.jd=255&q,Y.hd=q>>8&255,Y.ud=q>>16&255}function lt(q,Y,re,le,ge,we){var xe;for(xe=0;xe<le;++xe){var _e=Y[re+xe],Ce=_e>>>8,Ee=_e,Be=255&(Be=(Be=_e>>>16)+((q.jd<<24>>24)*(Ce<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(q.hd<<24>>24)*(Ce<<24>>24)>>>5)+((q.ud<<24>>24)*(Be<<24>>24)>>>5)),ge[we+xe]=(4278255360&_e)+(Be<<16)+Ee}}function ut(q,Y,re,le,ge){M[Y]=function(we,xe,_e,Ce,Ee,Be,Xe,Te,Ue){for(Ce=Xe;Ce<Te;++Ce)for(Xe=0;Xe<Ue;++Xe)Ee[Be++]=ge(_e[le(we[xe++])])},M[q]=function(we,xe,_e,Ce,Ee,Be,Xe){var Te=8>>we.b,Ue=we.Ea,Ke=we.K[0],ct=we.w;if(8>Te)for(we=(1<<we.b)-1,ct=(1<<Te)-1;xe<_e;++xe){var Qe,it=0;for(Qe=0;Qe<Ue;++Qe)Qe&we||(it=le(Ce[Ee++])),Be[Xe++]=ge(Ke[it&ct]),it>>=Te}else M["VP8LMapColor"+re](Ce,Ee,Ke,ct,Be,Xe,xe,_e,Ue)}}function Ut(q,Y,re,le,ge){for(re=Y+re;Y<re;){var we=q[Y++];le[ge++]=we>>16&255,le[ge++]=we>>8&255,le[ge++]=255&we}}function ft(q,Y,re,le,ge){for(re=Y+re;Y<re;){var we=q[Y++];le[ge++]=we>>16&255,le[ge++]=we>>8&255,le[ge++]=255&we,le[ge++]=we>>24&255}}function st(q,Y,re,le,ge){for(re=Y+re;Y<re;){var we=(xe=q[Y++])>>16&240|xe>>12&15,xe=240&xe|xe>>28&15;le[ge++]=we,le[ge++]=xe}}function mt(q,Y,re,le,ge){for(re=Y+re;Y<re;){var we=(xe=q[Y++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;le[ge++]=we,le[ge++]=xe}}function At(q,Y,re,le,ge){for(re=Y+re;Y<re;){var we=q[Y++];le[ge++]=255&we,le[ge++]=we>>8&255,le[ge++]=we>>16&255}}function dt(q,Y,re,le,ge,we){if(we==0)for(re=Y+re;Y<re;)oe(le,((we=q[Y++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),ge+=32;else n(le,ge,q,Y,re)}function Yt(q,Y){M[Y][0]=M[q+"0"],M[Y][1]=M[q+"1"],M[Y][2]=M[q+"2"],M[Y][3]=M[q+"3"],M[Y][4]=M[q+"4"],M[Y][5]=M[q+"5"],M[Y][6]=M[q+"6"],M[Y][7]=M[q+"7"],M[Y][8]=M[q+"8"],M[Y][9]=M[q+"9"],M[Y][10]=M[q+"10"],M[Y][11]=M[q+"11"],M[Y][12]=M[q+"12"],M[Y][13]=M[q+"13"],M[Y][14]=M[q+"0"],M[Y][15]=M[q+"0"]}function zt(q){return q==Lc||q==Jl||q==Pu||q==Ru}function St(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new St,this.f.kb=new nr,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(q){return alert("todo:WebPSamplerProcessPlane"),q.T}function jt(q,Y){var re=q.T,le=Y.ba.f.RGBA,ge=le.eb,we=le.fb+q.ka*le.A,xe=ea[Y.ba.S],_e=q.y,Ce=q.O,Ee=q.f,Be=q.N,Xe=q.ea,Te=q.W,Ue=Y.cc,Ke=Y.dc,ct=Y.Mc,Qe=Y.Nc,it=q.ka,ot=q.ka+q.T,gt=q.U,vt=gt+1>>1;for(it==0?xe(_e,Ce,null,null,Ee,Be,Xe,Te,Ee,Be,Xe,Te,ge,we,null,null,gt):(xe(Y.ec,Y.fc,_e,Ce,Ue,Ke,ct,Qe,Ee,Be,Xe,Te,ge,we-le.A,ge,we,gt),++re);it+2<ot;it+=2)Ue=Ee,Ke=Be,ct=Xe,Qe=Te,Be+=q.Rc,Te+=q.Rc,we+=2*le.A,xe(_e,(Ce+=2*q.fa)-q.fa,_e,Ce,Ue,Ke,ct,Qe,Ee,Be,Xe,Te,ge,we-le.A,ge,we,gt);return Ce+=q.fa,q.j+ot<q.o?(n(Y.ec,Y.fc,_e,Ce,gt),n(Y.cc,Y.dc,Ee,Be,vt),n(Y.Mc,Y.Nc,Xe,Te,vt),re--):1&ot||xe(_e,Ce,null,null,Ee,Be,Xe,Te,Ee,Be,Xe,Te,ge,we+le.A,null,null,gt),re}function Zt(q,Y,re){var le=q.F,ge=[q.J];if(le!=null){var we=q.U,xe=Y.ba.S,_e=xe==Iu||xe==Pu;Y=Y.ba.f.RGBA;var Ce=[0],Ee=q.ka;Ce[0]=q.T,q.Kb&&(Ee==0?--Ce[0]:(--Ee,ge[0]-=q.width),q.j+q.ka+q.T==q.o&&(Ce[0]=q.o-q.j-Ee));var Be=Y.eb;Ee=Y.fb+Ee*Y.A,q=Tu(le,ge[0],q.width,we,Ce,Be,Ee+(_e?0:3),Y.A),t(re==Ce),q&&zt(xe)&&Ql(Be,Ee,_e,we,Ce,Y.A)}return 0}function br(q){var Y=q.ma,re=Y.ba.S,le=11>re,ge=re==vl||re==ju||re==Iu||re==Kn||re==12||zt(re);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!Tc(Y.Oa,q,ge?11:12))return 0;if(ge&&zt(re)&&Wr(),q.da)alert("todo:use_scaling");else{if(le){if(Y.Ib=Dt,q.Kb){if(re=q.U+1>>1,Y.memory=s(q.U+2*re),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+q.U,Y.Mc=Y.cc,Y.Nc=Y.dc+re,Y.Ib=jt,Wr()}}else alert("todo:EmitYUV");ge&&(Y.Jb=Zt,le&&rt())}if(le&&!_i){for(q=0;256>q;++q)ta[q]=89858*(q-128)+ro>>Uo,ra[q]=-22014*(q-128)+ro,Vc[q]=-45773*(q-128),nc[q]=113618*(q-128)+ro>>Uo;for(q=Bn;q<Un;++q)Y=76283*(q-16)+ro>>Uo,Ad[q-Bn]=Rr(Y,255),Sp[q-Bn]=Rr(Y+8>>4,15);_i=1}return 1}function bt(q){var Y=q.ma,re=q.U,le=q.T;return t(!(1&q.ka)),0>=re||0>=le?0:(re=Y.Ib(q,Y),Y.Jb!=null&&Y.Jb(q,Y,re),Y.Dc+=re,1)}function Ar(q){q.ma.memory=null}function Ir(q,Y,re,le){return D(q,8)!=47?0:(Y[0]=D(q,14)+1,re[0]=D(q,14)+1,le[0]=D(q,1),D(q,3)!=0?0:!q.h)}function Kt(q,Y){if(4>q)return q+1;var re=q-2>>1;return(2+(1&q)<<re)+D(Y,re)+1}function Le(q,Y){return 120<Y?Y-120:1<=(re=((re=dg[Y-1])>>4)*q+(8-(15&re)))?re:1;var re}function ze(q,Y,re){var le=Z(re),ge=q[Y+=255&le].g-8;return 0<ge&&(H(re,re.u+8),le=Z(re),Y+=q[Y].value,Y+=le&(1<<ge)-1),H(re,re.u+q[Y].g),q[Y].value}function et(q,Y,re){return re.g+=q.g,re.value+=q.value<<Y>>>0,t(8>=re.g),q.g}function Et(q,Y,re){var le=q.xc;return t((Y=le==0?0:q.vc[q.md*(re>>le)+(Y>>le)])<q.Wb),q.Ya[Y]}function er(q,Y,re,le){var ge=q.ab,we=q.c*Y,xe=q.C;Y=xe+Y;var _e=re,Ce=le;for(le=q.Ta,re=q.Ua;0<ge--;){var Ee=q.gc[ge],Be=xe,Xe=Y,Te=_e,Ue=Ce,Ke=(Ce=le,_e=re,Ee.Ea);switch(t(Be<Xe),t(Xe<=Ee.nc),Ee.hc){case 2:As(Te,Ue,(Xe-Be)*Ke,Ce,_e);break;case 0:var ct=Be,Qe=Xe,it=Ce,ot=_e,gt=(pr=Ee).Ea;ct==0&&(Bo(Te,Ue,null,null,1,it,ot),Ze(Te,Ue+1,0,0,gt-1,it,ot+1),Ue+=gt,ot+=gt,++ct);for(var vt=1<<pr.b,Sr=vt-1,lr=ye(gt,pr.b),en=pr.K,pr=pr.w+(ct>>pr.b)*lr;ct<Qe;){var yn=en,_s=pr,nn=1;for(_o(Te,Ue,it,ot-gt,1,it,ot);nn<gt;){var cr=(nn&~Sr)+vt;cr>gt&&(cr=gt),(0,Kl[yn[_s++]>>8&15])(Te,Ue+ +nn,it,ot+nn-gt,cr-nn,it,ot+nn),nn=cr}Ue+=gt,ot+=gt,++ct&Sr||(pr+=lr)}Xe!=Ee.nc&&n(Ce,_e-Ke,Ce,_e+(Xe-Be-1)*Ke,Ke);break;case 1:for(Ke=Te,Qe=Ue,gt=(Te=Ee.Ea)-(ot=Te&~(it=(Ue=1<<Ee.b)-1)),ct=ye(Te,Ee.b),vt=Ee.K,Ee=Ee.w+(Be>>Ee.b)*ct;Be<Xe;){for(Sr=vt,lr=Ee,en=new Oe,pr=Qe+ot,yn=Qe+Te;Qe<pr;)Je(Sr[lr++],en),Ic(en,Ke,Qe,Ue,Ce,_e),Qe+=Ue,_e+=Ue;Qe<yn&&(Je(Sr[lr++],en),Ic(en,Ke,Qe,gt,Ce,_e),Qe+=gt,_e+=gt),++Be&it||(Ee+=ct)}break;case 3:if(Te==Ce&&Ue==_e&&0<Ee.b){for(Qe=Ce,Te=Ke=_e+(Xe-Be)*Ke-(ot=(Xe-Be)*ye(Ee.Ea,Ee.b)),Ue=Ce,it=_e,ct=[],ot=(gt=ot)-1;0<=ot;--ot)ct[ot]=Ue[it+ot];for(ot=gt-1;0<=ot;--ot)Qe[Te+ot]=ct[ot];Wl(Ee,Be,Xe,Ce,Ke,Ce,_e)}else Wl(Ee,Be,Xe,Te,Ue,Ce,_e)}_e=le,Ce=re}Ce!=re&&n(le,re,_e,Ce,we)}function Lt(q,Y){var re=q.V,le=q.Ba+q.c*q.C,ge=Y-q.C;if(t(Y<=q.l.o),t(16>=ge),0<ge){var we=q.l,xe=q.Ta,_e=q.Ua,Ce=we.width;if(er(q,ge,re,le),ge=_e=[_e],t((re=q.C)<(le=Y)),t(we.v<we.va),le>we.o&&(le=we.o),re<we.j){var Ee=we.j-re;re=we.j,ge[0]+=Ee*Ce}if(re>=le?re=0:(ge[0]+=4*we.v,we.ka=re-we.j,we.U=we.va-we.v,we.T=le-re,re=1),re){if(_e=_e[0],11>(re=q.ca).S){var Be=re.f.RGBA,Xe=(le=re.S,ge=we.U,we=we.T,Ee=Be.eb,Be.A),Te=we;for(Be=Be.fb+q.Ma*Be.A;0<Te--;){var Ue=xe,Ke=_e,ct=ge,Qe=Ee,it=Be;switch(le){case Nd:Pc(Ue,Ke,ct,Qe,it);break;case vl:Vo(Ue,Ke,ct,Qe,it);break;case Lc:Vo(Ue,Ke,ct,Qe,it),Ql(Qe,it,0,ct,1,0);break;case vp:Xl(Ue,Ke,ct,Qe,it);break;case ju:dt(Ue,Ke,ct,Qe,it,1);break;case Jl:dt(Ue,Ke,ct,Qe,it,1),Ql(Qe,it,0,ct,1,0);break;case Iu:dt(Ue,Ke,ct,Qe,it,0);break;case Pu:dt(Ue,Ke,ct,Qe,it,0),Ql(Qe,it,1,ct,1,0);break;case Kn:ml(Ue,Ke,ct,Qe,it);break;case Ru:ml(Ue,Ke,ct,Qe,it),qh(Qe,it,ct,1,0);break;case Cd:gl(Ue,Ke,ct,Qe,it);break;default:t(0)}_e+=Ce,Be+=Xe}q.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");t(q.Ma<=re.height)}}q.C=Y,t(q.C<=q.i)}function dr(q){var Y;if(0<q.ua)return 0;for(Y=0;Y<q.Wb;++Y){var re=q.Ya[Y].G,le=q.Ya[Y].H;if(0<re[1][le[1]+0].g||0<re[2][le[2]+0].g||0<re[3][le[3]+0].g)return 0}return 1}function ir(q,Y,re,le,ge,we){if(q.Z!=0){var xe=q.qd,_e=q.rd;for(t(Ii[q.Z]!=null);Y<re;++Y)Ii[q.Z](xe,_e,le,ge,le,ge,we),xe=le,_e=ge,ge+=we;q.qd=xe,q.rd=_e}}function Wt(q,Y){var re=q.l.ma,le=re.Z==0||re.Z==1?q.l.j:q.C;if(le=q.C<le?le:q.C,t(Y<=q.l.o),Y>le){var ge=q.l.width,we=re.ca,xe=re.tb+ge*le,_e=q.V,Ce=q.Ba+q.c*le,Ee=q.gc;t(q.ab==1),t(Ee[0].hc==3),eo(Ee[0],le,Y,_e,Ce,we,xe),ir(re,le,Y,we,xe,ge)}q.C=q.Ma=Y}function mr(q,Y,re,le,ge,we,xe){var _e=q.$/le,Ce=q.$%le,Ee=q.m,Be=q.s,Xe=re+q.$,Te=Xe;ge=re+le*ge;var Ue=re+le*we,Ke=280+Be.ua,ct=q.Pb?_e:16777216,Qe=0<Be.ua?Be.Wa:null,it=Be.wc,ot=Xe<Ue?Et(Be,Ce,_e):null;t(q.C<we),t(Ue<=ge);var gt=!1;e:for(;;){for(;gt||Xe<Ue;){var vt=0;if(_e>=ct){var Sr=Xe-re;t((ct=q).Pb),ct.wd=ct.m,ct.xd=Sr,0<ct.s.ua&&he(ct.s.Wa,ct.s.vb),ct=_e+Ed}if(Ce&it||(ot=Et(Be,Ce,_e)),t(ot!=null),ot.Qb&&(Y[Xe]=ot.qb,gt=!0),!gt)if(J(Ee),ot.jc){vt=Ee,Sr=Y;var lr=Xe,en=ot.pd[Z(vt)&La-1];t(ot.jc),256>en.g?(H(vt,vt.u+en.g),Sr[lr]=en.value,vt=0):(H(vt,vt.u+en.g-256),t(256<=en.value),vt=en.value),vt==0&&(gt=!0)}else vt=ze(ot.G[0],ot.H[0],Ee);if(Ee.h)break;if(gt||256>vt){if(!gt)if(ot.nd)Y[Xe]=(ot.qb|vt<<8)>>>0;else{if(J(Ee),gt=ze(ot.G[1],ot.H[1],Ee),J(Ee),Sr=ze(ot.G[2],ot.H[2],Ee),lr=ze(ot.G[3],ot.H[3],Ee),Ee.h)break;Y[Xe]=(lr<<24|gt<<16|vt<<8|Sr)>>>0}if(gt=!1,++Xe,++Ce>=le&&(Ce=0,++_e,xe!=null&&_e<=we&&!(_e%16)&&xe(q,_e),Qe!=null))for(;Te<Xe;)vt=Y[Te++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else if(280>vt){if(vt=Kt(vt-256,Ee),Sr=ze(ot.G[4],ot.H[4],Ee),J(Ee),Sr=Le(le,Sr=Kt(Sr,Ee)),Ee.h)break;if(Xe-re<Sr||ge-Xe<vt)break e;for(lr=0;lr<vt;++lr)Y[Xe+lr]=Y[Xe+lr-Sr];for(Xe+=vt,Ce+=vt;Ce>=le;)Ce-=le,++_e,xe!=null&&_e<=we&&!(_e%16)&&xe(q,_e);if(t(Xe<=ge),Ce&it&&(ot=Et(Be,Ce,_e)),Qe!=null)for(;Te<Xe;)vt=Y[Te++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else{if(!(vt<Ke))break e;for(gt=vt-280,t(Qe!=null);Te<Xe;)vt=Y[Te++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt;vt=Xe,t(!(gt>>>(Sr=Qe).Xa)),Y[vt]=Sr.X[gt],gt=!0}gt||t(Ee.h==ne(Ee))}if(q.Pb&&Ee.h&&Xe<ge)t(q.m.h),q.a=5,q.m=q.wd,q.$=q.xd,0<q.s.ua&&he(q.s.vb,q.s.Wa);else{if(Ee.h)break e;xe!=null&&xe(q,_e>we?we:_e),q.a=0,q.$=Xe-re}return 1}return q.a=3,0}function hr(q){t(q!=null),q.vc=null,q.yc=null,q.Ya=null;var Y=q.Wa;Y!=null&&(Y.X=null),q.vb=null,t(q!=null)}function Lr(){var q=new Dr;return q==null?null:(q.a=0,q.xb=Fc,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),As=at,Ic=lt,Pc=Ut,Vo=ft,ml=st,gl=mt,Xl=At,M.VP8LMapColor32b=So,M.VP8LMapColor8b=Gl,q)}function pn(q,Y,re,le,ge){var we=1,xe=[q],_e=[Y],Ce=le.m,Ee=le.s,Be=null,Xe=0;e:for(;;){if(re)for(;we&&D(Ce,1);){var Te=xe,Ue=_e,Ke=le,ct=1,Qe=Ke.m,it=Ke.gc[Ke.ab],ot=D(Qe,2);if(Ke.Oc&1<<ot)we=0;else{switch(Ke.Oc|=1<<ot,it.hc=ot,it.Ea=Te[0],it.nc=Ue[0],it.K=[null],++Ke.ab,t(4>=Ke.ab),ot){case 0:case 1:it.b=D(Qe,3)+2,ct=pn(ye(it.Ea,it.b),ye(it.nc,it.b),0,Ke,it.K),it.K=it.K[0];break;case 3:var gt,vt=D(Qe,8)+1,Sr=16<vt?0:4<vt?1:2<vt?2:3;if(Te[0]=ye(it.Ea,Sr),it.b=Sr,gt=ct=pn(vt,1,0,Ke,it.K)){var lr,en=vt,pr=it,yn=1<<(8>>pr.b),_s=s(yn);if(_s==null)gt=0;else{var nn=pr.K[0],cr=pr.w;for(_s[0]=pr.K[0][0],lr=1;lr<1*en;++lr)_s[lr]=Re(nn[cr+lr],_s[lr-1]);for(;lr<4*yn;++lr)_s[lr]=0;pr.K[0]=null,pr.K[0]=_s,gt=1}}ct=gt;break;case 2:break;default:t(0)}we=ct}}if(xe=xe[0],_e=_e[0],we&&D(Ce,1)&&!(we=1<=(Xe=D(Ce,4))&&11>=Xe)){le.a=3;break e}var Ht;if(Ht=we)t:{var Ts,Kr,dn,is=le,fi=xe,Us=_e,gs=Xe,Js=re,pi=is.m,hs=is.s,xn=[null],Rn=1,fs=0,Mn=wp[gs];r:for(;;){if(Js&&D(pi,1)){var Ss=D(pi,3)+2,Ns=ye(fi,Ss),Xn=ye(Us,Ss),Pi=Ns*Xn;if(!pn(Ns,Xn,0,is,xn))break r;for(xn=xn[0],hs.xc=Ss,Ts=0;Ts<Pi;++Ts){var $n=xn[Ts]>>8&65535;xn[Ts]=$n,$n>=Rn&&(Rn=$n+1)}}if(pi.h)break r;for(Kr=0;5>Kr;++Kr){var Yn=ec[Kr];!Kr&&0<gs&&(Yn+=1<<gs),fs<Yn&&(fs=Yn)}var $s=o(Rn*Mn,E),Si=Rn,na=o(Si,A);if(na==null)var js=null;else t(65536>=Si),js=na;var Is=s(fs);if(js==null||Is==null||$s==null){is.a=1;break r}var Ri=$s;for(Ts=dn=0;Ts<Rn;++Ts){var Zn=js[Ts],Mi=Zn.G,Ba=Zn.H,no=0,mi=1,Ps=0;for(Kr=0;5>Kr;++Kr){Yn=ec[Kr],Mi[Kr]=Ri,Ba[Kr]=dn,!Kr&&0<gs&&(Yn+=1<<gs);s:{var xl,qo=Yn,zc=is,ko=Is,Cp=Ri,rf=dn,us=0,so=zc.m,nf=D(so,1);if(i(ko,0,0,qo),nf){var sf=D(so,1)+1,Td=D(so,1),jd=D(so,Td==0?1:8);ko[jd]=1,sf==2&&(ko[jd=D(so,8)]=1);var Eo=1}else{var ps=s(19),qs=D(so,4)+4;if(19<qs){zc.a=3;var Rs=0;break s}for(xl=0;xl<qs;++xl)ps[ug[xl]]=D(so,3);var Uc=void 0,Ho=void 0,$c=zc,gg=ps,ei=qo,Id=ko,Fu=0,Ao=$c.m,io=8,xa=o(128,E);n:for(;I(xa,0,7,gg,19);){if(D(Ao,1)){var Bu=2+2*D(Ao,3);if((Uc=2+D(Ao,Bu))>ei)break n}else Uc=ei;for(Ho=0;Ho<ei&&Uc--;){J(Ao);var Pd=xa[0+(127&Z(Ao))];H(Ao,Ao.u+Pd.g);var _l=Pd.value;if(16>_l)Id[Ho++]=_l,_l!=0&&(io=_l);else{var kp=_l==16,af=_l-16,Ep=kd[af],of=D(Ao,Mu[af])+Ep;if(Ho+of>ei)break n;for(var Ap=kp?io:0;0<of--;)Id[Ho++]=Ap}}Fu=1;break n}Fu||($c.a=3),Eo=Fu}(Eo=Eo&&!so.h)&&(us=I(Cp,rf,8,ko,qo)),Eo&&us!=0?Rs=us:(zc.a=3,Rs=0)}if(Rs==0)break r;if(mi&&bp[Kr]==1&&(mi=Ri[dn].g==0),no+=Ri[dn].g,dn+=Rs,3>=Kr){var qc,Rd=Is[0];for(qc=1;qc<Yn;++qc)Is[qc]>Rd&&(Rd=Is[qc]);Ps+=Rd}}if(Zn.nd=mi,Zn.Qb=0,mi&&(Zn.qb=(Mi[3][Ba[3]+0].value<<24|Mi[1][Ba[1]+0].value<<16|Mi[2][Ba[2]+0].value)>>>0,no==0&&256>Mi[0][Ba[0]+0].value&&(Zn.Qb=1,Zn.qb+=Mi[0][Ba[0]+0].value<<8)),Zn.jc=!Zn.Qb&&6>Ps,Zn.jc){var Vu,_a=Zn;for(Vu=0;Vu<La;++Vu){var Wo=Vu,ao=_a.pd[Wo],ic=_a.G[0][_a.H[0]+Wo];256<=ic.value?(ao.g=ic.g+256,ao.value=ic.value):(ao.g=0,ao.value=0,Wo>>=et(ic,8,ao),Wo>>=et(_a.G[1][_a.H[1]+Wo],16,ao),Wo>>=et(_a.G[2][_a.H[2]+Wo],0,ao),et(_a.G[3][_a.H[3]+Wo],24,ao))}}}hs.vc=xn,hs.Wb=Rn,hs.Ya=js,hs.yc=$s,Ht=1;break t}Ht=0}if(!(we=Ht)){le.a=3;break e}if(0<Xe){if(Ee.ua=1<<Xe,!ce(Ee.Wa,Xe)){le.a=1,we=0;break e}}else Ee.ua=0;var Md=le,Od=xe,Tp=_e,Ld=Md.s,Dd=Ld.xc;if(Md.c=Od,Md.i=Tp,Ld.md=ye(Od,Dd),Ld.wc=Dd==0?-1:(1<<Dd)-1,re){le.xb=Co;break e}if((Be=s(xe*_e))==null){le.a=1,we=0;break e}we=(we=mr(le,Be,0,xe,_e,_e,null))&&!Ce.h;break e}return we?(ge!=null?ge[0]=Be:(t(Be==null),t(re)),le.$=0,re||hr(Ee)):hr(Ee),we}function on(q,Y){var re=q.c*q.i,le=re+Y+16*Y;return t(q.c<=Y),q.V=s(le),q.V==null?(q.Ta=null,q.Ua=0,q.a=1,0):(q.Ta=q.V,q.Ua=q.Ba+re+Y,1)}function Ln(q,Y){var re=q.C,le=Y-re,ge=q.V,we=q.Ba+q.c*re;for(t(Y<=q.l.o);0<le;){var xe=16<le?16:le,_e=q.l.ma,Ce=q.l.width,Ee=Ce*xe,Be=_e.ca,Xe=_e.tb+Ce*re,Te=q.Ta,Ue=q.Ua;er(q,xe,ge,we),Hh(Te,Ue,Be,Xe,Ee),ir(_e,re,re+xe,Be,Xe,Ce),le-=xe,ge+=xe*q.c,re+=xe}t(re==Y),q.C=q.Ma=Y}function In(){this.ub=this.yd=this.td=this.Rb=0}function Wn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ae(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function $e(){this.Yb=(function(){var q=[];return(function Y(re,le,ge){for(var we=ge[le],xe=0;xe<we&&(re.push(ge.length>le+1?[]:0),!(ge.length<le+1));xe++)Y(re[xe],le+1,ge)})(q,0,[3,11]),q})()}function pt(){this.jb=s(3),this.Wc=l([4,8],$e),this.Xc=l([4,17],$e)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gt(){this.ld=this.La=this.dd=this.tc=0}function Pt(){this.Na=this.la=0}function Ft(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gt),this.Y=0,this.ya=Array(new Gr),this.aa=0,this.l=new Yr}function Tr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wr(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new In,this.Kc=new Wn,this.ed=new Nt,this.Qa=new Ae,this.Ic=this.$c=this.Aa=0,this.D=new Pr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,j),this.ia=0,this.pb=o(4,Ft),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tr),this.Hd=0,this.rb=Array(new Pt),this.sb=0,this.wa=Array(new Gt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gr),this.L=this.aa=0,this.gd=l([4,2],Gt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rr(q,Y){return 0>q?0:q>Y?Y:q}function Yr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jr(){var q=new wr;return q!=null&&(q.a=0,q.sc="OK",q.cb=0,q.Xb=0,tc||(tc=Hr)),q}function Fr(q,Y,re){return q.a==0&&(q.a=Y,q.sc=re,q.cb=0),0}function En(q,Y,re){return 3<=re&&q[Y+0]==157&&q[Y+1]==1&&q[Y+2]==42}function kn(q,Y){if(q==null)return 0;if(q.a=0,q.sc="OK",Y==null)return Fr(q,2,"null VP8Io passed to VP8GetHeaders()");var re=Y.data,le=Y.w,ge=Y.ha;if(4>ge)return Fr(q,7,"Truncated header.");var we=re[le+0]|re[le+1]<<8|re[le+2]<<16,xe=q.Od;if(xe.Rb=!(1&we),xe.td=we>>1&7,xe.yd=we>>4&1,xe.ub=we>>5,3<xe.td)return Fr(q,3,"Incorrect keyframe parameters.");if(!xe.yd)return Fr(q,4,"Frame not displayable.");le+=3,ge-=3;var _e=q.Kc;if(xe.Rb){if(7>ge)return Fr(q,7,"cannot parse picture header");if(!En(re,le,ge))return Fr(q,3,"Bad code word");_e.c=16383&(re[le+4]<<8|re[le+3]),_e.Td=re[le+4]>>6,_e.i=16383&(re[le+6]<<8|re[le+5]),_e.Ud=re[le+6]>>6,le+=7,ge-=7,q.za=_e.c+15>>4,q.Ub=_e.i+15>>4,Y.width=_e.c,Y.height=_e.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,i((we=q.Pa).jb,0,255,we.jb.length),t((we=q.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,i(we.Zb,0,0,we.Zb.length),i(we.Lb,0,0,we.Lb)}if(xe.ub>ge)return Fr(q,7,"bad partition length");S(we=q.m,re,le,xe.ub),le+=xe.ub,ge-=xe.ub,xe.Rb&&(_e.Ld=B(we),_e.Kd=B(we)),_e=q.Qa;var Ce,Ee=q.Pa;if(t(we!=null),t(_e!=null),_e.Cb=B(we),_e.Cb){if(_e.Bb=B(we),B(we)){for(_e.Fb=B(we),Ce=0;4>Ce;++Ce)_e.Zb[Ce]=B(we)?N(we,7):0;for(Ce=0;4>Ce;++Ce)_e.Lb[Ce]=B(we)?N(we,6):0}if(_e.Bb)for(Ce=0;3>Ce;++Ce)Ee.jb[Ce]=B(we)?k(we,8):255}else _e.Bb=0;if(we.Ka)return Fr(q,3,"cannot parse segment header");if((_e=q.ed).zd=B(we),_e.Tb=k(we,6),_e.wb=k(we,3),_e.Pc=B(we),_e.Pc&&B(we)){for(Ee=0;4>Ee;++Ee)B(we)&&(_e.vd[Ee]=N(we,6));for(Ee=0;4>Ee;++Ee)B(we)&&(_e.od[Ee]=N(we,6))}if(q.L=_e.Tb==0?0:_e.zd?1:2,we.Ka)return Fr(q,3,"cannot parse filter header");var Be=ge;if(ge=Ce=le,le=Ce+Be,_e=Be,q.Xb=(1<<k(q.m,2))-1,Be<3*(Ee=q.Xb))re=7;else{for(Ce+=3*Ee,_e-=3*Ee,Be=0;Be<Ee;++Be){var Xe=re[ge+0]|re[ge+1]<<8|re[ge+2]<<16;Xe>_e&&(Xe=_e),S(q.Jc[+Be],re,Ce,Xe),Ce+=Xe,_e-=Xe,ge+=3}S(q.Jc[+Ee],re,Ce,_e),re=Ce<le?0:5}if(re!=0)return Fr(q,re,"cannot parse partitions");for(re=k(Ce=q.m,7),ge=B(Ce)?N(Ce,4):0,le=B(Ce)?N(Ce,4):0,_e=B(Ce)?N(Ce,4):0,Ee=B(Ce)?N(Ce,4):0,Ce=B(Ce)?N(Ce,4):0,Be=q.Qa,Xe=0;4>Xe;++Xe){if(Be.Cb){var Te=Be.Zb[Xe];Be.Fb||(Te+=re)}else{if(0<Xe){q.pb[Xe]=q.pb[0];continue}Te=re}var Ue=q.pb[Xe];Ue.Sc[0]=Dc[Rr(Te+ge,127)],Ue.Sc[1]=Ou[Rr(Te+0,127)],Ue.Eb[0]=2*Dc[Rr(Te+le,127)],Ue.Eb[1]=101581*Ou[Rr(Te+_e,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Dc[Rr(Te+Ee,117)],Ue.Qc[1]=Ou[Rr(Te+Ce,127)],Ue.lc=Te+Ce}if(!xe.Rb)return Fr(q,4,"Not a key frame.");for(B(we),xe=q.Pa,re=0;4>re;++re){for(ge=0;8>ge;++ge)for(le=0;3>le;++le)for(_e=0;11>_e;++_e)Ee=Q(we,fg[re][ge][le][_e])?k(we,8):_p[re][ge][le][_e],xe.Wc[re][ge].Yb[le][_e]=Ee;for(ge=0;17>ge;++ge)xe.Xc[re][ge]=xe.Wc[re][Jh[ge]]}return q.kc=B(we),q.kc&&(q.Bd=k(we,8)),q.cb=1}function Hr(q,Y,re,le,ge,we,xe){var _e=Y[ge].Yb[re];for(re=0;16>ge;++ge){if(!Q(q,_e[re+0]))return ge;for(;!Q(q,_e[re+1]);)if(_e=Y[++ge].Yb[0],re=0,ge==16)return 16;var Ce=Y[ge+1].Yb;if(Q(q,_e[re+2])){var Ee=q,Be=0;if(Q(Ee,(Te=_e)[(Xe=re)+3]))if(Q(Ee,Te[Xe+6])){for(_e=0,Xe=2*(Be=Q(Ee,Te[Xe+8]))+(Te=Q(Ee,Te[Xe+9+Be])),Be=0,Te=Zh[Xe];Te[_e];++_e)Be+=Be+Q(Ee,Te[_e]);Be+=3+(8<<Xe)}else Q(Ee,Te[Xe+7])?(Be=7+2*Q(Ee,165),Be+=Q(Ee,145)):Be=5+Q(Ee,159);else Be=Q(Ee,Te[Xe+4])?3+Q(Ee,Te[Xe+5]):2;_e=Ce[2]}else Be=1,_e=Ce[1];Ce=xe+Qh[ge],0>(Ee=q).b&&z(Ee);var Xe,Te=Ee.b,Ue=(Xe=Ee.Ca>>1)-(Ee.I>>Te)>>31;--Ee.b,Ee.Ca+=Ue,Ee.Ca|=1,Ee.I-=(Xe+1&Ue)<<Te,we[Ce]=((Be^Ue)-Ue)*le[(0<ge)+0]}return 16}function Ls(q){var Y=q.rb[q.sb-1];Y.la=0,Y.Na=0,i(q.zc,0,0,q.zc.length),q.ja=0}function ls(q,Y,re,le,ge){ge=q[Y+re+32*le]+(ge>>3),q[Y+re+32*le]=-256&ge?0>ge?0:255:ge}function An(q,Y,re,le,ge,we){ls(q,Y,0,re,le+ge),ls(q,Y,1,re,le+we),ls(q,Y,2,re,le-we),ls(q,Y,3,re,le-ge)}function Ds(q){return(20091*q>>16)+q}function ln(q,Y,re,le){var ge,we=0,xe=s(16);for(ge=0;4>ge;++ge){var _e=q[Y+0]+q[Y+8],Ce=q[Y+0]-q[Y+8],Ee=(35468*q[Y+4]>>16)-Ds(q[Y+12]),Be=Ds(q[Y+4])+(35468*q[Y+12]>>16);xe[we+0]=_e+Be,xe[we+1]=Ce+Ee,xe[we+2]=Ce-Ee,xe[we+3]=_e-Be,we+=4,Y++}for(ge=we=0;4>ge;++ge)_e=(q=xe[we+0]+4)+xe[we+8],Ce=q-xe[we+8],Ee=(35468*xe[we+4]>>16)-Ds(xe[we+12]),ls(re,le,0,0,_e+(Be=Ds(xe[we+4])+(35468*xe[we+12]>>16))),ls(re,le,1,0,Ce+Ee),ls(re,le,2,0,Ce-Ee),ls(re,le,3,0,_e-Be),we++,le+=32}function rn(q,Y,re,le){var ge=q[Y+0]+4,we=35468*q[Y+4]>>16,xe=Ds(q[Y+4]),_e=35468*q[Y+1]>>16;An(re,le,0,ge+xe,q=Ds(q[Y+1]),_e),An(re,le,1,ge+we,q,_e),An(re,le,2,ge-we,q,_e),An(re,le,3,ge-xe,q,_e)}function ci(q,Y,re,le,ge){ln(q,Y,re,le),ge&&ln(q,Y+16,re,le+4)}function Fs(q,Y,re,le){Yl(q,Y+0,re,le,1),Yl(q,Y+32,re,le+128,1)}function ma(q,Y,re,le){var ge;for(q=q[Y+0]+4,ge=0;4>ge;++ge)for(Y=0;4>Y;++Y)ls(re,le,Y,ge,q)}function Or(q,Y,re,le){q[Y+0]&&Pn(q,Y+0,re,le),q[Y+16]&&Pn(q,Y+16,re,le+4),q[Y+32]&&Pn(q,Y+32,re,le+128),q[Y+48]&&Pn(q,Y+48,re,le+128+4)}function cs(q,Y,re,le){var ge,we=s(16);for(ge=0;4>ge;++ge){var xe=q[Y+0+ge]+q[Y+12+ge],_e=q[Y+4+ge]+q[Y+8+ge],Ce=q[Y+4+ge]-q[Y+8+ge],Ee=q[Y+0+ge]-q[Y+12+ge];we[0+ge]=xe+_e,we[8+ge]=xe-_e,we[4+ge]=Ee+Ce,we[12+ge]=Ee-Ce}for(ge=0;4>ge;++ge)xe=(q=we[0+4*ge]+3)+we[3+4*ge],_e=we[1+4*ge]+we[2+4*ge],Ce=we[1+4*ge]-we[2+4*ge],Ee=q-we[3+4*ge],re[le+0]=xe+_e>>3,re[le+16]=Ee+Ce>>3,re[le+32]=xe-_e>>3,re[le+48]=Ee-Ce>>3,le+=64}function Bs(q,Y,re){var le,ge=Y-32,we=zi,xe=255-q[ge-1];for(le=0;le<re;++le){var _e,Ce=we,Ee=xe+q[Y-1];for(_e=0;_e<re;++_e)q[Y+_e]=Ce[Ee+q[ge+_e]];Y+=32}}function Ki(q,Y){Bs(q,Y,4)}function Ia(q,Y){Bs(q,Y,8)}function Xi(q,Y){Bs(q,Y,16)}function ui(q,Y){var re;for(re=0;16>re;++re)n(q,Y+32*re,q,Y-32,16)}function ki(q,Y){var re;for(re=16;0<re;--re)i(q,Y,q[Y-1],16),Y+=32}function ks(q,Y,re){var le;for(le=0;16>le;++le)i(Y,re+32*le,q,16)}function Ei(q,Y){var re,le=16;for(re=0;16>re;++re)le+=q[Y-1+32*re]+q[Y+re-32];ks(le>>5,q,Y)}function Es(q,Y){var re,le=8;for(re=0;16>re;++re)le+=q[Y-1+32*re];ks(le>>4,q,Y)}function es(q,Y){var re,le=8;for(re=0;16>re;++re)le+=q[Y+re-32];ks(le>>4,q,Y)}function Pa(q,Y){ks(128,q,Y)}function Cr(q,Y,re){return q+2*Y+re+2>>2}function Vs(q,Y){var re,le=Y-32;for(le=new Uint8Array([Cr(q[le-1],q[le+0],q[le+1]),Cr(q[le+0],q[le+1],q[le+2]),Cr(q[le+1],q[le+2],q[le+3]),Cr(q[le+2],q[le+3],q[le+4])]),re=0;4>re;++re)n(q,Y+32*re,le,0,le.length)}function Ac(q,Y){var re=q[Y-1],le=q[Y-1+32],ge=q[Y-1+64],we=q[Y-1+96];oe(q,Y+0,16843009*Cr(q[Y-1-32],re,le)),oe(q,Y+32,16843009*Cr(re,le,ge)),oe(q,Y+64,16843009*Cr(le,ge,we)),oe(q,Y+96,16843009*Cr(ge,we,we))}function mo(q,Y){var re,le=4;for(re=0;4>re;++re)le+=q[Y+re-32]+q[Y-1+32*re];for(le>>=3,re=0;4>re;++re)i(q,Y+32*re,le,4)}function Ys(q,Y){var re=q[Y-1+0],le=q[Y-1+32],ge=q[Y-1+64],we=q[Y-1-32],xe=q[Y+0-32],_e=q[Y+1-32],Ce=q[Y+2-32],Ee=q[Y+3-32];q[Y+0+96]=Cr(le,ge,q[Y-1+96]),q[Y+1+96]=q[Y+0+64]=Cr(re,le,ge),q[Y+2+96]=q[Y+1+64]=q[Y+0+32]=Cr(we,re,le),q[Y+3+96]=q[Y+2+64]=q[Y+1+32]=q[Y+0+0]=Cr(xe,we,re),q[Y+3+64]=q[Y+2+32]=q[Y+1+0]=Cr(_e,xe,we),q[Y+3+32]=q[Y+2+0]=Cr(Ce,_e,xe),q[Y+3+0]=Cr(Ee,Ce,_e)}function Ra(q,Y){var re=q[Y+1-32],le=q[Y+2-32],ge=q[Y+3-32],we=q[Y+4-32],xe=q[Y+5-32],_e=q[Y+6-32],Ce=q[Y+7-32];q[Y+0+0]=Cr(q[Y+0-32],re,le),q[Y+1+0]=q[Y+0+32]=Cr(re,le,ge),q[Y+2+0]=q[Y+1+32]=q[Y+0+64]=Cr(le,ge,we),q[Y+3+0]=q[Y+2+32]=q[Y+1+64]=q[Y+0+96]=Cr(ge,we,xe),q[Y+3+32]=q[Y+2+64]=q[Y+1+96]=Cr(we,xe,_e),q[Y+3+64]=q[Y+2+96]=Cr(xe,_e,Ce),q[Y+3+96]=Cr(_e,Ce,Ce)}function ul(q,Y){var re=q[Y-1+0],le=q[Y-1+32],ge=q[Y-1+64],we=q[Y-1-32],xe=q[Y+0-32],_e=q[Y+1-32],Ce=q[Y+2-32],Ee=q[Y+3-32];q[Y+0+0]=q[Y+1+64]=we+xe+1>>1,q[Y+1+0]=q[Y+2+64]=xe+_e+1>>1,q[Y+2+0]=q[Y+3+64]=_e+Ce+1>>1,q[Y+3+0]=Ce+Ee+1>>1,q[Y+0+96]=Cr(ge,le,re),q[Y+0+64]=Cr(le,re,we),q[Y+0+32]=q[Y+1+96]=Cr(re,we,xe),q[Y+1+32]=q[Y+2+96]=Cr(we,xe,_e),q[Y+2+32]=q[Y+3+96]=Cr(xe,_e,Ce),q[Y+3+32]=Cr(_e,Ce,Ee)}function Fn(q,Y){var re=q[Y+0-32],le=q[Y+1-32],ge=q[Y+2-32],we=q[Y+3-32],xe=q[Y+4-32],_e=q[Y+5-32],Ce=q[Y+6-32],Ee=q[Y+7-32];q[Y+0+0]=re+le+1>>1,q[Y+1+0]=q[Y+0+64]=le+ge+1>>1,q[Y+2+0]=q[Y+1+64]=ge+we+1>>1,q[Y+3+0]=q[Y+2+64]=we+xe+1>>1,q[Y+0+32]=Cr(re,le,ge),q[Y+1+32]=q[Y+0+96]=Cr(le,ge,we),q[Y+2+32]=q[Y+1+96]=Cr(ge,we,xe),q[Y+3+32]=q[Y+2+96]=Cr(we,xe,_e),q[Y+3+64]=Cr(xe,_e,Ce),q[Y+3+96]=Cr(_e,Ce,Ee)}function Oo(q,Y){var re=q[Y-1+0],le=q[Y-1+32],ge=q[Y-1+64],we=q[Y-1+96];q[Y+0+0]=re+le+1>>1,q[Y+2+0]=q[Y+0+32]=le+ge+1>>1,q[Y+2+32]=q[Y+0+64]=ge+we+1>>1,q[Y+1+0]=Cr(re,le,ge),q[Y+3+0]=q[Y+1+32]=Cr(le,ge,we),q[Y+3+32]=q[Y+1+64]=Cr(ge,we,we),q[Y+3+64]=q[Y+2+64]=q[Y+0+96]=q[Y+1+96]=q[Y+2+96]=q[Y+3+96]=we}function ql(q,Y){var re=q[Y-1+0],le=q[Y-1+32],ge=q[Y-1+64],we=q[Y-1+96],xe=q[Y-1-32],_e=q[Y+0-32],Ce=q[Y+1-32],Ee=q[Y+2-32];q[Y+0+0]=q[Y+2+32]=re+xe+1>>1,q[Y+0+32]=q[Y+2+64]=le+re+1>>1,q[Y+0+64]=q[Y+2+96]=ge+le+1>>1,q[Y+0+96]=we+ge+1>>1,q[Y+3+0]=Cr(_e,Ce,Ee),q[Y+2+0]=Cr(xe,_e,Ce),q[Y+1+0]=q[Y+3+32]=Cr(re,xe,_e),q[Y+1+32]=q[Y+3+64]=Cr(le,re,xe),q[Y+1+64]=q[Y+3+96]=Cr(ge,le,re),q[Y+1+96]=Cr(we,ge,le)}function Yi(q,Y){var re;for(re=0;8>re;++re)n(q,Y+32*re,q,Y-32,8)}function go(q,Y){var re;for(re=0;8>re;++re)i(q,Y,q[Y-1],8),Y+=32}function wi(q,Y,re){var le;for(le=0;8>le;++le)i(Y,re+32*le,q,8)}function Za(q,Y){var re,le=8;for(re=0;8>re;++re)le+=q[Y+re-32]+q[Y-1+32*re];wi(le>>4,q,Y)}function Zi(q,Y){var re,le=4;for(re=0;8>re;++re)le+=q[Y+re-32];wi(le>>3,q,Y)}function dl(q,Y){var re,le=4;for(re=0;8>re;++re)le+=q[Y-1+32*re];wi(le>>3,q,Y)}function hl(q,Y){wi(128,q,Y)}function di(q,Y,re){var le=q[Y-re],ge=q[Y+0],we=3*(ge-le)+No[1020+q[Y-2*re]-q[Y+re]],xe=Oc[112+(we+4>>3)];q[Y-re]=zi[255+le+Oc[112+(we+3>>3)]],q[Y+0]=zi[255+ge-xe]}function yo(q,Y,re,le){var ge=q[Y+0],we=q[Y+re];return Da[255+q[Y-2*re]-q[Y-re]]>le||Da[255+we-ge]>le}function Qa(q,Y,re,le){return 4*Da[255+q[Y-re]-q[Y+0]]+Da[255+q[Y-2*re]-q[Y+re]]<=le}function xi(q,Y,re,le,ge){var we=q[Y-3*re],xe=q[Y-2*re],_e=q[Y-re],Ce=q[Y+0],Ee=q[Y+re],Be=q[Y+2*re],Xe=q[Y+3*re];return 4*Da[255+_e-Ce]+Da[255+xe-Ee]>le?0:Da[255+q[Y-4*re]-we]<=ge&&Da[255+we-xe]<=ge&&Da[255+xe-_e]<=ge&&Da[255+Xe-Be]<=ge&&Da[255+Be-Ee]<=ge&&Da[255+Ee-Ce]<=ge}function Ma(q,Y,re,le){var ge=2*le+1;for(le=0;16>le;++le)Qa(q,Y+le,re,ge)&&di(q,Y+le,re)}function ga(q,Y,re,le){var ge=2*le+1;for(le=0;16>le;++le)Qa(q,Y+le*re,1,ge)&&di(q,Y+le*re,1)}function Hl(q,Y,re,le){var ge;for(ge=3;0<ge;--ge)Ma(q,Y+=4*re,re,le)}function vo(q,Y,re,le){var ge;for(ge=3;0<ge;--ge)ga(q,Y+=4,re,le)}function hi(q,Y,re,le,ge,we,xe,_e){for(we=2*we+1;0<ge--;){if(xi(q,Y,re,we,xe))if(yo(q,Y,re,_e))di(q,Y,re);else{var Ce=q,Ee=Y,Be=re,Xe=Ce[Ee-2*Be],Te=Ce[Ee-Be],Ue=Ce[Ee+0],Ke=Ce[Ee+Be],ct=Ce[Ee+2*Be],Qe=27*(ot=No[1020+3*(Ue-Te)+No[1020+Xe-Ke]])+63>>7,it=18*ot+63>>7,ot=9*ot+63>>7;Ce[Ee-3*Be]=zi[255+Ce[Ee-3*Be]+ot],Ce[Ee-2*Be]=zi[255+Xe+it],Ce[Ee-Be]=zi[255+Te+Qe],Ce[Ee+0]=zi[255+Ue-Qe],Ce[Ee+Be]=zi[255+Ke-it],Ce[Ee+2*Be]=zi[255+ct-ot]}Y+=le}}function ya(q,Y,re,le,ge,we,xe,_e){for(we=2*we+1;0<ge--;){if(xi(q,Y,re,we,xe))if(yo(q,Y,re,_e))di(q,Y,re);else{var Ce=q,Ee=Y,Be=re,Xe=Ce[Ee-Be],Te=Ce[Ee+0],Ue=Ce[Ee+Be],Ke=Oc[112+(4+(ct=3*(Te-Xe))>>3)],ct=Oc[112+(ct+3>>3)],Qe=Ke+1>>1;Ce[Ee-2*Be]=zi[255+Ce[Ee-2*Be]+Qe],Ce[Ee-Be]=zi[255+Xe+ct],Ce[Ee+0]=zi[255+Te-Ke],Ce[Ee+Be]=zi[255+Ue-Qe]}Y+=le}}function Zs(q,Y,re,le,ge,we){hi(q,Y,re,1,16,le,ge,we)}function Ai(q,Y,re,le,ge,we){hi(q,Y,1,re,16,le,ge,we)}function bo(q,Y,re,le,ge,we){var xe;for(xe=3;0<xe;--xe)ya(q,Y+=4*re,re,1,16,le,ge,we)}function ee(q,Y,re,le,ge,we){var xe;for(xe=3;0<xe;--xe)ya(q,Y+=4,1,re,16,le,ge,we)}function me(q,Y,re,le,ge,we,xe,_e){hi(q,Y,ge,1,8,we,xe,_e),hi(re,le,ge,1,8,we,xe,_e)}function je(q,Y,re,le,ge,we,xe,_e){hi(q,Y,1,ge,8,we,xe,_e),hi(re,le,1,ge,8,we,xe,_e)}function De(q,Y,re,le,ge,we,xe,_e){ya(q,Y+4*ge,ge,1,8,we,xe,_e),ya(re,le+4*ge,ge,1,8,we,xe,_e)}function We(q,Y,re,le,ge,we,xe,_e){ya(q,Y+4,1,ge,8,we,xe,_e),ya(re,le+4,1,ge,8,we,xe,_e)}function ht(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function or(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gr(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new E}function Dr(){this.xb=this.a=0,this.l=new Yr,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gr,this.ab=0,this.gc=o(4,or),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(q,Y,re,le,ge,we,xe){for(q=q==null?0:q[Y+0],Y=0;Y<xe;++Y)ge[we+Y]=q+re[le+Y]&255,q=ge[we+Y]}function ts(q,Y,re,le,ge,we,xe){var _e;if(q==null)mn(null,null,re,le,ge,we,xe);else for(_e=0;_e<xe;++_e)ge[we+_e]=q[Y+_e]+re[le+_e]&255}function Gn(q,Y,re,le,ge,we,xe){if(q==null)mn(null,null,re,le,ge,we,xe);else{var _e,Ce=q[Y+0],Ee=Ce,Be=Ce;for(_e=0;_e<xe;++_e)Ee=Be+(Ce=q[Y+_e])-Ee,Be=re[le+_e]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=Ce,ge[we+_e]=Be}}function W(q,Y,re,le){var ge=Y.width,we=Y.o;if(t(q!=null&&Y!=null),0>re||0>=le||re+le>we)return null;if(!q.Cc){if(q.ga==null){var xe;if(q.ga=new kr,(xe=q.ga==null)||(xe=Y.width*Y.o,t(q.Gb.length==0),q.Gb=s(xe),q.Uc=0,q.Gb==null?xe=0:(q.mb=q.Gb,q.nb=q.Uc,q.rc=null,xe=1),xe=!xe),!xe){xe=q.ga;var _e=q.Fa,Ce=q.P,Ee=q.qc,Be=q.mb,Xe=q.nb,Te=Ce+1,Ue=Ee-1,Ke=xe.l;if(t(_e!=null&&Be!=null&&Y!=null),Ii[0]=null,Ii[1]=mn,Ii[2]=ts,Ii[3]=Gn,xe.ca=Be,xe.tb=Xe,xe.c=Y.width,xe.i=Y.height,t(0<xe.c&&0<xe.i),1>=Ee)Y=0;else if(xe.$a=3&_e[Ce+0],xe.Z=_e[Ce+0]>>2&3,xe.Lc=_e[Ce+0]>>4&3,Ce=_e[Ce+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Ce)Y=0;else if(Ke.put=bt,Ke.ac=br,Ke.bc=Ar,Ke.ma=xe,Ke.width=Y.width,Ke.height=Y.height,Ke.Da=Y.Da,Ke.v=Y.v,Ke.va=Y.va,Ke.j=Y.j,Ke.o=Y.o,xe.$a)e:{t(xe.$a==1),Y=Lr();t:for(;;){if(Y==null){Y=0;break e}if(t(xe!=null),xe.mc=Y,Y.c=xe.c,Y.i=xe.i,Y.l=xe.l,Y.l.ma=xe,Y.l.width=xe.c,Y.l.height=xe.i,Y.a=0,C(Y.m,_e,Te,Ue),!pn(xe.c,xe.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&dr(Y.s)?(xe.ic=1,_e=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=s(_e),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):(xe.ic=0,Y=on(Y,xe.c)),!Y))break t;Y=1;break e}xe.mc=null,Y=0}else Y=Ue>=xe.c*xe.i;xe=!Y}if(xe)return null;q.ga.Lc!=1?q.Ga=0:le=we-re}t(q.ga!=null),t(re+le<=we);e:{if(Y=(_e=q.ga).c,we=_e.l.o,_e.$a==0){if(Te=q.rc,Ue=q.Vc,Ke=q.Fa,Ce=q.P+1+re*Y,Ee=q.mb,Be=q.nb+re*Y,t(Ce<=q.P+q.qc),_e.Z!=0)for(t(Ii[_e.Z]!=null),xe=0;xe<le;++xe)Ii[_e.Z](Te,Ue,Ke,Ce,Ee,Be,Y),Te=Ee,Ue=Be,Be+=Y,Ce+=Y;else for(xe=0;xe<le;++xe)n(Ee,Be,Ke,Ce,Y),Te=Ee,Ue=Be,Be+=Y,Ce+=Y;q.rc=Te,q.Vc=Ue}else{if(t(_e.mc!=null),Y=re+le,t((xe=_e.mc)!=null),t(Y<=xe.i),xe.C>=Y)Y=1;else if(_e.ic||rt(),_e.ic){_e=xe.V,Te=xe.Ba,Ue=xe.c;var ct=xe.i,Qe=(Ke=1,Ce=xe.$/Ue,Ee=xe.$%Ue,Be=xe.m,Xe=xe.s,xe.$),it=Ue*ct,ot=Ue*Y,gt=Xe.wc,vt=Qe<ot?Et(Xe,Ee,Ce):null;t(Qe<=it),t(Y<=ct),t(dr(Xe));t:for(;;){for(;!Be.h&&Qe<ot;){if(Ee&gt||(vt=Et(Xe,Ee,Ce)),t(vt!=null),J(Be),256>(ct=ze(vt.G[0],vt.H[0],Be)))_e[Te+Qe]=ct,++Qe,++Ee>=Ue&&(Ee=0,++Ce<=Y&&!(Ce%16)&&Wt(xe,Ce));else{if(!(280>ct)){Ke=0;break t}ct=Kt(ct-256,Be);var Sr,lr=ze(vt.G[4],vt.H[4],Be);if(J(Be),!(Qe>=(lr=Le(Ue,lr=Kt(lr,Be)))&&it-Qe>=ct)){Ke=0;break t}for(Sr=0;Sr<ct;++Sr)_e[Te+Qe+Sr]=_e[Te+Qe+Sr-lr];for(Qe+=ct,Ee+=ct;Ee>=Ue;)Ee-=Ue,++Ce<=Y&&!(Ce%16)&&Wt(xe,Ce);Qe<ot&&Ee&gt&&(vt=Et(Xe,Ee,Ce))}t(Be.h==ne(Be))}Wt(xe,Ce>Y?Y:Ce);break t}!Ke||Be.h&&Qe<it?(Ke=0,xe.a=Be.h?5:3):xe.$=Qe,Y=Ke}else Y=mr(xe,xe.V,xe.Ba,xe.c,xe.i,Y,Ln);if(!Y){le=0;break e}}re+le>=we&&(q.Cc=1),le=1}if(!le)return null;if(q.Cc&&((le=q.ga)!=null&&(le.mc=null),q.ga=null,0<q.Ga))return alert("todo:WebPDequantizeLevels"),null}return q.nb+re*ge}function se(q,Y,re,le,ge,we){for(;0<ge--;){var xe,_e=q,Ce=Y+(re?1:0),Ee=q,Be=Y+(re?0:3);for(xe=0;xe<le;++xe){var Xe=Ee[Be+4*xe];Xe!=255&&(Xe*=32897,_e[Ce+4*xe+0]=_e[Ce+4*xe+0]*Xe>>23,_e[Ce+4*xe+1]=_e[Ce+4*xe+1]*Xe>>23,_e[Ce+4*xe+2]=_e[Ce+4*xe+2]*Xe>>23)}Y+=we}}function ue(q,Y,re,le,ge){for(;0<le--;){var we;for(we=0;we<re;++we){var xe=q[Y+2*we+0],_e=15&(Ee=q[Y+2*we+1]),Ce=4369*_e,Ee=(240&Ee|Ee>>4)*Ce>>16;q[Y+2*we+0]=(240&xe|xe>>4)*Ce>>16&240|(15&xe|xe<<4)*Ce>>16>>4&15,q[Y+2*we+1]=240&Ee|_e}Y+=ge}}function Ne(q,Y,re,le,ge,we,xe,_e){var Ce,Ee,Be=255;for(Ee=0;Ee<ge;++Ee){for(Ce=0;Ce<le;++Ce){var Xe=q[Y+Ce];we[xe+4*Ce]=Xe,Be&=Xe}Y+=re,xe+=_e}return Be!=255}function Ge(q,Y,re,le,ge){var we;for(we=0;we<ge;++we)re[le+we]=q[Y+we]>>8}function rt(){Ql=se,qh=ue,Tu=Ne,Hh=Ge}function Vt(q,Y,re){M[q]=function(le,ge,we,xe,_e,Ce,Ee,Be,Xe,Te,Ue,Ke,ct,Qe,it,ot,gt){var vt,Sr=gt-1>>1,lr=_e[Ce+0]|Ee[Be+0]<<16,en=Xe[Te+0]|Ue[Ke+0]<<16;t(le!=null);var pr=3*lr+en+131074>>2;for(Y(le[ge+0],255&pr,pr>>16,ct,Qe),we!=null&&(pr=3*en+lr+131074>>2,Y(we[xe+0],255&pr,pr>>16,it,ot)),vt=1;vt<=Sr;++vt){var yn=_e[Ce+vt]|Ee[Be+vt]<<16,_s=Xe[Te+vt]|Ue[Ke+vt]<<16,nn=lr+yn+en+_s+524296,cr=nn+2*(yn+en)>>3;pr=cr+lr>>1,lr=(nn=nn+2*(lr+_s)>>3)+yn>>1,Y(le[ge+2*vt-1],255&pr,pr>>16,ct,Qe+(2*vt-1)*re),Y(le[ge+2*vt-0],255&lr,lr>>16,ct,Qe+(2*vt-0)*re),we!=null&&(pr=nn+en>>1,lr=cr+_s>>1,Y(we[xe+2*vt-1],255&pr,pr>>16,it,ot+(2*vt-1)*re),Y(we[xe+2*vt+0],255&lr,lr>>16,it,ot+(2*vt+0)*re)),lr=yn,en=_s}1&gt||(pr=3*lr+en+131074>>2,Y(le[ge+gt-1],255&pr,pr>>16,ct,Qe+(gt-1)*re),we!=null&&(pr=3*en+lr+131074>>2,Y(we[xe+gt-1],255&pr,pr>>16,it,ot+(gt-1)*re)))}}function Wr(){ea[Nd]=pg,ea[vl]=bl,ea[vp]=mg,ea[ju]=Bc,ea[Iu]=rc,ea[Kn]=Lu,ea[Cd]=ef,ea[Lc]=bl,ea[Jl]=Bc,ea[Pu]=rc,ea[Ru]=Lu}function rs(q){return q&-16384?0>q?0:255:q>>wl}function gn(q,Y){return rs((19077*q>>8)+(26149*Y>>8)-14234)}function ns(q,Y,re){return rs((19077*q>>8)-(6419*Y>>8)-(13320*re>>8)+8708)}function Qs(q,Y){return rs((19077*q>>8)+(33050*Y>>8)-17685)}function Ti(q,Y,re,le,ge){le[ge+0]=gn(q,re),le[ge+1]=ns(q,Y,re),le[ge+2]=Qs(q,Y)}function ss(q,Y,re,le,ge){le[ge+0]=Qs(q,Y),le[ge+1]=ns(q,Y,re),le[ge+2]=gn(q,re)}function ji(q,Y,re,le,ge){var we=ns(q,Y,re);Y=we<<3&224|Qs(q,Y)>>3,le[ge+0]=248&gn(q,re)|we>>5,le[ge+1]=Y}function Oa(q,Y,re,le,ge){var we=240&Qs(q,Y)|15;le[ge+0]=240&gn(q,re)|ns(q,Y,re)>>4,le[ge+1]=we}function Lo(q,Y,re,le,ge){le[ge+0]=255,Ti(q,Y,re,le,ge+1)}function ku(q,Y,re,le,ge){ss(q,Y,re,le,ge),le[ge+3]=255}function Vi(q,Y,re,le,ge){Ti(q,Y,re,le,ge),le[ge+3]=255}function Ja(q,Y,re){M[q]=function(le,ge,we,xe,_e,Ce,Ee,Be,Xe){for(var Te=Be+(-2&Xe)*re;Be!=Te;)Y(le[ge+0],we[xe+0],_e[Ce+0],Ee,Be),Y(le[ge+1],we[xe+0],_e[Ce+0],Ee,Be+re),ge+=2,++xe,++Ce,Be+=2*re;1&Xe&&Y(le[ge+0],we[xe+0],_e[Ce+0],Ee,Be)}}function wo(q,Y,re){return re==0?q==0?Y==0?6:5:Y==0?4:0:re}function xd(q,Y,re,le,ge){switch(q>>>30){case 3:Yl(Y,re,le,ge,0);break;case 2:ws(Y,re,le,ge);break;case 1:Pn(Y,re,le,ge)}}function va(q,Y){var re,le,ge=Y.M,we=Y.Nb,xe=q.oc,_e=q.pc+40,Ce=q.oc,Ee=q.pc+584,Be=q.oc,Xe=q.pc+600;for(re=0;16>re;++re)xe[_e+32*re-1]=129;for(re=0;8>re;++re)Ce[Ee+32*re-1]=129,Be[Xe+32*re-1]=129;for(0<ge?xe[_e-1-32]=Ce[Ee-1-32]=Be[Xe-1-32]=129:(i(xe,_e-32-1,127,21),i(Ce,Ee-32-1,127,9),i(Be,Xe-32-1,127,9)),le=0;le<q.za;++le){var Te=Y.ya[Y.aa+le];if(0<le){for(re=-1;16>re;++re)n(xe,_e+32*re-4,xe,_e+32*re+12,4);for(re=-1;8>re;++re)n(Ce,Ee+32*re-4,Ce,Ee+32*re+4,4),n(Be,Xe+32*re-4,Be,Xe+32*re+4,4)}var Ue=q.Gd,Ke=q.Hd+le,ct=Te.ad,Qe=Te.Hc;if(0<ge&&(n(xe,_e-32,Ue[Ke].y,0,16),n(Ce,Ee-32,Ue[Ke].f,0,8),n(Be,Xe-32,Ue[Ke].ea,0,8)),Te.Za){var it=xe,ot=_e-32+16;for(0<ge&&(le>=q.za-1?i(it,ot,Ue[Ke].y[15],4):n(it,ot,Ue[Ke+1].y,0,4)),re=0;4>re;re++)it[ot+128+re]=it[ot+256+re]=it[ot+384+re]=it[ot+0+re];for(re=0;16>re;++re,Qe<<=2)it=xe,ot=_e+tf[re],Fa[Te.Ob[re]](it,ot),xd(Qe,ct,16*+re,it,ot)}else if(it=wo(le,ge,Te.Ob[0]),Ui[it](xe,_e),Qe!=0)for(re=0;16>re;++re,Qe<<=2)xd(Qe,ct,16*+re,xe,_e+tf[re]);for(re=Te.Gc,it=wo(le,ge,Te.Dd),Ji[it](Ce,Ee),Ji[it](Be,Xe),Qe=ct,it=Ce,ot=Ee,255&(Te=0|re)&&(170&Te?Qi(Qe,256,it,ot):zn(Qe,256,it,ot)),Te=Be,Qe=Xe,255&(re>>=8)&&(170&re?Qi(ct,320,Te,Qe):zn(ct,320,Te,Qe)),ge<q.Ub-1&&(n(Ue[Ke].y,0,xe,_e+480,16),n(Ue[Ke].f,0,Ce,Ee+224,8),n(Ue[Ke].ea,0,Be,Xe+224,8)),re=8*we*q.B,Ue=q.sa,Ke=q.ta+16*le+16*we*q.R,ct=q.qa,Te=q.ra+8*le+re,Qe=q.Ha,it=q.Ia+8*le+re,re=0;16>re;++re)n(Ue,Ke+re*q.R,xe,_e+32*re,16);for(re=0;8>re;++re)n(ct,Te+re*q.B,Ce,Ee+32*re,8),n(Qe,it+re*q.B,Be,Xe+32*re,8)}}function fl(q,Y,re,le,ge,we,xe,_e,Ce){var Ee=[0],Be=[0],Xe=0,Te=Ce!=null?Ce.kd:0,Ue=Ce??new Ct;if(q==null||12>re)return 7;Ue.data=q,Ue.w=Y,Ue.ha=re,Y=[Y],re=[re],Ue.gb=[Ue.gb];e:{var Ke=Y,ct=re,Qe=Ue.gb;if(t(q!=null),t(ct!=null),t(Qe!=null),Qe[0]=0,12<=ct[0]&&!e(q,Ke[0],"RIFF")){if(e(q,Ke[0]+8,"WEBP")){Qe=3;break e}var it=ve(q,Ke[0]+4);if(12>it||4294967286<it){Qe=3;break e}if(Te&&it>ct[0]-8){Qe=7;break e}Qe[0]=it,Ke[0]+=12,ct[0]-=12}Qe=0}if(Qe!=0)return Qe;for(it=0<Ue.gb[0],re=re[0];;){e:{var ot=q;ct=Y,Qe=re;var gt=Ee,vt=Be,Sr=Ke=[0];if((pr=Xe=[Xe])[0]=0,8>Qe[0])Qe=7;else{if(!e(ot,ct[0],"VP8X")){if(ve(ot,ct[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var lr=ve(ot,ct[0]+8),en=1+de(ot,ct[0]+12);if(2147483648<=en*(ot=1+de(ot,ct[0]+15))){Qe=3;break e}Sr!=null&&(Sr[0]=lr),gt!=null&&(gt[0]=en),vt!=null&&(vt[0]=ot),ct[0]+=18,Qe[0]-=18,pr[0]=1}Qe=0}}if(Xe=Xe[0],Ke=Ke[0],Qe!=0)return Qe;if(ct=!!(2&Ke),!it&&Xe)return 3;if(we!=null&&(we[0]=!!(16&Ke)),xe!=null&&(xe[0]=ct),_e!=null&&(_e[0]=0),xe=Ee[0],Ke=Be[0],Xe&&ct&&Ce==null){Qe=0;break}if(4>re){Qe=7;break}if(it&&Xe||!it&&!Xe&&!e(q,Y[0],"ALPH")){re=[re],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{lr=q,Qe=Y,it=re;var pr=Ue.gb;gt=Ue.na,vt=Ue.P,Sr=Ue.Sa,en=22,t(lr!=null),t(it!=null),ot=Qe[0];var yn=it[0];for(t(gt!=null),t(Sr!=null),gt[0]=null,vt[0]=null,Sr[0]=0;;){if(Qe[0]=ot,it[0]=yn,8>yn){Qe=7;break e}var _s=ve(lr,ot+4);if(4294967286<_s){Qe=3;break e}var nn=8+_s+1&-2;if(en+=nn,0<pr&&en>pr){Qe=3;break e}if(!e(lr,ot,"VP8 ")||!e(lr,ot,"VP8L")){Qe=0;break e}if(yn[0]<nn){Qe=7;break e}e(lr,ot,"ALPH")||(gt[0]=lr,vt[0]=ot+8,Sr[0]=_s),ot+=nn,yn-=nn}}if(re=re[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],Qe!=0)break}re=[re],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(pr=q,Qe=Y,it=re,gt=Ue.gb[0],vt=Ue.Ja,Sr=Ue.xa,lr=Qe[0],ot=!e(pr,lr,"VP8 "),en=!e(pr,lr,"VP8L"),t(pr!=null),t(it!=null),t(vt!=null),t(Sr!=null),8>it[0])Qe=7;else{if(ot||en){if(pr=ve(pr,lr+4),12<=gt&&pr>gt-12){Qe=3;break e}if(Te&&pr>it[0]-8){Qe=7;break e}vt[0]=pr,Qe[0]+=8,it[0]-=8,Sr[0]=en}else Sr[0]=5<=it[0]&&pr[lr+0]==47&&!(pr[lr+4]>>5),vt[0]=it[0];Qe=0}if(re=re[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],Y=Y[0],Qe!=0)break;if(4294967286<Ue.Ja)return 3;if(_e==null||ct||(_e[0]=Ue.xa?2:1),xe=[xe],Ke=[Ke],Ue.xa){if(5>re){Qe=7;break}_e=xe,Te=Ke,ct=we,q==null||5>re?q=0:5<=re&&q[Y+0]==47&&!(q[Y+4]>>5)?(it=[0],pr=[0],gt=[0],C(vt=new K,q,Y,re),Ir(vt,it,pr,gt)?(_e!=null&&(_e[0]=it[0]),Te!=null&&(Te[0]=pr[0]),ct!=null&&(ct[0]=gt[0]),q=1):q=0):q=0}else{if(10>re){Qe=7;break}_e=Ke,q==null||10>re||!En(q,Y+3,re-3)?q=0:(Te=q[Y+0]|q[Y+1]<<8|q[Y+2]<<16,ct=16383&(q[Y+7]<<8|q[Y+6]),q=16383&(q[Y+9]<<8|q[Y+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ue.Ja||!ct||!q?q=0:(xe&&(xe[0]=ct),_e&&(_e[0]=q),q=1))}if(!q||(xe=xe[0],Ke=Ke[0],Xe&&(Ee[0]!=xe||Be[0]!=Ke)))return 3;Ce!=null&&(Ce[0]=Ue,Ce.offset=Y-Ce.w,t(4294967286>Y-Ce.w),t(Ce.offset==Ce.ha-re));break}return Qe==0||Qe==7&&Xe&&Ce==null?(we!=null&&(we[0]|=Ue.na!=null&&0<Ue.na.length),le!=null&&(le[0]=xe),ge!=null&&(ge[0]=Ke),0):Qe}function Tc(q,Y,re){var le=Y.width,ge=Y.height,we=0,xe=0,_e=le,Ce=ge;if(Y.Da=q!=null&&0<q.Da,Y.Da&&(_e=q.cd,Ce=q.bd,we=q.v,xe=q.j,11>re||(we&=-2,xe&=-2),0>we||0>xe||0>=_e||0>=Ce||we+_e>le||xe+Ce>ge))return 0;if(Y.v=we,Y.j=xe,Y.va=we+_e,Y.o=xe+Ce,Y.U=_e,Y.T=Ce,Y.da=q!=null&&0<q.da,Y.da){if(!ke(_e,Ce,re=[q.ib],we=[q.hb]))return 0;Y.ib=re[0],Y.hb=we[0]}return Y.ob=q!=null&&q.ob,Y.Kb=q==null||!q.Sd,Y.da&&(Y.ob=Y.ib<3*le/4&&Y.hb<3*ge/4,Y.Kb=0),1}function jc(q){if(q==null)return 2;if(11>q.S){var Y=q.f.RGBA;Y.fb+=(q.height-1)*Y.A,Y.A=-Y.A}else Y=q.f.kb,q=q.height,Y.O+=(q-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(q-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(q-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(q-1)*Y.lb,Y.lb=-Y.lb);return 0}function Do(q,Y,re,le){if(le==null||0>=q||0>=Y)return 2;if(re!=null){if(re.Da){var ge=re.cd,we=re.bd,xe=-2&re.v,_e=-2&re.j;if(0>xe||0>_e||0>=ge||0>=we||xe+ge>q||_e+we>Y)return 2;q=ge,Y=we}if(re.da){if(!ke(q,Y,ge=[re.ib],we=[re.hb]))return 2;q=ge[0],Y=we[0]}}le.width=q,le.height=Y;e:{var Ce=le.width,Ee=le.height;if(q=le.S,0>=Ce||0>=Ee||!(q>=Nd&&13>q))q=2;else{if(0>=le.Rd&&le.sd==null){xe=we=ge=Y=0;var Be=(_e=Ce*Du[q])*Ee;if(11>q||(we=(Ee+1)/2*(Y=(Ce+1)/2),q==12&&(xe=(ge=Ce)*Ee)),(Ee=s(Be+2*we+xe))==null){q=1;break e}le.sd=Ee,11>q?((Ce=le.f.RGBA).eb=Ee,Ce.fb=0,Ce.A=_e,Ce.size=Be):((Ce=le.f.kb).y=Ee,Ce.O=0,Ce.fa=_e,Ce.Fd=Be,Ce.f=Ee,Ce.N=0+Be,Ce.Ab=Y,Ce.Cd=we,Ce.ea=Ee,Ce.W=0+Be+we,Ce.Db=Y,Ce.Ed=we,q==12&&(Ce.F=Ee,Ce.J=0+Be+2*we),Ce.Tc=xe,Ce.lb=ge)}if(Y=1,ge=le.S,we=le.width,xe=le.height,ge>=Nd&&13>ge)if(11>ge)q=le.f.RGBA,Y&=(_e=Math.abs(q.A))*(xe-1)+we<=q.size,Y&=_e>=we*Du[ge],Y&=q.eb!=null;else{q=le.f.kb,_e=(we+1)/2,Be=(xe+1)/2,Ce=Math.abs(q.fa),Ee=Math.abs(q.Ab);var Xe=Math.abs(q.Db),Te=Math.abs(q.lb),Ue=Te*(xe-1)+we;Y&=Ce*(xe-1)+we<=q.Fd,Y&=Ee*(Be-1)+_e<=q.Cd,Y=(Y&=Xe*(Be-1)+_e<=q.Ed)&Ce>=we&Ee>=_e&Xe>=_e,Y&=q.y!=null,Y&=q.f!=null,Y&=q.ea!=null,ge==12&&(Y&=Te>=we,Y&=Ue<=q.Tc,Y&=q.F!=null)}else Y=0;q=Y?0:2}}return q!=0||re!=null&&re.fd&&(q=jc(le)),q}var La=64,ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wa=24,pl=32,xo=8,Fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(q){return q},M.Predictor2=function(q,Y,re){return Y[re+0]},M.Predictor3=function(q,Y,re){return Y[re+1]},M.Predictor4=function(q,Y,re){return Y[re-1]},M.Predictor5=function(q,Y,re){return Fe(Fe(q,Y[re+1]),Y[re+0])},M.Predictor6=function(q,Y,re){return Fe(q,Y[re-1])},M.Predictor7=function(q,Y,re){return Fe(q,Y[re+0])},M.Predictor8=function(q,Y,re){return Fe(Y[re-1],Y[re+0])},M.Predictor9=function(q,Y,re){return Fe(Y[re+0],Y[re+1])},M.Predictor10=function(q,Y,re){return Fe(Fe(q,Y[re-1]),Fe(Y[re+0],Y[re+1]))},M.Predictor11=function(q,Y,re){var le=Y[re+0];return 0>=He(le>>24&255,q>>24&255,(Y=Y[re-1])>>24&255)+He(le>>16&255,q>>16&255,Y>>16&255)+He(le>>8&255,q>>8&255,Y>>8&255)+He(255&le,255&q,255&Y)?le:q},M.Predictor12=function(q,Y,re){var le=Y[re+0];return(Se((q>>24&255)+(le>>24&255)-((Y=Y[re-1])>>24&255))<<24|Se((q>>16&255)+(le>>16&255)-(Y>>16&255))<<16|Se((q>>8&255)+(le>>8&255)-(Y>>8&255))<<8|Se((255&q)+(255&le)-(255&Y)))>>>0},M.Predictor13=function(q,Y,re){var le=Y[re-1];return(Pe((q=Fe(q,Y[re+0]))>>24&255,le>>24&255)<<24|Pe(q>>16&255,le>>16&255)<<16|Pe(q>>8&255,le>>8&255)<<8|Pe(255&q,255&le))>>>0};var Bo=M.PredictorAdd0;M.PredictorAdd1=Ze,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var _o=M.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(q){return q>>8&255},function(q){return q}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(q){return q},function(q){return q>>8&255});var As,Wl=M.ColorIndexInverseTransform,So=M.MapARGB,eo=M.VP8LColorIndexInverseTransformAlpha,Gl=M.MapAlpha,Kl=M.VP8LPredictorsAdd=[];Kl.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Ic,Pc,Vo,ml,gl,Xl,yl,Yl,ws,Qi,Pn,zn,xs,zs,to,Eu,Rc,zo,_d,Mc,Sd,$h,Au,Zl,Ql,qh,Tu,Hh,Wh=s(511),Gh=s(2041),Kh=s(225),Xh=s(767),Yh=0,No=Gh,Oc=Kh,zi=Xh,Da=Wh,Nd=0,vl=1,vp=2,ju=3,Iu=4,Kn=5,Cd=6,Lc=7,Jl=8,Pu=9,Ru=10,Mu=[2,3,7],kd=[3,3,11],ec=[280,256,256,256,40],bp=[0,1,1,1,0],ug=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ed=8,Dc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ou=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tc=null,Zh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_p=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ui=[],Fa=[],Ji=[],Co=1,Fc=2,Ii=[],ea=[];Vt("UpsampleRgbLinePair",Ti,3),Vt("UpsampleBgrLinePair",ss,3),Vt("UpsampleRgbaLinePair",Vi,4),Vt("UpsampleBgraLinePair",ku,4),Vt("UpsampleArgbLinePair",Lo,4),Vt("UpsampleRgba4444LinePair",Oa,2),Vt("UpsampleRgb565LinePair",ji,2);var pg=M.UpsampleRgbLinePair,mg=M.UpsampleBgrLinePair,bl=M.UpsampleRgbaLinePair,Bc=M.UpsampleBgraLinePair,rc=M.UpsampleArgbLinePair,Lu=M.UpsampleRgba4444LinePair,ef=M.UpsampleRgb565LinePair,Uo=16,ro=1<<Uo-1,Bn=-227,Un=482,wl=6,_i=0,ta=s(256),nc=s(256),Vc=s(256),ra=s(256),Ad=s(Un-Bn),Sp=s(Un-Bn);Ja("YuvToRgbRow",Ti,3),Ja("YuvToBgrRow",ss,3),Ja("YuvToRgbaRow",Vi,4),Ja("YuvToBgraRow",ku,4),Ja("YuvToArgbRow",Lo,4),Ja("YuvToRgba4444Row",Oa,2),Ja("YuvToRgb565Row",ji,2);var tf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sc=[0,2,8],Np=[8,7,6,4,4,2,2,2,1,1,1,1],$o=1;this.WebPDecodeRGBA=function(q,Y,re,le,ge){var we=vl,xe=new ht,_e=new Tt;xe.ba=_e,_e.S=we,_e.width=[_e.width],_e.height=[_e.height];var Ce=_e.width,Ee=_e.height,Be=new _t;if(Be==null||q==null)var Xe=2;else t(Be!=null),Xe=fl(q,Y,re,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Xe!=0?Ce=0:(Ce!=null&&(Ce[0]=Be.width[0]),Ee!=null&&(Ee[0]=Be.height[0]),Ce=1),Ce){_e.width=_e.width[0],_e.height=_e.height[0],le!=null&&(le[0]=_e.width),ge!=null&&(ge[0]=_e.height);e:{if(le=new Yr,(ge=new Ct).data=q,ge.w=Y,ge.ha=re,ge.kd=1,Y=[0],t(ge!=null),((q=fl(ge.data,ge.w,ge.ha,null,null,null,Y,null,ge))==0||q==7)&&Y[0]&&(q=4),(Y=q)==0){if(t(xe!=null),le.data=ge.data,le.w=ge.w+ge.offset,le.ha=ge.ha-ge.offset,le.put=bt,le.ac=br,le.bc=Ar,le.ma=xe,ge.xa){if((q=Lr())==null){xe=1;break e}if((function(Te,Ue){var Ke=[0],ct=[0],Qe=[0];t:for(;;){if(Te==null)return 0;if(Ue==null)return Te.a=2,0;if(Te.l=Ue,Te.a=0,C(Te.m,Ue.data,Ue.w,Ue.ha),!Ir(Te.m,Ke,ct,Qe)){Te.a=3;break t}if(Te.xb=Fc,Ue.width=Ke[0],Ue.height=ct[0],!pn(Ke[0],ct[0],1,Te,null))break t;return 1}return t(Te.a!=0),0})(q,le)){if(le=(Y=Do(le.width,le.height,xe.Oa,xe.ba))==0){t:{le=q;r:for(;;){if(le==null){le=0;break t}if(t(le.s.yc!=null),t(le.s.Ya!=null),t(0<le.s.Wb),t((re=le.l)!=null),t((ge=re.ma)!=null),le.xb!=0){if(le.ca=ge.ba,le.tb=ge.tb,t(le.ca!=null),!Tc(ge.Oa,re,ju)){le.a=2;break r}if(!on(le,re.width)||re.da)break r;if((re.da||zt(le.ca.S))&&rt(),11>le.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),le.ca.f.kb.F!=null&&rt()),le.Pb&&0<le.s.ua&&le.s.vb.X==null&&!ce(le.s.vb,le.s.Wa.Xa)){le.a=1;break r}le.xb=0}if(!mr(le,le.V,le.Ba,le.c,le.i,re.o,Lt))break r;ge.Dc=le.Ma,le=1;break t}t(le.a!=0),le=0}le=!le}le&&(Y=q.a)}else Y=q.a}else{if((q=new Jr)==null){xe=1;break e}if(q.Fa=ge.na,q.P=ge.P,q.qc=ge.Sa,kn(q,le)){if((Y=Do(le.width,le.height,xe.Oa,xe.ba))==0){if(q.Aa=0,re=xe.Oa,t((ge=q)!=null),re!=null){if(0<(Ce=0>(Ce=re.Md)?0:100<Ce?255:255*Ce/100)){for(Ee=Be=0;4>Ee;++Ee)12>(Xe=ge.pb[Ee]).lc&&(Xe.ia=Ce*Np[0>Xe.lc?0:Xe.lc]>>3),Be|=Xe.ia;Be&&(alert("todo:VP8InitRandom"),ge.ia=1)}ge.Ga=re.Id,100<ge.Ga?ge.Ga=100:0>ge.Ga&&(ge.Ga=0)}(function(Te,Ue){if(Te==null)return 0;if(Ue==null)return Fr(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!kn(Te,Ue))return 0;if(t(Te.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(Te.L=0);var Ke=sc[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Ue.v-Ke>>4,Te.zb=Ue.j-Ke>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Ue.o+15+Ke>>4,Te.Hb=Ue.va+15+Ke>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var ct=Te.ed;for(Ke=0;4>Ke;++Ke){var Qe;if(Te.Qa.Cb){var it=Te.Qa.Lb[Ke];Te.Qa.Fb||(it+=ct.Tb)}else it=ct.Tb;for(Qe=0;1>=Qe;++Qe){var ot=Te.gd[Ke][Qe],gt=it;if(ct.Pc&&(gt+=ct.vd[0],Qe&&(gt+=ct.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var vt=gt;0<ct.wb&&(vt=4<ct.wb?vt>>2:vt>>1)>9-ct.wb&&(vt=9-ct.wb),1>vt&&(vt=1),ot.dd=vt,ot.tc=2*gt+vt,ot.ld=40<=gt?2:15<=gt?1:0}else ot.tc=0;ot.La=Qe}}}Ke=0}else Fr(Te,6,"Frame setup failed"),Ke=Te.a;if(Ke=Ke==0){if(Ke){Te.$c=0,0<Te.Aa||(Te.Ic=$o);t:{Ke=Te.Ic,ct=4*(vt=Te.za);var Sr=32*vt,lr=vt+1,en=0<Te.L?vt*(0<Te.Aa?2:1):0,pr=(Te.Aa==2?2:1)*vt;if((ot=ct+832+(Qe=3*(16*Ke+sc[Te.L])/2*Sr)+(it=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=ot)Ke=0;else{if(ot>Te.Vb){if(Te.Vb=0,Te.Ec=s(ot),Te.Fc=0,Te.Ec==null){Ke=Fr(Te,1,"no memory during frame initialization.");break t}Te.Vb=ot}ot=Te.Ec,gt=Te.Fc,Te.Ac=ot,Te.Bc=gt,gt+=ct,Te.Gd=o(Sr,Tr),Te.Hd=0,Te.rb=o(lr+1,Pt),Te.sb=1,Te.wa=en?o(en,Gt):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=vt),t(!0),Te.oc=ot,Te.pc=gt,gt+=832,Te.ya=o(pr,Gr),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=vt),Te.R=16*vt,Te.B=8*vt,vt=(Sr=sc[Te.L])*Te.R,Sr=Sr/2*Te.B,Te.sa=ot,Te.ta=gt+vt,Te.qa=Te.sa,Te.ra=Te.ta+16*Ke*Te.R+Sr,Te.Ha=Te.qa,Te.Ia=Te.ra+8*Ke*Te.B+Sr,Te.$c=0,gt+=Qe,Te.mb=it?ot:null,Te.nb=it?gt:null,t(gt+it<=Te.Fc+Te.Vb),Ls(Te),i(Te.Ac,Te.Bc,0,ct),Ke=1}}if(Ke){if(Ue.ka=0,Ue.y=Te.sa,Ue.O=Te.ta,Ue.f=Te.qa,Ue.N=Te.ra,Ue.ea=Te.Ha,Ue.Vd=Te.Ia,Ue.fa=Te.R,Ue.Rc=Te.B,Ue.F=null,Ue.J=0,!Yh){for(Ke=-255;255>=Ke;++Ke)Wh[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)Gh[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)Kh[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)Xh[255+Ke]=0>Ke?0:255<Ke?255:Ke;Yh=1}yl=cs,Yl=ci,Qi=Fs,Pn=ma,zn=Or,ws=rn,xs=Zs,zs=Ai,to=me,Eu=je,Rc=bo,zo=ee,_d=De,Mc=We,Sd=Ma,$h=ga,Au=Hl,Zl=vo,Fa[0]=mo,Fa[1]=Ki,Fa[2]=Vs,Fa[3]=Ac,Fa[4]=Ys,Fa[5]=ul,Fa[6]=Ra,Fa[7]=Fn,Fa[8]=ql,Fa[9]=Oo,Ui[0]=Ei,Ui[1]=Xi,Ui[2]=ui,Ui[3]=ki,Ui[4]=Es,Ui[5]=es,Ui[6]=Pa,Ji[0]=Za,Ji[1]=Ia,Ji[2]=Yi,Ji[3]=go,Ji[4]=dl,Ji[5]=Zi,Ji[6]=hl,Ke=1}else Ke=0}Ke&&(Ke=(function(yn,_s){for(yn.M=0;yn.M<yn.Va;++yn.M){var nn,cr=yn.Jc[yn.M&yn.Xb],Ht=yn.m,Ts=yn;for(nn=0;nn<Ts.za;++nn){var Kr=Ht,dn=Ts,is=dn.Ac,fi=dn.Bc+4*nn,Us=dn.zc,gs=dn.ya[dn.aa+nn];if(dn.Qa.Bb?gs.$b=Q(Kr,dn.Pa.jb[0])?2+Q(Kr,dn.Pa.jb[2]):Q(Kr,dn.Pa.jb[1]):gs.$b=0,dn.kc&&(gs.Ad=Q(Kr,dn.Bd)),gs.Za=!Q(Kr,145)+0,gs.Za){var Js=gs.Ob,pi=0;for(dn=0;4>dn;++dn){var hs,xn=Us[0+dn];for(hs=0;4>hs;++hs){xn=hg[is[fi+hs]][xn];for(var Rn=xp[Q(Kr,xn[0])];0<Rn;)Rn=xp[2*Rn+Q(Kr,xn[Rn])];xn=-Rn,is[fi+hs]=xn}n(Js,pi,is,fi,4),pi+=4,Us[0+dn]=xn}}else xn=Q(Kr,156)?Q(Kr,128)?1:3:Q(Kr,163)?2:0,gs.Ob[0]=xn,i(is,fi,xn,4),i(Us,0,xn,4);gs.Dd=Q(Kr,142)?Q(Kr,114)?Q(Kr,183)?1:3:2:0}if(Ts.m.Ka)return Fr(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(Ts=cr,Kr=(Ht=yn).rb[Ht.sb-1],is=Ht.rb[Ht.sb+Ht.ja],nn=Ht.ya[Ht.aa+Ht.ja],fi=Ht.kc?nn.Ad:0)Kr.la=is.la=0,nn.Za||(Kr.Na=is.Na=0),nn.Hc=0,nn.Gc=0,nn.ia=0;else{var fs,Mn;if(Kr=is,is=Ts,fi=Ht.Pa.Xc,Us=Ht.ya[Ht.aa+Ht.ja],gs=Ht.pb[Us.$b],dn=Us.ad,Js=0,pi=Ht.rb[Ht.sb-1],xn=hs=0,i(dn,Js,0,384),Us.Za)var Ss=0,Ns=fi[3];else{Rn=s(16);var Xn=Kr.Na+pi.Na;if(Xn=tc(is,fi[1],Xn,gs.Eb,0,Rn,0),Kr.Na=pi.Na=(0<Xn)+0,1<Xn)yl(Rn,0,dn,Js);else{var Pi=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)dn[Js+Rn]=Pi}Ss=1,Ns=fi[0]}var $n=15&Kr.la,Yn=15&pi.la;for(Rn=0;4>Rn;++Rn){var $s=1&Yn;for(Pi=Mn=0;4>Pi;++Pi)$n=$n>>1|($s=(Xn=tc(is,Ns,Xn=$s+(1&$n),gs.Sc,Ss,dn,Js))>Ss)<<7,Mn=Mn<<2|(3<Xn?3:1<Xn?2:dn[Js+0]!=0),Js+=16;$n>>=4,Yn=Yn>>1|$s<<7,hs=(hs<<8|Mn)>>>0}for(Ns=$n,Ss=Yn>>4,fs=0;4>fs;fs+=2){for(Mn=0,$n=Kr.la>>4+fs,Yn=pi.la>>4+fs,Rn=0;2>Rn;++Rn){for($s=1&Yn,Pi=0;2>Pi;++Pi)Xn=$s+(1&$n),$n=$n>>1|($s=0<(Xn=tc(is,fi[2],Xn,gs.Qc,0,dn,Js)))<<3,Mn=Mn<<2|(3<Xn?3:1<Xn?2:dn[Js+0]!=0),Js+=16;$n>>=2,Yn=Yn>>1|$s<<5}xn|=Mn<<4*fs,Ns|=$n<<4<<fs,Ss|=(240&Yn)<<fs}Kr.la=Ns,pi.la=Ss,Us.Hc=hs,Us.Gc=xn,Us.ia=43690&xn?0:gs.ia,fi=!(hs|xn)}if(0<Ht.L&&(Ht.wa[Ht.Y+Ht.ja]=Ht.gd[nn.$b][nn.Za],Ht.wa[Ht.Y+Ht.ja].La|=!fi),Ts.Ka)return Fr(yn,7,"Premature end-of-file encountered.")}if(Ls(yn),Ht=_s,Ts=1,nn=(cr=yn).D,Kr=0<cr.L&&cr.M>=cr.zb&&cr.M<=cr.Va,cr.Aa==0)t:{if(nn.M=cr.M,nn.uc=Kr,va(cr,nn),Ts=1,nn=(Mn=cr.D).Nb,Kr=(xn=sc[cr.L])*cr.R,is=xn/2*cr.B,Rn=16*nn*cr.R,Pi=8*nn*cr.B,fi=cr.sa,Us=cr.ta-Kr+Rn,gs=cr.qa,dn=cr.ra-is+Pi,Js=cr.Ha,pi=cr.Ia-is+Pi,Yn=($n=Mn.M)==0,hs=$n>=cr.Va-1,cr.Aa==2&&va(cr,Mn),Mn.uc)for($s=(Xn=cr).D.M,t(Xn.D.uc),Mn=Xn.yb;Mn<Xn.Hb;++Mn){Ss=Mn,Ns=$s;var Si=(na=(Ps=Xn).D).Nb;fs=Ps.R;var na=na.wa[na.Y+Ss],js=Ps.sa,Is=Ps.ta+16*Si*fs+16*Ss,Ri=na.dd,Zn=na.tc;if(Zn!=0)if(t(3<=Zn),Ps.L==1)0<Ss&&$h(js,Is,fs,Zn+4),na.La&&Zl(js,Is,fs,Zn),0<Ns&&Sd(js,Is,fs,Zn+4),na.La&&Au(js,Is,fs,Zn);else{var Mi=Ps.B,Ba=Ps.qa,no=Ps.ra+8*Si*Mi+8*Ss,mi=Ps.Ha,Ps=Ps.Ia+8*Si*Mi+8*Ss;Si=na.ld,0<Ss&&(zs(js,Is,fs,Zn+4,Ri,Si),Eu(Ba,no,mi,Ps,Mi,Zn+4,Ri,Si)),na.La&&(zo(js,Is,fs,Zn,Ri,Si),Mc(Ba,no,mi,Ps,Mi,Zn,Ri,Si)),0<Ns&&(xs(js,Is,fs,Zn+4,Ri,Si),to(Ba,no,mi,Ps,Mi,Zn+4,Ri,Si)),na.La&&(Rc(js,Is,fs,Zn,Ri,Si),_d(Ba,no,mi,Ps,Mi,Zn,Ri,Si))}}if(cr.ia&&alert("todo:DitherRow"),Ht.put!=null){if(Mn=16*$n,$n=16*($n+1),Yn?(Ht.y=cr.sa,Ht.O=cr.ta+Rn,Ht.f=cr.qa,Ht.N=cr.ra+Pi,Ht.ea=cr.Ha,Ht.W=cr.Ia+Pi):(Mn-=xn,Ht.y=fi,Ht.O=Us,Ht.f=gs,Ht.N=dn,Ht.ea=Js,Ht.W=pi),hs||($n-=xn),$n>Ht.o&&($n=Ht.o),Ht.F=null,Ht.J=null,cr.Fa!=null&&0<cr.Fa.length&&Mn<$n&&(Ht.J=W(cr,Ht,Mn,$n-Mn),Ht.F=cr.mb,Ht.F==null&&Ht.F.length==0)){Ts=Fr(cr,3,"Could not decode alpha data.");break t}Mn<Ht.j&&(xn=Ht.j-Mn,Mn=Ht.j,t(!(1&xn)),Ht.O+=cr.R*xn,Ht.N+=cr.B*(xn>>1),Ht.W+=cr.B*(xn>>1),Ht.F!=null&&(Ht.J+=Ht.width*xn)),Mn<$n&&(Ht.O+=Ht.v,Ht.N+=Ht.v>>1,Ht.W+=Ht.v>>1,Ht.F!=null&&(Ht.J+=Ht.v),Ht.ka=Mn-Ht.j,Ht.U=Ht.va-Ht.v,Ht.T=$n-Mn,Ts=Ht.put(Ht))}nn+1!=cr.Ic||hs||(n(cr.sa,cr.ta-Kr,fi,Us+16*cr.R,Kr),n(cr.qa,cr.ra-is,gs,dn+8*cr.B,is),n(cr.Ha,cr.Ia-is,Js,pi+8*cr.B,is))}if(!Ts)return Fr(yn,6,"Output aborted.")}return 1})(Te,Ue)),Ue.bc!=null&&Ue.bc(Ue),Ke&=1}return Ke?(Te.cb=0,Ke):0})(q,le)||(Y=q.a)}}else Y=q.a}Y==0&&xe.Oa!=null&&xe.Oa.fd&&(Y=jc(xe.ba))}xe=Y}we=xe!=0?null:11>we?_e.f.RGBA.eb:_e.f.kb.y}else we=null;return we};var Du=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function a(M,U){for(var V="",I=0;I<4;I++)V+=String.fromCharCode(M[U++]);return V}function u(M,U){return M[U+0]|M[U+1]<<8}function f(M,U){return(M[U+0]|M[U+1]<<8|M[U+2]<<16)>>>0}function h(M,U){return(M[U+0]|M[U+1]<<8|M[U+2]<<16|M[U+3]<<24)>>>0}new c;var d=[0],y=[0],g=[],p=new c,w=r,v=(function(M,U){var V={},I=0,E=!1,L=0,A=0;if(V.frames=[],!(function(j,K){for(var Z=0;Z<4;Z++)if(j[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(M,U)){for(h(M,U+=4),U+=8;U<M.length;){var S=a(M,U),k=h(M,U+=4);U+=4;var N=k+(1&k);switch(S){case"VP8 ":case"VP8L":V.frames[I]===void 0&&(V.frames[I]={}),(D=V.frames[I]).src_off=E?A:U-8,D.src_size=L+k+8,I++,E&&(E=!1,L=0,A=0);break;case"VP8X":(D=V.header={}).feature_flags=M[U];var C=U+4;D.canvas_width=1+f(M,C),C+=3,D.canvas_height=1+f(M,C),C+=3;break;case"ALPH":E=!0,L=N+8,A=U-8;break;case"ANIM":(D=V.header).bgcolor=h(M,U),C=U+4,D.loop_count=u(M,C),C+=2;break;case"ANMF":var O,D;(D=V.frames[I]={}).offset_x=2*f(M,U),U+=3,D.offset_y=2*f(M,U),U+=3,D.width=1+f(M,U),U+=3,D.height=1+f(M,U),U+=3,D.duration=f(M,U),U+=3,O=M[U++],D.dispose=1&O,D.blend=O>>1&1}S!="ANMF"&&(U+=N)}return V}})(w,0);v.response=w,v.rgbaoutput=!0,v.dataurl=!1;var _=v.header?v.header:null,T=v.frames?v.frames:null;if(_){_.loop_counter=_.loop_count,d=[_.canvas_height],y=[_.canvas_width];for(var F=0;F<T.length&&T[F].blend!=0;F++);}var G=T[0],$=p.WebPDecodeRGBA(w,G.src_off,G.src_size,y,d);G.rgba=$,G.imgwidth=y[0],G.imgheight=d[0];for(var P=0;P<y[0]*d[0]*4;P++)g[P]=$[P];return this.width=y,this.height=d,this.data=g,this}(function(r){var t,e,n,i,s,o,l,c,a,u=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,a=new u}]);var f=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=j;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ce){Z=!!ce}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ce){ne=!!ce}});var H=0;Object.defineProperty(this,"posX",{get:function(){return H},set:function(ce){isNaN(ce)||(H=ce)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(ce){isNaN(ce)||(J=ce)}}),Object.defineProperty(this,"margin",{get:function(){return a.margin},set:function(ce){var he;typeof ce=="number"?he=[ce,ce,ce,ce]:((he=new Array(4))[0]=ce[0],he[1]=ce.length>=2?ce[1]:he[0],he[2]=ce.length>=3?ce[2]:he[0],he[3]=ce.length>=4?ce[3]:he[1]),a.margin=he}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(ce){z=ce}});var B=0;Object.defineProperty(this,"lastBreak",{get:function(){return B},set:function(ce){B=ce}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(ce){Q=ce}}),Object.defineProperty(this,"ctx",{get:function(){return a},set:function(ce){ce instanceof u&&(a=ce)}}),Object.defineProperty(this,"path",{get:function(){return a.path},set:function(ce){a.path=ce}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(ce){oe=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var he;he=h(ce),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var he=h(ce);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var pe=null,de=null,ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(ce){pe=null,de=null,ve=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var he;if(this.ctx.font=ce,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ce))!==null){var fe=he[1];he[2];var ke=he[3],ye=he[4];he[5];var Re=he[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ye)[2];ye=Math.floor(Ie==="px"?parseFloat(ye)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(ye)*this.pdf.getFontSize():parseFloat(ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ye);var Oe=(function(ut){var Ut,ft,st=[],mt=ut.trim();if(mt==="")return $1;if(mt in Xx)return[Xx[mt]];for(;mt!=="";){switch(ft=null,Ut=(mt=Zx(mt)).charAt(0)){case'"':case"'":ft=xV(mt.substring(1),Ut);break;default:ft=_V(mt)}if(ft===null||(st.push(ft[0]),(mt=Zx(ft[1]))!==""&&mt.charAt(0)!==","))return $1;mt=mt.replace(/^,/,"")}return st})(Re);if(this.fontFaces){var Fe=(function(ut,Ut){var ft=ut.getFontList(),st=JSON.stringify(ft);if(pe===null||de!==st){var mt=(function(At){var dt=[];return Object.keys(At).forEach(function(Yt){At[Yt].forEach(function(zt){var St=null;switch(zt){case"bold":St={family:Yt,weight:"bold"};break;case"italic":St={family:Yt,style:"italic"};break;case"bolditalic":St={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":St={family:Yt}}St!==null&&(St.ref={name:Yt,style:zt},dt.push(St))})}),dt})(ft);pe=(function(At){for(var dt={},Yt=0;Yt<At.length;++Yt){var zt=U1(At[Yt]),St=zt.family,nr=zt.stretch,Tt=zt.style,_t=zt.weight;dt[St]=dt[St]||{},dt[St][nr]=dt[St][nr]||{},dt[St][nr][Tt]=dt[St][nr][Tt]||{},dt[St][nr][Tt][_t]=zt}return dt})(mt.concat(Ut)),de=st}return pe})(this.pdf,this.fontFaces),Se=Oe.map(function(ut){return{family:ut,stretch:"normal",weight:ke,style:fe}}),Pe=(function(ut,Ut,ft){for(var st=(ft=ft||{}).defaultFontFamily||"times",mt=Object.assign({},wV,ft.genericFontFamilies||{}),At=null,dt=null,Yt=0;Yt<Ut.length;++Yt)if(mt[(At=U1(Ut[Yt])).family]&&(At.family=mt[At.family]),ut.hasOwnProperty(At.family)){dt=ut[At.family];break}if(!(dt=dt||ut[st]))throw new Error("Could not find a font-family for the rule '"+Yx(At)+"' and default family '"+st+"'.");if(dt=(function(zt,St){if(St[zt])return St[zt];var nr=J2[zt],Tt=nr<=J2.normal?-1:1,_t=Kx(St,E7,nr,Tt);if(!_t)throw new Error("Could not find a matching font-stretch value for "+zt);return _t})(At.stretch,dt),dt=(function(zt,St){if(St[zt])return St[zt];for(var nr=k7[zt],Tt=0;Tt<nr.length;++Tt)if(St[nr[Tt]])return St[nr[Tt]];throw new Error("Could not find a matching font-style for "+zt)})(At.style,dt),!(dt=(function(zt,St){if(St[zt])return St[zt];if(zt===400&&St[500])return St[500];if(zt===500&&St[400])return St[400];var nr=bV[zt],Tt=Kx(St,A7,nr,zt<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+zt);return Tt})(At.weight,dt)))throw new Error("Failed to resolve a font for the rule '"+Yx(At)+"'.");return dt})(Fe,Se);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var He="";(ke==="bold"||parseInt(ke,10)>=700||fe==="bold")&&(He="bold"),fe==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Ze="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Oe.length;Je++){if(this.pdf.internal.getFont(Oe[Je],He,{noFallback:!0,disableWarning:!0})!==void 0){Ze=Oe[Je];break}if(He==="bolditalic"&&this.pdf.internal.getFont(Oe[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=Oe[Je],He="bold";else if(this.pdf.internal.getFont(Oe[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=Oe[Je],He="normal";break}}if(Ze===""){for(var lt=0;lt<Oe.length;lt++)if(at[Oe[lt]]){Ze=at[Oe[lt]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};f.prototype.setLineDash=function(j){this.lineDash=j},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(j,K){if(isNaN(j)||isNaN(K))throw ds.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(j,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(j,K)},f.prototype.closePath=function(){var j=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Jn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){j=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},f.prototype.lineTo=function(j,K){if(isNaN(j)||isNaN(K))throw ds.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(j,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(j,K,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(j)||isNaN(K))throw ds.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var H=this.ctx.transform.applyToPoint(new o(Z,ne)),J=this.ctx.transform.applyToPoint(new o(j,K));this.path.push({type:"qct",x1:J.x,y1:J.y,x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},f.prototype.bezierCurveTo=function(j,K,Z,ne,H,J){if(isNaN(H)||isNaN(J)||isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne))throw ds.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new o(H,J)),B=this.ctx.transform.applyToPoint(new o(j,K)),Q=this.ctx.transform.applyToPoint(new o(Z,ne));this.path.push({type:"bct",x1:B.x,y1:B.y,x2:Q.x,y2:Q.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.arc=function(j,K,Z,ne,H,J){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne)||isNaN(H))throw ds.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new o(j,K));j=z.x,K=z.y;var B=this.ctx.transform.applyToPoint(new o(0,Z)),Q=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(B.x-Q.x,2)+Math.pow(B.y-Q.y,2))}Math.abs(H-ne)>=2*Math.PI&&(ne=0,H=2*Math.PI),this.path.push({type:"arc",x:j,y:K,radius:Z,startAngle:ne,endAngle:H,counterclockwise:J})},f.prototype.arcTo=function(j,K,Z,ne,H){throw new Error("arcTo not implemented.")},f.prototype.rect=function(j,K,Z,ne){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne))throw ds.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,K),this.lineTo(j+Z,K),this.lineTo(j+Z,K+ne),this.lineTo(j,K+ne),this.lineTo(j,K),this.lineTo(j+Z,K),this.lineTo(j,K)},f.prototype.fillRect=function(j,K,Z,ne){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne))throw ds.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var H={};this.lineCap!=="butt"&&(H.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(H.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,K,Z,ne),this.fill(),H.hasOwnProperty("lineCap")&&(this.lineCap=H.lineCap),H.hasOwnProperty("lineJoin")&&(this.lineJoin=H.lineJoin)}},f.prototype.strokeRect=function(j,K,Z,ne){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne))throw ds.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(j,K,Z,ne),this.stroke())},f.prototype.clearRect=function(j,K,Z,ne){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne))throw ds.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,K,Z,ne))},f.prototype.save=function(j){j=typeof j!="boolean"||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(j){var K,Z,ne,H;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))K=0,Z=0,ne=0,H=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(J!==null)K=parseInt(J[1]),Z=parseInt(J[2]),ne=parseInt(J[3]),H=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)K=parseInt(J[1]),Z=parseInt(J[2]),ne=parseInt(J[3]),H=parseFloat(J[4]);else{if(H=1,typeof j=="string"&&j.charAt(0)!=="#"){var z=new b7(j);j=z.ok?z.toHex():"#000000"}j.length===4?(K=j.substring(1,2),K+=K,Z=j.substring(2,3),Z+=Z,ne=j.substring(3,4),ne+=ne):(K=j.substring(1,3),Z=j.substring(3,5),ne=j.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:K,g:Z,b:ne,a:H,style:j}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(j,K,Z,ne){if(isNaN(K)||isNaN(Z)||typeof j!="string")throw ds.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!d.call(this)){var H=N(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;I.call(this,{text:j,x:K,y:Z,scale:J,angle:H,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(j,K,Z,ne){if(isNaN(K)||isNaN(Z)||typeof j!="string")throw ds.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ne=isNaN(ne)?void 0:ne;var H=N(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;I.call(this,{text:j,x:K,y:Z,scale:J,renderingMode:"stroke",angle:H,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(j){if(typeof j!="string")throw ds.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,ne=K.internal.getFontSize(),H=K.getStringUnitWidth(j)*ne/K.internal.scaleFactor;return new function(J){var z=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:H*=Math.round(96*Z/72*1e4)/1e4})},f.prototype.scale=function(j,K){if(isNaN(j)||isNaN(K))throw ds.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(j,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.rotate=function(j){if(isNaN(j))throw ds.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(j,K){if(isNaN(j)||isNaN(K))throw ds.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,j,K);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.transform=function(j,K,Z,ne,H,J){if(isNaN(j)||isNaN(K)||isNaN(Z)||isNaN(ne)||isNaN(H)||isNaN(J))throw ds.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new c(j,K,Z,ne,H,J);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.setTransform=function(j,K,Z,ne,H,J){j=isNaN(j)?1:j,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,H=isNaN(H)?0:H,J=isNaN(J)?0:J,this.ctx.transform=new c(j,K,Z,ne,H,J)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(j,K,Z,ne,H,J,z,B,Q){var oe=this.pdf.getImageProperties(j),pe=1,de=1,ve=1,ce=1;ne!==void 0&&B!==void 0&&(ve=B/ne,ce=Q/H,pe=oe.width/ne*B/ne,de=oe.height/H*Q/H),J===void 0&&(J=K,z=Z,K=0,Z=0),ne!==void 0&&B===void 0&&(B=ne,Q=H),ne===void 0&&B===void 0&&(B=oe.width,Q=oe.height);var he=this.ctx.transform.decompose(),fe=N(he.rotate.shx),ke=new c,ye=(ke=(ke=(ke=ke.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(J-K*ve,z-Z*ce,ne*pe,H*de));if(this.autoPaging){for(var Re,Ie=p.call(this,ye),Oe=[],Fe=0;Fe<Ie.length;Fe+=1)Oe.indexOf(Ie[Fe])===-1&&Oe.push(Ie[Fe]);_(Oe);for(var Se=Oe[0],Pe=Oe[Oe.length-1],He=Se;He<Pe+1;He++){this.pdf.setPage(He);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=He===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=He===1?0:Je+(He-2)*lt;if(this.ctx.clip_path.length!==0){var Ut=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Re,this.posX+this.margin[3],-ut+at+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Ut}var ft=JSON.parse(JSON.stringify(ye));ft=v([ft],this.posX+this.margin[3],-ut+at+this.ctx.prevPageLastElemOffset)[0];var st=(He>Se||He<Pe)&&g.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,lt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,fe),st&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,fe)};var p=function(j,K,Z){var ne=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var H=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ne.push(Math.floor((j.y+H)/Z)+1);break;case"arc":ne.push(Math.floor((j.y+H-j.radius)/Z)+1),ne.push(Math.floor((j.y+H+j.radius)/Z)+1);break;case"qct":var J=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ne.push(Math.floor((J.y+H)/Z)+1),ne.push(Math.floor((J.y+J.h+H)/Z)+1);break;case"bct":var z=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ne.push(Math.floor((z.y+H)/Z)+1),ne.push(Math.floor((z.y+z.h+H)/Z)+1);break;case"rect":ne.push(Math.floor((j.y+H)/Z)+1),ne.push(Math.floor((j.y+j.h+H)/Z)+1)}for(var B=0;B<ne.length;B+=1)for(;this.pdf.internal.getNumberOfPages()<ne[B];)w.call(this);return ne},w=function(){var j=this.fillStyle,K=this.strokeStyle,Z=this.font,ne=this.lineCap,H=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=K,this.font=Z,this.lineCap=ne,this.lineWidth=H,this.lineJoin=J},v=function(j,K,Z){for(var ne=0;ne<j.length;ne++)switch(j[ne].type){case"bct":j[ne].x2+=K,j[ne].y2+=Z;case"qct":j[ne].x1+=K,j[ne].y1+=Z;default:j[ne].x+=K,j[ne].y+=Z}return j},_=function(j){return j.sort(function(K,Z){return K-Z})},T=function(j,K){var Z=this.fillStyle,ne=this.strokeStyle,H=this.lineCap,J=this.lineWidth,z=Math.abs(J*this.ctx.transform.scaleX),B=this.lineJoin;if(this.autoPaging){for(var Q,oe,pe=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ve=[],ce=0;ce<de.length;ce++)if(de[ce].x!==void 0)for(var he=p.call(this,de[ce]),fe=0;fe<he.length;fe+=1)ve.indexOf(he[fe])===-1&&ve.push(he[fe]);for(var ke=0;ke<ve.length;ke++)for(;this.pdf.internal.getNumberOfPages()<ve[ke];)w.call(this);_(ve);for(var ye=ve[0],Re=ve[ve.length-1],Ie=ye;Ie<Re+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=Z,this.strokeStyle=ne,this.lineCap=H,this.lineWidth=z,this.lineJoin=B;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Ie===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Ie===1?0:Se+(Ie-2)*Pe;if(this.ctx.clip_path.length!==0){var Ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-He+Fe+this.ctx.prevPageLastElemOffset),F.call(this,j,!0),this.path=Ze}if(oe=JSON.parse(JSON.stringify(pe)),this.path=v(oe,this.posX+this.margin[3],-He+Fe+this.ctx.prevPageLastElemOffset),K===!1||Ie===0){var at=(Ie>ye||Ie<Re)&&g.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Pe,null).clip().discardPath()),F.call(this,j,K),at&&this.pdf.restoreGraphicsState()}this.lineWidth=J}this.path=pe}else this.lineWidth=z,F.call(this,j,K),this.lineWidth=J},F=function(j,K){if((j!=="stroke"||K||!y.call(this))&&(j==="stroke"||K||!d.call(this))){for(var Z,ne,H=[],J=this.path,z=0;z<J.length;z++){var B=J[z];switch(B.type){case"begin":H.push({begin:!0});break;case"close":H.push({close:!0});break;case"mt":H.push({start:B,deltas:[],abs:[]});break;case"lt":var Q=H.length;if(J[z-1]&&!isNaN(J[z-1].x)&&(Z=[B.x-J[z-1].x,B.y-J[z-1].y],Q>0)){for(;Q>=0;Q--)if(H[Q-1].close!==!0&&H[Q-1].begin!==!0){H[Q-1].deltas.push(Z),H[Q-1].abs.push(B);break}}break;case"bct":Z=[B.x1-J[z-1].x,B.y1-J[z-1].y,B.x2-J[z-1].x,B.y2-J[z-1].y,B.x-J[z-1].x,B.y-J[z-1].y],H[H.length-1].deltas.push(Z);break;case"qct":var oe=J[z-1].x+2/3*(B.x1-J[z-1].x),pe=J[z-1].y+2/3*(B.y1-J[z-1].y),de=B.x+2/3*(B.x1-B.x),ve=B.y+2/3*(B.y1-B.y),ce=B.x,he=B.y;Z=[oe-J[z-1].x,pe-J[z-1].y,de-J[z-1].x,ve-J[z-1].y,ce-J[z-1].x,he-J[z-1].y],H[H.length-1].deltas.push(Z);break;case"arc":H.push({deltas:[],abs:[],arc:!0}),Array.isArray(H[H.length-1].abs)&&H[H.length-1].abs.push(B)}}ne=K?null:j==="stroke"?"stroke":"fill";for(var fe=!1,ke=0;ke<H.length;ke++)if(H[ke].arc)for(var ye=H[ke].abs,Re=0;Re<ye.length;Re++){var Ie=ye[Re];Ie.type==="arc"?P.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,K,!fe):E.call(this,Ie.x,Ie.y),fe=!0}else if(H[ke].close===!0)this.pdf.internal.out("h"),fe=!1;else if(H[ke].begin!==!0){var Oe=H[ke].start.x,Fe=H[ke].start.y;L.call(this,H[ke].deltas,Oe,Fe),fe=!0}ne&&M.call(this,ne),K&&U.call(this)}},G=function(j){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Z;case"top":return j+K-Z;case"hanging":return j+K-2*Z;case"middle":return j+K/2-Z;default:return j}},$=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(K,Z){this.colorStops.push([K,Z])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(j,K,Z,ne,H,J,z,B,Q){for(var oe=S.call(this,Z,ne,H,J),pe=0;pe<oe.length;pe++){var de=oe[pe];pe===0&&(Q?V.call(this,de.x1+j,de.y1+K):E.call(this,de.x1+j,de.y1+K)),A.call(this,j,K,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}B?U.call(this):M.call(this,z)},M=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(j,K){this.pdf.internal.out(e(j)+" "+n(K)+" m")},I=function(j){var K;switch(j.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z,ne,H,J=this.pdf.getTextDimensions(j.text),z=G.call(this,j.y),B=$.call(this,z)-J.h,Q=this.ctx.transform.applyToPoint(new o(j.x,z));if(this.autoPaging){var oe=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var de=this.ctx.transform.applyToRectangle(new l(j.x,z,J.w,J.h)),ve=pe.applyToRectangle(new l(j.x,B,J.w,J.h)),ce=p.call(this,ve),he=[],fe=0;fe<ce.length;fe+=1)he.indexOf(ce[fe])===-1&&he.push(ce[fe]);_(he);for(var ke=he[0],ye=he[he.length-1],Re=ke;Re<ye+1;Re++){this.pdf.setPage(Re);var Ie=Re===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],Se=Fe-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],He=Pe-this.margin[3],Ze=Re===1?0:Oe+(Re-2)*Se;if(this.ctx.clip_path.length!==0){var at=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Z,this.posX+this.margin[3],-1*Ze+Ie),F.call(this,"fill",!0),this.path=at}var Je=v([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Ze+Ie+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*j.scale),H=this.lineWidth,this.lineWidth=H*j.scale);var lt=this.autoPaging!=="text";if(lt||Je.y+Je.h<=Fe){if(lt||Je.y>=Ie&&Je.x<=Pe){var ut=lt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Pe-Je.x)[0],Ut=v([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Ze+Ie+this.ctx.prevPageLastElemOffset)[0],ft=lt&&(Re>ke||Re<ye)&&g.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Se,null).clip().discardPath()),this.pdf.text(ut,Ut.x,Ut.y,{angle:j.angle,align:K,renderingMode:j.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else Je.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-Je.y);j.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=H)}}else j.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*j.scale),H=this.lineWidth,this.lineWidth=H*j.scale),this.pdf.text(j.text,Q.x+this.posX,Q.y+this.posY,{angle:j.angle,align:K,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=H)},E=function(j,K,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(e(j+Z)+" "+n(K+ne)+" l")},L=function(j,K,Z){return this.pdf.lines(j,K,Z,null,null)},A=function(j,K,Z,ne,H,J,z,B){this.pdf.internal.out([t(i(Z+j)),t(s(ne+K)),t(i(H+j)),t(s(J+K)),t(i(z+j)),t(s(B+K)),"c"].join(" "))},S=function(j,K,Z,ne){for(var H=2*Math.PI,J=Math.PI/2;K>Z;)K-=H;var z=Math.abs(Z-K);z<H&&ne&&(z=H-z);for(var B=[],Q=ne?-1:1,oe=K;z>1e-5;){var pe=oe+Q*Math.min(z,J);B.push(k.call(this,j,oe,pe)),z-=Math.abs(pe-oe),oe=pe}return B},k=function(j,K,Z){var ne=(Z-K)/2,H=j*Math.cos(ne),J=j*Math.sin(ne),z=H,B=-J,Q=z*z+B*B,oe=Q+z*H+B*J,pe=4/3*(Math.sqrt(2*Q*oe)-oe)/(z*J-B*H),de=z-pe*B,ve=B+pe*z,ce=de,he=-ve,fe=ne+K,ke=Math.cos(fe),ye=Math.sin(fe);return{x1:j*Math.cos(K),y1:j*Math.sin(K),x2:de*ke-ve*ye,y2:de*ye+ve*ke,x3:ce*ke-he*ye,y3:ce*ye+he*ke,x4:j*Math.cos(Z),y4:j*Math.sin(Z)}},N=function(j){return 180*j/Math.PI},C=function(j,K,Z,ne,H,J){var z=j+.5*(Z-j),B=K+.5*(ne-K),Q=H+.5*(Z-H),oe=J+.5*(ne-J),pe=Math.min(j,H,z,Q),de=Math.max(j,H,z,Q),ve=Math.min(K,J,B,oe),ce=Math.max(K,J,B,oe);return new l(pe,ve,de-pe,ce-ve)},O=function(j,K,Z,ne,H,J,z,B){var Q,oe,pe,de,ve,ce,he,fe,ke,ye,Re,Ie,Oe,Fe,Se=Z-j,Pe=ne-K,He=H-Z,Ze=J-ne,at=z-H,Je=B-J;for(oe=0;oe<41;oe++)ke=(he=(pe=j+(Q=oe/40)*Se)+Q*((ve=Z+Q*He)-pe))+Q*(ve+Q*(H+Q*at-ve)-he),ye=(fe=(de=K+Q*Pe)+Q*((ce=ne+Q*Ze)-de))+Q*(ce+Q*(J+Q*Je-ce)-fe),oe==0?(Re=ke,Ie=ye,Oe=ke,Fe=ye):(Re=Math.min(Re,ke),Ie=Math.min(Ie,ye),Oe=Math.max(Oe,ke),Fe=Math.max(Fe,ye));return new l(Math.round(Re),Math.round(Ie),Math.round(Oe-Re),Math.round(Fe-Ie))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,K,Z=(j=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(jr.API),(function(r){var t=function(o){var l,c,a,u,f,h,d,y,g,p;for(c=[],a=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>a;a+=4)(f=(o.charCodeAt(a)<<24)+(o.charCodeAt(a+1)<<16)+(o.charCodeAt(a+2)<<8)+o.charCodeAt(a+3))!==0?(h=(f=((f=((f=((f=(f-(p=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(d=f%85))/85)%85,c.push(h+33,d+33,y+33,g+33,p+33)):c.push(122);return(function(w,v){for(var _=v;_>0;_--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},e=function(o){var l,c,a,u,f,h=String,d="length",y=255,g="charCodeAt",p="slice",w="replace";for(o[p](-2),o=o[p](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),a=[],u=0,f=(o+=l="uuuuu"[p](o[d]%5||5))[d];f>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),a.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(v,_){for(var T=_;T>0;T--)v.pop()})(a,l[d]),h.fromCharCode.apply(h,a)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",a=0;a<o.length;a+=2)c+=String.fromCharCode("0x"+(o[a]+o[a+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=W2(l)).reduce(function(a,u){return a+String.fromCharCode(u)},"")};r.processDataByFilters=function(o,l){var c=0,a=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":a=e(a),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=i(a),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=n(a),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=s(a),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:a,reverseChain:u.reverse().join(" ")}}})(jr.API),(function(r){r.loadFile=function(t,e,n){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,a,u){var f=new XMLHttpRequest,h=0,d=function(y){var g=y.length,p=[],w=String.fromCharCode;for(h=0;h<g;h+=1)p.push(w(255&y.charCodeAt(h)));return p.join("")};if(f.open("GET",c,!a),f.overrideMimeType("text/plain; charset=x-user-defined"),a===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),a&&f.status===200)return d(f.responseText)})(i,s,o)}catch{}return l})(t,e,n)},r.loadImageFile=r.loadFile})(jr.API),(function(r){function t(){return(Qr.html2canvas?Promise.resolve(Qr.html2canvas):N1(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function e(){return(Qr.DOMPurify?Promise.resolve(Qr.DOMPurify):N1(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Jn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var a=document.createElement(l);for(var u in c.className&&(a.className=c.className),c.innerHTML&&c.dompurify&&(a.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)a.style[u]=c.style[u];return a},s=function l(c,a){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)a!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,a));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var a=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),a);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(a){switch(n(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(e).then(function(a){return this.set({src:i("div",{innerHTML:l,dompurify:a})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,c(this.prop.container,a)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var a=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var y=u[d],g=y.src.find(function(p){return p.format==="truetype"});g&&a.addFont(g.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,a.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(a){if(a in o.template.prop)return function(){this.prop[a]=l[a]};switch(a){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[a]=l[a]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var a=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(a):a})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(a,u){return Math.floor(a*u/72*96)}return this.then(function(){(l=l||jr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,a,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),a!=null&&(this.progress.n=a),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,a,u){return this.setProgress(l?this.progress.val+l:null,c||null,a?this.progress.n+a:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var a=this;return this.thenCore(l,c,function(u,f){return a.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return a.updateProgress(null,u),h}).then(u,f).then(function(h){return a.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,a){a=a||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),h=a.call(f,l,c);return o.convert(h,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(a){c=c.thenCore(a)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,jr.getPageSize=function(l,c,a){if(Jn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,a=u.format||a}c=c||"mm",a=a||"a4",l=(""+(l||"P")).toLowerCase();var f,h=(""+a).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,g=0,p=0;if(d.hasOwnProperty(h))g=d[h][1]/f,p=d[h][0]/f;else try{g=a[1],p=a[0]}catch{throw new Error("Invalid format: "+a)}if(l==="p"||l==="portrait")l="p",p>g&&(y=p,p=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>p&&(y=p,p=g,g=y)}return{width:p,height:g,unit:c,k:f,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(U1):null;var a=new o(c);return c.worker?a:a.from(l).doCallback()}})(jr.API),jr.API.addJS=function(r){return Jx=r,this.internal.events.subscribe("postPutResources",function(){km=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(km+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Jx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){km!==void 0&&Qx!==void 0&&this.internal.out("/Names <</JavaScript "+km+" 0 R>>")}),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,u=[];for(s=0;s<a;s++){var f=e.internal.newObject();u.push(f);var h=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var a=0;a<n.children.length;a++)this.renderItems(n.children[a])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(jr.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,i,s,o,l){var c,a=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,c=(function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},p=4;p<y;p+=2){if(p+=d,t.indexOf(f.charCodeAt(p+1))!==-1){h=256*f.charCodeAt(p+5)+f.charCodeAt(p+6),g={width:256*f.charCodeAt(p+7)+f.charCodeAt(p+8),height:h,numcomponents:f.charCodeAt(p+9)};break}d=256*f.charCodeAt(p+2)+f.charCodeAt(p+3)}return g})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:e,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:a,index:n,alias:i}}return u}})(jr.API),jr.API.processPNG=function(r,t,e,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=iV(r,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,a=s.palette,u=s.depth;i=a&&c===1?(function(P){for(var M=P.width,U=P.height,V=P.data,I=P.palette,E=P.depth,L=!1,A=[],S=[],k=void 0,N=!1,C=0,O=0;O<I.length;O++){var D=nx(I[O],4),j=D[0],K=D[1],Z=D[2],ne=D[3];A.push(j,K,Z),ne!=null&&(ne===0?(C++,S.length<1&&S.push(O)):ne<255&&(N=!0))}if(N||C>1){L=!0,S=void 0;var H=M*U;k=new Uint8Array(H);for(var J=new DataView(V.buffer),z=0;z<H;z++){var B=q1(J,z,E),Q=nx(I[B],4)[3];k[z]=Q}}else C===0&&(S=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:V,alphaBytes:k,needSMask:L,palette:A,mask:S}})(s):c===2||c===4?(function(P){for(var M=P.data,U=P.width,V=P.height,I=P.channels,E=P.depth,L=I===2?"DeviceGray":"DeviceRGB",A=I-1,S=U*V,k=A,N=S*k,C=1*S,O=Math.ceil(N*E/8),D=Math.ceil(C*E/8),j=new Uint8Array(O),K=new Uint8Array(D),Z=new DataView(M.buffer),ne=new DataView(j.buffer),H=new DataView(K.buffer),J=!1,z=0;z<S;z++){for(var B=z*I,Q=0;Q<k;Q++)l4(ne,q1(Z,B+Q,E),z*k+Q,E);var oe=q1(Z,B+k,E);oe<(1<<E)-1&&(J=!0),l4(H,oe,1*z,E)}return{colorSpace:L,colorsPerPixel:A,sMaskBitsPerComponent:J?E:void 0,colorBytes:j,alphaBytes:K,needSMask:J}})(s):(function(P){var M=P.data,U=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(V){for(var I=V.length,E=new Uint8Array(2*I),L=new DataView(E.buffer,E.byteOffset,E.byteLength),A=0;A<I;A++)L.setUint16(2*A,V[A],!1);return E})(M):M,needSMask:!1}})(s);var f,h,d,y=i,g=y.colorSpace,p=y.colorsPerPixel,w=y.sMaskBitsPerComponent,v=y.colorBytes,_=y.alphaBytes,T=y.needSMask,F=y.palette,G=y.mask,$=null;return n!==jr.API.image_compression.NONE&&typeof W2=="function"?($=(function(P){var M;switch(P){case jr.API.image_compression.FAST:M=11;break;case jr.API.image_compression.MEDIUM:M=13;break;case jr.API.image_compression.SLOW:M=14;break;default:M=12}return M})(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat($," /Colors ").concat(p," /BitsPerComponent ").concat(u," /Columns ").concat(o),r=n4(v,Math.ceil(o*p*u/8),p,u,n),T&&(d=n4(_,Math.ceil(o*w/8),1,w,n))):(f=void 0,h=void 0,r=v,T&&(d=_)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:e,data:r,index:t,filter:f,decodeParameters:h,transparency:G,palette:F,sMask:d,predictor:$,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:g}}},(function(r){r.processGIF89A=function(t,e,n,i){var s=new kV(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var a={data:c,width:o,height:l},u=new H1(100).encode(a,100);return r.processJPEG.call(this,u,e,n,i)},r.processGIF87A=r.processGIF89A})(jr.API),Qo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){ds.log("bit decode error:"+e)}},Qo.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}e!==0&&(this.pos+=4-e)}},Qo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,a=this.palette[l];if(this.data[o]=a.blue,this.data[o+1]=a.green,this.data[o+2]=a.red,this.data[o+3]=255,2*i+1>=this.width)break;a=this.palette[c],this.data[o+4]=a.blue,this.data[o+4+1]=a.green,this.data[o+4+2]=a.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Qo.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Qo.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,a=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=a}this.pos+=r}},Qo.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&e)/e*255|0,a=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=a,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=r}},Qo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Qo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Qo.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,n,i){var s=new Qo(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},a=new H1(100).encode(c,100);return r.processJPEG.call(this,a,e,n,i)}})(jr.API),u4.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,n,i){var s=new u4(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},a=new H1(100).encode(c,100);return r.processJPEG.call(this,a,e,n,i)}})(jr.API),jr.API.processRGBA=function(r,t,e){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,a=0;a<i;a+=4){var u=n[a],f=n[a+1],h=n[a+2],d=n[a+3];s[l++]=u,s[l++]=f,s[l++]=h,o[c++]=d}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},jr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yd=jr.API,Em=Yd.getCharWidthsArray=function(r,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,a=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=a.fof?a.fof:1,f=t.doKerning!==!1,h=0,d=r.length,y=0,g=l[0]||c,p=[];for(e=0;e<d;e++)n=r.charCodeAt(e),typeof i.metadata.widthOfString=="function"?p.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&Jn(a[n])==="object"&&!isNaN(parseInt(a[n][y],10))?a[n][y]/u:0,p.push((l[n]||g)/c+h)),y=n;return p},e4=Yd.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Yd.processArabic&&(r=Yd.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,i)/e:Em.apply(this,arguments).reduce(function(s,o){return s+o},0)},t4=function(r,t,e,n){for(var i=[],s=0,o=r.length,l=0;s!==o&&l+t[s]<e;)l+=t[s],s++;i.push(r.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(i.push(r.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(r.slice(c,s)),i},r4=function(r,t,e){e||(e={});var n,i,s,o,l,c,a,u=[],f=[u],h=e.textIndent||0,d=0,y=0,g=r.split(" "),p=Em.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?g[0].length+2:e.lineIndent||0){var w=Array(c).join(" "),v=[];g.map(function(T){(T=T.split(/\s*\n/)).length>1?v=v.concat(T.map(function(F,G){return(G&&F.length?`
`:"")+F})):v.push(T[0])}),g=v,c=e4.apply(this,[w,e])}for(s=0,o=g.length;s<o;s++){var _=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),_=1),h+d+(y=(i=Em.apply(this,[n,e])).reduce(function(T,F){return T+F},0))>t||_){if(y>t){for(l=t4.apply(this,[n,i,t-(h+d),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(T,F){return T+F},0)}else u=[n];f.push(u),h=y+c,d=p}else u.push(n),h+=d+y,d=p}return a=c?function(T,F){return(F?w:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(a)},Yd.splitTextToSize=function(r,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var l,c,a=[];for(l=0,c=n.length;l<c;l++)a=a.concat(r4.apply(this,[n[l],o,s]));return a},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[e[s]]=t[s],i[t[s]]=e[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=r.__fontmetrics__.compress=function(h){var d,y,g,p,w=["{"];for(var v in h){if(d=h[v],isNaN(parseInt(v,10))?y="'"+v+"'":(v=parseInt(v,10),y=(y=o(v).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof d=="number")d<0?(g=o(d).slice(3),p="-"):(g=o(d).slice(2),p=""),g=p+g.slice(0,-1)+i[g.slice(-1)];else{if(Jn(d)!=="object")throw new Error("Don't know what to do with value type "+Jn(d)+".");g=l(d)}w.push(y+g)}return w.push("}"),w.join("")},c=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,y,g,p,w={},v=1,_=w,T=[],F="",G="",$=h.length-1,P=1;P<$;P+=1)(p=h[P])=="'"?d?(g=d.join(""),d=void 0):d=[]:d?d.push(p):p=="{"?(T.push([_,g]),_={},g=void 0):p=="}"?((y=T.pop())[0][y[1]]=_,g=void 0,_=y[0]):p=="-"?v=-1:g===void 0?n.hasOwnProperty(p)?(F+=n[p],g=parseInt(F,16)*v,v=1,F=""):F+=p:n.hasOwnProperty(p)?(G+=n[p],_[g]=parseInt(G,16)*v,v=1,g=void 0,G=""):G+=p;return w},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var d=h.font,y=f.Unicode[d.postScriptName];y&&(d.metadata.Unicode={},d.metadata.Unicode.widths=y.widths,d.metadata.Unicode.kerning=y.kerning);var g=u.Unicode[d.postScriptName];g&&(d.metadata.Unicode.encoding=g,d.encoding=g.codePages[0])}])})(jr.API),(function(r){var t=function(e){for(var n=e.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=e.charCodeAt(s);return i};r.API.events.push(["addFont",function(e){var n=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Bm(l)),o.metadata=r.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(jr),jr.API.addSvgAsImage=function(r,t,e,n,i,s,o,l){if(isNaN(t)||isNaN(e))throw ds.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ds.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var a=c.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Qr.canvg?Promise.resolve(Qr.canvg):N1(()=>import("./index.es-D3ilZjik.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(a,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,e,n,i,o,l)})},jr.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},jr.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],a=0,u=0,f=0;function h(y,g){var p,w=!1;for(p=0;p<y.length;p+=1)y[p]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var d=l.length;for(f=0;f<d;f+=1)e[l[f]].value=e[l[f]].defaultValue,e[l[f]].explicitSet=!1}if(Jn(r)==="object"){for(i in r)if(s=r[i],h(l,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&h(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(a=0;a<s.length;a+=1)if(n=!0,s[a].length===1&&typeof s[a][0]=="number")c.push(String(s[a]-1));else if(s[a].length>1){for(u=0;u<s[a].length;u+=1)typeof s[a][u]!="number"&&(n=!1);n===!0&&c.push([s[a][0]-1,s[a][1]-1].join(" "))}e[i].value="["+c.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?g.push("/"+y+" /"+e[y].value):g.push("/"+y+" "+e[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),a=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(jr.API),(function(r){var t=r.API,e=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,a=["","0","00","000","0000"],u=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(a[4-l.length],l)}return u.join("")},n=function(s){var o,l,c,a,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(d,y){return d-y})).length;f<h;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(a=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+a+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,a=o.newObject,u=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),d="",y=0;y<h.length;y++)d+=String.fromCharCode(h[y]);var g=a();u({data:d,addLength1:!0,objectId:g}),c("endobj");var p=a();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var w=a();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+rh(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=a();c("<<"),c("/Type /Font"),c("/BaseFont /"+rh(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=a(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+rh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,a=o.newObject,u=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var y=a();u({data:h,addLength1:!0,objectId:y}),c("endobj");var g=a();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var p=a();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+rh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=a();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+rh(l.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,a=s.y,u=s.options||{},f=s.mutex||{},h=f.pdfEscape,d=f.activeFontKey,y=f.fonts,g=d,p="",w=0,v="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:a,options:u,mutex:f};for(v=l,g=d,Array.isArray(l)&&(v=l[0]),w=0;w<v.length;w+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[v[w].charCodeAt(0)]),o||v[w].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?p+=v[w]:p+="";var T="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?T=h(p,g).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(T=e(p,y[g])),f.isHex=!0,{text:T,x:c,y:a,options:u,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var a=0;for(a=0;a<o.length;a+=1)Array.isArray(o[a])&&o[a].length===3?l.push([i(Object.assign({},c,{text:o[a][0]})).text,o[a][1],o[a][2]]):l.push(i(Object.assign({},c,{text:o[a]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])})(jr),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(jr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,o,l,c,a,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,_=0;this.__bidiEngine__={};var T=function(V){var I=V.charCodeAt(),E=I>>8,L=g[E];return L!==void 0?f[256*L+(255&I)]:E===252||E===253?"AL":w.test(E)?"L":E===8?"R":"N"},F=function(V){for(var I,E=0;E<V.length;E++){if((I=T(V.charAt(E)))==="L")return!1;if(I==="R")return!0}return!1},G=function(V,I,E,L){var A,S,k,N,C=I[L];switch(C){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(C="AN");break;case"AL":v=!0,C="R";break;case"WS":case"BN":C="N";break;case"CS":L<1||L+1>=I.length||(A=E[L-1])!=="EN"&&A!=="AN"||(S=I[L+1])!=="EN"&&S!=="AN"?C="N":v&&(S="AN"),C=S===A?S:"N";break;case"ES":C=(A=L>0?E[L-1]:"B")==="EN"&&L+1<I.length&&I[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&E[L-1]==="EN"){C="EN";break}if(v){C="N";break}for(k=L+1,N=I.length;k<N&&I[k]==="ET";)k++;C=k<N&&I[k]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(N=I.length,k=L+1;k<N&&I[k]==="NSM";)k++;if(k<N){var O=V[L],D=O>=1425&&O<=2303||O===64286;if(A=I[k],D&&(A==="R"||A==="AL")){C="R";break}}}C=L<1||(A=I[L-1])==="B"?"N":E[L-1];break;case"B":v=!1,i=!0,C=_;break;case"S":s=!0,C="N"}return C},$=function(V,I,E){var L=V.split("");return E&&P(L,E,{hiLevel:_}),L.reverse(),I&&I.reverse(),L.join("")},P=function(V,I,E){var L,A,S,k,N,C=-1,O=V.length,D=0,j=[],K=_?d:h,Z=[];for(v=!1,i=!1,s=!1,A=0;A<O;A++)Z[A]=T(V[A]);for(S=0;S<O;S++){if(N=D,j[S]=G(V,Z,j,S),L=240&(D=K[N][y[j[S]]]),D&=15,I[S]=k=K[D][5],L>0)if(L===16){for(A=C;A<S;A++)I[A]=1;C=-1}else C=-1;if(K[D][6])C===-1&&(C=S);else if(C>-1){for(A=C;A<S;A++)I[A]=k;C=-1}Z[S]==="B"&&(I[S]=0),E.hiLevel|=k}s&&(function(ne,H,J){for(var z=0;z<J;z++)if(ne[z]==="S"){H[z]=_;for(var B=z-1;B>=0&&ne[B]==="WS";B--)H[B]=_}})(Z,I,O)},M=function(V,I,E,L,A){if(!(A.hiLevel<V)){if(V===1&&_===1&&!i)return I.reverse(),void(E&&E.reverse());for(var S,k,N,C,O=I.length,D=0;D<O;){if(L[D]>=V){for(N=D+1;N<O&&L[N]>=V;)N++;for(C=D,k=N-1;C<k;C++,k--)S=I[C],I[C]=I[k],I[k]=S,E&&(S=E[C],E[C]=E[k],E[k]=S);D=N}D++}}},U=function(V,I,E){var L=V.split(""),A={hiLevel:_};return E||(E=[]),P(L,E,A),(function(S,k,N){if(N.hiLevel!==0&&u)for(var C,O=0;O<S.length;O++)k[O]===1&&(C=p.indexOf(S[O]))>=0&&(S[O]=p[C+1])})(L,E,A),M(2,L,I,E,A),M(1,L,I,E,A),L.join("")};return this.__bidiEngine__.doBidiReorder=function(V,I,E){if((function(A,S){if(S)for(var k=0;k<A.length;k++)S[k]=k;l===void 0&&(l=F(A)),a===void 0&&(a=F(A))})(V,I),o||!c||a)if(o&&c&&l^a)_=l?1:0,V=$(V,I,E);else if(!o&&c&&a)_=l?1:0,V=U(V,I,E),V=$(V,I);else if(!o||l||c||a){if(o&&!c&&l^a)V=$(V,I),l?(_=0,V=U(V,I,E)):(_=1,V=U(V,I,E),V=$(V,I));else if(o&&l&&!c&&a)_=1,V=U(V,I,E),V=$(V,I);else if(!o&&!c&&l^a){var L=u;l?(_=1,V=U(V,I,E),_=0,u=!1,V=U(V,I,E),u=L):(_=0,V=U(V,I,E),V=$(V,I),_=1,u=!1,V=U(V,I,E),u=L,V=$(V,I))}}else _=0,V=U(V,I,E);else _=l?1:0,V=U(V,I,E);return V},this.__bidiEngine__.setOptions=function(V){V&&(o=V.isInputVisual,c=V.isOutputVisual,l=V.isInputRtl,a=V.isOutputRtl,u=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([e.doBidiReorder(i[l])]);n.text=o}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])})(jr),jr.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new wu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new zV(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new EV(this.contents),this.head=new TV(this),this.name=new MV(this),this.cmap=new j7(this),this.toUnicode={},this.hhea=new jV(this),this.maxp=new OV(this),this.hmtx=new LV(this),this.post=new PV(this),this.os2=new IV(this),this.loca=new VV(this),this.glyf=new DV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,a;for(a=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],a.push(Math.round(t*this.scaleFactor));return a}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return o*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r})();var cl,wu=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,i,s,o,l,c;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)e=t[n],s.push(this.writeByte(e));return s},r})(),EV=(function(){var r;function t(e){var n,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,s,o,l,c,a,u,f,h,d,y,g;for(g in d=Object.keys(e).length,c=Math.log(2),f=16*Math.floor(Math.log(d)/c),o=Math.floor(f/c),u=16*d-f,(i=new wu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(o),i.writeShort(u),s=16*d,a=i.pos+s,l=null,y=[],e)for(h=e[g],i.writeString(g),i.writeInt(r(h)),i.writeInt(a),i.writeInt(h.length),y=y.concat(h),g==="head"&&(l=a),a+=h.length;a%4;)y.push(0),a++;return i.write(y),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(e){var n,i,s,o;for(e=I7.call(e);e.length%4;)e.push(0);for(s=new wu(e),i=0,n=0,o=e.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t})(),AV={}.hasOwnProperty,$l=function(r,t){for(var e in t)AV.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};cl=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var TV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new wu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r})(),d4=(function(){function r(t,e){var n,i,s,o,l,c,a,u,f,h,d,y,g,p,w,v,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,s=(function(){var T,F;for(F=[],c=T=0;0<=h?T<h:T>h;c=0<=h?++T:--T)F.push(t.readUInt16());return F})(),t.pos+=2,g=(function(){var T,F;for(F=[],c=T=0;0<=h?T<h:T>h;c=0<=h?++T:--T)F.push(t.readUInt16());return F})(),a=(function(){var T,F;for(F=[],c=T=0;0<=h?T<h:T>h;c=0<=h?++T:--T)F.push(t.readUInt16());return F})(),u=(function(){var T,F;for(F=[],c=T=0;0<=h?T<h:T>h;c=0<=h?++T:--T)F.push(t.readUInt16());return F})(),i=(this.length-t.pos+this.offset)/2,l=(function(){var T,F;for(F=[],c=T=0;0<=i?T<i:T>i;c=0<=i?++T:--T)F.push(t.readUInt16());return F})(),c=w=0,_=s.length;w<_;c=++w)for(p=s[c],n=v=y=g[c];y<=p?v<=p:v>=p;n=y<=p?++v:--v)u[c]===0?o=n+a[c]:(o=l[u[c]/2+(n-y)-(h-c)]||0)!==0&&(o+=a[c]),this.codeMap[n]=65535&o}t.pos=f}return r.encode=function(t,e){var n,i,s,o,l,c,a,u,f,h,d,y,g,p,w,v,_,T,F,G,$,P,M,U,V,I,E,L,A,S,k,N,C,O,D,j,K,Z,ne,H,J,z,B,Q,oe,pe;switch(L=new wu,o=Object.keys(t).sort(function(de,ve){return de-ve}),e){case"macroman":for(g=0,p=(function(){var de=[];for(y=0;y<256;++y)de.push(0);return de})(),v={0:0},s={},A=0,C=o.length;A<C;A++)v[B=t[i=o[A]]]==null&&(v[B]=++g),s[i]={old:t[i],new:v[t[i]]},p[i]=v[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(p),{charMap:s,subtable:L.data,maxGlyphID:g+1};case"unicode":for(I=[],f=[],_=0,v={},n={},w=a=null,S=0,O=o.length;S<O;S++)v[F=t[i=o[S]]]==null&&(v[F]=++_),n[i]={old:F,new:v[F]},l=v[F]-i,w!=null&&l===a||(w&&f.push(w),I.push(i),a=l),w=i;for(w&&f.push(w),f.push(65535),I.push(65535),U=2*(M=I.length),P=2*Math.pow(Math.log(M)/Math.LN2,2),h=Math.log(P/2)/Math.LN2,$=2*M-P,c=[],G=[],d=[],y=k=0,D=I.length;k<D;y=++k){if(V=I[y],u=f[y],V===65535){c.push(0),G.push(0);break}if(V-(E=n[V].new)>=32768)for(c.push(0),G.push(2*(d.length+M-y)),i=N=V;V<=u?N<=u:N>=u;i=V<=u?++N:--N)d.push(n[i].new);else c.push(E-V),G.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*M+2*d.length),L.writeUInt16(0),L.writeUInt16(U),L.writeUInt16(P),L.writeUInt16(h),L.writeUInt16($),J=0,j=f.length;J<j;J++)i=f[J],L.writeUInt16(i);for(L.writeUInt16(0),z=0,K=I.length;z<K;z++)i=I[z],L.writeUInt16(i);for(Q=0,Z=c.length;Q<Z;Q++)l=c[Q],L.writeUInt16(l);for(oe=0,ne=G.length;oe<ne;oe++)T=G[oe],L.writeUInt16(T);for(pe=0,H=d.length;pe<H;pe++)g=d[pe],L.writeUInt16(g);return{charMap:n,subtable:L.data,maxGlyphID:_+1}}},r})(),j7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)e=new d4(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var n,i;return e==null&&(e="macroman"),n=d4.encode(t,e),(i=new wu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),jV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r})(),IV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n})(),this.charRange=(function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r})(),PV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="post",r.prototype.parse=function(t){var e,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},r})(),RV=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},MV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="name",r.prototype.parse=function(t){var e,n,i,s,o,l,c,a,u,f,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),l=t.readShort(),n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=u=0,f=n.length;u<f;s=++u)i=n[s],t.pos=i.offset,a=t.readString(i.length),o=new RV(a,i),c[h=i.nameID]==null&&(c[h]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),OV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r})(),LV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,n,i,s,o,l,c;for(t.pos=this.offset,this.metrics=[],e=0,l=this.file.hhea.numberOfMetrics;0<=l?e<l:e>l;e=0<=l?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var a,u;for(u=[],e=a=0;0<=i?a<i:a>i;e=0<=i?++a:--a)u.push(t.readInt16());return u})(),this.widths=(function(){var a,u,f,h;for(h=[],a=0,u=(f=this.metrics).length;a<u;a++)s=f[a],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],e=o=0;0<=i?o<i:o>i;e=0<=i?++o:--o)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r})(),I7=[].slice,DV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,n,i,s,o,l,c,a,u,f;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,o=(l=new wu(e.read(i))).readShort(),a=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new BV(l,a,f,c,u):new FV(l,o,a,f,c,u),this.cache[t]))},r.prototype.encode=function(t,e,n){var i,s,o,l,c;for(o=[],s=[],l=0,c=e.length;l<c;l++)i=t[e[l]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},r})(),FV=(function(){function r(t,e,n,i,s,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),BV=(function(){function r(t,e,n,i,s){var o,l;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new wu(I7.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),VV=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return $l(r,cl),r.prototype.tag="loca",r.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<e.length&&e[s]==o){++s,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var a=new Array(4*n.length),u=0;u<n.length;++u)a[4*u+3]=255&n[u],a[4*u+2]=(65280&n[u])>>8,a[4*u+1]=(16711680&n[u])>>16,a[4*u]=(4278190080&n[u])>>24;return a},r})(),zV=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=i[n];return t},r.prototype.glyphsFor=function(t){var e,n,i,s,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(n=i[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in c=this.glyphsFor(e))n=c[s],i[s]=n;return i},r.prototype.encode=function(t,e){var n,i,s,o,l,c,a,u,f,h,d,y,g,p,w;for(i in n=j7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},w=n.charMap)d[(c=w[i]).old]=c.new;for(y in h=n.maxGlyphID,o)y in d||(d[y]=h++);return u=(function(v){var _,T;for(_ in T={},v)T[v[_]]=_;return T})(d),f=Object.keys(u).sort(function(v,_){return v-_}),g=(function(){var v,_,T;for(T=[],v=0,_=f.length;v<_;v++)l=f[v],T.push(u[l]);return T})(),s=this.font.glyf.encode(o,g,d),a=this.font.loca.encode(s.offsets,g),p={cmap:this.font.cmap.raw(),glyf:s.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r})();jr.API.PDFObject=(function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,s,o;if(Array.isArray(e))return"["+(function(){var l,c,a;for(a=[],l=0,c=e.length;l<c;l++)n=e[l],a.push(t.convert(n));return a})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)o=e[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t})();const UV=(r,t,e,n,i)=>`In relation to the above subject please note that Mrs. ${r}${i?`, ARC NO. ${i}`:""} has filed the Recourse No. ${t} at the Administrative Court of International Protection.
The case is fixed on the ${e} for Trial.
Mrs. ${r} is an Asylum Seeker until the Court issues its final decision.`;function $V({cases:r,clients:t,users:e,onRefresh:n}){const{user:i}=pd(),s=ie.useMemo(()=>r.filter(Se=>Se.type==="Asylum"),[r]),o=ie.useMemo(()=>{const Se=new Set(s.map(Pe=>Pe.clientId));return t.filter(Pe=>Se.has(Pe.id))},[t,s]),[l,c]=ie.useState(""),[a,u]=ie.useState(""),[f,h]=ie.useState(!1),[d,y]=ie.useState(!1),[g,p]=ie.useState(""),[w,v]=ie.useState(""),[_,T]=ie.useState(""),[F,G]=ie.useState(""),[$,P]=ie.useState("Email"),[M,U]=ie.useState("Asylum Case Notification"),[V,I]=ie.useState(""),[E,L]=ie.useState(()=>{const Se=localStorage.getItem("asylum-notifications");return Se?JSON.parse(Se):[]}),[A,S]=ie.useState(""),[k,N]=ie.useState(""),[C,O]=ie.useState(""),[D,j]=ie.useState(()=>{const Se=localStorage.getItem("asylum-payments");return Se?JSON.parse(Se):[]}),[K,Z]=ie.useState({firstName:"",middleName:"",lastName:"",email:"",phone:"",address:"",dateOfBirth:"",placeOfBirth:"",countryOfBirth:"",arcNumber:"",fileNumber:"",notes:""}),ne=s.find(Se=>Se.id===l),H=ne?t.find(Se=>Se.id===ne.clientId):null,z=(a?t.find(Se=>Se.id===a):null)||H,B=Se=>{c(Se);const Pe=s.find(He=>He.id===Se);if(Pe){const He=t.find(Ze=>Ze.id===Pe.clientId);He&&(u(He.id),v(He.arcNumber||""),T(He.fileNumber||""))}},Q=Se=>{u(Se);const Pe=t.find(He=>He.id===Se);Pe&&(v(Pe.arcNumber||""),T(Pe.fileNumber||""))},oe=Se=>Se!=null&&Se.firstName?`${Se.firstName} ${Se.middleName||""} ${Se.lastName}`.trim():(Se==null?void 0:Se.name)||"Unknown Client",pe=()=>{if(!z){wt.error("Please select a client first");return}if(!g||!F){wt.error("Please enter appeal number and return date");return}const Se=oe(z),Pe=Ws(new Date(F),"dd/MM/yyyy"),He=w||z.arcNumber||"",Ze=UV(Se,g,Pe,(i==null?void 0:i.name)||"Admin",He);U(`Administrative Court of International Protection Application No. ${g} between ${Se} The Republic of Cyprus, the Asylum Service`),I(Ze),wt.success("Notification generated")},de=async()=>{if(!V){wt.error("Nothing to copy");return}await navigator.clipboard.writeText(V),wt.success("Copied to clipboard")},ve=()=>new Promise(Se=>{const Pe=new Image;Pe.crossOrigin="anonymous",Pe.onload=()=>{const He=document.createElement("canvas");He.width=Pe.width,He.height=Pe.height;const Ze=He.getContext("2d");Ze==null||Ze.drawImage(Pe,0,0),Se(He.toDataURL("image/png"))},Pe.onerror=()=>Se(null),Pe.src="/LLAW.png"}),ce=async()=>{if(!z||!V){wt.error("Please generate a notification first");return}const Se=await ve(),Pe=new jr,He=Pe.internal.pageSize.getWidth(),Ze=20,at=He-2*Ze;let Je=15;const lt=22;Se?(Pe.addImage(Se,"PNG",Ze,Je,lt,lt),Pe.addImage(Se,"PNG",He-Ze-lt,Je,lt,lt)):(Pe.setFillColor(139,109,59),Pe.circle(Ze+lt/2,Je+lt/2,lt/2,"F"),Pe.setTextColor(255,255,255),Pe.setFontSize(10),Pe.setFont("helvetica","bold"),Pe.text("LAW",Ze+lt/2,Je+lt/2+1,{align:"center"}),Pe.setFillColor(139,109,59),Pe.circle(He-Ze-lt/2,Je+lt/2,lt/2,"F"),Pe.text("LAW",He-Ze-lt/2,Je+lt/2+1,{align:"center"})),Pe.setTextColor(139,109,59),Pe.setFontSize(14),Pe.setFont("helvetica","bold"),Pe.text("AL TAHER BENETIS & ASSOCIATES LLC",He/2,Je+8,{align:"center"}),Pe.setFontSize(9),Pe.setFont("helvetica","normal"),Pe.text("ATTORNEYS AT LAW",He/2,Je+14,{align:"center"}),Je+=lt+5,Pe.setFontSize(8),Pe.setTextColor(60,60,60),Pe.text("Geogas Tower, Kallipoleos 3 - Office 302, Nicosia 1055, Cyprus",He/2,Je,{align:"center"}),Je+=4,Pe.text("Tel: +35799989093 | Email: altaherbenetislaw@gmail.com",He/2,Je,{align:"center"}),Je+=6,Pe.setDrawColor(139,109,59),Pe.setLineWidth(.5),Pe.line(Ze,Je,He-Ze,Je),Je+=12,Pe.setFontSize(14),Pe.setFont("helvetica","bold"),Pe.setTextColor(0,0,0),Pe.text("NOTIFICATION",He/2,Je,{align:"center"}),Je+=12,Pe.setFontSize(10),Pe.setFont("helvetica","normal"),Pe.text(`Date: ${new Date().toLocaleDateString("en-GB")}`,Ze,Je),Je+=6,Pe.text(`Reference: ${g}`,Ze,Je),Je+=6,w&&(Pe.text(`ARC No: ${w}`,Ze,Je),Je+=6),Je+=6,Pe.setFont("helvetica","bold"),Pe.text("RE:",Ze,Je),Pe.setFont("helvetica","normal");const ut=Pe.splitTextToSize(M,at-10);Pe.text(ut,Ze+10,Je),Je+=ut.length*5+10,Pe.setFontSize(10);const Ut=Pe.splitTextToSize(V,at);Pe.text(Ut,Ze,Je),Je+=Ut.length*5+15,Pe.setFont("helvetica","normal"),Pe.text("Best regards,",Ze,Je),Je+=12,Pe.setFont("helvetica","bold"),Pe.text((i==null?void 0:i.name)||"Admin",Ze,Je),Je+=5,Pe.setFont("helvetica","normal"),Pe.text("AL TAHER BENETIS & ASSOCIATES LLC",Ze,Je),Je+=5,Pe.text("Attorneys at Law",Ze,Je);const ft=280;Pe.setDrawColor(139,109,59),Pe.setLineWidth(.3),Pe.line(Ze,ft-5,He-Ze,ft-5),Pe.setFontSize(8),Pe.setTextColor(100,100,100),Pe.text("This document is issued by AL TAHER BENETIS & ASSOCIATES LLC.",He/2,ft,{align:"center"}),Pe.text("Confidential and Privileged Communication.",He/2,ft+4,{align:"center"});const st=oe(z).replace(/\s+/g,"_");Pe.save(`Notification_${st}_${g.replace(/\//g,"-")}.pdf`),wt.success("PDF downloaded successfully")},he=()=>{if(!z||!V){wt.error("Please generate a notification first");return}const Se={id:`notif-${Date.now()}`,caseId:(ne==null?void 0:ne.id)||"",clientName:oe(z),subject:M,body:V,channel:$,createdAt:new Date().toISOString()},Pe=[...E,Se];L(Pe),localStorage.setItem("asylum-notifications",JSON.stringify(Pe)),wt.success("Notification saved")},fe=Se=>{const Pe=E.filter(He=>He.id!==Se);L(Pe),localStorage.setItem("asylum-notifications",JSON.stringify(Pe)),wt.success("Notification deleted")},ke=()=>{if(!ne||!A||!k){wt.error("Please select a case and fill in payment details");return}const Se={id:`pay-${Date.now()}`,caseId:ne.id,clientName:(H==null?void 0:H.name)||"Unknown",amountDue:parseFloat(A),dueDate:k,status:"Pending",notes:C,createdAt:new Date().toISOString()},Pe=[...D,Se];j(Pe),localStorage.setItem("asylum-payments",JSON.stringify(Pe)),S(""),N(""),O(""),wt.success("Payment reminder created")},ye=(Se,Pe)=>{const He=D.map(Ze=>Ze.id===Se?{...Ze,status:Pe}:Ze);j(He),localStorage.setItem("asylum-payments",JSON.stringify(He)),wt.success(`Status updated to ${Pe}`)},Re=Se=>{const Pe=D.filter(He=>He.id!==Se);j(Pe),localStorage.setItem("asylum-payments",JSON.stringify(Pe)),wt.success("Reminder deleted")},Ie=async()=>{if(!K.firstName||!K.lastName||!K.email||!K.phone){wt.error("Please fill in all required fields");return}y(!0);try{const Se=[K.firstName,K.middleName,K.lastName].filter(Boolean).join(" ");await os.createClient({name:Se,firstName:K.firstName,middleName:K.middleName,lastName:K.lastName,email:K.email,phone:K.phone,address:K.address,dateOfBirth:K.dateOfBirth,placeOfBirth:K.placeOfBirth,countryOfBirth:K.countryOfBirth,arcNumber:K.arcNumber,fileNumber:K.fileNumber,type:"Individual",notes:`[Asylum Client] ${K.notes}`.trim()}),wt.success("Asylum client added successfully"),h(!1),Z({firstName:"",middleName:"",lastName:"",email:"",phone:"",address:"",dateOfBirth:"",placeOfBirth:"",countryOfBirth:"",arcNumber:"",fileNumber:"",notes:""}),n()}catch(Se){wt.error(Se.message||"Failed to add client")}finally{y(!1)}},Oe=E.filter(Se=>Se.caseId===l),Fe=D.filter(Se=>Se.caseId===l);return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(ad,{className:"h-8 w-8"}),"Asylum & Immigration"]}),b.jsx("p",{className:"text-muted-foreground",children:"Manage asylum clients, cases, notifications, and payments"})]}),b.jsxs(Mt,{onClick:()=>h(!0),children:[b.jsx(x1,{className:"mr-2 h-4 w-4"}),"Add Asylum Client"]})]}),b.jsxs(dp,{defaultValue:"cases",className:"space-y-4",children:[b.jsxs(Mh,{className:"grid w-full grid-cols-4",children:[b.jsxs(ai,{value:"cases",className:"gap-2",children:[b.jsx(_c,{className:"h-4 w-4"}),"Cases"]}),b.jsxs(ai,{value:"clients",className:"gap-2",children:[b.jsx(x1,{className:"h-4 w-4"}),"Clients"]}),b.jsxs(ai,{value:"notifications",className:"gap-2",children:[b.jsx(Zu,{className:"h-4 w-4"}),"Notifications"]}),b.jsxs(ai,{value:"payments",className:"gap-2",children:[b.jsx(Sh,{className:"h-4 w-4"}),"Payments"]})]}),b.jsx(oi,{value:"cases",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsx(Ur,{children:"Asylum Cases Overview"}),b.jsx(fa,{children:"View and manage all asylum/immigration cases"})]}),b.jsx(Jt,{className:"space-y-4",children:s.length===0?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(I2,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),b.jsx("p",{className:"text-lg font-medium",children:"No asylum cases found"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:'Create an asylum case from the Cases section (set type to "Asylum")'})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Select Case"}),b.jsxs(bn,{value:l,onValueChange:B,children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Choose a case"})}),b.jsx(fn,{children:s.map(Se=>b.jsxs(Bt,{value:Se.id,children:[Se.title," - ",Se.caseNumber]},Se.id))})]})]}),ne&&b.jsxs("div",{className:"grid gap-4 md:grid-cols-2 rounded-lg bg-amber-900 p-4 text-white",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"Client"}),b.jsx("p",{className:"font-semibold",children:oe(H)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"Status"}),b.jsx(po,{className:"bg-amber-600",children:ne.status})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"Case Number"}),b.jsx("p",{className:"font-semibold",children:ne.caseNumber})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"Type"}),b.jsx("p",{className:"font-semibold",children:ne.type})]}),(H==null?void 0:H.arcNumber)&&b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"ARC Number"}),b.jsx("p",{className:"font-semibold",children:H.arcNumber})]}),(H==null?void 0:H.fileNumber)&&b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-amber-200",children:"File Number"}),b.jsx("p",{className:"font-semibold",children:H.fileNumber})]})]}),b.jsx(Ca,{}),b.jsx("div",{className:"space-y-2",children:s.map(Se=>{const Pe=t.find(He=>He.id===Se.clientId);return b.jsx(Qt,{className:`cursor-pointer transition-all ${Se.id===l?"ring-2 ring-primary":""}`,onClick:()=>B(Se.id),children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:Se.title}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[oe(Pe),"  ",Se.caseNumber]})]}),b.jsx(po,{variant:Se.status==="Open"?"default":"secondary",children:Se.status})]})})},Se.id)})})]})})]})}),b.jsx(oi,{value:"clients",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsx(Ur,{children:"Asylum/Immigration Clients"}),b.jsx(fa,{children:"Clients associated with asylum cases"})]}),b.jsx(Jt,{children:o.length===0?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(x1,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No asylum clients yet"}),b.jsx(Mt,{variant:"link",onClick:()=>h(!0),children:"Add your first asylum client"})]}):b.jsx("div",{className:"space-y-2",children:o.map(Se=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:Se.firstName?`${Se.firstName} ${Se.middleName||""} ${Se.lastName}`.trim():Se.name}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se.email,"  ",Se.phone]}),(Se.arcNumber||Se.fileNumber)&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se.arcNumber&&b.jsxs("span",{className:"mr-3",children:["ARC: ",Se.arcNumber]}),Se.fileNumber&&b.jsxs("span",{children:["File: ",Se.fileNumber]})]}),Se.countryOfBirth&&b.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[b.jsx(ad,{className:"h-3 w-3"}),Se.countryOfBirth]})]}),b.jsx(po,{variant:"secondary",children:Se.type})]})})},Se.id))})})]})}),b.jsxs(oi,{value:"notifications",className:"space-y-4",children:[b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsx(Ur,{children:"Compose Notification"}),b.jsx(fa,{children:"Send updates to clients regarding their asylum case"})]}),b.jsxs(Jt,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Select Client *"}),b.jsxs(bn,{value:a,onValueChange:Q,children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Choose a client"})}),b.jsx(fn,{children:t.map(Se=>b.jsxs(Bt,{value:Se.id,children:[oe(Se),Se.arcNumber&&` (ARC: ${Se.arcNumber})`]},Se.id))})]})]}),z&&b.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[b.jsx("h4",{className:"font-medium mb-2",children:"Client Profile"}),b.jsxs("div",{className:"grid gap-2 md:grid-cols-3 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Name:"}),b.jsx("span",{className:"ml-2 font-medium",children:oe(z)})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Email:"}),b.jsx("span",{className:"ml-2",children:z.email})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),b.jsx("span",{className:"ml-2",children:z.phone})]}),z.dateOfBirth&&b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"D.O.B:"}),b.jsx("span",{className:"ml-2",children:z.dateOfBirth})]}),z.countryOfBirth&&b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Country:"}),b.jsx("span",{className:"ml-2",children:z.countryOfBirth})]})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs(yt,{children:["ARC Number ",w&&b.jsx("span",{className:"text-xs text-muted-foreground",children:"(from profile)"})]}),b.jsx(Xt,{value:w,onChange:Se=>v(Se.target.value),placeholder:"e.g., 0581852366"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(yt,{children:["File Number ",_&&b.jsx("span",{className:"text-xs text-muted-foreground",children:"(from profile)"})]}),b.jsx(Xt,{value:_,onChange:Se=>T(Se.target.value),placeholder:"e.g., FILE-2024-001"})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Appeal Number *"}),b.jsx(Xt,{value:g,onChange:Se=>p(Se.target.value),placeholder:"e.g., 2271/25"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Return Date *"}),b.jsx(Xt,{type:"date",value:F,onChange:Se=>G(Se.target.value)})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Delivery Channel"}),b.jsxs(bn,{value:$,onValueChange:Se=>P(Se),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Email",children:"Email"}),b.jsx(Bt,{value:"SMS",children:"SMS"}),b.jsx(Bt,{value:"Phone",children:"Phone"})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Subject"}),b.jsx(Xt,{value:M,onChange:Se=>U(Se.target.value),placeholder:"Enter subject"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Message"}),b.jsx(Tl,{rows:10,value:V,onChange:Se=>I(Se.target.value),placeholder:"Fill in the Appeal Number and Return Date, then click 'Generate Notification'"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsxs(Mt,{onClick:pe,disabled:!a,children:[b.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Generate Notification"]}),b.jsxs(Mt,{onClick:de,variant:"outline",disabled:!V,children:[b.jsx(yM,{className:"mr-2 h-4 w-4"}),"Copy"]}),b.jsxs(Mt,{onClick:ce,variant:"outline",disabled:!V,children:[b.jsx(Ju,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),b.jsxs(Mt,{onClick:he,variant:"outline",disabled:!V,children:[b.jsx(A2,{className:"mr-2 h-4 w-4"}),"Save"]})]})]})]}),b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsx(Ur,{children:"Notification History"})}),b.jsx(Jt,{children:Oe.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications saved for this case"}):b.jsx("div",{className:"space-y-2",children:Oe.map(Se=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:Se.subject}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[Se.clientName,"  ",Se.channel,"  ",Ws(new Date(Se.createdAt),"MMM d, yyyy")]})]}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>fe(Se.id),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})})},Se.id))})})]})]}),b.jsxs(oi,{value:"payments",className:"space-y-4",children:[b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsx(Ur,{children:"Create Payment Reminder"}),b.jsx(fa,{children:"Create payment reminders for clients"})]}),b.jsxs(Jt,{className:"space-y-4",children:[!l&&b.jsx("div",{className:"p-4 bg-amber-100 dark:bg-amber-900/20 rounded-lg text-amber-800 dark:text-amber-200 text-sm",children:"Please select a case from the Cases tab first"}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Amount ($)"}),b.jsx(Xt,{type:"number",value:A,onChange:Se=>S(Se.target.value),placeholder:"0.00"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Due Date"}),b.jsx(Xt,{type:"date",value:k,onChange:Se=>N(Se.target.value)})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Notes"}),b.jsx(Tl,{rows:3,value:C,onChange:Se=>O(Se.target.value),placeholder:"Additional notes about this payment"})]}),b.jsxs(Mt,{onClick:ke,disabled:!l,children:[b.jsx(Sh,{className:"mr-2 h-4 w-4"}),"Create Reminder"]})]})]}),b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsx(Ur,{children:"Payment Reminders"})}),b.jsx(Jt,{children:Fe.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment reminders for this case"}):b.jsx("div",{className:"space-y-2",children:Fe.map(Se=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"font-medium",children:["$",Se.amountDue.toFixed(2)]}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",Ws(new Date(Se.dueDate),"MMM d, yyyy")]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(bn,{value:Se.status,onValueChange:Pe=>ye(Se.id,Pe),children:[b.jsx(hn,{className:"w-28",children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Pending",children:"Pending"}),b.jsx(Bt,{value:"Sent",children:"Sent"}),b.jsx(Bt,{value:"Paid",children:"Paid"})]})]}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>Re(Se.id),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})})},Se.id))})})]})]})]}),b.jsx(Qt,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950/20",children:b.jsx(zr,{className:"pb-2",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(I2,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),b.jsxs("div",{children:[b.jsx(Ur,{className:"text-amber-900 dark:text-amber-100",children:"Privacy Notice"}),b.jsx(fa,{className:"text-amber-800 dark:text-amber-200",children:"Ensure all communications comply with client confidentiality requirements"})]})]})})}),b.jsx(Ga,{open:f,onOpenChange:h,children:b.jsxs(ka,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Add Asylum/Immigration Client"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"First Name *"}),b.jsx(Xt,{value:K.firstName,onChange:Se=>Z({...K,firstName:Se.target.value}),placeholder:"John"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Middle Name"}),b.jsx(Xt,{value:K.middleName,onChange:Se=>Z({...K,middleName:Se.target.value}),placeholder:"William"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Last Name *"}),b.jsx(Xt,{value:K.lastName,onChange:Se=>Z({...K,lastName:Se.target.value}),placeholder:"Doe"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Email *"}),b.jsx(Xt,{type:"email",value:K.email,onChange:Se=>Z({...K,email:Se.target.value}),placeholder:"client@example.com"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Phone *"}),b.jsx(Xt,{value:K.phone,onChange:Se=>Z({...K,phone:Se.target.value}),placeholder:"+1 (555) 000-0000"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Date of Birth"}),b.jsx(Xt,{type:"date",value:K.dateOfBirth,onChange:Se=>Z({...K,dateOfBirth:Se.target.value})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Place of Birth"}),b.jsx(Xt,{value:K.placeOfBirth,onChange:Se=>Z({...K,placeOfBirth:Se.target.value}),placeholder:"City, State"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Country of Birth"}),b.jsxs(bn,{value:K.countryOfBirth,onValueChange:Se=>Z({...K,countryOfBirth:Se}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select country"})}),b.jsx(fn,{className:"max-h-[200px]",children:CS.map(Se=>b.jsx(Bt,{value:Se,children:Se},Se))})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"ARC Number"}),b.jsx(Xt,{value:K.arcNumber,onChange:Se=>Z({...K,arcNumber:Se.target.value}),placeholder:"e.g., ARC-2024-001"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"File Number"}),b.jsx(Xt,{value:K.fileNumber,onChange:Se=>Z({...K,fileNumber:Se.target.value}),placeholder:"e.g., FILE-2024-001"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Address"}),b.jsx(Xt,{value:K.address,onChange:Se=>Z({...K,address:Se.target.value}),placeholder:"123 Main St, City, State"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Notes"}),b.jsx(Tl,{rows:3,value:K.notes,onChange:Se=>Z({...K,notes:Se.target.value}),placeholder:"Additional notes about this client..."})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),b.jsx(Mt,{onClick:Ie,disabled:d,children:d?"Adding...":"Add Client"})]})]})})]})}const qV=["Office Rent","Utilities","Office Supplies","Software & Subscriptions","Professional Services","Travel","Marketing","Insurance","Taxes","Salaries","Legal Research","Court Fees","Other"],HV=["Cash","Card","Bank Transfer","Check","Other"];function WV({clients:r,cases:t,onRefresh:e}){const{user:n}=pd(),[i,s]=ie.useState(()=>{const he=localStorage.getItem("billing-payments");return he?JSON.parse(he):[]}),[o,l]=ie.useState(()=>{const he=localStorage.getItem("billing-expenses");return he?JSON.parse(he):[]}),[c,a]=ie.useState(()=>{const he=localStorage.getItem("billing-other");return he?JSON.parse(he):[]}),[u,f]=ie.useState(()=>{const he=localStorage.getItem("billing-notifications");return he?JSON.parse(he):[]}),[h,d]=ie.useState(!1),[y,g]=ie.useState(!1),[p,w]=ie.useState(!1),[v,_]=ie.useState(!1),[T,F]=ie.useState(!1),[G,$]=ie.useState(null),[P,M]=ie.useState({clientId:"",caseId:"",totalAmount:"",dueDate:"",description:""}),[U,V]=ie.useState({amount:"",method:"Cash",notes:""}),[I,E]=ie.useState({category:"",amount:"",date:Ws(new Date,"yyyy-MM-dd"),description:"",vendor:""}),[L,A]=ie.useState({type:"Income",category:"",amount:"",date:Ws(new Date,"yyyy-MM-dd"),description:"",reference:""}),[S,k]=ie.useState(""),N=he=>{s(he),localStorage.setItem("billing-payments",JSON.stringify(he))},C=he=>{l(he),localStorage.setItem("billing-expenses",JSON.stringify(he))},O=he=>{a(he),localStorage.setItem("billing-other",JSON.stringify(he))},D=he=>{f(he),localStorage.setItem("billing-notifications",JSON.stringify(he))},j=ie.useMemo(()=>{const he=i.reduce((Pe,He)=>Pe+He.totalAmount,0),fe=i.reduce((Pe,He)=>Pe+He.paidAmount,0),ke=i.reduce((Pe,He)=>Pe+He.balance,0),ye=o.reduce((Pe,He)=>Pe+He.amount,0),Re=c.filter(Pe=>Pe.type==="Income").reduce((Pe,He)=>Pe+He.amount,0),Ie=c.filter(Pe=>Pe.type==="Expense").reduce((Pe,He)=>Pe+He.amount,0),Oe=fe+Re,Fe=ye+Ie,Se=Oe-Fe;return{totalInvoiced:he,totalReceived:fe,totalPending:ke,totalExpenses:ye,otherIncome:Re,otherExpense:Ie,totalIncome:Oe,totalExpenseAll:Fe,netBalance:Se}},[i,o,c]),K=he=>{const fe=r.find(ke=>ke.id===he);return fe?fe.firstName?`${fe.firstName} ${fe.lastName}`:fe.name:"Unknown Client"},Z=he=>{if(!he)return"";const fe=t.find(ke=>ke.id===he);return(fe==null?void 0:fe.title)||""},ne=()=>{if(!P.clientId||!P.totalAmount||!P.dueDate){wt.error("Please fill in all required fields");return}const he={id:`pay-${Date.now()}`,clientId:P.clientId,clientName:K(P.clientId),caseId:P.caseId||void 0,caseName:Z(P.caseId),totalAmount:parseFloat(P.totalAmount),paidAmount:0,balance:parseFloat(P.totalAmount),status:"Pending",dueDate:P.dueDate,description:P.description,payments:[],createdAt:new Date().toISOString()};N([...i,he]),d(!1),M({clientId:"",caseId:"",totalAmount:"",dueDate:"",description:""}),wt.success("Payment created successfully")},H=()=>{if(!G||!U.amount){wt.error("Please enter payment amount");return}const he=parseFloat(U.amount);if(he>G.balance){wt.error("Payment amount exceeds balance");return}const fe={id:`partial-${Date.now()}`,amount:he,date:Ws(new Date,"yyyy-MM-dd"),method:U.method,notes:U.notes},ke=G.paidAmount+he,ye=G.totalAmount-ke,Re=ye===0?"Paid":"Partial",Ie=i.map(Oe=>Oe.id===G.id?{...Oe,paidAmount:ke,balance:ye,status:Re,payments:[...Oe.payments,fe]}:Oe);N(Ie),g(!1),V({amount:"",method:"Cash",notes:""}),$(null),wt.success("Payment recorded successfully")},J=()=>{if(!I.category||!I.amount||!I.date){wt.error("Please fill in all required fields");return}const he={id:`exp-${Date.now()}`,category:I.category,amount:parseFloat(I.amount),date:I.date,description:I.description,vendor:I.vendor,createdAt:new Date().toISOString()};C([...o,he]),w(!1),E({category:"",amount:"",date:Ws(new Date,"yyyy-MM-dd"),description:"",vendor:""}),wt.success("Expense added successfully")},z=()=>{if(!L.category||!L.amount||!L.date){wt.error("Please fill in all required fields");return}const he={id:`other-${Date.now()}`,type:L.type,category:L.category,amount:parseFloat(L.amount),date:L.date,description:L.description,reference:L.reference,createdAt:new Date().toISOString()};O([...c,he]),_(!1),A({type:"Income",category:"",amount:"",date:Ws(new Date,"yyyy-MM-dd"),description:"",reference:""}),wt.success("Payment added successfully")},B=()=>{if(!G||!S){wt.error("Please enter notification message");return}const he={id:`notif-${Date.now()}`,clientId:G.clientId,clientName:G.clientName,paymentId:G.id,amount:G.balance,dueDate:G.dueDate,message:S,status:"Sent",createdAt:new Date().toISOString()};D([...u,he]),F(!1),k(""),$(null),wt.success("Notification sent to "+G.clientName)},Q=he=>{N(i.filter(fe=>fe.id!==he)),wt.success("Payment deleted")},oe=he=>{C(o.filter(fe=>fe.id!==he)),wt.success("Expense deleted")},pe=he=>{O(c.filter(fe=>fe.id!==he)),wt.success("Payment deleted")},de=he=>{$(he),g(!0)},ve=he=>{$(he),k(`Dear ${he.clientName},

This is a reminder that you have an outstanding balance of ${as(he.balance)} due on ${Ws(new Date(he.dueDate),"MMMM d, yyyy")}.

Please make your payment at your earliest convenience.

Thank you,
${(n==null?void 0:n.name)||"Law Firm"}`),F(!0)},ce=()=>{try{const he=i.map(ye=>({"Client Name":ye.clientName,"Total Amount":ye.totalAmount,"Paid Amount":ye.paidAmount,Balance:ye.balance,Status:ye.status,"Due Date":ye.dueDate,Description:ye.description,"Created At":ye.createdAt})),fe=o.map(ye=>({Description:ye.description,Category:ye.category,Amount:ye.amount,Date:ye.date,Vendor:ye.vendor||"","Created At":ye.createdAt})),ke=c.map(ye=>({Description:ye.description,Type:ye.type,Category:ye.category,Amount:ye.amount,Date:ye.date,Reference:ye.reference||"","Created At":ye.createdAt}));y0([{name:"Payments",data:he},{name:"Expenses",data:fe},{name:"Other Income",data:ke}],`Billing_Report_${new Date().toISOString().split("T")[0]}`),wt.success("Billing data exported to Excel")}catch{wt.error("Failed to export billing data")}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(Sh,{className:"h-8 w-8"}),"Time & Billing"]}),b.jsx("p",{className:"text-muted-foreground",children:"Manage payments, expenses, and financial records"})]}),b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsx(Mt,{variant:"outline",size:"icon",children:b.jsx(mp,{className:"h-4 w-4"})})}),b.jsx(yd,{align:"end",children:b.jsxs(vd,{onClick:ce,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Total Income"}),b.jsx(p0,{className:"h-4 w-4 text-green-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:as(j.totalIncome)}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Received payments + other income"})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Total Expenses"}),b.jsx(j2,{className:"h-4 w-4 text-red-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold text-red-600",children:as(j.totalExpenseAll)}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Firm expenses + other expenses"})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Pending Payments"}),b.jsx(O5,{className:"h-4 w-4 text-amber-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold text-amber-600",children:as(j.totalPending)}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding client balances"})]})]}),b.jsxs(Qt,{className:j.netBalance>=0?"border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950/20":"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950/20",children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium",children:"Net Balance"}),b.jsx(A5,{className:"h-4 w-4"})]}),b.jsxs(Jt,{children:[b.jsxs("div",{className:`text-2xl font-bold ${j.netBalance>=0?"text-green-600":"text-red-600"}`,children:[as(Math.abs(j.netBalance)),j.netBalance<0&&" (Loss)"]}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Income - Expenses"})]})]})]}),b.jsxs(dp,{defaultValue:"payments",className:"space-y-4",children:[b.jsxs(Mh,{className:"grid w-full grid-cols-5",children:[b.jsxs(ai,{value:"payments",className:"gap-2",children:[b.jsx(T5,{className:"h-4 w-4"}),"Payments"]}),b.jsxs(ai,{value:"notifications",className:"gap-2",children:[b.jsx(Zu,{className:"h-4 w-4"}),"Notifications"]}),b.jsxs(ai,{value:"expenses",className:"gap-2",children:[b.jsx(R5,{className:"h-4 w-4"}),"Expenses"]}),b.jsxs(ai,{value:"other",className:"gap-2",children:[b.jsx(P5,{className:"h-4 w-4"}),"Other"]}),b.jsxs(ai,{value:"balance",className:"gap-2",children:[b.jsx(Nh,{className:"h-4 w-4"}),"Balance Sheet"]})]}),b.jsxs(oi,{value:"payments",className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Client Payments"}),b.jsxs(Mt,{onClick:()=>d(!0),children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"New Payment"]})]}),i.length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(T5,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No payments recorded yet"}),b.jsx(Mt,{variant:"link",onClick:()=>d(!0),children:"Create your first payment"})]})}):b.jsx("div",{className:"space-y-3",children:i.map(he=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:b.jsx(bu,{className:"h-5 w-5 text-primary"})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:he.clientName}),he.caseName&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Case: ",he.caseName]}),b.jsx("p",{className:"text-sm text-muted-foreground",children:he.description}),b.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[b.jsxs("span",{children:["Total: ",b.jsx("strong",{children:as(he.totalAmount)})]}),b.jsxs("span",{className:"text-green-600",children:["Paid: ",as(he.paidAmount)]}),b.jsxs("span",{className:"text-amber-600",children:["Balance: ",as(he.balance)]})]}),he.payments.length>0&&b.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[he.payments.length," partial payment(s) recorded"]})]})]}),b.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b.jsx(po,{variant:he.status==="Paid"?"default":he.status==="Partial"?"secondary":he.status==="Overdue"?"destructive":"outline",children:he.status}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due: ",Ws(new Date(he.dueDate),"MMM d, yyyy")]}),b.jsxs("div",{className:"flex gap-1",children:[he.status!=="Paid"&&b.jsxs(b.Fragment,{children:[b.jsxs(Mt,{size:"sm",variant:"outline",onClick:()=>de(he),children:[b.jsx(Sh,{className:"h-3 w-3 mr-1"}),"Pay"]}),b.jsx(Mt,{size:"sm",variant:"outline",onClick:()=>ve(he),children:b.jsx(Zu,{className:"h-3 w-3"})})]}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>Q(he.id),children:b.jsx(tl,{className:"h-3 w-3 text-destructive"})})]})]})]})})},he.id))})]}),b.jsxs(oi,{value:"notifications",className:"space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Payment Notifications"}),u.length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(Zu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No notifications sent yet"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Send payment reminders from the Payments tab"})]})}):b.jsx("div",{className:"space-y-3",children:u.map(he=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(bu,{className:"h-4 w-4 text-primary"}),b.jsx("p",{className:"font-semibold",children:he.clientName})]}),b.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Amount: ",as(he.amount),"  Due: ",Ws(new Date(he.dueDate),"MMM d, yyyy")]}),b.jsx("p",{className:"text-sm mt-2 whitespace-pre-wrap line-clamp-2",children:he.message})]}),b.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b.jsx(po,{variant:he.status==="Sent"?"default":"secondary",children:he.status}),b.jsx("p",{className:"text-xs text-muted-foreground",children:Ws(new Date(he.createdAt),"MMM d, yyyy h:mm a")})]})]})})},he.id))})]}),b.jsxs(oi,{value:"expenses",className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Firm Expenses"}),b.jsxs(Mt,{onClick:()=>w(!0),children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add Expense"]})]}),o.length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(R5,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No expenses recorded yet"}),b.jsx(Mt,{variant:"link",onClick:()=>w(!0),children:"Add your first expense"})]})}):b.jsx("div",{className:"space-y-3",children:o.map(he=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/20",children:b.jsx(E5,{className:"h-5 w-5 text-red-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:he.category}),b.jsx("p",{className:"text-sm text-muted-foreground",children:he.description}),he.vendor&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vendor: ",he.vendor]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"font-semibold text-red-600",children:["-",as(he.amount)]}),b.jsx("p",{className:"text-xs text-muted-foreground",children:Ws(new Date(he.date),"MMM d, yyyy")})]}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>oe(he.id),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})})},he.id))})]}),b.jsxs(oi,{value:"other",className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Other Payments"}),b.jsxs(Mt,{onClick:()=>_(!0),children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add Payment"]})]}),c.length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(P5,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No other payments recorded yet"}),b.jsx(Mt,{variant:"link",onClick:()=>_(!0),children:"Add a payment"})]})}):b.jsx("div",{className:"space-y-3",children:c.map(he=>b.jsx(Qt,{children:b.jsx(Jt,{className:"p-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${he.type==="Income"?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:he.type==="Income"?b.jsx(fM,{className:"h-5 w-5 text-green-600"}):b.jsx(E5,{className:"h-5 w-5 text-red-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:he.category}),b.jsx("p",{className:"text-sm text-muted-foreground",children:he.description}),he.reference&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",he.reference]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:`font-semibold ${he.type==="Income"?"text-green-600":"text-red-600"}`,children:[he.type==="Income"?"+":"-",as(he.amount)]}),b.jsx("p",{className:"text-xs text-muted-foreground",children:Ws(new Date(he.date),"MMM d, yyyy")})]}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>pe(he.id),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]})})},he.id))})]}),b.jsxs(oi,{value:"balance",className:"space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Balance Sheet"}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs(Qt,{children:[b.jsx(zr,{className:"bg-green-50 dark:bg-green-900/20",children:b.jsxs(Ur,{className:"flex items-center gap-2 text-green-700 dark:text-green-400",children:[b.jsx(p0,{className:"h-5 w-5"}),"Income"]})}),b.jsxs(Jt,{className:"pt-4 space-y-3",children:[b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Client Payments Received"}),b.jsx("span",{className:"font-semibold",children:as(j.totalReceived)})]}),b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Other Income"}),b.jsx("span",{className:"font-semibold",children:as(j.otherIncome)})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"flex justify-between py-2 text-lg font-bold text-green-600",children:[b.jsx("span",{children:"Total Income"}),b.jsx("span",{children:as(j.totalIncome)})]})]})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"bg-red-50 dark:bg-red-900/20",children:b.jsxs(Ur,{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[b.jsx(j2,{className:"h-5 w-5"}),"Expenses"]})}),b.jsxs(Jt,{className:"pt-4 space-y-3",children:[b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Firm Expenses"}),b.jsx("span",{className:"font-semibold",children:as(j.totalExpenses)})]}),b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Other Expenses"}),b.jsx("span",{className:"font-semibold",children:as(j.otherExpense)})]}),b.jsx(Ca,{}),b.jsxs("div",{className:"flex justify-between py-2 text-lg font-bold text-red-600",children:[b.jsx("span",{children:"Total Expenses"}),b.jsx("span",{children:as(j.totalExpenseAll)})]})]})]})]}),b.jsx(Qt,{className:j.netBalance>=0?"border-green-300 bg-green-50 dark:border-green-800 dark:bg-green-950/30":"border-red-300 bg-red-50 dark:border-red-800 dark:bg-red-950/30",children:b.jsx(Jt,{className:"py-6",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(A5,{className:"h-8 w-8"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Net Balance"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Income - Total Expenses"})]})]}),b.jsxs("div",{className:`text-3xl font-bold ${j.netBalance>=0?"text-green-600":"text-red-600"}`,children:[j.netBalance>=0?"+":"-",as(Math.abs(j.netBalance))]})]})})}),b.jsx(Qt,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950/20",children:b.jsx(Jt,{className:"py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(O5,{className:"h-6 w-6 text-amber-600"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Outstanding Receivables"}),b.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[i.filter(he=>he.status!=="Paid").length," client(s) with pending payments"]})]})]}),b.jsx("div",{className:"text-2xl font-bold text-amber-600",children:as(j.totalPending)})]})})})]})]}),b.jsx(Ga,{open:h,onOpenChange:d,children:b.jsxs(ka,{children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Create New Payment"})}),b.jsx("div",{className:"space-y-4",children:r.length===0?b.jsx("div",{className:"p-4 bg-amber-100 dark:bg-amber-900/20 rounded-lg text-amber-800 dark:text-amber-200 text-sm",children:"No clients found. Please add a client first from the Clients page."}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Client *"}),b.jsxs(bn,{value:P.clientId,onValueChange:he=>M({...P,clientId:he}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select client"})}),b.jsx(fn,{children:r.map(he=>b.jsx(Bt,{value:he.id,children:K(he.id)},he.id))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Case (Optional)"}),b.jsxs(bn,{value:P.caseId||"none",onValueChange:he=>M({...P,caseId:he==="none"?"":he}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select case"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"none",children:"No case"}),t.map(he=>b.jsxs(Bt,{value:he.id,children:[he.title," - ",he.caseNumber]},he.id))]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Total Amount *"}),b.jsx(Xt,{type:"number",value:P.totalAmount,onChange:he=>M({...P,totalAmount:he.target.value}),placeholder:"0.00"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Due Date *"}),b.jsx(Xt,{type:"date",value:P.dueDate,onChange:he=>M({...P,dueDate:he.target.value})})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Description"}),b.jsx(Tl,{value:P.description,onChange:he=>M({...P,description:he.target.value}),placeholder:"Payment description..."})]})]})}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),b.jsx(Mt,{onClick:ne,disabled:r.length===0,children:"Create Payment"})]})]})}),b.jsx(Ga,{open:y,onOpenChange:g,children:b.jsxs(ka,{children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Record Payment"})}),G&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[b.jsx("p",{className:"font-semibold",children:G.clientName}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Balance: ",as(G.balance)," of ",as(G.totalAmount)]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Payment Amount *"}),b.jsx(Xt,{type:"number",value:U.amount,onChange:he=>V({...U,amount:he.target.value}),placeholder:"0.00",max:G.balance})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Payment Method"}),b.jsxs(bn,{value:U.method,onValueChange:he=>V({...U,method:he}),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsx(fn,{children:HV.map(he=>b.jsx(Bt,{value:he,children:he},he))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Notes"}),b.jsx(Xt,{value:U.notes,onChange:he=>V({...U,notes:he.target.value}),placeholder:"Payment notes..."})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),b.jsx(Mt,{onClick:H,children:"Record Payment"})]})]})}),b.jsx(Ga,{open:p,onOpenChange:w,children:b.jsxs(ka,{children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Add Expense"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Category *"}),b.jsxs(bn,{value:I.category,onValueChange:he=>E({...I,category:he}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select category"})}),b.jsx(fn,{children:qV.map(he=>b.jsx(Bt,{value:he,children:he},he))})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Amount *"}),b.jsx(Xt,{type:"number",value:I.amount,onChange:he=>E({...I,amount:he.target.value}),placeholder:"0.00"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Date *"}),b.jsx(Xt,{type:"date",value:I.date,onChange:he=>E({...I,date:he.target.value})})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Vendor"}),b.jsx(Xt,{value:I.vendor,onChange:he=>E({...I,vendor:he.target.value}),placeholder:"Vendor name..."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Description"}),b.jsx(Tl,{value:I.description,onChange:he=>E({...I,description:he.target.value}),placeholder:"Expense description..."})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),b.jsx(Mt,{onClick:J,children:"Add Expense"})]})]})}),b.jsx(Ga,{open:v,onOpenChange:_,children:b.jsxs(ka,{children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Add Other Payment"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Type *"}),b.jsxs(bn,{value:L.type,onValueChange:he=>A({...L,type:he}),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Income",children:"Income"}),b.jsx(Bt,{value:"Expense",children:"Expense"})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Category *"}),b.jsx(Xt,{value:L.category,onChange:he=>A({...L,category:he.target.value}),placeholder:"e.g., Consulting, Refund, Interest..."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Amount *"}),b.jsx(Xt,{type:"number",value:L.amount,onChange:he=>A({...L,amount:he.target.value}),placeholder:"0.00"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Date *"}),b.jsx(Xt,{type:"date",value:L.date,onChange:he=>A({...L,date:he.target.value})})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Reference"}),b.jsx(Xt,{value:L.reference,onChange:he=>A({...L,reference:he.target.value}),placeholder:"Reference number..."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Description"}),b.jsx(Tl,{value:L.description,onChange:he=>A({...L,description:he.target.value}),placeholder:"Payment description..."})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),b.jsx(Mt,{onClick:z,children:"Add Payment"})]})]})}),b.jsx(Ga,{open:T,onOpenChange:F,children:b.jsxs(ka,{className:"sm:max-w-lg",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:"Send Payment Notification"})}),G&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[b.jsx("p",{className:"font-semibold",children:G.clientName}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Balance Due: $",G.balance.toFixed(2),"  Due: ",Ws(new Date(G.dueDate),"MMM d, yyyy")]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Message"}),b.jsx(Tl,{rows:8,value:S,onChange:he=>k(he.target.value),placeholder:"Enter notification message..."})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),b.jsxs(Mt,{onClick:B,children:[b.jsx(Zu,{className:"mr-2 h-4 w-4"}),"Send Notification"]})]})]})})]})}const Df=ie.forwardRef(({className:r,...t},e)=>b.jsx("div",{className:"relative w-full overflow-auto",children:b.jsx("table",{ref:e,className:_r("w-full caption-bottom text-sm",r),...t})}));Df.displayName="Table";const Ff=ie.forwardRef(({className:r,...t},e)=>b.jsx("thead",{ref:e,className:_r("[&_tr]:border-b",r),...t}));Ff.displayName="TableHeader";const Bf=ie.forwardRef(({className:r,...t},e)=>b.jsx("tbody",{ref:e,className:_r("[&_tr:last-child]:border-0",r),...t}));Bf.displayName="TableBody";const GV=ie.forwardRef(({className:r,...t},e)=>b.jsx("tfoot",{ref:e,className:_r("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...t}));GV.displayName="TableFooter";const hc=ie.forwardRef(({className:r,...t},e)=>b.jsx("tr",{ref:e,className:_r("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...t}));hc.displayName="TableRow";const Ks=ie.forwardRef(({className:r,...t},e)=>b.jsx("th",{ref:e,className:_r("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...t}));Ks.displayName="TableHead";const Xs=ie.forwardRef(({className:r,...t},e)=>b.jsx("td",{ref:e,className:_r("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...t}));Xs.displayName="TableCell";const KV=ie.forwardRef(({className:r,...t},e)=>b.jsx("caption",{ref:e,className:_r("mt-4 text-sm text-muted-foreground",r),...t}));KV.displayName="TableCaption";function XV({clients:r,cases:t}){const[e,n]=ie.useState(()=>{const I=localStorage.getItem("court-logs");return I?JSON.parse(I):[]}),[i,s]=ie.useState(!1),[o,l]=ie.useState(null),[c,a]=ie.useState("all"),[u,f]=ie.useState(""),[h,d]=ie.useState({clientId:"",caseId:"",courtDate:"",courtTime:"",courtName:"",courtAddress:"",judgeOrPanel:"",purpose:"",notes:"",reminderEnabled:!0,reminderDaysBefore:3,status:"Scheduled"}),y=I=>{const E=r.find(L=>L.id===I);return E?E.firstName?`${E.firstName} ${E.middleName||""} ${E.lastName}`.trim():E.name:"Unknown Client"},g=I=>{const E=t.find(L=>L.id===I);return(E==null?void 0:E.caseNumber)||""},p=ie.useMemo(()=>e.filter(I=>{var A;const E=c==="all"||I.status===c,L=I.clientName.toLowerCase().includes(u.toLowerCase())||I.courtName.toLowerCase().includes(u.toLowerCase())||((A=I.caseNumber)==null?void 0:A.toLowerCase().includes(u.toLowerCase()));return E&&L}).sort((I,E)=>new Date(I.courtDate).getTime()-new Date(E.courtDate).getTime()),[e,c,u]),w=ie.useMemo(()=>{const I=new Date,E=TL(I,7);return e.filter(L=>{const A=new Date(L.courtDate);return L.status==="Scheduled"&&A>=I&&A<=E})},[e]),v=I=>{n(I),localStorage.setItem("court-logs",JSON.stringify(I))},_=()=>{l(null),d({clientId:"",caseId:"",courtDate:"",courtTime:"",courtName:"",courtAddress:"",judgeOrPanel:"",purpose:"",notes:"",reminderEnabled:!0,reminderDaysBefore:3,status:"Scheduled"}),s(!0)},T=I=>{l(I),d({clientId:I.clientId,caseId:I.caseId||"",courtDate:I.courtDate,courtTime:I.courtTime,courtName:I.courtName,courtAddress:I.courtAddress||"",judgeOrPanel:I.judgeOrPanel||"",purpose:I.purpose,notes:I.notes||"",reminderEnabled:I.reminderEnabled,reminderDaysBefore:I.reminderDaysBefore,status:I.status}),s(!0)},F=()=>{if(!h.clientId||!h.courtDate||!h.courtTime||!h.courtName||!h.purpose){wt.error("Please fill in all required fields");return}const I=new Date().toISOString(),E=y(h.clientId),L=h.caseId?g(h.caseId):void 0;if(o){const A=e.map(S=>S.id===o.id?{...S,...h,clientName:E,caseNumber:L,updatedAt:I}:S);v(A),wt.success("Court log updated successfully")}else{const A={id:`court-${Date.now()}`,...h,clientName:E,caseNumber:L,reminderSentToLawyer:!1,reminderSentToClient:!1,createdAt:I,updatedAt:I};v([...e,A]),wt.success("Court date scheduled successfully")}s(!1)},G=I=>{confirm("Are you sure you want to delete this court log?")&&(v(e.filter(E=>E.id!==I)),wt.success("Court log deleted"))},$=(I,E)=>{const L=e.map(A=>A.id===I?{...A,status:E,updatedAt:new Date().toISOString()}:A);v(L),wt.success(`Status updated to ${E}`)},P=(I,E)=>{const L=e.map(A=>A.id===I.id?{...A,reminderSentToLawyer:E==="lawyer"?!0:A.reminderSentToLawyer,reminderSentToClient:E==="client"?!0:A.reminderSentToClient}:A);v(L),wt.success(`Reminder sent to ${E}`)},M=I=>{const E=new Date(I),L=new Date;return L.setHours(0,0,0,0),E.setHours(0,0,0,0),ML(E,L)},U=ie.useMemo(()=>h.clientId?t.filter(I=>I.clientId===h.clientId):[],[h.clientId,t]),V=()=>{try{if(e.length===0){wt.error("No court logs to export");return}const I=z2(e);fc(I,`Court_Logs_${new Date().toISOString().split("T")[0]}`,"Court Logs"),wt.success("Court logs exported to Excel")}catch{wt.error("Failed to export court logs")}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-semibold flex items-center gap-3",children:[b.jsx(uh,{className:"h-8 w-8 text-primary"}),"Court Log"]}),b.jsx("p",{className:"text-muted-foreground",children:"Track court dates and set reminders for lawyers and clients"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(Bh,{children:[b.jsx(Vh,{asChild:!0,children:b.jsx(Mt,{variant:"outline",size:"icon",children:b.jsx(mp,{className:"h-4 w-4"})})}),b.jsx(yd,{align:"end",children:b.jsxs(vd,{onClick:V,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),b.jsxs(Mt,{onClick:_,children:[b.jsx(mc,{className:"h-4 w-4 mr-2"}),"Schedule Court Date"]})]})]}),w.length>0&&b.jsxs(Qt,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950/20",children:[b.jsx(zr,{className:"pb-2",children:b.jsxs(Ur,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[b.jsx(I2,{className:"h-5 w-5"}),"Upcoming Court Dates (",w.length,")"]})}),b.jsx(Jt,{children:b.jsx("div",{className:"space-y-2",children:w.map(I=>{const E=M(I.courtDate);return b.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-amber-100 dark:bg-amber-900/30",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-amber-900 dark:text-amber-100",children:I.clientName}),b.jsx("span",{className:"text-amber-700 dark:text-amber-300 mx-2",children:""}),b.jsx("span",{className:"text-amber-700 dark:text-amber-300",children:I.courtName}),b.jsx("span",{className:"text-amber-700 dark:text-amber-300 mx-2",children:""}),b.jsxs("span",{className:"text-amber-700 dark:text-amber-300",children:[Ws(new Date(I.courtDate),"MMM dd, yyyy")," at ",I.courtTime]})]}),b.jsx(po,{className:E===0?"bg-red-500":E<=2?"bg-amber-500":"bg-blue-500",children:E===0?"Today!":E===1?"Tomorrow":`${E} days`})]},I.id)})})})]}),b.jsxs("div",{className:"flex gap-4 items-center",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Xt,{placeholder:"Search by client name, court, or case number...",value:u,onChange:I=>f(I.target.value)})}),b.jsxs(bn,{value:c,onValueChange:a,children:[b.jsx(hn,{className:"w-48",children:b.jsx(wn,{placeholder:"Filter by status"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"all",children:"All Status"}),b.jsx(Bt,{value:"Scheduled",children:"Scheduled"}),b.jsx(Bt,{value:"Completed",children:"Completed"}),b.jsx(Bt,{value:"Postponed",children:"Postponed"}),b.jsx(Bt,{value:"Cancelled",children:"Cancelled"})]})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsx(Ur,{children:"Court Schedule"}),b.jsx(fa,{children:"All scheduled court appearances"})]}),b.jsx(Jt,{children:p.length===0?b.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[b.jsx(uh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),b.jsx("p",{children:"No court dates scheduled"}),b.jsx(Mt,{variant:"link",onClick:_,children:"Schedule your first court date"})]}):b.jsxs(Df,{children:[b.jsx(Ff,{children:b.jsxs(hc,{children:[b.jsx(Ks,{children:"Client"}),b.jsx(Ks,{children:"Case"}),b.jsx(Ks,{children:"Court Date"}),b.jsx(Ks,{children:"Time"}),b.jsx(Ks,{children:"Court"}),b.jsx(Ks,{children:"Purpose"}),b.jsx(Ks,{children:"Status"}),b.jsx(Ks,{children:"Reminders"}),b.jsx(Ks,{className:"text-right",children:"Actions"})]})}),b.jsx(Bf,{children:p.map(I=>{const E=M(I.courtDate),L=E<0&&I.status==="Scheduled";return b.jsxs(hc,{className:L?"bg-red-50 dark:bg-red-950/20":"",children:[b.jsx(Xs,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(bu,{className:"h-4 w-4 text-muted-foreground"}),b.jsx("span",{className:"font-medium",children:I.clientName})]})}),b.jsx(Xs,{children:I.caseNumber?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(_c,{className:"h-4 w-4 text-muted-foreground"}),I.caseNumber]}):b.jsx("span",{className:"text-muted-foreground",children:"-"})}),b.jsx(Xs,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(uh,{className:"h-4 w-4 text-muted-foreground"}),Ws(new Date(I.courtDate),"MMM dd, yyyy"),E>=0&&I.status==="Scheduled"&&b.jsx(po,{variant:"outline",className:"text-xs",children:E===0?"Today":E===1?"Tomorrow":`${E}d`})]})}),b.jsx(Xs,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Dh,{className:"h-4 w-4 text-muted-foreground"}),I.courtTime]})}),b.jsx(Xs,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(h8,{className:"h-4 w-4 text-muted-foreground"}),I.courtName]})}),b.jsx(Xs,{children:I.purpose}),b.jsx(Xs,{children:b.jsxs(bn,{value:I.status,onValueChange:A=>$(I.id,A),children:[b.jsx(hn,{className:"w-28",children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Scheduled",children:"Scheduled"}),b.jsx(Bt,{value:"Completed",children:"Completed"}),b.jsx(Bt,{value:"Postponed",children:"Postponed"}),b.jsx(Bt,{value:"Cancelled",children:"Cancelled"})]})]})}),b.jsx(Xs,{children:b.jsxs("div",{className:"flex gap-1",children:[b.jsxs(Mt,{size:"sm",variant:I.reminderSentToLawyer?"secondary":"outline",onClick:()=>P(I,"lawyer"),title:"Send reminder to lawyer",children:[b.jsx(Zu,{className:"h-3 w-3 mr-1"}),"L"]}),b.jsxs(Mt,{size:"sm",variant:I.reminderSentToClient?"secondary":"outline",onClick:()=>P(I,"client"),title:"Send reminder to client",children:[b.jsx(Zu,{className:"h-3 w-3 mr-1"}),"C"]})]})}),b.jsx(Xs,{className:"text-right",children:b.jsxs("div",{className:"flex justify-end gap-1",children:[b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>T(I),children:b.jsx(gp,{className:"h-4 w-4"})}),b.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>G(I.id),children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})})]},I.id)})})]})})]}),b.jsx(Ga,{open:i,onOpenChange:s,children:b.jsxs(ka,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:o?"Edit Court Date":"Schedule Court Date"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Client *"}),b.jsxs(bn,{value:h.clientId,onValueChange:I=>d({...h,clientId:I,caseId:""}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select client"})}),b.jsx(fn,{children:r.map(I=>b.jsx(Bt,{value:I.id,children:I.firstName?`${I.firstName} ${I.lastName}`:I.name},I.id))})]})]}),h.clientId&&U.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Related Case (Optional)"}),b.jsxs(bn,{value:h.caseId,onValueChange:I=>d({...h,caseId:I}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select case"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"",children:"No case linked"}),U.map(I=>b.jsxs(Bt,{value:I.id,children:[I.caseNumber," - ",I.title]},I.id))]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Court Date *"}),b.jsx(Xt,{type:"date",value:h.courtDate,onChange:I=>d({...h,courtDate:I.target.value})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Court Time *"}),b.jsx(Xt,{type:"time",value:h.courtTime,onChange:I=>d({...h,courtTime:I.target.value})})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Court Name *"}),b.jsx(Xt,{value:h.courtName,onChange:I=>d({...h,courtName:I.target.value}),placeholder:"e.g., Administrative Court of International Protection"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Court Address"}),b.jsx(Xt,{value:h.courtAddress,onChange:I=>d({...h,courtAddress:I.target.value}),placeholder:"Court address"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Judge / Panel"}),b.jsx(Xt,{value:h.judgeOrPanel,onChange:I=>d({...h,judgeOrPanel:I.target.value}),placeholder:"Judge name or panel"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Purpose *"}),b.jsx(Xt,{value:h.purpose,onChange:I=>d({...h,purpose:I.target.value}),placeholder:"e.g., Initial Hearing, Appeal, Final Decision"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Notes"}),b.jsx(Tl,{value:h.notes,onChange:I=>d({...h,notes:I.target.value}),placeholder:"Additional notes...",rows:3})]}),b.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(yt,{children:"Enable Reminders"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Send reminders before court date"})]}),b.jsx(Rf,{checked:h.reminderEnabled,onCheckedChange:I=>d({...h,reminderEnabled:I})})]}),h.reminderEnabled&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Remind days before"}),b.jsxs(bn,{value:h.reminderDaysBefore.toString(),onValueChange:I=>d({...h,reminderDaysBefore:parseInt(I)}),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"1",children:"1 day before"}),b.jsx(Bt,{value:"2",children:"2 days before"}),b.jsx(Bt,{value:"3",children:"3 days before"}),b.jsx(Bt,{value:"5",children:"5 days before"}),b.jsx(Bt,{value:"7",children:"1 week before"})]})]})]})]}),o&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Status"}),b.jsxs(bn,{value:h.status,onValueChange:I=>d({...h,status:I}),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Scheduled",children:"Scheduled"}),b.jsx(Bt,{value:"Completed",children:"Completed"}),b.jsx(Bt,{value:"Postponed",children:"Postponed"}),b.jsx(Bt,{value:"Cancelled",children:"Cancelled"})]})]})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),b.jsx(Mt,{onClick:F,children:o?"Update":"Schedule"})]})]})})]})}const h4={Admin:"bg-red-500/10 text-red-600",Partner:"bg-purple-500/10 text-purple-600",Associate:"bg-blue-500/10 text-blue-600",Paralegal:"bg-green-500/10 text-green-600",Staff:"bg-gray-500/10 text-gray-600"};function YV({users:r,onRefresh:t}){const[e,n]=ie.useState(!1),[i,s]=ie.useState(null),[o,l]=ie.useState(""),[c,a]=ie.useState(!1),[u,f]=ie.useState({name:"",email:"",phone:"",role:"Staff",password:""}),h=()=>{f({name:"",email:"",phone:"",role:"Staff",password:""}),s(null)},d=()=>{h(),n(!0)},y=v=>{s(v),f({name:v.name,email:v.email,phone:v.phone||"",role:v.role,password:""}),n(!0)},g=async()=>{if(!u.name||!u.email){wt.error("Please fill in name and email");return}a(!0);try{if(i)await os.updateUser(i.id,{name:u.name,email:u.email,phone:u.phone,role:u.role,...u.password&&{password:u.password}}),wt.success("User updated successfully");else{if(!u.password){wt.error("Password is required for new users"),a(!1);return}await os.createUser({name:u.name,email:u.email,password:u.password,role:u.role}),wt.success("User created successfully")}n(!1),h(),t()}catch(v){wt.error(v.message||"Operation failed")}finally{a(!1)}},p=async v=>{if(confirm("Are you sure you want to delete this user?"))try{await os.deleteUser(v),wt.success("User deleted"),t()}catch(_){wt.error(_.message||"Delete failed")}},w=r.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())||v.email.toLowerCase().includes(o.toLowerCase())||v.role.toLowerCase().includes(o.toLowerCase()));return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(P2,{className:"h-8 w-8"}),"Users"]}),b.jsx("p",{className:"text-muted-foreground",children:"Manage system users and permissions"})]}),b.jsxs(Mt,{onClick:d,children:[b.jsx(mc,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search users...",value:o,onChange:v=>l(v.target.value),className:"pl-10"})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(v=>b.jsxs(Qt,{className:"hover:shadow-md transition-shadow",children:[b.jsx(zr,{className:"pb-2",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold text-lg",children:v.name.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsx(Ur,{className:"text-lg",children:v.name}),b.jsxs(po,{className:h4[v.role]||h4.Staff,children:[b.jsx(y8,{className:"h-3 w-3 mr-1"}),v.role]})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>y(v),children:b.jsx(gp,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>p(v.id),className:"text-destructive hover:text-destructive",children:b.jsx(tl,{className:"h-4 w-4"})})]})]})}),b.jsx(Jt,{children:b.jsxs("div",{className:"space-y-2 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(E2,{className:"h-4 w-4"}),b.jsx("span",{children:v.email})]}),v.phone&&b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(IM,{className:"h-4 w-4"}),b.jsx("span",{children:v.phone})]})]})})]},v.id))}),w.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(P2,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"No users found"})]}),b.jsx(Ga,{open:e,onOpenChange:n,children:b.jsxs(ka,{className:"max-w-md",children:[b.jsx(Ea,{children:b.jsx(Ta,{children:i?"Edit User":"Add New User"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Name *"}),b.jsx(Xt,{value:u.name,onChange:v=>f({...u,name:v.target.value}),placeholder:"Full name"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Email *"}),b.jsx(Xt,{type:"email",value:u.email,onChange:v=>f({...u,email:v.target.value}),placeholder:"email@example.com"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Phone"}),b.jsx(Xt,{value:u.phone,onChange:v=>f({...u,phone:v.target.value}),placeholder:"+1 (555) 000-0000"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Role *"}),b.jsxs(bn,{value:u.role,onValueChange:v=>f({...u,role:v}),children:[b.jsx(hn,{children:b.jsx(wn,{})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"Admin",children:"Admin"}),b.jsx(Bt,{value:"Partner",children:"Partner"}),b.jsx(Bt,{value:"Associate",children:"Associate"}),b.jsx(Bt,{value:"Paralegal",children:"Paralegal"}),b.jsx(Bt,{value:"Staff",children:"Staff"})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:i?"New Password (leave blank to keep current)":"Password *"}),b.jsx(Xt,{type:"password",value:u.password,onChange:v=>f({...u,password:v.target.value}),placeholder:i?"Leave blank to keep current":"Enter password"})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),b.jsx(Mt,{onClick:g,disabled:c,children:c?"Saving...":i?"Update":"Create"})]})]})})]})}function ZV({clients:r,cases:t}){const e=ie.useMemo(()=>{const f=localStorage.getItem("court-logs");return f?JSON.parse(f):[]},[]),n=ie.useMemo(()=>{const f=localStorage.getItem("billing-payments");return f?JSON.parse(f):[]},[]),i=ie.useMemo(()=>{const f=localStorage.getItem("billing-expenses");return f?JSON.parse(f):[]},[]),s=ie.useMemo(()=>{const f=r.length,h=r.filter(p=>p.type==="Individual").length,d=r.filter(p=>p.type==="Corporate").length,y={};r.forEach(p=>{const w=p.countryOfBirth||"Unknown";y[w]=(y[w]||0)+1});const g={};return r.forEach(p=>{if(p.createdAt){const w=new Date(p.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short"});g[w]=(g[w]||0)+1}}),{total:f,individuals:h,companies:d,byCountry:y,byMonth:g}},[r]),o=ie.useMemo(()=>{const f=t.length,h=t.filter(w=>w.status==="Open"||w.status==="Pending").length,d=t.filter(w=>w.status==="Closed").length,y=t.filter(w=>w.status==="On Hold").length,g={};t.forEach(w=>{const v=w.type||"General";g[v]=(g[v]||0)+1});const p={};return t.forEach(w=>{p[w.status]=(p[w.status]||0)+1}),{total:f,open:h,closed:d,pending:y,byType:g,byStatus:p}},[t]),l=ie.useMemo(()=>{const f=n.reduce((v,_)=>v+(_.totalAmount||_.amount||0),0),h=n.reduce((v,_)=>v+(_.paidAmount||0),0),d=f-h,y=i.reduce((v,_)=>v+(_.amount||0),0),g=h-y,p={};n.forEach(v=>{p[v.clientName]=(p[v.clientName]||0)+(v.totalAmount||v.amount||0)});const w=Object.entries(p).sort((v,_)=>_[1]-v[1]).slice(0,10);return{totalInvoiced:f,totalReceived:h,totalPending:d,totalExpenses:y,netProfit:g,byClient:p,topClients:w}},[n,i]),c=ie.useMemo(()=>{const f=e.length,h=e.filter(v=>v.status==="Scheduled").length,d=e.filter(v=>v.status==="Completed").length,y=e.filter(v=>v.status==="Postponed").length,g={};e.forEach(v=>{g[v.courtName]=(g[v.courtName]||0)+1});const p=new Date,w=e.filter(v=>{const _=new Date(v.courtDate),T=Math.ceil((_.getTime()-p.getTime())/(1e3*60*60*24));return v.status==="Scheduled"&&T>=0&&T<=30});return{total:f,scheduled:h,completed:d,postponed:y,byCourt:g,upcoming:w}},[e]),a=()=>{try{const f=[{name:"Summary",data:[{Metric:"Total Clients",Value:s.total},{Metric:"Individual Clients",Value:s.individuals},{Metric:"Company Clients",Value:s.companies},{Metric:"Total Cases",Value:o.total},{Metric:"Open Cases",Value:o.open},{Metric:"Closed Cases",Value:o.closed},{Metric:"Total Invoiced",Value:l.totalInvoiced},{Metric:"Total Received",Value:l.totalReceived},{Metric:"Total Pending",Value:l.totalPending},{Metric:"Total Expenses",Value:l.totalExpenses},{Metric:"Net Profit",Value:l.netProfit},{Metric:"Total Court Dates",Value:c.total},{Metric:"Scheduled Court Dates",Value:c.scheduled}]},{name:"Clients by Country",data:Object.entries(s.byCountry).map(([h,d])=>({Country:h,"Number of Clients":d}))},{name:"Cases by Type",data:Object.entries(o.byType).map(([h,d])=>({"Case Type":h,"Number of Cases":d}))},{name:"Top Clients by Revenue",data:l.topClients.map(([h,d])=>({Client:h,"Total Billed":d}))},{name:"Courts Used",data:Object.entries(c.byCourt).map(([h,d])=>({"Court Name":h,"Number of Hearings":d}))}];y0(f,`Full_Report_${new Date().toISOString().split("T")[0]}`),wt.success("Full report exported to Excel")}catch{wt.error("Failed to export report")}},u=()=>{const f=Object.entries(s.byCountry).sort((h,d)=>d[1]-h[1]).map(([h,d])=>({Country:h,"Number of Clients":d,Percentage:(d/s.total*100).toFixed(1)+"%"}));fc(f,`Clients_By_Country_${new Date().toISOString().split("T")[0]}`,"By Country"),wt.success("Exported clients by country")};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(f8,{className:"h-8 w-8"}),"Reports & Analytics"]}),b.jsx("p",{className:"text-muted-foreground",children:"Comprehensive reports and statistics for your law firm"})]}),b.jsxs(Mt,{onClick:a,children:[b.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Export Full Report"]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Total Clients"}),b.jsx(Ch,{className:"h-4 w-4 text-blue-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold",children:s.total}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.individuals," individuals, ",s.companies," companies"]})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Active Cases"}),b.jsx(_c,{className:"h-4 w-4 text-purple-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold",children:o.open}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",o.total," total cases"]})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Revenue"}),b.jsx(Sh,{className:"h-4 w-4 text-green-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:as(l.totalReceived)}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:[as(l.totalPending)," pending"]})]})]}),b.jsxs(Qt,{className:l.netProfit>=0?"border-green-200":"border-red-200",children:[b.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Net Profit"}),l.netProfit>=0?b.jsx(p0,{className:"h-4 w-4 text-green-500"}):b.jsx(j2,{className:"h-4 w-4 text-red-500"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:`text-2xl font-bold ${l.netProfit>=0?"text-green-600":"text-red-600"}`,children:as(l.netProfit)}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Income - Expenses"})]})]})]}),b.jsxs(dp,{defaultValue:"clients",className:"space-y-4",children:[b.jsxs(Mh,{className:"grid w-full grid-cols-5",children:[b.jsx(ai,{value:"clients",children:"Clients"}),b.jsx(ai,{value:"cases",children:"Cases"}),b.jsx(ai,{value:"billing",children:"Billing"}),b.jsx(ai,{value:"court",children:"Court"}),b.jsx(ai,{value:"geography",children:"Geography"})]}),b.jsx(oi,{value:"clients",className:"space-y-4",children:b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(Ch,{className:"h-5 w-5"}),"Client Overview"]})}),b.jsxs(Jt,{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Total Clients"}),b.jsx("span",{className:"font-bold",children:s.total})]}),b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Individuals"}),b.jsx("span",{className:"font-bold",children:s.individuals})]}),b.jsxs("div",{className:"flex justify-between py-2 border-b",children:[b.jsx("span",{children:"Companies/Organizations"}),b.jsx("span",{className:"font-bold",children:s.companies})]}),b.jsxs("div",{className:"flex justify-between py-2",children:[b.jsx("span",{children:"Countries Represented"}),b.jsx("span",{className:"font-bold",children:Object.keys(s.byCountry).length})]})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(ad,{className:"h-5 w-5"}),"Top Countries"]}),b.jsx(fa,{children:"Clients by country of birth"})]}),b.jsxs(Jt,{children:[b.jsx("div",{className:"space-y-2",children:Object.entries(s.byCountry).sort((f,h)=>h[1]-f[1]).slice(0,8).map(([f,h])=>b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{children:f}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-24 h-2 bg-muted rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-primary",style:{width:`${h/s.total*100}%`}})}),b.jsx("span",{className:"text-sm font-medium w-8",children:h})]})]},f))}),b.jsxs(Mt,{variant:"outline",className:"w-full mt-4",onClick:u,children:[b.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Export by Country"]})]})]})]})}),b.jsx(oi,{value:"cases",className:"space-y-4",children:b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(_c,{className:"h-5 w-5"}),"Case Status Distribution"]})}),b.jsx(Jt,{className:"space-y-4",children:Object.entries(o.byStatus).map(([f,h])=>b.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx(po,{variant:f==="Open"||f==="Active"?"default":f==="Closed"?"secondary":f==="Pending"?"outline":"destructive",children:f})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold",children:h}),b.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",(h/o.total*100).toFixed(0),"%)"]})]})]},f))})]}),b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(Nh,{className:"h-5 w-5"}),"Cases by Type"]})}),b.jsx(Jt,{children:b.jsx("div",{className:"space-y-2",children:Object.entries(o.byType).sort((f,h)=>h[1]-f[1]).map(([f,h])=>b.jsxs("div",{className:"flex items-center justify-between py-2",children:[b.jsx("span",{children:f}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-24 h-2 bg-muted rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-purple-500",style:{width:`${h/o.total*100}%`}})}),b.jsx("span",{className:"text-sm font-medium w-8",children:h})]})]},f))})})]})]})}),b.jsxs(oi,{value:"billing",className:"space-y-4",children:[b.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[b.jsxs(Qt,{className:"bg-green-50 dark:bg-green-950/20 border-green-200",children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-green-700 dark:text-green-400",children:"Total Revenue"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-3xl font-bold text-green-600",children:as(l.totalReceived)})})]}),b.jsxs(Qt,{className:"bg-amber-50 dark:bg-amber-950/20 border-amber-200",children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-amber-700 dark:text-amber-400",children:"Pending Payments"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-3xl font-bold text-amber-600",children:as(l.totalPending)})})]}),b.jsxs(Qt,{className:"bg-red-50 dark:bg-red-950/20 border-red-200",children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-red-700 dark:text-red-400",children:"Total Expenses"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-3xl font-bold text-red-600",children:as(l.totalExpenses)})})]})]}),b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(p0,{className:"h-5 w-5"}),"Top Clients by Revenue"]}),b.jsx(fa,{children:"Highest paying clients"})]}),b.jsx(Jt,{children:b.jsxs(Df,{children:[b.jsx(Ff,{children:b.jsxs(hc,{children:[b.jsx(Ks,{children:"Rank"}),b.jsx(Ks,{children:"Client"}),b.jsx(Ks,{className:"text-right",children:"Total Billed"}),b.jsx(Ks,{className:"text-right",children:"% of Revenue"})]})}),b.jsx(Bf,{children:l.topClients.map(([f,h],d)=>b.jsxs(hc,{children:[b.jsx(Xs,{children:b.jsxs(po,{variant:d<3?"default":"outline",children:["#",d+1]})}),b.jsx(Xs,{className:"font-medium",children:f}),b.jsx(Xs,{className:"text-right",children:as(h)}),b.jsxs(Xs,{className:"text-right",children:[(h/l.totalInvoiced*100).toFixed(1),"%"]})]},f))})]})})]})]}),b.jsxs(oi,{value:"court",className:"space-y-4",children:[b.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium",children:"Total Hearings"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold",children:c.total})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium",children:"Scheduled"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.scheduled})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium",children:"Completed"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.completed})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium",children:"Postponed"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold text-amber-600",children:c.postponed})})]})]}),b.jsxs(Qt,{children:[b.jsx(zr,{children:b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(h8,{className:"h-5 w-5"}),"Hearings by Court"]})}),b.jsx(Jt,{children:b.jsx("div",{className:"space-y-3",children:Object.entries(c.byCourt).sort((f,h)=>h[1]-f[1]).map(([f,h])=>b.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(dv,{className:"h-4 w-4 text-muted-foreground"}),b.jsx("span",{children:f})]}),b.jsxs(po,{children:[h," hearing(s)"]})]},f))})})]}),c.upcoming.length>0&&b.jsxs(Qt,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950/20",children:[b.jsx(zr,{children:b.jsxs(Ur,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[b.jsx(uh,{className:"h-5 w-5"}),"Upcoming Hearings (Next 30 Days)"]})}),b.jsx(Jt,{children:b.jsxs(Df,{children:[b.jsx(Ff,{children:b.jsxs(hc,{children:[b.jsx(Ks,{children:"Client"}),b.jsx(Ks,{children:"Court"}),b.jsx(Ks,{children:"Date"}),b.jsx(Ks,{children:"Time"})]})}),b.jsx(Bf,{children:c.upcoming.map(f=>b.jsxs(hc,{children:[b.jsx(Xs,{className:"font-medium",children:f.clientName}),b.jsx(Xs,{children:f.courtName}),b.jsx(Xs,{children:new Date(f.courtDate).toLocaleDateString()}),b.jsx(Xs,{children:f.courtTime})]},f.id))})]})})]})]}),b.jsx(oi,{value:"geography",className:"space-y-4",children:b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(ad,{className:"h-5 w-5"}),"Clients by Country of Birth"]}),b.jsx(fa,{children:"Geographic distribution of your client base"})]}),b.jsxs(Jt,{children:[b.jsxs(Df,{children:[b.jsx(Ff,{children:b.jsxs(hc,{children:[b.jsx(Ks,{children:"Country"}),b.jsx(Ks,{className:"text-right",children:"Clients"}),b.jsx(Ks,{className:"text-right",children:"Percentage"}),b.jsx(Ks,{children:"Distribution"})]})}),b.jsx(Bf,{children:Object.entries(s.byCountry).sort((f,h)=>h[1]-f[1]).map(([f,h])=>b.jsxs(hc,{children:[b.jsx(Xs,{className:"font-medium",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(g8,{className:"h-4 w-4 text-muted-foreground"}),f]})}),b.jsx(Xs,{className:"text-right",children:h}),b.jsxs(Xs,{className:"text-right",children:[(h/s.total*100).toFixed(1),"%"]}),b.jsx(Xs,{children:b.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-primary",style:{width:`${h/s.total*100}%`}})})})]},f))})]}),b.jsxs(Mt,{variant:"outline",className:"w-full mt-4",onClick:u,children:[b.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Export Geography Report"]})]})]})})]})]})}var QV=Symbol("radix.slottable");function JV(r){const t=({children:e})=>b.jsx(b.Fragment,{children:e});return t.displayName=`${r}.Slottable`,t.__radixId=QV,t}var P7="AlertDialog",[ez]=zl(P7,[x8]),Ec=x8(),R7=r=>{const{__scopeAlertDialog:t,...e}=r,n=Ec(t);return b.jsx(D8,{...n,...e,modal:!0})};R7.displayName=P7;var tz="AlertDialogTrigger",rz=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,i=Ec(e);return b.jsx(iO,{...i,...n,ref:t})});rz.displayName=tz;var nz="AlertDialogPortal",M7=r=>{const{__scopeAlertDialog:t,...e}=r,n=Ec(t);return b.jsx(F8,{...n,...e})};M7.displayName=nz;var sz="AlertDialogOverlay",O7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,i=Ec(e);return b.jsx(mv,{...i,...n,ref:t})});O7.displayName=sz;var mh="AlertDialogContent",[iz,az]=ez(mh),oz=JV("AlertDialogContent"),L7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,children:n,...i}=r,s=Ec(e),o=ie.useRef(null),l=Vn(t,o),c=ie.useRef(null);return b.jsx(tO,{contentName:mh,titleName:D7,docsSlug:"alert-dialog",children:b.jsx(iz,{scope:e,cancelRef:c,children:b.jsxs(gv,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Nr(i.onOpenAutoFocus,a=>{var u;a.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[b.jsx(oz,{children:n}),b.jsx(cz,{contentRef:o})]})})})});L7.displayName=mh;var D7="AlertDialogTitle",F7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,i=Ec(e);return b.jsx(yv,{...i,...n,ref:t})});F7.displayName=D7;var B7="AlertDialogDescription",V7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,i=Ec(e);return b.jsx(vv,{...i,...n,ref:t})});V7.displayName=B7;var lz="AlertDialogAction",z7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,i=Ec(e);return b.jsx(bv,{...i,...n,ref:t})});z7.displayName=lz;var U7="AlertDialogCancel",$7=ie.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...n}=r,{cancelRef:i}=az(U7,e),s=Ec(e),o=Vn(t,i);return b.jsx(bv,{...s,...n,ref:o})});$7.displayName=U7;var cz=({contentRef:r})=>{const t=`\`${mh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mh}\` by passing a \`${B7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return ie.useEffect(()=>{var n;document.getElementById((n=r.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,r]),null},uz=R7,dz=M7,q7=O7,H7=L7,W7=z7,G7=$7,K7=F7,X7=V7;const hz=uz,fz=dz,Y7=ie.forwardRef(({className:r,...t},e)=>b.jsx(q7,{className:_r("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t,ref:e}));Y7.displayName=q7.displayName;const Z7=ie.forwardRef(({className:r,...t},e)=>b.jsxs(fz,{children:[b.jsx(Y7,{}),b.jsx(H7,{ref:e,className:_r("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t})]}));Z7.displayName=H7.displayName;const Q7=({className:r,...t})=>b.jsx("div",{className:_r("flex flex-col space-y-2 text-center sm:text-left",r),...t});Q7.displayName="AlertDialogHeader";const J7=({className:r,...t})=>b.jsx("div",{className:_r("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t});J7.displayName="AlertDialogFooter";const e9=ie.forwardRef(({className:r,...t},e)=>b.jsx(K7,{ref:e,className:_r("text-lg font-semibold",r),...t}));e9.displayName=K7.displayName;const t9=ie.forwardRef(({className:r,...t},e)=>b.jsx(X7,{ref:e,className:_r("text-sm text-muted-foreground",r),...t}));t9.displayName=X7.displayName;const r9=ie.forwardRef(({className:r,...t},e)=>b.jsx(W7,{ref:e,className:_r(qy(),r),...t}));r9.displayName=W7.displayName;const n9=ie.forwardRef(({className:r,...t},e)=>b.jsx(G7,{ref:e,className:_r(qy({variant:"outline"}),"mt-2 sm:mt-0",r),...t}));n9.displayName=G7.displayName;const f4=["Identity Documents","Legal Documents","Court Filings","Evidence","Correspondence","Contracts","Financial Documents","Medical Records","Immigration Documents","Witness Statements","Photos/Images","Other"],pz=["application/pdf","image/png","image/jpeg","image/jpg","image/gif","image/webp","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"],mz=10*1024*1024;function gz({clients:r,cases:t}){const e=ie.useRef(null),[n,i]=ie.useState(()=>{const D=localStorage.getItem("client-documents");return D?JSON.parse(D):[]}),[s,o]=ie.useState(""),[l,c]=ie.useState("all"),[a,u]=ie.useState("all"),[f,h]=ie.useState(!1),[d,y]=ie.useState(!1),[g,p]=ie.useState(null),[w,v]=ie.useState(!1),[_,T]=ie.useState(null),[F,G]=ie.useState({clientId:"",caseId:"",category:"",description:"",tags:"",file:null}),$=D=>{i(D),localStorage.setItem("client-documents",JSON.stringify(D))},P=D=>{const j=r.find(K=>K.id===D);return j?j.name||`${j.firstName||""} ${j.lastName||""}`.trim():"Unknown Client"},M=D=>{const j=t.find(K=>K.id===D);return(j==null?void 0:j.title)||(j==null?void 0:j.caseNumber)||""},U=ie.useMemo(()=>n.filter(D=>{const j=D.fileName.toLowerCase().includes(s.toLowerCase())||D.clientName.toLowerCase().includes(s.toLowerCase())||D.description.toLowerCase().includes(s.toLowerCase())||D.tags.some(ne=>ne.toLowerCase().includes(s.toLowerCase())),K=l==="all"||D.clientId===l,Z=a==="all"||D.category===a;return j&&K&&Z}),[n,s,l,a]),V=ie.useMemo(()=>{const D={};return U.forEach(j=>{D[j.clientId]||(D[j.clientId]=[]),D[j.clientId].push(j)}),D},[U]),I=D=>{var K;const j=(K=D.target.files)==null?void 0:K[0];if(j){if(!pz.includes(j.type)){wt.error("Invalid file type. Allowed: PDF, PNG, JPEG, GIF, DOC, DOCX, XLS, XLSX, TXT");return}if(j.size>mz){wt.error("File size exceeds 10MB limit");return}G({...F,file:j})}},E=async()=>{if(!F.clientId){wt.error("Please select a client");return}if(!F.file){wt.error("Please select a file");return}if(!F.category){wt.error("Please select a category");return}try{const D=new FileReader;D.onload=()=>{const j=D.result,K={id:`doc-${Date.now()}`,clientId:F.clientId,clientName:P(F.clientId),caseId:F.caseId||void 0,caseName:F.caseId?M(F.caseId):void 0,fileName:F.file.name,fileType:F.file.type,fileSize:F.file.size,fileData:j,category:F.category,description:F.description,uploadedBy:"Current User",uploadedAt:new Date().toISOString(),tags:F.tags.split(",").map(Z=>Z.trim()).filter(Z=>Z)};$([...n,K]),wt.success("Document uploaded successfully"),h(!1),L()},D.readAsDataURL(F.file)}catch{wt.error("Failed to upload document")}},L=()=>{G({clientId:"",caseId:"",category:"",description:"",tags:"",file:null}),e.current&&(e.current.value="")},A=D=>{p(D),y(!0)},S=D=>{const j=document.createElement("a");j.href=D.fileData,j.download=D.fileName,document.body.appendChild(j),j.click(),document.body.removeChild(j),wt.success("Document downloaded")},k=()=>{if(!_)return;const D=n.filter(j=>j.id!==_.id);$(D),wt.success("Document deleted"),v(!1),T(null)},N=D=>D.startsWith("image/")?b.jsx(xM,{className:"h-5 w-5 text-green-500"}):D==="application/pdf"?b.jsx(vM,{className:"h-5 w-5 text-red-500"}):D.includes("word")?b.jsx(Nh,{className:"h-5 w-5 text-blue-500"}):D.includes("excel")||D.includes("spreadsheet")?b.jsx(Nh,{className:"h-5 w-5 text-green-600"}):b.jsx(j5,{className:"h-5 w-5 text-gray-500"}),C=D=>D<1024?`${D} B`:D<1024*1024?`${(D/1024).toFixed(1)} KB`:`${(D/(1024*1024)).toFixed(1)} MB`,O=ie.useMemo(()=>F.clientId?t.filter(D=>D.clientId===F.clientId):[],[F.clientId,t]);return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[b.jsx(k2,{className:"h-8 w-8"}),"Documents & Evidence"]}),b.jsx("p",{className:"text-muted-foreground",children:"Manage and archive documents for your clients"})]}),b.jsxs(Mt,{onClick:()=>h(!0),children:[b.jsx(yf,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),b.jsx(Qt,{children:b.jsx(Jt,{className:"pt-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"relative",children:[b.jsx(Fh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(Xt,{placeholder:"Search documents...",value:s,onChange:D=>o(D.target.value),className:"pl-9"})]})}),b.jsxs(bn,{value:l,onValueChange:c,children:[b.jsxs(hn,{className:"w-full md:w-[200px]",children:[b.jsx(bu,{className:"h-4 w-4 mr-2"}),b.jsx(wn,{placeholder:"Filter by client"})]}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"all",children:"All Clients"}),r.map(D=>b.jsx(Bt,{value:D.id,children:D.name||`${D.firstName} ${D.lastName}`},D.id))]})]}),b.jsxs(bn,{value:a,onValueChange:u,children:[b.jsxs(hn,{className:"w-full md:w-[200px]",children:[b.jsx(wM,{className:"h-4 w-4 mr-2"}),b.jsx(wn,{placeholder:"Filter by category"})]}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"all",children:"All Categories"}),f4.map(D=>b.jsx(Bt,{value:D,children:D},D))]})]})]})})}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Clients with Documents"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold",children:Object.keys(V).length})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Evidence Files"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold",children:n.filter(D=>D.category==="Evidence").length})})]}),b.jsxs(Qt,{children:[b.jsx(zr,{className:"pb-2",children:b.jsx(Ur,{className:"text-sm font-medium text-muted-foreground",children:"Total Storage"})}),b.jsx(Jt,{children:b.jsx("div",{className:"text-2xl font-bold",children:C(n.reduce((D,j)=>D+j.fileSize,0))})})]})]}),Object.keys(V).length===0?b.jsx(Qt,{children:b.jsxs(Jt,{className:"py-12 text-center",children:[b.jsx(k2,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),b.jsx("h3",{className:"text-lg font-semibold",children:"No documents found"}),b.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload documents to get started"}),b.jsxs(Mt,{className:"mt-4",onClick:()=>h(!0),children:[b.jsx(yf,{className:"h-4 w-4 mr-2"}),"Upload First Document"]})]})}):b.jsx("div",{className:"space-y-6",children:Object.entries(V).map(([D,j])=>b.jsxs(Qt,{children:[b.jsxs(zr,{children:[b.jsxs(Ur,{className:"flex items-center gap-2",children:[b.jsx(bu,{className:"h-5 w-5"}),P(D)]}),b.jsxs(fa,{children:[j.length," document(s) archived"]})]}),b.jsx(Jt,{children:b.jsx("div",{className:"space-y-3",children:j.map(K=>b.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[N(K.fileType),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:K.fileName}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(po,{variant:"outline",className:"text-xs",children:K.category}),b.jsx("span",{children:C(K.fileSize)}),b.jsx("span",{children:""}),b.jsx("span",{children:Ws(new Date(K.uploadedAt),"MMM d, yyyy")})]}),K.caseName&&b.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Case: ",K.caseName]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Mt,{variant:"ghost",size:"sm",onClick:()=>A(K),children:b.jsx(uv,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"sm",onClick:()=>S(K),children:b.jsx(Ju,{className:"h-4 w-4"})}),b.jsx(Mt,{variant:"ghost",size:"sm",onClick:()=>{T(K),v(!0)},children:b.jsx(tl,{className:"h-4 w-4 text-destructive"})})]})]},K.id))})})]},D))}),b.jsx(Ga,{open:f,onOpenChange:h,children:b.jsxs(ka,{className:"max-w-lg",children:[b.jsx(Ea,{children:b.jsxs(Ta,{className:"flex items-center gap-2",children:[b.jsx(yf,{className:"h-5 w-5"}),"Upload Document"]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Client *"}),b.jsxs(bn,{value:F.clientId,onValueChange:D=>G({...F,clientId:D,caseId:""}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select client"})}),b.jsx(fn,{children:r.map(D=>b.jsx(Bt,{value:D.id,children:D.name||`${D.firstName} ${D.lastName}`},D.id))})]})]}),O.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Related Case (Optional)"}),b.jsxs(bn,{value:F.caseId,onValueChange:D=>G({...F,caseId:D}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select case (optional)"})}),b.jsxs(fn,{children:[b.jsx(Bt,{value:"",children:"No specific case"}),O.map(D=>b.jsxs(Bt,{value:D.id,children:[D.caseNumber," - ",D.title]},D.id))]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Category *"}),b.jsxs(bn,{value:F.category,onValueChange:D=>G({...F,category:D}),children:[b.jsx(hn,{children:b.jsx(wn,{placeholder:"Select category"})}),b.jsx(fn,{children:f4.map(D=>b.jsx(Bt,{value:D,children:D},D))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"File *"}),b.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:[b.jsx("input",{ref:e,type:"file",onChange:I,accept:".pdf,.png,.jpg,.jpeg,.gif,.webp,.doc,.docx,.xls,.xlsx,.txt",className:"hidden",id:"file-upload"}),b.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[b.jsx(yf,{className:"h-8 w-8 text-muted-foreground"}),F.file?b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:F.file.name}),b.jsx("p",{className:"text-sm text-muted-foreground",children:C(F.file.size)})]}):b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Click to select file"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF, PNG, JPEG, DOC, XLS (max 10MB)"})]})]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Description"}),b.jsx(Tl,{value:F.description,onChange:D=>G({...F,description:D.target.value}),placeholder:"Brief description of the document...",rows:2})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yt,{children:"Tags (comma-separated)"}),b.jsx(Xt,{value:F.tags,onChange:D=>G({...F,tags:D.target.value}),placeholder:"e.g., passport, visa, court order"})]})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>{h(!1),L()},children:"Cancel"}),b.jsxs(Mt,{onClick:E,children:[b.jsx(yf,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})}),b.jsx(Ga,{open:d,onOpenChange:y,children:b.jsxs(ka,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[b.jsx(Ea,{children:b.jsxs(Ta,{className:"flex items-center gap-2",children:[g&&N(g.fileType),g==null?void 0:g.fileName]})}),g&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Client:"}),b.jsx("p",{className:"font-medium",children:g.clientName})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Category:"}),b.jsx("p",{className:"font-medium",children:g.category})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Uploaded:"}),b.jsx("p",{className:"font-medium",children:Ws(new Date(g.uploadedAt),"MMM d, yyyy h:mm a")})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-muted-foreground",children:"Size:"}),b.jsx("p",{className:"font-medium",children:C(g.fileSize)})]}),g.caseName&&b.jsxs("div",{className:"col-span-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Case:"}),b.jsx("p",{className:"font-medium",children:g.caseName})]}),g.description&&b.jsxs("div",{className:"col-span-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Description:"}),b.jsx("p",{className:"font-medium",children:g.description})]}),g.tags.length>0&&b.jsxs("div",{className:"col-span-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Tags:"}),b.jsx("div",{className:"flex gap-1 mt-1",children:g.tags.map(D=>b.jsx(po,{variant:"secondary",children:D},D))})]})]}),b.jsx("div",{className:"border rounded-lg p-4 bg-muted/50",children:g.fileType.startsWith("image/")?b.jsx("img",{src:g.fileData,alt:g.fileName,className:"max-w-full max-h-[400px] mx-auto rounded"}):g.fileType==="application/pdf"?b.jsx("iframe",{src:g.fileData,className:"w-full h-[500px] rounded",title:g.fileName}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx(j5,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),b.jsx("p",{className:"text-muted-foreground",children:"Preview not available for this file type"}),b.jsxs(Mt,{className:"mt-4",onClick:()=>S(g),children:[b.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Download to View"]})]})})]}),b.jsxs(Aa,{children:[b.jsx(Mt,{variant:"outline",onClick:()=>y(!1),children:"Close"}),g&&b.jsxs(Mt,{onClick:()=>S(g),children:[b.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})}),b.jsx(hz,{open:w,onOpenChange:v,children:b.jsxs(Z7,{children:[b.jsxs(Q7,{children:[b.jsx(e9,{children:"Delete Document"}),b.jsxs(t9,{children:['Are you sure you want to delete "',_==null?void 0:_.fileName,'"? This action cannot be undone.']})]}),b.jsxs(J7,{children:[b.jsx(n9,{children:"Cancel"}),b.jsx(r9,{onClick:k,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}const yz=[{id:"dashboard",label:"Dashboard",icon:SM},{id:"clients",label:"Clients",icon:Ch},{id:"cases",label:"Cases",icon:_c},{id:"asylum",label:"Asylum/Immigration",icon:ad},{id:"court-log",label:"Court Log",icon:dv},{id:"documents",label:"Documents",icon:k2},{id:"tasks",label:"Tasks",icon:Qf},{id:"calendar",label:"Calendar",icon:uh},{id:"messages",label:"Messages",icon:EM},{id:"billing",label:"Time & Billing",icon:Dh},{id:"reports",label:"Reports",icon:f8},{id:"users",label:"Users",icon:P2},{id:"settings",label:"Settings",icon:T2}];function vz({children:r,activeView:t,onNavigate:e,onExport:n,onImport:i}){var w;const{user:s,logout:o}=pd(),[l,c]=ie.useState(!0),[a,u]=ie.useState(!1),[f,h]=ie.useState(!1),d=ie.useRef(null),y=ie.useRef(null),g=ie.useRef(null),p=(v,_)=>{var F;const T=(F=_.target.files)==null?void 0:F[0];T&&i&&(i(v,T),_.target.value="")};return b.jsxs("div",{className:"flex h-screen bg-background",children:[b.jsxs("aside",{className:_r("fixed inset-y-0 left-0 z-50 flex flex-col bg-card border-r transition-all duration-300",l?"w-64":"w-16"),children:[b.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[l&&b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/LLAW.png",alt:"Law Firm",className:"h-8 w-8"}),b.jsx("span",{className:"font-bold text-primary",children:"Law Firm"})]}),b.jsx(Mt,{variant:"ghost",size:"icon",onClick:()=>c(!l),children:l?b.jsx(v8,{size:20}):b.jsx(kM,{size:20})})]}),b.jsxs("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[yz.map(v=>b.jsxs("button",{onClick:()=>e(v.id),className:_r("w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",t===v.id?"bg-primary text-primary-foreground":"hover:bg-secondary text-muted-foreground hover:text-foreground"),children:[b.jsx(v.icon,{size:20}),l&&b.jsx("span",{children:v.label})]},v.id)),n&&b.jsxs("div",{className:"pt-2 mt-2 border-t",children:[b.jsxs("button",{onClick:()=>u(!a),className:_r("w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors","hover:bg-secondary text-muted-foreground hover:text-foreground"),children:[b.jsx(id,{size:20}),l&&b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"flex-1 text-left",children:"Export Excel"}),a?b.jsx(N2,{size:16}):b.jsx(f0,{size:16})]})]}),a&&l&&b.jsxs("div",{className:"ml-6 mt-1 space-y-1",children:[b.jsxs("button",{onClick:()=>n("clients"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(Ch,{size:16}),"Clients"]}),b.jsxs("button",{onClick:()=>n("cases"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(_c,{size:16}),"Cases"]}),b.jsxs("button",{onClick:()=>n("tasks"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(Qf,{size:16}),"Tasks"]}),b.jsxs("button",{onClick:()=>n("court-logs"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(dv,{size:16}),"Court Logs"]}),b.jsxs("button",{onClick:()=>n("billing"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(Dh,{size:16}),"Time & Billing"]}),b.jsxs("button",{onClick:()=>n("all"),className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-primary/10 text-primary font-medium",children:[b.jsx(id,{size:16}),"Export All"]})]})]}),i&&b.jsxs("div",{className:"mt-1",children:[b.jsxs("button",{onClick:()=>h(!f),className:_r("w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors","hover:bg-secondary text-muted-foreground hover:text-foreground"),children:[b.jsx(bM,{size:20}),l&&b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"flex-1 text-left",children:"Import Excel"}),f?b.jsx(N2,{size:16}):b.jsx(f0,{size:16})]})]}),f&&l&&b.jsxs("div",{className:"ml-6 mt-1 space-y-1",children:[b.jsx("input",{type:"file",ref:d,accept:".xlsx,.xls,.csv",className:"hidden",onChange:v=>p("clients",v)}),b.jsx("input",{type:"file",ref:y,accept:".xlsx,.xls,.csv",className:"hidden",onChange:v=>p("cases",v)}),b.jsx("input",{type:"file",ref:g,accept:".xlsx,.xls,.csv",className:"hidden",onChange:v=>p("tasks",v)}),b.jsxs("button",{onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(Ch,{size:16}),"Import Clients"]}),b.jsxs("button",{onClick:()=>{var v;return(v=y.current)==null?void 0:v.click()},className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(_c,{size:16}),"Import Cases"]}),b.jsxs("button",{onClick:()=>{var v;return(v=g.current)==null?void 0:v.click()},className:"w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-secondary text-muted-foreground hover:text-foreground",children:[b.jsx(Qf,{size:16}),"Import Tasks"]}),b.jsx("p",{className:"text-xs text-muted-foreground px-3 py-1",children:"Supports .xlsx, .xls, .csv"})]})]})]}),b.jsxs("div",{className:"p-4 border-t",children:[b.jsxs("div",{className:_r("flex items-center gap-3",!l&&"justify-center"),children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold",children:((w=s==null?void 0:s.name)==null?void 0:w.charAt(0))||"U"}),l&&b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium truncate",children:s==null?void 0:s.name}),b.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s==null?void 0:s.role})]})]}),b.jsxs(Mt,{variant:"ghost",size:l?"default":"icon",onClick:o,className:_r("w-full mt-2",!l&&"justify-center"),children:[b.jsx(NM,{size:18}),l&&b.jsx("span",{className:"ml-2",children:"Logout"})]})]})]}),b.jsx("main",{className:_r("flex-1 overflow-auto transition-all duration-300",l?"ml-64":"ml-16"),children:r})]})}function bz(){const{isAuthenticated:r,isLoading:t,user:e}=pd(),[n,i]=ie.useState("dashboard"),[s,o]=ie.useState([]),[l,c]=ie.useState([]),[a,u]=ie.useState([]),[f,h]=ie.useState([]),[d,y]=ie.useState([]);ie.useEffect(()=>{r&&g()},[r]);const g=async()=>{try{const[_,T,F,G,$]=await Promise.all([os.getClients({limit:1e3}),os.getCases({limit:1e3}),os.getTasks(),os.getUsers(),os.getMessages()]);o(_.clients||[]),c(T.cases||[]),u(F||[]),h(G||[]),y($.messages||[])}catch(_){console.error("Failed to load data:",_)}};if(t)return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!r)return b.jsx(UM,{});const p=_=>{try{const T=new Date().toISOString().split("T")[0];switch(_){case"clients":if(s.length===0){wt.error("No clients to export");return}fc(B2(s),`Clients_${T}`,"Clients"),wt.success("Clients exported to Excel");break;case"cases":if(l.length===0){wt.error("No cases to export");return}fc(V2(l,s),`Cases_${T}`,"Cases"),wt.success("Cases exported to Excel");break;case"tasks":if(a.length===0){wt.error("No tasks to export");return}fc(U2(a,f),`Tasks_${T}`,"Tasks"),wt.success("Tasks exported to Excel");break;case"court-logs":const F=JSON.parse(localStorage.getItem("court-logs")||"[]");if(F.length===0){wt.error("No court logs to export");return}fc(z2(F),`Court_Logs_${T}`,"Court Logs"),wt.success("Court logs exported to Excel");break;case"billing":const G=JSON.parse(localStorage.getItem("billing-payments")||"[]"),$=JSON.parse(localStorage.getItem("billing-expenses")||"[]"),P=JSON.parse(localStorage.getItem("billing-other-payments")||"[]");if(G.length===0&&$.length===0&&P.length===0){wt.error("No billing data to export");return}y0([{name:"Payments",data:G.map(I=>({"Client Name":I.clientName,Amount:I.amount,"Amount Paid":I.amountPaid,Balance:I.balance,Status:I.status,"Due Date":I.dueDate}))},{name:"Expenses",data:$.map(I=>({Description:I.description,Category:I.category,Amount:I.amount,Date:I.date}))},{name:"Other Income",data:P.map(I=>({Description:I.description,Category:I.category,Amount:I.amount,Date:I.date}))}],`Billing_Report_${T}`),wt.success("Billing data exported to Excel");break;case"all":const M=JSON.parse(localStorage.getItem("court-logs")||"[]"),U=JSON.parse(localStorage.getItem("billing-payments")||"[]"),V=JSON.parse(localStorage.getItem("billing-expenses")||"[]");y0([{name:"Clients",data:B2(s)},{name:"Cases",data:V2(l,s)},{name:"Tasks",data:U2(a,f)},{name:"Court Logs",data:z2(M)},{name:"Payments",data:U.map(I=>({"Client Name":I.clientName,Amount:I.amount,"Amount Paid":I.amountPaid,Balance:I.balance,Status:I.status,"Due Date":I.dueDate}))},{name:"Expenses",data:V.map(I=>({Description:I.description,Category:I.category,Amount:I.amount,Date:I.date}))}],`LawFirm_Full_Export_${T}`),wt.success("All data exported to Excel");break}}catch(T){console.error("Export error:",T),wt.error("Failed to export data")}},w=async(_,T)=>{try{wt.info(`Importing ${_} from ${T.name}...`);const F=await xL(T);if(!F||F.length===0){wt.error("No data found in the file");return}let G=0;switch(_){case"clients":const $=_L(F);for(const U of $)try{await os.createClient({name:U.name,firstName:U.firstName,middleName:U.middleName,lastName:U.lastName,type:U.type,email:U.email,phone:U.phone,address:U.address,dateOfBirth:U.dateOfBirth,placeOfBirth:U.placeOfBirth,countryOfBirth:U.countryOfBirth,arcNumber:U.arcNumber,fileNumber:U.fileNumber,notes:U.notes}),G++}catch(V){console.error("Failed to import client:",U.name,V)}wt.success(`Imported ${G} of ${$.length} clients`);break;case"cases":const P=SL(F,s);for(const U of P){if(!U.clientId){console.warn("Skipping case without client:",U.title);continue}try{await os.createCase({title:U.title,caseNumber:U.caseNumber,type:U.type,status:U.status,clientId:U.clientId,description:U.description}),G++}catch(V){console.error("Failed to import case:",U.title,V)}}wt.success(`Imported ${G} of ${P.length} cases`);break;case"tasks":const M=NL(F,f);for(const U of M)try{await os.createTask({title:U.title,description:U.description,status:U.status,priority:U.priority,assignedTo:U.assignedTo,dueDate:U.dueDate}),G++}catch(V){console.error("Failed to import task:",U.title,V)}wt.success(`Imported ${G} of ${M.length} tasks`);break}await g()}catch(F){console.error("Import error:",F),wt.error("Failed to import data. Please check the file format.")}},v=()=>{switch(n){case"dashboard":return b.jsx(D5,{clientCount:s.length,caseCount:l.length,taskCount:a.length,pendingTasks:a.filter(_=>_.status!=="Completed").length});case"clients":return b.jsx(CL,{clients:s,onRefresh:g});case"cases":return b.jsx(EL,{cases:l,clients:s,users:f,onRefresh:g});case"asylum":return b.jsx($V,{cases:l,clients:s,users:f,onRefresh:g});case"tasks":return b.jsx(LD,{tasks:a,cases:l,users:f,onRefresh:g});case"calendar":return b.jsx(wz,{title:"Calendar",description:"View appointments and deadlines."});case"court-log":return b.jsx(XV,{clients:s,cases:l});case"documents":return b.jsx(gz,{clients:s,cases:l});case"messages":return b.jsx(YD,{messages:d,users:f,onRefresh:g});case"billing":return b.jsx(WV,{clients:s,cases:l,onRefresh:g});case"reports":return b.jsx(ZV,{clients:s,cases:l,users:f});case"users":return b.jsx(YV,{users:f,onRefresh:g});case"settings":return b.jsx(XD,{});default:return b.jsx(D5,{clientCount:0,caseCount:0,taskCount:0,pendingTasks:0})}};return b.jsx(vz,{activeView:n,onNavigate:i,onExport:p,onImport:w,children:v()})}function wz({title:r,description:t}){return b.jsxs("div",{className:"p-6",children:[b.jsx("h1",{className:"text-3xl font-bold",children:r}),b.jsx("p",{className:"text-muted-foreground mt-2",children:t}),b.jsx("div",{className:"mt-8 p-12 border-2 border-dashed rounded-lg flex items-center justify-center",children:b.jsx("p",{className:"text-muted-foreground",children:"Content coming soon..."})})]})}function xz(){return b.jsxs(rT,{children:[b.jsx(bz,{}),b.jsx(vL,{position:"top-right"})]})}const _z=()=>{const r=localStorage.getItem("theme")||"system",t=document.documentElement,e=n=>{n?(t.classList.add("dark"),t.style.colorScheme="dark"):(t.classList.remove("dark"),t.style.colorScheme="light")};if(r==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{localStorage.getItem("theme")==="system"&&e(i.matches)})}else e(r==="dark")};_z();G9.createRoot(document.getElementById("root")).render(b.jsx(qt.StrictMode,{children:b.jsx(xz,{})}));export{Jn as _,Sn as c,S0 as g};
